<!--
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Thu Oct 23 09:38:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+%22SLING%22+AND+issuetype+%3D+Bug+ORDER+BY+key+DESC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="3200" end="3400" total="4707"/>
                <build-info>
            <version>8.20.10</version>
            <build-number>820010</build-number>
            <build-date>22-06-2022</build-date>
        </build-info>

<item>
            <title>[SLING-3439] SlingRequestProcessor.processRequest(httpServletRequest, httpServletResponse, resourceResolver) no longer passes request params through</title>
                <link>https://issues.apache.org/jira/browse/SLING-3439</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;SlingRequestProcessor.processRequest(httpServletRequest, httpServletResponse, resourceResolver) no longer passes reqeust params through&lt;/p&gt;

&lt;p&gt;Rendering dependent on request params will no longer render correctly.&lt;/p&gt;

&lt;p&gt;Found in build 2.2.11-R1571320 &lt;/p&gt;</description>
                <environment></environment>
        <key id="12699324">SLING-3439</key>
            <summary>SlingRequestProcessor.processRequest(httpServletRequest, httpServletResponse, resourceResolver) no longer passes request params through</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="JohnFait">John Fait</reporter>
                        <labels>
                    </labels>
                <created>Fri, 7 Mar 2014 02:19:00 +0000</created>
                <updated>Sun, 16 Mar 2014 10:18:51 +0000</updated>
                            <resolved>Tue, 11 Mar 2014 13:16:42 +0000</resolved>
                                    <version>Engine 2.3.0</version>
                                    <fixVersion>Engine 2.3.2</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13923615" author="cziegeler" created="Fri, 7 Mar 2014 06:24:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=JohnFait&quot; class=&quot;user-hover&quot; rel=&quot;JohnFait&quot;&gt;JohnFait&lt;/a&gt; Could you please attach a simple example of what is not working for reproducing this?&lt;/p&gt;</comment>
                            <comment id="13923624" author="cziegeler" created="Fri, 7 Mar 2014 06:39:34 +0000"  >&lt;p&gt;The internal build you&apos;re using is identical to the 2.3.0 release&lt;/p&gt;</comment>
                            <comment id="13923858" author="cziegeler" created="Fri, 7 Mar 2014 12:53:39 +0000"  >&lt;p&gt;It seems that the problem is that as soon as a custom wrapper object for the request is involved, parameter handling fails as this is always going back to the ParameterSupport class which expects the parameters in the query string or the body of the request.&lt;br/&gt;
I think, this needs completely different handling for wrapped requests&lt;/p&gt;</comment>
                            <comment id="13924673" author="alexander.klimetschek" created="Sat, 8 Mar 2014 02:34:01 +0000"  >&lt;p&gt;FWIW: Works for me for a different case of the SlingRequestProcessor. Here I have own implementations of the request and response object that implement the parts needed by the called servlet (so no wrapped request object). However, this only uses getQueryString() directly, and none of the getParameter() and related methods, which would explain why it isn&apos;t affected by this issue.&lt;/p&gt;</comment>
                            <comment id="13925780" author="cziegeler" created="Mon, 10 Mar 2014 15:07:54 +0000"  >&lt;p&gt;Actually the problem is related to the change in ParameterSupport.getRequestParameterMapInternal()&lt;br/&gt;
While in previous versions this was relying in getServletRequest().getParameterMap() (for non POST requests), its now relying on getServletRequest().getQueryString().&lt;/p&gt;</comment>
                            <comment id="13925810" author="cziegeler" created="Mon, 10 Mar 2014 15:37:15 +0000"  >&lt;p&gt;I&apos;ve committed a simple version of a potential fix which simply reverts to the old behaviour if the request is not a POST request and has no query string&lt;/p&gt;</comment>
                            <comment id="13930022" author="cziegeler" created="Tue, 11 Mar 2014 06:42:12 +0000"  >&lt;p&gt;I&apos;ve slightly changed the fix in rev 1576200: the fallback (old behaviour) is used if none of the other ways is not used (queryString for get, form encoded or multipart post)&lt;/p&gt;</comment>
                            <comment id="13930184" author="cziegeler" created="Tue, 11 Mar 2014 10:18:15 +0000"  >&lt;p&gt;Rev 1576258 : If added an additional check: the fallback is now only used if the request processing has been started using the SlingRequestProcessor service (and only for the cases mentioned above)&lt;/p&gt;</comment>
                            <comment id="13930480" author="cziegeler" created="Tue, 11 Mar 2014 15:49:44 +0000"  >&lt;p&gt;Additional comment: the problem did only show up for own HttpServletRequest/Response objects which are not based on the original request and passed to the SlingRequestProcessor service&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>377671</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 34 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1t2t3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>377963</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3434] Make intra-cluster discovery-heartbeats independent from machine clock differences</title>
                <link>https://issues.apache.org/jira/browse/SLING-3434</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2967&quot; title=&quot;Make topology connectors independent from machine clocks differences&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2967&quot;&gt;&lt;del&gt;SLING-2967&lt;/del&gt;&lt;/a&gt; fixed an issue where topology connectors were dependent on having machine clocks in sync - so inter-cluster we&apos;re no longer dependent on NTP-synching.&lt;/p&gt;

&lt;p&gt;Inside a cluster though, this problem is still there. Since heartbeats are written as absolute time - based on the originator&apos;s machine clock - it still only works fine the whole cluster is NTP-synched.&lt;/p&gt;

&lt;p&gt;In general I think this is not a problem as it is best-practice to make sure machines have NTP set up.&lt;/p&gt;

&lt;p&gt;Nevertheless, it would help if discovery.impl could become independent from this.&lt;/p&gt;

&lt;p&gt;Also, if clocks are off by too much, pseudo-network-partitions can occur, with the result of having multiple leaders in a cluster (also see &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3432&quot; title=&quot;pseudo network partition causes job deserialization issue in a cluster (when reading while job is being reassigned)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3432&quot;&gt;&lt;del&gt;SLING-3432&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12698865">SLING-3434</key>
            <summary>Make intra-cluster discovery-heartbeats independent from machine clock differences</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="stefanegli">Stefan Egli</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Mar 2014 13:37:08 +0000</created>
                <updated>Thu, 12 Nov 2015 11:23:56 +0000</updated>
                            <resolved>Thu, 29 Jan 2015 17:12:53 +0000</resolved>
                                    <version>Discovery Impl 1.0.2</version>
                                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                                                            <comments>
                            <comment id="14108864" author="egli" created="Mon, 25 Aug 2014 07:58:37 +0000"  >&lt;p&gt;tentatively assigning to 1.0.12&lt;/p&gt;</comment>
                            <comment id="14198387" author="egli" created="Wed, 5 Nov 2014 14:12:18 +0000"  >&lt;p&gt;(Removed fix version, as this does not seem critical atm)&lt;/p&gt;

&lt;p&gt;An intermediate step of this could be to start with a clock-diff-detection mechanism (eg by means of a &apos;clock vote&apos; where each instance writes down its own UTC time) and simply issue a log.error if the clocks differ substantially. That would be non-intrusive and could be rolled-out with little side-effects/risks.&lt;/p&gt;

&lt;p&gt;As a next step, once we have gathered some experience with the stability and feasibility of the above, that mechanism could be used to establish a &apos;cluster time zone&apos; and each instance adds the discovered delta to it. That way removing the need to warn if the clocks are not in sync..&lt;/p&gt;</comment>
                            <comment id="14297078" author="egli" created="Thu, 29 Jan 2015 16:17:49 +0000"  >&lt;p&gt;As a step to go forward here, added &apos;votedAt&apos; property to /ongoingVotings. This will allow to create a health-check which issues an alarm if &apos;votedAt&apos; differs too much within a cluster.&lt;br/&gt;
Created a subtask for the health-check in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4371&quot; title=&quot;Create &amp;#39;cluster clocks in sync&amp;#39; health check&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4371&quot;&gt;&lt;del&gt;SLING-4371&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14297145" author="egli" created="Thu, 29 Jan 2015 17:12:53 +0000"  >&lt;p&gt;Marking this issue resolved/incomplete as the suggestion is to not reinvent NTP but rather come up with a simple health-check based on the newly added &apos;votedAt&apos; property. The health-check ticket is &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4371&quot; title=&quot;Create &amp;#39;cluster clocks in sync&amp;#39; health check&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4371&quot;&gt;&lt;del&gt;SLING-4371&lt;/del&gt;&lt;/a&gt;, thus nothing left to do here.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12657975">SLING-2967</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12698636">SLING-3432</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12864277">SLING-5027</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                            <subtask id="12771056">SLING-4371</subtask>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>377212</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 39 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1t00f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>377507</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3433] Unclosed session detected with ResourceResolverContext#getParentResourceType</title>
                <link>https://issues.apache.org/jira/browse/SLING-3433</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;03.03.2014 00:46:19.103 &lt;b&gt;WARN&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Finalizer&amp;#93;&lt;/span&gt; org.apache.jackrabbit.core.SessionImpl Unclosed session detected. The session was opened here: &lt;br/&gt;
java.lang.Exception: Stack Trace&lt;br/&gt;
	at org.apache.jackrabbit.core.SessionImpl.&amp;lt;init&amp;gt;(SessionImpl.java:222) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.jackrabbit.core.XASessionImpl.&amp;lt;init&amp;gt;(XASessionImpl.java:117) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at com.day.crx.core.CRXSessionImpl.&amp;lt;init&amp;gt;(CRXSessionImpl.java:69) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at com.day.crx.core.CRXRepositoryImpl.createSessionInstance(CRXRepositoryImpl.java:935) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.jackrabbit.core.RepositoryImpl.createSession(RepositoryImpl.java:984) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.jackrabbit.core.SessionFactory.createAdminSession(SessionFactory.java:42) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at com.day.crx.sling.server.impl.SlingRepositoryWrapper.loginAdministrative(SlingRepositoryWrapper.java:76) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.sling.jcr.resource.internal.helper.jcr.JcrResourceProviderFactory.getResourceProviderInternal(JcrResourceProviderFactory.java:191) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.sling.jcr.resource.internal.helper.jcr.JcrResourceProviderFactory.getAdministrativeResourceProvider(JcrResourceProviderFactory.java:154) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.tree.ResourceProviderFactoryHandler.login(ResourceProviderFactoryHandler.java:162) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.tree.RootResourceProviderEntry.loginToRequiredFactories(RootResourceProviderEntry.java:95) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.CommonResourceResolverFactoryImpl.getResourceResolverInternal(CommonResourceResolverFactoryImpl.java:106) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.CommonResourceResolverFactoryImpl.getAdministrativeResourceResolver(CommonResourceResolverFactoryImpl.java:73) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.helper.ResourceResolverContext.getResourceTypeResourceResolver(ResourceResolverContext.java:226) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.helper.ResourceResolverContext.getParentResourceType(ResourceResolverContext.java:250) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.getParentResourceType(ResourceResolverImpl.java:1082) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.getParentResourceType(ResourceResolverImpl.java:1072) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.isResourceType(ResourceResolverImpl.java:1097) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.sling.api.resource.AbstractResource.isResourceType(AbstractResource.java:123) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:na&amp;#93;&lt;/span&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12698692">SLING-3433</key>
            <summary>Unclosed session detected with ResourceResolverContext#getParentResourceType</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="amitgupt">Amit Gupta</assignee>
                                    <reporter username="amitgupt">Amit Gupta</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 Mar 2014 18:29:09 +0000</created>
                <updated>Fri, 11 Mar 2016 10:32:46 +0000</updated>
                            <resolved>Wed, 5 Mar 2014 07:56:20 +0000</resolved>
                                    <version>Resource Resolver 1.0.6</version>
                                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13920045" author="cziegeler" created="Tue, 4 Mar 2014 21:28:44 +0000"  >&lt;p&gt;I guess the resource resolver you&apos;re using is not properly closed at the end&lt;/p&gt;</comment>
                            <comment id="13920575" author="amitgupt" created="Wed, 5 Mar 2014 06:28:51 +0000"  >&lt;p&gt;Interesting, I see that now. The code flow that is calling this is using older way to get the admin session.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Session admin = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
admin = repository.loginAdministrative(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
} &lt;span class=&quot;code-keyword&quot;&gt;finally&lt;/span&gt; {
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (admin != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
                &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
                    admin.logout();
                } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Exception ignore) {

                }
            }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;logout should have called the close() on resolver??&lt;/p&gt;</comment>
                            <comment id="13920613" author="cziegeler" created="Wed, 5 Mar 2014 07:42:24 +0000"  >&lt;p&gt;No, if you pass in the session when you create the resolver, you still have to call close() on the resolver yourself. Or in other words, close() must be called for every resolver regardless of how it was created&lt;/p&gt;</comment>
                            <comment id="13920625" author="amitgupt" created="Wed, 5 Mar 2014 07:56:20 +0000"  >&lt;p&gt;As Carsten explained, this does not seem to be an sling issue, rather an issue in the calling code.&lt;/p&gt;

&lt;p&gt;closing this&lt;/p&gt;</comment>
                            <comment id="15189368" author="maciej matuszewski" created="Thu, 10 Mar 2016 14:34:50 +0000"  >&lt;p&gt;Hey, I have the same issue. My problem is that I&apos;m not creating resolver. The code is in a Sling Servlet and I&apos;m getting resolver from request. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; have you seen something like this before? Is it possible that somewhere else is an unclosed resolver?&lt;/p&gt;</comment>
                            <comment id="15190777" author="cziegeler" created="Fri, 11 Mar 2016 10:32:46 +0000"  >&lt;p&gt;The request resource resovler is automatically closed. If you experience problems please open a new issue with the exact version you&apos;re using and the exception you get&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>377050</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 33 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sz0f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>377345</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3432] pseudo network partition causes job deserialization issue in a cluster (when reading while job is being reassigned)</title>
                <link>https://issues.apache.org/jira/browse/SLING-3432</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;There is a race condition between two instances in a cluster (eg oak or crx): Instance 1 is writing a job with a binary property, instance 2 is reading the job (likely triggered by discovery sending it a topologychangedevent). It looks like instance 2 is reading the job just about while instance 1 is still in the process or completely writing the job, or at least the binary. Resulting in the following exception:&lt;/p&gt;

&lt;p&gt;04.03.2014 06:55:39.667 &lt;b&gt;WARN&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Apache Sling Job Background Loader&amp;#93;&lt;/span&gt; org.apache.sling.event.impl.jobs.JobManagerImpl Unable to read job from /var/eventing/jobs/assigned/e4337f8f-47d2-41df-b3ab-0d40b1b2acd4/slingevent:eventadmin/2014/3/3/8/45/cq.wcm.msm.job.pageEvent_9718d7db-85b4-4930-a2ba-11a80d772970_172&lt;br/&gt;
java.lang.Exception: Unable to deserialize property &apos;pageEvent&apos;&lt;br/&gt;
        at org.apache.sling.event.impl.support.ResourceHelper.cloneValueMap(ResourceHelper.java:213)&lt;br/&gt;
        at org.apache.sling.event.impl.jobs.JobManagerImpl.readJob(JobManagerImpl.java:538)&lt;br/&gt;
        at org.apache.sling.event.impl.jobs.BackgroundLoader.loadJobInTheBackground(BackgroundLoader.java:318)&lt;br/&gt;
        at org.apache.sling.event.impl.jobs.BackgroundLoader.loadJobsInTheBackground(BackgroundLoader.java:294)&lt;br/&gt;
        at org.apache.sling.event.impl.jobs.BackgroundLoader.run(BackgroundLoader.java:203)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:662)&lt;br/&gt;
Caused by: java.io.EOFException: null&lt;br/&gt;
        at java.io.ObjectInputStream$PeekInputStream.readFully(ObjectInputStream.java:2280)&lt;br/&gt;
        at java.io.ObjectInputStream$BlockDataInputStream.readShort(ObjectInputStream.java:2749)&lt;br/&gt;
        at java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:779)&lt;br/&gt;
        at java.io.ObjectInputStream.&amp;lt;init&amp;gt;(ObjectInputStream.java:279)&lt;br/&gt;
        at org.apache.sling.event.impl.support.ResourceHelper.cloneValueMap(ResourceHelper.java:208)&lt;br/&gt;
        ... 5 common frames omitted&lt;/p&gt;</description>
                <environment></environment>
        <key id="12698636">SLING-3432</key>
            <summary>pseudo network partition causes job deserialization issue in a cluster (when reading while job is being reassigned)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="stefanegli">Stefan Egli</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 Mar 2014 14:41:38 +0000</created>
                <updated>Thu, 26 Sep 2019 12:39:06 +0000</updated>
                            <resolved>Thu, 4 Feb 2016 09:24:17 +0000</resolved>
                                    <version>Discovery Impl 1.0.2</version>
                                    <fixVersion>Discovery Impl 1.2.2</fixVersion>
                    <fixVersion>Discovery Oak 1.2.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="13919455" author="egli" created="Tue, 4 Mar 2014 14:44:15 +0000"  >&lt;p&gt;Notice that instance 1 is 9718d7db-85b4-4930-a2ba-11a80d772970, and instance 2 is e4337f8f-47d2-41df-b3ab-0d40b1b2acd4 in above example warning. The warning showed up in console of instance 2 (which is correct, as that&apos;s the instance to which the job was assigned)&lt;/p&gt;</comment>
                            <comment id="13919497" author="egli" created="Tue, 4 Mar 2014 15:04:46 +0000"  >&lt;p&gt;If this turns out to be an underlying repository/cluster problem, that what we could do for example is to handle this as an acceptable case and re-read the property in a retry loop (potentially with a 50ms sleep?)&lt;/p&gt;</comment>
                            <comment id="13919504" author="cziegeler" created="Tue, 4 Mar 2014 15:11:38 +0000"  >&lt;p&gt;Yes, a retry loop sounds like a good workaround - however, if it is really a cluster problem, this needs to be fixed in the repository implementation. The eventing is relying on jcr events and considers a save to be atomic. But maybe it&apos;s something different?&lt;/p&gt;</comment>
                            <comment id="13919551" author="egli" created="Tue, 4 Mar 2014 15:59:38 +0000"  >&lt;p&gt;Two more points relevant here:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;this happened right after a topology change event where the leader changed from instance 2 to instance 1&lt;/li&gt;
	&lt;li&gt;hence the job manager might have had to reassign jobs while instance 2 was reading it?&lt;/li&gt;
	&lt;li&gt;I&apos;m also seeing an oak repository traversal with the query that lists all jobs:
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;04.03.2014 06:55:39.343 *WARN* [Apache Sling Job Background Loader] org.apache.jackrabbit.oak.plugins.index.property.strategy.ContentMirrorStoreStrategy Traversed 1000 nodes using index jcr:primaryType with filter Filter(query=select [jcr:path], [jcr:score], * from [slingevent:Job] as a where [event.job.application] = &lt;span class=&quot;code-quote&quot;&gt;&apos;e4337f8f-47d2-41df-b3ab-0d40b1b2acd4&apos;&lt;/span&gt; and [slingevent:created] &amp;lt; &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(&lt;span class=&quot;code-quote&quot;&gt;&apos;2014-03-04T06:55:09.143-05:00&apos;&lt;/span&gt; as date) order by [slingevent:created] &lt;span class=&quot;code-comment&quot;&gt;/* xpath: &lt;span class=&quot;code-comment&quot;&gt;//element(*,slingevent:Job)[@event.job.application = &lt;span class=&quot;code-quote&quot;&gt;&apos;e4337f8f-47d2-41df-b3ab-0d40b1b2acd4&apos;&lt;/span&gt; and @slingevent:created &amp;lt; xs:dateTime(&lt;span class=&quot;code-quote&quot;&gt;&apos;2014-03-04T06:55:09.143-05:00&apos;&lt;/span&gt;)] order by @slingevent:created ascending */&lt;/span&gt;, path=*, property=[event.job.application=e4337f8f-47d2-41df-b3ab-0d40b1b2acd4, slingevent:created=..2014-03-04T06:55:09.143-05:00)])&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;  so maybe while the traversal was ongoing, the other instance deleted/moved the job node?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13920726" author="egli" created="Wed, 5 Mar 2014 10:35:37 +0000"  >&lt;p&gt;Here&apos;s the likely order of events that caused this, this time:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;instance 1 (9718d7db) is leader in a 4 node cluster&lt;/li&gt;
	&lt;li&gt;for some reason instance 1 runs into a high CPU load situation and cannot issue heartbeats &apos;in time&apos; (ie within &amp;gt;30sec), or the repository synchronization is slow to propagate those heartbeats to the rest of the cluster&lt;/li&gt;
	&lt;li&gt;after the other 3 nodes don&apos;t &quot;hear&quot; from instance 1 for over 60sec anymore, they decide it has died and establish a new discovery view (marking instance 3 (2ccd5d38) the new leader)&lt;/li&gt;
	&lt;li&gt;instance 3 - the new leader - now runs the job handler&apos;s BackgroundLoader, realizes that instance 1 is not in the cluster anymore (from its point of view) and reassigns above job to instance 2 (e4337f8f) along a bunch of other jobs it reassigns&lt;/li&gt;
	&lt;li&gt;instance 2 at some point - also via the BackgroundLoader - grabs the list of jobs it has assigned&lt;/li&gt;
	&lt;li&gt;in this test case the list of jobs is rather large, which is results in the following WARN:
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;04.03.2014 06:55:39.343 *WARN* [Apache Sling Job Background Loader] org.apache.jackrabbit.oak.plugins.index.property.strategy.ContentMirrorStoreStrategy Traversed 1000 nodes using index jcr:primaryType with filter Filter(query=select [jcr:path], [jcr:score], * from [slingevent:Job] as a where [event.job.application] = &lt;span class=&quot;code-quote&quot;&gt;&apos;e4337f8f-47d2-41df-b3ab-0d40b1b2acd4&apos;&lt;/span&gt; and [slingevent:created] &amp;lt; &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(&lt;span class=&quot;code-quote&quot;&gt;&apos;2014-03-04T06:55:09.143-05:00&apos;&lt;/span&gt; as date) order by [slingevent:created] &lt;span class=&quot;code-comment&quot;&gt;/* xpath: &lt;span class=&quot;code-comment&quot;&gt;//element(*,slingevent:Job)[@event.job.application = &lt;span class=&quot;code-quote&quot;&gt;&apos;e4337f8f-47d2-41df-b3ab-0d40b1b2acd4&apos;&lt;/span&gt; and @slingevent:created &amp;lt; xs:dateTime(&lt;span class=&quot;code-quote&quot;&gt;&apos;2014-03-04T06:55:09.143-05:00&apos;&lt;/span&gt;)] order by @slingevent:created ascending */&lt;/span&gt;, path=*, property=[event.job.application=e4337f8f-47d2-41df-b3ab-0d40b1b2acd4, slingevent:created=..2014-03-04T06:55:09.143-05:00)])&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;which is why instance 2 takes a while when reading its jobs until it reaches above job (slingevent:eventadmin/2014/3/3/8/45/cq.wcm.msm.job.pageEvent_9718d7db-85b4-4930-a2ba-11a80d772970_172)&lt;/li&gt;
	&lt;li&gt;meanwhile, instance 1 thinks that it is all alone. It gets told so via the discovery API via a topology changed event which only contains itself - plus it is the leader (someone has to be)&lt;/li&gt;
	&lt;li&gt;as instance 1 got this topology changed (informing it about the other 3 leaving the cluster), it has to go through the BackgroundLoader to verify whether the jobs are all correctly assigned&lt;/li&gt;
	&lt;li&gt;this races with instance 3 reassigning jobs away from instance 1&lt;/li&gt;
	&lt;li&gt;at some point instance 2 is reading mentioned job which instance 1 thinks: oh, that&apos;s assigned to a crashed instance, let me reassign it to myself. This reassignment creates the job under instance 1&apos;s path and deletes it under instance 2&apos;s path. At which point - when instance 2 wants to read the binary - fails with a NullPointerException&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13920727" author="egli" created="Wed, 5 Mar 2014 10:38:31 +0000"  >&lt;p&gt;In other words: this is a case of a pseudo-network-partition where we have two leader in the cluster&lt;/p&gt;</comment>
                            <comment id="13920801" author="cziegeler" created="Wed, 5 Mar 2014 12:45:56 +0000"  >&lt;p&gt;Great analysis. I guess there is not that much we can do about it.&lt;/p&gt;</comment>
                            <comment id="13920816" author="egli" created="Wed, 5 Mar 2014 13:03:12 +0000"  >&lt;p&gt;Besides trying harder to avoid a pseudo-network-partition due to overload/slow-repository, another option is to be more resilient just by increasing the heartbeatTimeout. Hence increasing the default of 60sec to 120sec for the timeout, leaving the interval at 30sec though.&lt;/p&gt;</comment>
                            <comment id="14492494" author="egli" created="Mon, 13 Apr 2015 15:15:56 +0000"  >&lt;p&gt;Here&apos;s one improvement we should follow-up, discussed today with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mmarth&quot; class=&quot;user-hover&quot; rel=&quot;mmarth&quot;&gt;mmarth&lt;/a&gt; offline: &lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;we should avoid the &apos;isolated mode&apos; completely. It was a wrong thing to do this from the beginning. When a node is in &apos;isolated mode&apos; it is essentially cut off and should not take part in any &apos;leader/topology-dependent&apos; action &lt;b&gt;at all&lt;/b&gt;.&lt;/li&gt;
	&lt;li&gt;any pseudo-network-partitioning consisted of one or a number of nodes that were in isolated mode. And it always had to do with the fact that an isolated mode created a leader (this was the error taken at the beginning: every &apos;cluster&apos; has to have a leader - thus if a node is in an isolated cluster, it is automatically leader: &lt;b&gt;wrong&lt;/b&gt;). And once you let the isolated node become a leader you have multiple leaders and the trouble begins&lt;/li&gt;
	&lt;li&gt;therefore avoid the isolated mode entirely&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;...but instead:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;when any change is detected (which is detected by a timed out heartbeat, by a new &apos;ongoingVoting&apos; of another node (which detected the heartbeat timeout first), or even by a &apos;establishedView&apos; (in case it was not precedented by an &apos;ongoingVoting&apos; it means the local node was too slow in reacting for the others) - so when any change is detected: immediately fire a TOPOLOGY_CHANGING event.
	&lt;ul&gt;
		&lt;li&gt;that one &lt;a href=&quot;https://github.com/apache/sling/blob/trunk/bundles/extensions/discovery/api/src/main/java/org/apache/sling/discovery/TopologyEvent.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;as the docu says&lt;/a&gt;  &lt;blockquote&gt;&lt;p&gt;Informs the service about the fact that a state change was detected in the topology/cluster and that the new state is in the process of being discovered.&lt;/p&gt;&lt;/blockquote&gt;&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;even if the instance cannot finish a vote/cannot take part of the vote/is thrown out of the establishedView by others: it should &lt;b&gt;not&lt;/b&gt; send a TOPOLOGY_CHANGED event &lt;b&gt;until it successfully was included in an establishedView&lt;/b&gt;.
	&lt;ul&gt;
		&lt;li&gt;between these two events we can now have a large delay, be it minutes or even hours - if for some reason the instance is cut off the repository/voting-mechanism.&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;In other words: every component receiving a TOPOLOGY_CHANGING event should &lt;b&gt;back off and not do any leader or topology-dependent action until&lt;/b&gt; a TOPOLOGY_CHANGED is received. This should be the recipe to handle pseudo-network-partitioning properly.&lt;/p&gt;</comment>
                            <comment id="14495936" author="egli" created="Wed, 15 Apr 2015 09:40:13 +0000"  >&lt;p&gt;Note that &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3432?focusedCommentId=14492494&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14492494&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;the above&lt;/a&gt; does not solve the problem where the underlying repository is eventually consistent and the heartbeat configured is too low to catch all possible delays (that such an eventually consistent repository might produce under load). Consider the following:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;a cluster consisting of 3 nodes: A, B and C, A is the leader&lt;/li&gt;
	&lt;li&gt;writes from B and C are fast - and can be read by all 3 nodes fast&lt;/li&gt;
	&lt;li&gt;writes from A though are slow (ie A behaves asymmetric: slow writes but fast reads)&lt;/li&gt;
	&lt;li&gt;at some point writes from A are slower than the configured heartbeat timeout: at this point B and C find out about this and vote on a new clusterView consisting only of B and C and (let&apos;s say) B becomes leader.
	&lt;ul&gt;
		&lt;li&gt;meanwhile at A however: A is still happy: it sees the heartbeats of B and C in time and would not start a new voting.&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;at some later point (with a &lt;b&gt;certain read delay&lt;/b&gt;) A sees that B and C have declared a new &lt;tt&gt;/establishedViews&lt;/tt&gt; - at this point it would (according to the new rule above) immediately send a TOPOLOGY_CHANGING and things would be &apos;ok&apos; again.
	&lt;ul&gt;
		&lt;li&gt;&lt;b&gt;but&lt;/b&gt; until it does send this event - &lt;b&gt;between 4. and 5. - we have two leaders: A and B&lt;/b&gt;! -&amp;gt; thus could see issues reported here in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3432&quot; title=&quot;pseudo network partition causes job deserialization issue in a cluster (when reading while job is being reassigned)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3432&quot;&gt;&lt;del&gt;SLING-3432&lt;/del&gt;&lt;/a&gt; still during that small timeframe (which is basically the amount of time it takes for the new established view declared by B and C to be read by A).&lt;/li&gt;
		&lt;li&gt;at a later time, when eg the delays in the repository have come down, A would rejoin the cluster - but would have to &lt;b&gt;not become leader&lt;/b&gt; again, as the leader is B and must stay stable.&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;This IMHO highlights the problem that using an eventually consistent repository (that has no max guaranteed delay) is &lt;b&gt;not&lt;/b&gt; pseudo-network-partition/duplicate-leader free under load.&lt;/p&gt;

&lt;p&gt;Note that what is described here is not fixed by &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4627&quot; title=&quot;TOPOLOGY_CHANGED in an eventually consistent repository&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4627&quot;&gt;&lt;del&gt;SLING-4627&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14496372" author="marett" created="Wed, 15 Apr 2015 15:31:56 +0000"  >&lt;blockquote&gt;&lt;p&gt;And once you let the isolated node become a leader you have multiple leaders and the trouble begins therefore avoid the isolated mode entirely&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;A suggestion here, in isolated mode, the views may still be produced but market as invalid (discovery is changing).&lt;/p&gt;</comment>
                            <comment id="14496390" author="marett" created="Wed, 15 Apr 2015 15:37:23 +0000"  >&lt;blockquote&gt;&lt;p&gt;The eventing is relying on jcr events and considers a save to be atomic. But maybe it&apos;s something different?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; Could it be that this assumption holds only in non clustered environment ? &lt;br/&gt;
In my experience, even with CRX clusters in active/passive mode (where replication typically takes &amp;lt; 500ms) we experienced jobs being processed before the required data was replicated.&lt;/p&gt;</comment>
                            <comment id="14496397" author="egli" created="Wed, 15 Apr 2015 15:40:21 +0000"  >&lt;p&gt;I disagree. I think the isolated mode is a bad thing. It should stay in &apos;TOPOLOGY_CHANGING&apos; until it can rejoin the cluster. If it can never rejoin, fine, then it will always remain in &apos;TOPOLOGY_CHANGING&apos; - that does not prevent the application from doing something still btw.&lt;/p&gt;</comment>
                            <comment id="14496413" author="marett" created="Wed, 15 Apr 2015 15:48:21 +0000"  >&lt;p&gt;We could also consider that some use cases could benefit from it and adapt their behaviour depending on its status (connected or isolated).&lt;br/&gt;
What would be needed is a way to distinguish between isolated mode and connected mode.&lt;br/&gt;
Maybe using &quot;isolated&quot; as cluster view id in isolated mode would do the trick.&lt;/p&gt;</comment>
                            <comment id="14496422" author="egli" created="Wed, 15 Apr 2015 15:51:31 +0000"  >&lt;p&gt;I don&apos;t see any benefit of the isolated mode anymore. The listener is informed that &apos;something is wrong in the topology&apos; via the TOPOLOGY_CHANGING event as soon as the discovery notices this. That corresponds to &apos;unsure/isolated&apos; actually. But what is the advantage of sending a TOPOLOGY_CHANGED with a fake/pseudo-isolated cluster, where it is leader, just that the listeners can continue? The listeners should &lt;b&gt;wait&lt;/b&gt; until a proper, valid TOPOLOGY_CHANGED can be produced and sent. Until then: they have to live with this uncertainty - but they know about it at least.&lt;/p&gt;</comment>
                            <comment id="14496460" author="marett" created="Wed, 15 Apr 2015 16:18:44 +0000"  >&lt;blockquote&gt;&lt;p&gt;The listener is informed that &apos;something is wrong in the topology&apos; via the TOPOLOGY_CHANGING event as soon as the discovery notices this.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I agree, though the information carried by the announce is different. &lt;br/&gt;
Without isolated mode, the instance can&apos;t differentiate between I. a topology vote that takes a while and II. being disconnected from the topology.&lt;br/&gt;
Applications may benefit from this distinction, for instance to do operations (registering to services, allocating resources, etc.) only when joining the topology or leaving it.&lt;/p&gt;

&lt;p&gt;Also, although I guess it was not meant to be implemented based on actual waiting, the topology listeners would not have to wait on any particular event at any time.&lt;/p&gt;

&lt;p&gt;The topology listeners would do&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;handleTopologyEvent(TopologyEvent event)&#160;{
    View view event.getNewView();
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-quote&quot;&gt;&quot;isolated&quot;&lt;/span&gt;.equals(view.id())) {
        &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; things in isolated mode
&lt;/span&gt;    } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
        &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; things in connected mode
&lt;/span&gt;    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="14498040" author="egli" created="Thu, 16 Apr 2015 13:21:29 +0000"  >&lt;p&gt;The problem is that there is a conflict with the API... the API says:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;TOPOLOGY_CHANGED always carries a new TopologyView (&lt;a href=&quot;https://github.com/apache/sling/blob/trunk/bundles/extensions/discovery/api/src/main/java/org/apache/sling/discovery/TopologyEvent.java#L144&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;TopologyEvent.getNewView() does not return null for TOPOLOGY_CHANGED&lt;/a&gt;)&lt;/li&gt;
	&lt;li&gt;(not explicitly unfortunately &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; but the intention was definitely that..) every TopologyView contains the local instance (&lt;a href=&quot;https://github.com/apache/sling/blob/trunk/bundles/extensions/discovery/api/src/main/java/org/apache/sling/discovery/TopologyView.java#L47&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;TopologyView.getLocalInstance() should never return null&lt;/a&gt;)&lt;/li&gt;
	&lt;li&gt;every Instance(-Description) is always guaranteed to be part of a Cluster(View) (&lt;a href=&quot;https://github.com/apache/sling/blob/trunk/bundles/extensions/discovery/api/src/main/java/org/apache/sling/discovery/InstanceDescription.java#L60&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;InstanceDescription.getClusterView() is never null&lt;/a&gt;)&lt;/li&gt;
	&lt;li&gt;and every ClusterView must always have a leader (&lt;a href=&quot;https://github.com/apache/sling/blob/trunk/bundles/extensions/discovery/api/src/main/java/org/apache/sling/discovery/ClusterView.java#L70&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ClusterView.getLeader() is never null&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;In other words: the API says that a TOPOLOGY_CHANGED always defines the leader of the local cluster. If you now map the isolated mode to a TOPOLOGY_CHANGED event, you have to declare one of the local cluster a leader (perhaps the isolated local instance). And that results in duplicate leaders (should the isolation be due to a pseudo-network-partitioning as described in this ticket - which is likely in an eventually consistent repository).&lt;/p&gt;

&lt;p&gt;Which brings me back to the original intend of removing the isolation mode: the intend was to assure the &lt;ins&gt;isolated mode does not have a leader&lt;/ins&gt;! Is there an agreement of this goal?&lt;/p&gt;</comment>
                            <comment id="14498130" author="marett" created="Thu, 16 Apr 2015 15:08:59 +0000"  >&lt;p&gt;Assuming the discovery API also allows to retrieve the current state of the topology at any time via&lt;br/&gt;
com.adobe.granite.discovery.etcd.EtcdDiscoveryService#getTopology&lt;/p&gt;

&lt;p&gt;What would this method return in case it is isolated ?&lt;/p&gt;</comment>
                            <comment id="14498148" author="egli" created="Thu, 16 Apr 2015 15:22:02 +0000"  >&lt;p&gt;&lt;tt&gt;isCurrent()==false&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="14499541" author="marett" created="Fri, 17 Apr 2015 09:36:54 +0000"  >&lt;p&gt;ok, got it. The recipe could be extended to also include use cases which are not listening to events. Receiving the TOPOLOGY_CHANGING event is the equivalent of seeing isCurrent() == false.&lt;/p&gt;

&lt;p&gt;Instead of not sending the TOPOLOGY_CHANGED event until the local instance is connected to the topology, we may keep sending the event containing a isolated view and a flag isCurrent() == false. If we assume that every case the TOPOLOGY_CHANGED event means &quot;the local instance is in isolated&quot; then the proposed approach (sending the TOPOLOGY_CHANGED event only when connected) makes sense.&lt;/p&gt;</comment>
                            <comment id="14499759" author="cziegeler" created="Fri, 17 Apr 2015 12:46:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt; A single save should be atomic; if that&apos;s not the case then this is clearly a bug in the repository replication. Regardless of clustering etc. When it comes to jobs and the content they operate on: even with eventual consistency the order of save operations should be respected: if the content is saved first, then the corresponding job then on any instance once the job is visible the content must be visibile. Otherwise that&apos;s clearly a bug&lt;/p&gt;</comment>
                            <comment id="14502587" author="egli" created="Mon, 20 Apr 2015 09:49:11 +0000"  >&lt;p&gt;One additional case that we should take into account: &lt;tt&gt;TOPOLOGY_INIT&lt;/tt&gt; can be sent with &lt;tt&gt;isCurrent()==false&lt;/tt&gt; when eg a &lt;tt&gt;TopologyEventListener&lt;/tt&gt; is registered after the very first view was established (cos that we wait for with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3750&quot; title=&quot;Delay discovery-service readiness until first vote has finished, to avoid leader being overthrown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3750&quot;&gt;&lt;del&gt;SLING-3750&lt;/del&gt;&lt;/a&gt;) &lt;b&gt;and&lt;/b&gt; that view is now changing (hence everybody else already got a &lt;tt&gt;TOPOLOGY_CHANGING&lt;/tt&gt;). Ie if you receive a &lt;tt&gt;TOPOLOGY_INIT&lt;/tt&gt; it doesn&apos;t mean that you can &lt;b&gt;disrespect&lt;/b&gt; the &lt;tt&gt;isCurrent()&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="14502588" author="egli" created="Mon, 20 Apr 2015 09:50:08 +0000"  >&lt;p&gt;This however will only be available with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4638&quot; title=&quot;isCurrent() not always correctly set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4638&quot;&gt;&lt;del&gt;SLING-4638&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14502593" author="egli" created="Mon, 20 Apr 2015 10:02:49 +0000"  >&lt;p&gt;Cool, so we agree to move forward with this &apos;getting rid of the isolated mode&apos; and replace it with proper use of &lt;tt&gt;isCurrent()&lt;/tt&gt; and sending &lt;tt&gt;TOPOLOGY_CHANGING&lt;/tt&gt; right away/&lt;tt&gt;TOPOLOGY_CHANGED&lt;/tt&gt; once new view is settled?&lt;/p&gt;</comment>
                            <comment id="14502594" author="marett" created="Mon, 20 Apr 2015 10:05:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stefanegli&quot; class=&quot;user-hover&quot; rel=&quot;stefanegli&quot;&gt;stefanegli&lt;/a&gt; is it correct to summarise that &quot;changed&quot; events can still be sent in isolated mode but consumers need to enforce the check for isCurrent flag (as described by api) ?&lt;/p&gt;</comment>
                            <comment id="14502608" author="egli" created="Mon, 20 Apr 2015 10:22:53 +0000"  >&lt;p&gt;Hm, the api&apos;s intention was different. See the TopologyEventListener which says: &lt;blockquote&gt;&lt;p&gt;TOPOLOGY_CHANGED sent when the discovery service discovered a change in the topology and has settled it.&lt;/p&gt;&lt;/blockquote&gt; - the &apos;settled it&apos; part to me conflicts with sending a CHANGED event with a isCurrent()==false.. no?&lt;/p&gt;</comment>
                            <comment id="14502625" author="marett" created="Mon, 20 Apr 2015 10:42:35 +0000"  >&lt;p&gt;Ok, I agree. Thanks for clarifying this.&lt;/p&gt;</comment>
                            <comment id="14502749" author="egli" created="Mon, 20 Apr 2015 13:02:20 +0000"  >&lt;p&gt;Factored this issue out to &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4640&quot; title=&quot;Possibility of duplicate leaders w/discovery.impl on eventually consistent repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4640&quot;&gt;&lt;del&gt;SLING-4640&lt;/del&gt;&lt;/a&gt; to be able to eventually close &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3432&quot; title=&quot;pseudo network partition causes job deserialization issue in a cluster (when reading while job is being reassigned)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3432&quot;&gt;&lt;del&gt;SLING-3432&lt;/del&gt;&lt;/a&gt; (this one)&lt;/p&gt;</comment>
                            <comment id="14502772" author="egli" created="Mon, 20 Apr 2015 13:19:17 +0000"  >&lt;blockquote&gt;&lt;p&gt;In other words: every component receiving a TOPOLOGY_CHANGING event should back off and not do any leader or topology-dependent action until a TOPOLOGY_CHANGED is received. This should be the recipe to handle pseudo-network-partitioning properly.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;This is controlled via &lt;tt&gt;TopologyView.isCurrent()&lt;/tt&gt; (esp once &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4638&quot; title=&quot;isCurrent() not always correctly set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4638&quot;&gt;&lt;del&gt;SLING-4638&lt;/del&gt;&lt;/a&gt; is fixed)&lt;/p&gt;</comment>
                            <comment id="14508730" author="egli" created="Thu, 23 Apr 2015 09:26:18 +0000"  >&lt;p&gt;moving from 1.1.2 to 1.1.4 in order to release 1.1.2 now&lt;/p&gt;</comment>
                            <comment id="14695322" author="egli" created="Thu, 13 Aug 2015 14:51:01 +0000"  >&lt;p&gt;Small but important correction to this one: &lt;tt&gt;TOPOLOGY_INIT&lt;/tt&gt; must only be sent when discovery has a stable view (contrary to my above comment). So, in 99% of the cases &lt;tt&gt;TOPOLOGY_INIT&lt;/tt&gt; should carry a &lt;tt&gt;getNewView&lt;/tt&gt; which says &lt;tt&gt;isCurrent()==true&lt;/tt&gt; - but there&apos;s the unlikely situation that just when discovery was starting to send out the &lt;tt&gt;TOPOLOGY_INIT&lt;/tt&gt; event it asynchronously noticed a view change - in which case &lt;tt&gt;isCurrent()==false&lt;/tt&gt;...&lt;/p&gt;</comment>
                            <comment id="14791769" author="egli" created="Thu, 17 Sep 2015 08:18:34 +0000"  >&lt;p&gt;Factored out the &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3432?focusedCommentId=14492494&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14492494&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;comment about avoiding isolated mode&lt;/a&gt; to &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-5030&quot; title=&quot;replace isolated mode with (larger) TOPOLOGY_CHANGING phase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-5030&quot;&gt;&lt;del&gt;SLING-5030&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14791773" author="egli" created="Thu, 17 Sep 2015 08:19:39 +0000"  >&lt;p&gt;actually, isCurrent is not enough. I&apos;ve factored this out to &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-5030&quot; title=&quot;replace isolated mode with (larger) TOPOLOGY_CHANGING phase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-5030&quot;&gt;&lt;del&gt;SLING-5030&lt;/del&gt;&lt;/a&gt; to avoid the isolated mode entirely&lt;/p&gt;</comment>
                            <comment id="15008441" author="egli" created="Tue, 17 Nov 2015 10:21:58 +0000"  >&lt;p&gt;Note that discovery.oak (&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4603&quot; title=&quot;discovery.oak: oak-based discovery implementation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4603&quot;&gt;&lt;del&gt;SLING-4603&lt;/del&gt;&lt;/a&gt;) addresses the concerns raised in this lengthy ticket, while this ticket is currently left open due to &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4640&quot; title=&quot;Possibility of duplicate leaders w/discovery.impl on eventually consistent repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4640&quot;&gt;&lt;del&gt;SLING-4640&lt;/del&gt;&lt;/a&gt; which was marked as won&apos;t fix..&lt;/p&gt;</comment>
                            <comment id="15132016" author="egli" created="Thu, 4 Feb 2016 09:24:17 +0000"  >&lt;p&gt;Marking as fixed. Resolution is as follows:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;discovery.oak addresses network partitioning by relying on a deterministic storage (the DocumentStore), a reliable lease mechanism and lease timeouts. If any instance doesn&apos;t update the lease in time this results in removing it from the cluster (for the others) and shutting down (for the local instance). Under no circumstance would discovery.oak together with the lease-check in oak allow a pseudo network partitioning situation. So for discovery.oak this is handled fine.&lt;/li&gt;
	&lt;li&gt;discovery.impl: all issues but the mentioned &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4640&quot; title=&quot;Possibility of duplicate leaders w/discovery.impl on eventually consistent repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4640&quot;&gt;&lt;del&gt;SLING-4640&lt;/del&gt;&lt;/a&gt; are adressed. As mentioned &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4640&quot; title=&quot;Possibility of duplicate leaders w/discovery.impl on eventually consistent repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4640&quot;&gt;&lt;del&gt;SLING-4640&lt;/del&gt;&lt;/a&gt; will not be fixed for discovery.impl as it&apos;s not feasible. However, &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-5195&quot; title=&quot;HeartbeatHandler should check for topology changes independently of long-during session.saves&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-5195&quot;&gt;&lt;del&gt;SLING-5195&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-5280&quot; title=&quot;HeartbeatHandler can also be blocked while holding AnnouncementRegistry lock&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-5280&quot;&gt;&lt;del&gt;SLING-5280&lt;/del&gt;&lt;/a&gt; add additional safety checks that try to help for large repository delays too. Still, if the repository delays are very asymmetric (ie reading is very slow for one instance vs writes are fast), then &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4640&quot; title=&quot;Possibility of duplicate leaders w/discovery.impl on eventually consistent repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4640&quot;&gt;&lt;del&gt;SLING-4640&lt;/del&gt;&lt;/a&gt; can still happen. To address those issues, the recommendation is to switch to discovery.oak.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12822258">SLING-4638</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12873223">SLING-5030</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12839557">SLING-4828</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12698865">SLING-3434</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12821182">SLING-4627</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                            <outwardlinks description="requires">
                                        <issuelink>
            <issuekey id="12822308">SLING-4640</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>376994</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 39 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1synz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>377289</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3431] NPE in analyzeVotings when turning on DEBUG logging</title>
                <link>https://issues.apache.org/jira/browse/SLING-3431</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Following NullPointerException occurs when turning log level to DEBUG (ie doesn&apos;t occur with higher log levels as this block of code is hidden then):&lt;/p&gt;

&lt;p&gt;java.lang.NullPointerException&lt;br/&gt;
	at org.apache.sling.discovery.impl.common.View.getViewId(View.java:88)&lt;br/&gt;
	at org.apache.sling.discovery.impl.cluster.voting.VotingView.toString(VotingView.java:151)&lt;br/&gt;
	at java.lang.String.valueOf(String.java:2838)&lt;br/&gt;
	at java.lang.StringBuilder.append(StringBuilder.java:132)&lt;br/&gt;
	at org.apache.sling.discovery.impl.cluster.voting.VotingHandler.analyzeVotings(VotingHandler.java:194)&lt;br/&gt;
	at org.apache.sling.discovery.impl.cluster.voting.VotingHandler.handleEvent(VotingHandler.java:117)&lt;br/&gt;
	at org.apache.sling.discovery.impl.setup.Instance$1.onEvent(Instance.java:324)&lt;br/&gt;
	at org.apache.jackrabbit.core.observation.EventConsumer.consumeEvents(EventConsumer.java:248)&lt;br/&gt;
	at org.apache.jackrabbit.core.observation.ObservationDispatcher.run(ObservationDispatcher.java:161)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:701)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12698607">SLING-3431</key>
            <summary>NPE in analyzeVotings when turning on DEBUG logging</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="stefanegli">Stefan Egli</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 Mar 2014 11:03:19 +0000</created>
                <updated>Sat, 8 Mar 2014 16:17:53 +0000</updated>
                            <resolved>Tue, 4 Mar 2014 13:58:00 +0000</resolved>
                                    <version>Discovery Impl 1.0.2</version>
                                    <fixVersion>Discovery Impl 1.0.4</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>376965</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 35 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1syhj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>377260</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3430] No need to embed entire beanutils in Sling Models impl</title>
                <link>https://issues.apache.org/jira/browse/SLING-3430</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently the entire beanutils jar is embedded. Likely only a relatively small subset is necessary.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12698470">SLING-3430</key>
            <summary>No need to embed entire beanutils in Sling Models impl</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Mar 2014 17:53:19 +0000</created>
                <updated>Sat, 15 Mar 2014 14:52:15 +0000</updated>
                            <resolved>Tue, 4 Mar 2014 11:58:32 +0000</resolved>
                                    <version>Sling Models Implementation 1.0.0</version>
                                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13918325" author="justinedelson" created="Mon, 3 Mar 2014 17:59:13 +0000"  >&lt;p&gt;fixed in 1573638. resulted in a ~75% net decrease in file size&lt;/p&gt;</comment>
                            <comment id="13919059" author="thalis" created="Tue, 4 Mar 2014 06:40:51 +0000"  >&lt;p&gt;For me this optimization results in a failing build executing the org.apache.sling.models.it.ViaTest (more precisely at the method org.apache.commons.beanutils.PropertyUtils#getProperty(java.lang.Object, java.lang.String)). The attempt to spot and add the needed classes may prove very lengthy and could result in a org.apache.sling.models.impl artifact that is potentially missing some dependencies on several execution paths. Maybe the file size can be decreased by excluding some packages that will definitely not be needed.&lt;/p&gt;

&lt;p&gt;A second look at the commons-beanutils:commons-beanutils:1.8.3 artifact revealed that it has a size of about 227 KB. Is it really worth to cut off stability for such a small embedded dependency?&lt;/p&gt;</comment>
                            <comment id="13919316" author="justinedelson" created="Tue, 4 Mar 2014 11:58:22 +0000"  >&lt;p&gt;Hmmm. I could have sworn this was working for me yestereday when I commited it. Thanks for doublechecking. Reverted in r1574050.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12632457" name="adding_beanutils_embedded_dependency.patch" size="962" author="thalis" created="Tue, 4 Mar 2014 07:36:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>376828</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 35 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sxn3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>377123</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3429] NullPointerException for optional array (and list) properties</title>
                <link>https://issues.apache.org/jira/browse/SLING-3429</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;An optional array or list property without a @Source annotation will produce a NPE due to a bug in the OSGiServiceInjector.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12698469">SLING-3429</key>
            <summary>NullPointerException for optional array (and list) properties</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Mar 2014 17:51:55 +0000</created>
                <updated>Wed, 19 Mar 2014 13:39:13 +0000</updated>
                            <resolved>Mon, 3 Mar 2014 17:58:50 +0000</resolved>
                                    <version>Sling Models Implementation 1.0.0</version>
                                    <fixVersion>Sling Models Implementation 1.0.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13918323" author="justinedelson" created="Mon, 3 Mar 2014 17:58:50 +0000"  >&lt;p&gt;Fixed in r 1573637&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>376827</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 35 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sxmv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>377122</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3428] vanity paths might be shadowed by url mappings</title>
                <link>https://issues.apache.org/jira/browse/SLING-3428</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;As described from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fmeschbe&quot; class=&quot;user-hover&quot; rel=&quot;fmeschbe&quot;&gt;fmeschbe&lt;/a&gt; some time ago in &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; vanity paths might be shadowed by url mappings in some situations.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fmeschbe&quot; class=&quot;user-hover&quot; rel=&quot;fmeschbe&quot;&gt;fmeschbe&lt;/a&gt; also proposed a patch in &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://markmail.org/message/7jfx54grwft7joxo&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/7jfx54grwft7joxo&lt;/a&gt;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12698394">SLING-3428</key>
            <summary>vanity paths might be shadowed by url mappings</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="asanso">Antonio Sanso</assignee>
                                    <reporter username="asanso">Antonio Sanso</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Mar 2014 10:43:22 +0000</created>
                <updated>Tue, 16 Sep 2014 13:59:11 +0000</updated>
                            <resolved>Mon, 28 Apr 2014 10:40:27 +0000</resolved>
                                                    <fixVersion>Resource Resolver 1.1.2</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13917937" author="bdelacretaz" created="Mon, 3 Mar 2014 10:51:03 +0000"  >&lt;p&gt;Before we make any changes, can we make sure we have tests that demonstrate the current behavior, along with any changes that such patches might introduce? We have several layers of URL-to-resource mappings in Sling, it&apos;s sometimes hard to get the overview, and any changes might introduce backwards compatibility issues.&lt;/p&gt;

&lt;p&gt;As a starting point, we do have some vanity paths tests at &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://svn.apache.org/repos/asf/sling/trunk/launchpad/integration-tests/src/main/java/org/apache/sling/launchpad/webapp/integrationtest/VanityPathTest.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/sling/trunk/launchpad/integration-tests/src/main/java/org/apache/sling/launchpad/webapp/integrationtest/VanityPathTest.java&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13982900" author="asanso" created="Mon, 28 Apr 2014 10:33:14 +0000"  >&lt;p&gt;added test in rev. 1590589&lt;/p&gt;</comment>
                            <comment id="13982905" author="asanso" created="Mon, 28 Apr 2014 10:40:27 +0000"  >&lt;p&gt;fixed in rev. 1590592&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>376752</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 27 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sx67:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>377047</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3427] Incorrect handling of NamespaceMapper bindings within SlingServerRepositoryManager</title>
                <link>https://issues.apache.org/jira/browse/SLING-3427</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The bind method for the namespace service references within class org.apache.sling.jcr.jackrabbit.server.impl.SlingServerRepositoryManager is accessing the ComponentContext set by the activate method but unfortunately that is incorrect because the Declarative Services Specification Version 1.1 - section 112.5.6 states that the binding happens before the activation. So the attempt to bind the TestNamespaceMapper Service to the SlingServerRepositoryManager always results in a NullPointerException.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12698379">SLING-3427</key>
            <summary>Incorrect handling of NamespaceMapper bindings within SlingServerRepositoryManager</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="thalis">Stefan Scheidewig</reporter>
                        <labels>
                            <label>jackrabbit</label>
                            <label>namespace</label>
                            <label>oak</label>
                    </labels>
                <created>Mon, 3 Mar 2014 09:08:36 +0000</created>
                <updated>Fri, 19 Sep 2014 15:59:02 +0000</updated>
                            <resolved>Mon, 10 Mar 2014 10:54:16 +0000</resolved>
                                    <version>JCR Jackrabbit Server 2.1.2</version>
                                    <fixVersion>JCR Jackrabbit Server 2.2.0</fixVersion>
                    <fixVersion>JCR Oak Server 1.0.0</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13917858" author="thalis" created="Mon, 3 Mar 2014 09:10:08 +0000"  >&lt;p&gt;Attached a potential fix for this issue.&lt;/p&gt;</comment>
                            <comment id="13917900" author="cziegeler" created="Mon, 3 Mar 2014 10:04:19 +0000"  >&lt;p&gt;Thanks for reporting and the patch, Stefan.&lt;br/&gt;
I think we need to keep a map where the key is either the service ref or maybe the service id (long) - otherwise we rely on equals either not being overwritten or implemented correctly (well in practice this shouldn&apos;t be a problem, but I guess this would be safer)&lt;/p&gt;</comment>
                            <comment id="13917920" author="thalis" created="Mon, 3 Mar 2014 10:36:38 +0000"  >&lt;p&gt;I thought it would be sufficient to keep a list of service references because the OSGi environment handles the rest. So a service should not be bound twice.&lt;/p&gt;</comment>
                            <comment id="13917940" author="cziegeler" created="Mon, 3 Mar 2014 10:55:18 +0000"  >&lt;p&gt;With your patch, the list keeps the service objects in the list. it is correct, that the same service is not bound twice, so adding is not a problem. Removing is the problematic part, if one implementation e.g. always returns &quot;true&quot; for the equals(Object) method, removing any service object from the list, might result in removing this one leaving a reference to a removed service and creating a leak. (Returning &quot;true&quot; is just the simplest case of messing up the equals() method)&lt;br/&gt;
While this sounds a little bit academic, I ran into similar issues while developing similar code in other areas and came to the conclusion that relying on equals being implemented 100% correctly can cause trouble in this usage pattern&lt;/p&gt;</comment>
                            <comment id="13918023" author="thalis" created="Mon, 3 Mar 2014 12:51:14 +0000"  >&lt;p&gt;So, maybe it&apos;s better to pass the service properties to the bind methods (see patch number two). Using the type parameter instead of the ServiceReference has the charm that SCR gets and ungets the service (which is missing in the current implementation?).&lt;/p&gt;</comment>
                            <comment id="13918037" author="cziegeler" created="Mon, 3 Mar 2014 13:19:07 +0000"  >&lt;p&gt;Yes, again, thanks for the patch - I&apos;ve applied a slightly modified version which uses the service id (long) as the PID is optionally.&lt;/p&gt;

&lt;p&gt;Could you please verify the changes?&lt;/p&gt;</comment>
                            <comment id="13918128" author="thalis" created="Mon, 3 Mar 2014 15:06:15 +0000"  >&lt;p&gt;Looks good. At least 1573558 results in the first working build of trunk on my machine.&lt;/p&gt;</comment>
                            <comment id="13918176" author="cziegeler" created="Mon, 3 Mar 2014 15:47:06 +0000"  >&lt;p&gt;Perfect, thanks - so&apos;ll set this to resolved&lt;/p&gt;</comment>
                            <comment id="13924541" author="thalis" created="Sat, 8 Mar 2014 00:13:49 +0000"  >&lt;p&gt;Reopened that issue because the problem still exists in the OakSlingReporityManager.&lt;/p&gt;</comment>
                            <comment id="13924545" author="thalis" created="Sat, 8 Mar 2014 00:17:20 +0000"  >&lt;p&gt;Attached patch for the equivalent class of the Oak repository.&lt;/p&gt;</comment>
                            <comment id="13925645" author="cziegeler" created="Mon, 10 Mar 2014 10:54:16 +0000"  >&lt;p&gt;Thanks for your patch Stefan, it&apos;s applied&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12632201" name="namespacemapper_binding_fix.patch" size="3952" author="thalis" created="Mon, 3 Mar 2014 09:10:08 +0000"/>
                            <attachment id="12633495" name="namespacemapper_binding_fix_for_oak.patch" size="2729" author="thalis" created="Sat, 8 Mar 2014 00:17:20 +0000"/>
                            <attachment id="12632239" name="namespacemapper_binding_fix_with_service_pid.patch" size="3726" author="thalis" created="Mon, 3 Mar 2014 12:51:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>376737</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 34 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sx2v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>377032</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3425] launchpad testing-war failure (missing config dir)</title>
                <link>https://issues.apache.org/jira/browse/SLING-3425</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Launchpad testing-war fails with the following message:&lt;/p&gt;

&lt;p&gt;ERROR] Failed to execute goal org.apache.sling:maven-launchpad-plugin:2.2.0:prepare-package (prepare-package) on project org.apache.sling.launchpad.testing-war: Unable to copy configuration files: Source &apos;/Users/segli/svn/sling/launchpad/testing-war/src/main/config&apos; does not exist -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;This is due to the config file not being there. &lt;/p&gt;

&lt;p&gt;A fix for this is pending in the maven-launchpad-plugin 2.2.2, see &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2843&quot; title=&quot;Launchpad plugin should check if configuration directory exists&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2843&quot;&gt;&lt;del&gt;SLING-2843&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12698176">SLING-3425</key>
            <summary>launchpad testing-war failure (missing config dir)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="stefanegli">Stefan Egli</reporter>
                        <labels>
                    </labels>
                <created>Sun, 2 Mar 2014 11:41:58 +0000</created>
                <updated>Sun, 2 Mar 2014 11:44:14 +0000</updated>
                            <resolved>Sun, 2 Mar 2014 11:44:14 +0000</resolved>
                                    <version>Launchpad Testing 10</version>
                                    <fixVersion>Launchpad Testing 10</fixVersion>
                                    <component>Launchpad</component>
                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                                                            <comments>
                            <comment id="13917374" author="egli" created="Sun, 2 Mar 2014 11:44:14 +0000"  >&lt;p&gt;added src/main/config. could be removed once maven-launchpad-plugin 2.2.2 is released...&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12645152">SLING-2843</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                            <subtask id="12698177">SLING-3426</subtask>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>376645</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 35 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1swif:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>376940</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3423] ResourceMergerService API must allow custom merge paths</title>
                <link>https://issues.apache.org/jira/browse/SLING-3423</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;From &lt;a href=&quot;http://sling.markmail.org/thread/3wt33wniwgflmk27&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.markmail.org/thread/3wt33wniwgflmk27&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The ResourceMergerService added by &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2986&quot; title=&quot;Merged Resource Provider&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2986&quot;&gt;&lt;del&gt;SLING-2986&lt;/del&gt;&lt;/a&gt; must have this one central API, where the caller = application defines the merge paths!&lt;/p&gt;

&lt;p&gt;    Resource merge(ResourceResolver resolver, String mergeRootPath, String relativePath, String... mergePaths)&lt;/p&gt;

&lt;p&gt;Example values for the use case of the overlay resource provider:&lt;br/&gt;
    resolver = based on the current request (user)&lt;br/&gt;
    mergeRootPath = /mnt/overlay&lt;br/&gt;
    relativePath = &amp;lt;dynamic part&amp;gt;, for example: &quot;projectX/content/ui/toolbar&quot;&lt;br/&gt;
    mergePaths = /apps, /libs&lt;/p&gt;

&lt;p&gt;This was in the original patch &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;, sadly removed and later added back but completely missing the point.&lt;/p&gt;

&lt;p&gt;Currently it is all tied to the sling search path internally, but this would just be ONE of different options the application might want to chose for it.&lt;/p&gt;

&lt;p&gt;The specific /mnt/overlay ResourcerProvider would take the sling search path and expose resources based on calling the merger service with this as the mergePaths. (Currently there is a single implementation MergedResourceProviderFactory for both ResourceMergerService and the ResourceProvider service).&lt;/p&gt;

&lt;p&gt;This is simply a proper separation of concerns.&lt;/p&gt;

&lt;p&gt;Another application with different merge paths would be to merge resource type hierarchies: use the resource type and its super types. This could allow one to put UI dialogs in the resource types (say at ./dialog) and then be able to extend dialogs in sub resource types using the merger service.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/gknob/sling-resourcemerger/commit/a3e1b78c87e54cd5c32a58627a4de0420229e1f9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/gknob/sling-resourcemerger/commit/a3e1b78c87e54cd5c32a58627a4de0420229e1f9&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12698035">SLING-3423</key>
            <summary>ResourceMergerService API must allow custom merge paths</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="alexander.klimetschek">Alexander Klimetschek</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Feb 2014 22:03:05 +0000</created>
                <updated>Sat, 29 Nov 2014 15:46:46 +0000</updated>
                            <resolved>Thu, 4 Sep 2014 01:38:59 +0000</resolved>
                                    <version>Resource Merger 1.0.0</version>
                                    <fixVersion>Resource Merger 1.2.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="13920616" author="cziegeler" created="Wed, 5 Mar 2014 07:47:56 +0000"  >&lt;p&gt;As stated in the mail thread, I&apos;m against any service returning resources which are not part of the resource tree - as this will create all kinds of problems and bypasses all of Sling&apos;s concepts like resource decorators, resource access security, feature flags - just to name a few.&lt;/p&gt;

&lt;p&gt;I&apos;m fine with having  a service which returns a data structure for merged resource, something like:&lt;br/&gt;
public interface MergeData {&lt;br/&gt;
     String[] getMergedPaths();&lt;br/&gt;
     ValueMap getMergedValueMap();&lt;br/&gt;
}&lt;/p&gt;


&lt;p&gt;with a method&lt;/p&gt;

&lt;p&gt;public MergeData merge(String[] paths)&lt;/p&gt;

&lt;p&gt;on the service.&lt;/p&gt;

&lt;p&gt;If the application wants to go the risky way of wrapping this in a resource, this can be easily done on the app level&lt;/p&gt;</comment>
                            <comment id="13920687" author="bdelacretaz" created="Wed, 5 Mar 2014 09:20:41 +0000"  >&lt;p&gt;I haven&apos;t followed all the discussions but I like the MergeData proposal, as it makes it very clear what&apos;s happening, without extra magic. I&apos;d just use MergeData.getValueMap() without the redundant &quot;merge&quot; in the name.&lt;/p&gt;

&lt;p&gt;Note that merge(String ... paths) could also return a MergedValueMap interface, which extends ValueMap with a getMergedPaths() method - to avoid introducing the completely new MergeData interface.&lt;/p&gt;</comment>
                            <comment id="13920717" author="cziegeler" created="Wed, 5 Mar 2014 10:17:14 +0000"  >&lt;p&gt;Well, either MergeData or MergedValueMap is new &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
But I&apos;m fine with either&lt;/p&gt;</comment>
                            <comment id="13920725" author="bdelacretaz" created="Wed, 5 Mar 2014 10:35:22 +0000"  >&lt;p&gt;We&apos;re kind of nitpicking at this point, but MergeData is a totally new concept while MergedValueMap is a small variation on an existing one &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13920729" author="cziegeler" created="Wed, 5 Mar 2014 10:42:48 +0000"  >&lt;p&gt;We love to nitpick, right? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Ok, so let&apos;s go with MergedValueMap&lt;/p&gt;</comment>
                            <comment id="13920992" author="alexander.klimetschek" created="Wed, 5 Mar 2014 16:04:05 +0000"  >&lt;p&gt;I disagree. Why would you want to have to implement the MergedResource again and again instead of a single place - it&apos;s not just about the value map but also about resolving the right parent and children.&lt;/p&gt;

&lt;p&gt;I don&apos;t get the point about the dangerousness of this returning a Resource - it&apos;s not that the service walks around and pushes resources in the hands of other code. It will be a utility service used by different resource providers, following the DRY principle.&lt;/p&gt;</comment>
                            <comment id="13921009" author="cziegeler" created="Wed, 5 Mar 2014 16:20:58 +0000"  >&lt;p&gt;So you&apos;re saying that this service is not used by application code, but by other resource providers that one implements?&lt;/p&gt;</comment>
                            <comment id="13921023" author="alexander.klimetschek" created="Wed, 5 Mar 2014 16:35:03 +0000"  >&lt;p&gt;Yes, as I wrote on the list, this would be the normal case and AFAICS only practical way (i.e. once you need to expose this virtual tree over HTTP).&lt;/p&gt;</comment>
                            <comment id="13921031" author="cziegeler" created="Wed, 5 Mar 2014 16:47:48 +0000"  >&lt;p&gt;Ok, so why don&apos;t we provide a configurable resource provider then?&lt;/p&gt;</comment>
                            <comment id="13921053" author="alexander.klimetschek" created="Wed, 5 Mar 2014 17:13:47 +0000"  >&lt;p&gt;The logic for getting the merge paths will be dynamic (say resource types plus a &quot;dialog&quot; child node) and a single provider mounting to different paths seems convoluted.&lt;/p&gt;</comment>
                            <comment id="13921088" author="cziegeler" created="Wed, 5 Mar 2014 17:44:14 +0000"  >&lt;p&gt;Ok, what I meant is actually a resource provider factory which gets the same input (or similar) as the service method you&apos;re suggesting, so for every use case it creates a resource provider for exactly this configuration&lt;/p&gt;

&lt;p&gt;This would be even more DRY than having the service as you don&apos;t have to write the provider each time&lt;/p&gt;</comment>
                            <comment id="13921193" author="alexander.klimetschek" created="Wed, 5 Mar 2014 18:46:15 +0000"  >&lt;p&gt;Would be ok, but it would require a dynamic handler to implement the merge path collection logic, which makes it complicated.&lt;/p&gt;

&lt;p&gt;In my view:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;single merger service takes care of merging/patching resource trees&lt;/li&gt;
	&lt;li&gt;multiple custom resource providers use it and implement their merge path logic (use sling search path, resource type inheritance plus a sub path such as &quot;dialog&quot; to merge &quot;component dialogs&quot; and what not)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I am fine with a big note in the javadocs that one should only use it in a resource provider with a clearly separate (mounted) path structure.&lt;/p&gt;</comment>
                            <comment id="13922203" author="jsedding" created="Thu, 6 Mar 2014 09:30:48 +0000"  >&lt;p&gt;I think the idea is lingering in the previous comments, but hasn&apos;t explicitly jumped out yet. The logic selecting the resources that should be merged could be factored out into an extension hook. I propose the following interface for discussion:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; MergeResourceSelector {
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Iterable&amp;lt;Resource&amp;gt; selectResourcesToMerge(ResourceResolver resolver, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; path);
}                 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;      

&lt;p&gt;ResourceProvider instances could be created via factory configurations that allow configuration of the provider root (e.g. /mnt/overlay/) and the &quot;merge-resource-selection-strategy&quot;, i.e. a named implementation of MergeResourceSelector.&lt;/p&gt;

&lt;p&gt;WDYT?&lt;/p&gt;

&lt;p&gt;PS: the search-path based merge strategy could then be similar to the following (simplified) implementation&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;SearchPathResourceSelector &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; MergeResourceSelector {                  

    &lt;span class=&quot;code-comment&quot;&gt;// TODO: should be dynamically retrieved
&lt;/span&gt;    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] searchPaths = {&lt;span class=&quot;code-quote&quot;&gt;&apos;/apps/&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;/libs/&apos;&lt;/span&gt;}

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Iterable&amp;lt;Resource&amp;gt; selectResourcesToMerge(ResourceResolver resolver, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; path) {
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; List&amp;lt;Resource&amp;gt; resources = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;Resource&amp;gt;();
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (path.startsWith(&lt;span class=&quot;code-quote&quot;&gt;&apos;/mnt/overlay/&apos;&lt;/span&gt;)) {
            &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; searchPath : searchPaths) {
                &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; resourcePath = path.replace(&lt;span class=&quot;code-quote&quot;&gt;&apos;/mnt/overlay/&apos;&lt;/span&gt;, searchPath);
                &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Resource resource = resolver.getResource(resourcePath);
                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (resource != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
                    resources.add(resource);
                }
            }
        }                                   
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; resources;
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13922222" author="bdelacretaz" created="Thu, 6 Mar 2014 09:42:09 +0000"  >&lt;p&gt;At this point I think I&apos;m totally confused about what we are trying to achieve - do we have a list of use cases somewhere?&lt;/p&gt;</comment>
                            <comment id="13922236" author="jsedding" created="Thu, 6 Mar 2014 09:57:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt;, I believe that there is a desire to merge arbitrary resources. The current implementation only merges resources based on the search-paths, which only covers the &quot;overlay&quot; use-case. IIUC Alex is interested in merging based on the resource-type hierarchy, which would be a different (but equally valid) use-case.&lt;/p&gt;

&lt;p&gt;It would be nice to find a way to re-use the same merge-logic for both (and possibly even more) use-cases. This would cut down the implementation effort, as well as promote consistency.&lt;/p&gt;

&lt;p&gt;One approach to make this logic useful is by introducing a utility (either static or a service). Carsten fears that merging resource-trees via a utility generates &quot;trees&quot; that are dangling in mid-air (i.e. they are not accessible via the resource resolver, because they are generated ad-hoc).&lt;/p&gt;

&lt;p&gt;The approach I propose in my previous comment leaves the resources in the resource-tree (i.e. accessible via the resource resolver). However, following the &quot;don&apos;t call us we&apos;ll call you&quot; design pattern, I propose an extension point that allows Alex to inject the resources he wants merged into the resource-provider implementation, thus achieving re-use of the merge logic.&lt;/p&gt;</comment>
                            <comment id="13922248" author="bdelacretaz" created="Thu, 6 Mar 2014 10:05:50 +0000"  >&lt;p&gt;It would be nice if whoever needs this stuff can briefly document their use cases so that we have all of them in a single place and are not guessing at what other people need. Best is probably a new page under &lt;a href=&quot;https://cwiki.apache.org/confluence/display/SLING/Index&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/display/SLING/Index&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13923100" author="alexander.klimetschek" created="Thu, 6 Mar 2014 21:34:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt; Gilles original patch, the readme has a description of the merge protocol: &lt;a href=&quot;https://github.com/gknob/sling-resourcemerger&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/gknob/sling-resourcemerger&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Use case is customer/project content like a UI &quot;patching&quot; a core product UI. For example, just adding a single new button to some content management interface, without having to copy the entire UI and then breaking on the next upgrade. This assumes the out of the box UI is defined under /libs and the customer would patch it at the same path under /apps. (This is the existing use case which is implemented)&lt;/p&gt;

&lt;p&gt;Another use case: overlay code (binary files), for example javascript. Core product puts them at /libs/some/path/module.js and customers can overlay it at /apps/some/path/module.js. This is useful if there is a system that concatenates and minifies multiple javascript files and the individual modules should be overlayable (the concatenator will simply use /mnt/overlay + modulepath). (This should work as well, but isn&apos;t verified yet)&lt;/p&gt;

&lt;p&gt;The other use case I see soon is to merge UI dialogs of components (resource types). In our CMS we have small components that make up a webpage and each can be configured by an author through a dialog. This dialog is defined in the resource type folder in a &quot;dialog&quot; subtree which describes the UI. Components can be inherited (resource super type) and often you want to add a little feature that also needs a little addition in the dialog. You don&apos;t want to copy the dialog, so the patching approach makes a lot of sense here. In this case, the merge paths would be the resource type hierarchy + the dialog sub node, for example &quot;/apps/project/components/carousel/dialog&quot;, &quot;/apps/project/components/images/dialog&quot;, &quot;/apps/project/components/base/dialog&quot;. (This would not work with the current state, as the service is hardcoded to the sling search path).&lt;/p&gt;

&lt;p&gt;More use cases can be made by customers: a project once asked me for a generic &quot;extend&quot; that you can put on some resource and where you can define another resource that you would extend. These would get merged in the same way. This is again an inheritance model where you patch instead of copying everything (and having to maintain the copy to stay in sync with the original). I personally think that&apos;s a bit too generic, but I wouldn&apos;t be surprised if there are new more specific cases like this coming up where you&apos;d build a new resource provider using the merger service to quickly handle that. (This would not work with the current state, as the service is hardcoded to the sling search path).&lt;/p&gt;

&lt;p&gt;In all cases you&apos;d have the same merge protocol as described in &lt;a href=&quot;https://github.com/gknob/sling-resourcemerger&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/gknob/sling-resourcemerger&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13923115" author="alexander.klimetschek" created="Thu, 6 Mar 2014 21:42:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jsedding&quot; class=&quot;user-hover&quot; rel=&quot;jsedding&quot;&gt;jsedding&lt;/a&gt; Yes, you are right, that could be an alternative. However, I would say it is more complicated/not intuitive (&quot;the other way around&quot;). You have to configure a separate resource provider (through a factory) with a specific implementation of the MergeResourceSelector service, so these will require a dedicated name to identify them in configuration/service ldap filter, for example &quot;search-path-selector&quot;. Just adding a custom ResourceProvider with plain scr and config seems more straightforward to me.&lt;/p&gt;

&lt;p&gt;Also, who says there isn&apos;t at some point later a need for the service independent of a resource provider - maybe hooking it in via decorator etc. could make sense.&lt;/p&gt;

&lt;p&gt;BTW, the &lt;tt&gt;path.startsWith(&apos;/mnt/overlay/&apos;)&lt;/tt&gt; part must be in the resource provider, the selector doesn&apos;t know the mount path (= mergeRootPath in the issue description above).&lt;/p&gt;</comment>
                            <comment id="14120817" author="justinedelson" created="Thu, 4 Sep 2014 01:38:59 +0000"  >&lt;p&gt;In r1622390, added the MergingResourcePicker whiteboard and converted the existing ResourceProvider into a MergingResourcePicker.&lt;/p&gt;</comment>
                            <comment id="14121121" author="cziegeler" created="Thu, 4 Sep 2014 08:44:19 +0000"  >&lt;p&gt;I did a small change in r1622419 to handle service property updates, the root could be updated/added/removed&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12660633">SLING-2986</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12697314">SLING-3420</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>376509</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 9 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1svo7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>376804</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3422] Sling Scheduler Not Updated For Runnable with Modified method</title>
                <link>https://issues.apache.org/jira/browse/SLING-3422</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When changing the scheduler.expression value for an OSGi service, the scheduler status screen was not showing the updated time.  Any time the bundle would be redeployed, the updated time would be shown.  We were able to work around the issue by removing the Modified annotation from the OSGi service.&lt;/p&gt;

&lt;p&gt;If relevant, the activate method had been marked with both Activate and Modified annotations.&lt;/p&gt;</description>
                <environment>Mac OS X 10.9.1&lt;br/&gt;
Java 1.6.0_65</environment>
        <key id="12697912">SLING-3422</key>
            <summary>Sling Scheduler Not Updated For Runnable with Modified method</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ireasor">Ian Reasor</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Feb 2014 12:17:45 +0000</created>
                <updated>Wed, 4 Mar 2015 14:27:52 +0000</updated>
                            <resolved>Wed, 4 Mar 2015 14:25:30 +0000</resolved>
                                    <version>Commons Scheduler 2.3.4</version>
                                    <fixVersion>Commons Scheduler 2.4.6</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13917012" author="cziegeler" created="Sat, 1 Mar 2014 10:52:29 +0000"  >&lt;p&gt;Did you try the latest scheduler version, 2.4.2? This should support modified&lt;/p&gt;</comment>
                            <comment id="13917980" author="ireasor" created="Mon, 3 Mar 2014 11:48:20 +0000"  >&lt;p&gt;I did not.  We are using the version that is bundled with CQ 5.6.1.  I can try this locally to let you know if it addresses the issue that I was seeing, but we don&apos;t actually need access to modified in our application.&lt;/p&gt;</comment>
                            <comment id="13918206" author="bdelacretaz" created="Mon, 3 Mar 2014 16:14:33 +0000"  >&lt;p&gt;IIUC the failure scenario is as follows:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;A service S that&apos;s registered with the Sling scheduler uses an @Modified annotation to be informed of configuration changes&lt;/li&gt;
	&lt;li&gt;When that service&apos;s config changes, The @Modified method of S gets invoked, but the Sling scheduler is not informed of the configuration change&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;If I&apos;m correct that&apos;s by design, as I assume (haven&apos;t checked) that the Sling scheduler identifies changes in scheduler.expression values by listening to the service activations and deactivations. If S handles the &quot;config modified&quot; event itself there&apos;s no deactivation/reactivation and the Sling scheduler sees nothing.&lt;/p&gt;

&lt;p&gt;We might then just document this behavior in the Sling scheduler docs/javadocs.&lt;/p&gt;</comment>
                            <comment id="13918223" author="cziegeler" created="Mon, 3 Mar 2014 16:30:01 +0000"  >&lt;p&gt;No that&apos;s not by design and a bug &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; The scheduler should not just listen to services being registered and unregistered but also to service property changes.&lt;br/&gt;
Starting with version 2.4.0 it does so&lt;/p&gt;</comment>
                            <comment id="14093823" author="cziegeler" created="Tue, 12 Aug 2014 07:02:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ireasor&quot; class=&quot;user-hover&quot; rel=&quot;ireasor&quot;&gt;ireasor&lt;/a&gt; Could you reproduce this problem with a newer scheduler version?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>376386</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 12 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sux3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>376682</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3421] logback initialization does not initialize correct loggers if there&apos;s a single false one</title>
                <link>https://issues.apache.org/jira/browse/SLING-3421</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If you configure a logger wrongly, which eg results in this stacktrace:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2014-02-28 11:59:17&#160;&#160;ERROR&#160;&#160;LogbackManager&#160;&#160;Error occurred &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; configuring Logback

java.lang.IllegalArgumentException: Cannot format given &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; as a Date
 at java.text.DateFormat.format(DateFormat.java:281)
 at java.text.Format.format(Format.java:140)
 at java.text.MessageFormat.subformat(MessageFormat.java:1288)
 at java.text.MessageFormat.format(MessageFormat.java:836)
 at java.text.Format.format(Format.java:140)
 at java.text.MessageFormat.format(MessageFormat.java:812)
 at org.apache.sling.commons.log.logback.internal.LogConfig.createLayout(LogConfig.java:124)
 at org.apache.sling.commons.log.logback.internal.util.LoggerSpecificEncoder.addLogConfig(LoggerSpecificEncoder.java:72)
 at org.apache.sling.commons.log.logback.internal.LogConfigManager.onResetComplete(LogConfigManager.java:283)
 at org.apache.sling.commons.log.logback.internal.LogbackManager.fireResetCompleteListeners(LogbackManager.java:266)
 at org.apache.sling.commons.log.logback.internal.OsgiInternalAction$ConfigCompleteListener.inPlay(OsgiInternalAction.java:158)
 at ch.qos.logback.core.joran.spi.InterpretationContext.fireInPlay(InterpretationContext.java:183)
 at ch.qos.logback.core.joran.spi.EventPlayer.play(EventPlayer.java:61)
 at ch.qos.logback.core.joran.GenericConfigurator.doConfigure(GenericConfigurator.java:149)
 at ch.qos.logback.core.joran.GenericConfigurator.doConfigure(GenericConfigurator.java:135)
 at ch.qos.logback.core.joran.GenericConfigurator.doConfigure(GenericConfigurator.java:99)
 at ch.qos.logback.core.joran.GenericConfigurator.doConfigure(GenericConfigurator.java:49)
 at org.apache.sling.commons.log.logback.internal.LogbackManager$DefaultCallback.perform(LogbackManager.java:574)
 at org.apache.sling.commons.log.logback.internal.LogbackManager.configure(LogbackManager.java:322)
 at org.apache.sling.commons.log.logback.internal.LogbackManager.configure(LogbackManager.java:303)
 at org.apache.sling.commons.log.logback.internal.LogbackManager.access$200(LogbackManager.java:51)
 at org.apache.sling.commons.log.logback.internal.LogbackManager$1.run(LogbackManager.java:251)
 at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:439)
 at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
 at java.util.concurrent.FutureTask.run(FutureTask.java:138)
 at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
 at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
 at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:695)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;logback initialization stops completely and no other logger will be honored.&lt;/p&gt;

&lt;p&gt;I think the logback initialization should continue and just mark the failing one prominently, instead of completely stopping.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12697905">SLING-3421</key>
            <summary>logback initialization does not initialize correct loggers if there&apos;s a single false one</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chetanm">Chetan Mehrotra</assignee>
                                    <reporter username="stefanegli">Stefan Egli</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Feb 2014 11:23:02 +0000</created>
                <updated>Tue, 4 Aug 2015 13:20:31 +0000</updated>
                            <resolved>Wed, 22 Jul 2015 08:58:45 +0000</resolved>
                                                    <fixVersion>Commons Log 4.0.4</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13915683" author="egli" created="Fri, 28 Feb 2014 11:25:33 +0000"  >&lt;p&gt;the corresponding logger misconfiguration that caused this was:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;jcr:root xmlns:sling=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//sling.apache.org/jcr/sling/1.0&quot;&lt;/span&gt;
&lt;/span&gt;	xmlns:jcr=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//www.jcp.org/jcr/1.0&quot;&lt;/span&gt; jcr:primaryType=&lt;span class=&quot;code-quote&quot;&gt;&quot;sling:OsgiConfig&quot;&lt;/span&gt;
&lt;/span&gt;	org.apache.sling.commons.log.file=&lt;span class=&quot;code-quote&quot;&gt;&quot;logs/my-granite-project.log&quot;&lt;/span&gt;
	org.apache.sling.commons.log.level=&lt;span class=&quot;code-quote&quot;&gt;&quot;debug&quot;&lt;/span&gt;
	org.apache.sling.commons.log.names=&lt;span class=&quot;code-quote&quot;&gt;&quot;[demo.demo]&quot;&lt;/span&gt;
	org.apache.sling.commons.log.pattern=&lt;span class=&quot;code-quote&quot;&gt;&quot;\{0,date,yyyy-MM-dd HH:mm:ss.SSS} {4} [{3}] {5}&quot;&lt;/span&gt; /&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13915687" author="chetanm" created="Fri, 28 Feb 2014 11:30:44 +0000"  >&lt;p&gt;One thing to note that logging would still work and all log message with level INFO+ would be directed to stdout.log. So no loss of imp log message here. &lt;/p&gt;

&lt;p&gt;Would update the configuration logic to handle such cases if possible and ignore malformed message formats&lt;/p&gt;</comment>
                            <comment id="14636539" author="chetanm" created="Wed, 22 Jul 2015 08:58:45 +0000"  >&lt;p&gt;Fixed with &lt;a href=&quot;http://svn.apache.org/r1692244&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1692244&lt;/a&gt;. In case of any error in pattern a default pattern would be used&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>376379</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 15 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1suvj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>376675</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3419] Component name specified instead of component label</title>
                <link>https://issues.apache.org/jira/browse/SLING-3419</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The component annotations specifies the component name which actually should be the component label&lt;/p&gt;</description>
                <environment></environment>
        <key id="12697312">SLING-3419</key>
            <summary>Component name specified instead of component label</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Feb 2014 06:54:50 +0000</created>
                <updated>Sat, 8 Mar 2014 16:21:43 +0000</updated>
                            <resolved>Wed, 26 Feb 2014 12:57:31 +0000</resolved>
                                    <version>Resource Merger 1.0.0</version>
                                    <fixVersion>Resource Merger 1.1.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>375786</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 36 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sr87:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>376082</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3418] Wrong path handling wrt search paths</title>
                <link>https://issues.apache.org/jira/browse/SLING-3418</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The current implementation handles the values returned by a search path wrongly as it expects that these values are not ending with a slash&lt;/p&gt;</description>
                <environment></environment>
        <key id="12697311">SLING-3418</key>
            <summary>Wrong path handling wrt search paths</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Feb 2014 06:53:57 +0000</created>
                <updated>Sat, 8 Mar 2014 16:21:43 +0000</updated>
                            <resolved>Wed, 26 Feb 2014 12:57:44 +0000</resolved>
                                    <version>Resource Merger 1.0.0</version>
                                    <fixVersion>Resource Merger 1.1.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>375785</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 36 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sr7z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>376081</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3417] Search paths must end with a slash</title>
                <link>https://issues.apache.org/jira/browse/SLING-3417</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The search paths currently don&apos;t end with a slash&lt;/p&gt;</description>
                <environment></environment>
        <key id="12697310">SLING-3417</key>
            <summary>Search paths must end with a slash</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Feb 2014 06:52:03 +0000</created>
                <updated>Mon, 29 Sep 2014 13:36:05 +0000</updated>
                            <resolved>Wed, 26 Feb 2014 06:52:45 +0000</resolved>
                                    <version>Testing ResourceResolver Mock 0.2.0</version>
                                    <fixVersion>Testing ResourceResolver Mock 0.3.0</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>375784</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 36 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sr7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>376080</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3416] Some tests in o.a.s.m.projectsupport.BundleListContentProviderTest fails on windows</title>
                <link>https://issues.apache.org/jira/browse/SLING-3416</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Some of the test like testInstall5 fails with following error&lt;br/&gt;
&quot;Expecting &lt;a href=&quot;file:/FAKE_BUNDLE/commons-io/0/null&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:/FAKE_BUNDLE/commons-io/0/null&lt;/a&gt; in children of resources/install/0 (result= &lt;a href=&quot;file:/C:/FAKE_BUNDLE/commons-io/0/null&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:/C:/FAKE_BUNDLE/commons-io/0/null&lt;/a&gt;)&quot;&lt;/p&gt;

&lt;p&gt;seems to be platform specific, fixing the test&lt;/p&gt;</description>
                <environment></environment>
        <key id="12696975">SLING-3416</key>
            <summary>Some tests in o.a.s.m.projectsupport.BundleListContentProviderTest fails on windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="amitgupt">Amit Gupta</assignee>
                                    <reporter username="amitgupt">Amit Gupta</reporter>
                        <labels>
                    </labels>
                <created>Mon, 24 Feb 2014 18:03:04 +0000</created>
                <updated>Thu, 6 Mar 2014 07:48:38 +0000</updated>
                            <resolved>Tue, 25 Feb 2014 04:47:37 +0000</resolved>
                                    <version>Maven Launchpad Plugin 2.2.0</version>
                                    <fixVersion>Maven Launchpad Plugin 2.3.0</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="3600">1h</timespent>
                                <comments>
                            <comment id="13910589" author="amitgupt" created="Mon, 24 Feb 2014 18:09:20 +0000"  >&lt;p&gt;fix Completed: At revision: 1571375  &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>375450</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 36 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sp5r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>375746</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3415] The ResourceAccessGateHandler does not parse correctly multiple operations</title>
                <link>https://issues.apache.org/jira/browse/SLING-3415</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The ResourceAccessGateHandler casts the property value to String but it should also expect String array&lt;/p&gt;</description>
                <environment></environment>
        <key id="12696969">SLING-3415</key>
            <summary>The ResourceAccessGateHandler does not parse correctly multiple operations</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="mpetria">Marius Petria</reporter>
                        <labels>
                    </labels>
                <created>Mon, 24 Feb 2014 17:27:58 +0000</created>
                <updated>Sat, 20 Sep 2014 07:52:53 +0000</updated>
                            <resolved>Mon, 24 Feb 2014 19:45:54 +0000</resolved>
                                                    <fixVersion>Resource Access Security 1.0.0</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13910543" author="mpetria" created="Mon, 24 Feb 2014 17:29:04 +0000"  >&lt;p&gt;Fixing by retrieving an object and letting the PropertiesUtil.toStringArray do the actual casting&lt;/p&gt;</comment>
                            <comment id="13910725" author="cziegeler" created="Mon, 24 Feb 2014 19:45:54 +0000"  >&lt;p&gt;Thanks for reporting, I&apos;ve fixed the issue slightly different.&lt;br/&gt;
Fixed also the same problem with the final operations&lt;/p&gt;</comment>
                            <comment id="14141854" author="mykee" created="Sat, 20 Sep 2014 07:52:53 +0000"  >&lt;p&gt;Released (Sling Resource Access Security version 1.0.0)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12630725" name="resourcesecurity-multipleoperations-bugfix.patch" size="1040" author="mpetria" created="Mon, 24 Feb 2014 17:29:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>375444</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sp4f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>375740</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3409] URL form encoded request parsing fails if charset is set on Content-Type header</title>
                <link>https://issues.apache.org/jira/browse/SLING-3409</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;With &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3403&quot; title=&quot;Improve Parameter Support&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3403&quot;&gt;&lt;del&gt;SLING-3403&lt;/del&gt;&lt;/a&gt; the Engine implements its own request parmeter parsing of query strings and URL encoded form POSTs. URL encoded form posts are recognized by the &quot;application/x-www-form-urlencoded&quot; content type.&lt;/p&gt;

&lt;p&gt;If the charset parameter is set on the content type, such as:&lt;/p&gt;

&lt;p&gt;     application/x-www-form-urlencoded; charset=UTF-8&lt;/p&gt;

&lt;p&gt;the check fails.&lt;/p&gt;

&lt;p&gt;The check should be modified to properly check and ignore the charset parameter.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12696873">SLING-3409</key>
            <summary>URL form encoded request parsing fails if charset is set on Content-Type header</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 24 Feb 2014 09:37:02 +0000</created>
                <updated>Thu, 6 Mar 2014 07:08:24 +0000</updated>
                            <resolved>Mon, 24 Feb 2014 10:34:52 +0000</resolved>
                                                    <fixVersion>Engine 2.3.0</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13910181" author="fmeschbe" created="Mon, 24 Feb 2014 10:34:52 +0000"  >&lt;p&gt;fixed in Rev. 1571220.&lt;/p&gt;

&lt;p&gt;Also folded the getContainerParameters method into  the getParameterMapInternal method.&lt;/p&gt;</comment>
                            <comment id="13922087" author="fmeschbe" created="Thu, 6 Mar 2014 07:08:24 +0000"  >&lt;p&gt;Close after release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>375348</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 35 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1soj3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>375644</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3406] Stale item exception when concurrent topology change events</title>
                <link>https://issues.apache.org/jira/browse/SLING-3406</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In the VotingHandler there is the possibility of a race condition, which results in a StaleItemException of the repository.&lt;/p&gt;

&lt;p&gt;the synchronized method analyzeVotings is called with a resourceResolver as parameter; this resourceResolver is created in the non-sychronized method handleEvent.&lt;/p&gt;

&lt;p&gt;When 2 events occur within a short time, the second resourceResolver can get created while the commit of the first one has not yet been processed. Then the second resourceResolver cannot commit its change.&lt;/p&gt;

&lt;p&gt;A solution would be to do the equivalent of &quot;session.refresh()&quot; inside analyzeVotings first, so the repository session is synced. THe other option would be to create the session inside the anaylzeVotings method, so there won&apos;t be 2 open resourceResolvers/sessions at any time. Both approaches would prevent the exception.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12696283">SLING-3406</key>
            <summary>Stale item exception when concurrent topology change events</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="joerghoh">Joerg Hoh</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 Feb 2014 16:04:26 +0000</created>
                <updated>Sat, 8 Mar 2014 16:17:52 +0000</updated>
                            <resolved>Wed, 5 Mar 2014 14:26:46 +0000</resolved>
                                    <version>Discovery Impl 1.0.2</version>
                                    <fixVersion>Discovery Impl 1.0.4</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13920884" author="egli" created="Wed, 5 Mar 2014 14:26:46 +0000"  >&lt;p&gt;chosen the refresh suggestion, as that&apos;s the least intrusive. refactoring that whole area would probably be better, but at this stage (1.0.x) I&apos;d prefer small-ish steps.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12630081" name="SLING-3406-stacktrace.txt" size="3575" author="joerghoh" created="Thu, 20 Feb 2014 16:07:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374759</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 35 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1skx3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>375059</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3405] Support Java 8 for compiling scripts</title>
                <link>https://issues.apache.org/jira/browse/SLING-3405</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Running the launchpad/integration-tests SLING2094Test fails due to a compilation error for the test script &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;: &quot;Unable to compile class for JSP, the import java.util.Arrays cannot be resolved&quot;.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://svn.apache.org/repos/asf/sling/trunk/launchpad/integration-tests/src/main/resources/integration-test/issues/sling2094/sling2094.jsp&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/sling/trunk/launchpad/integration-tests/src/main/resources/integration-test/issues/sling2094/sling2094.jsp&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12696243">SLING-3405</key>
            <summary>Support Java 8 for compiling scripts</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 Feb 2014 13:43:21 +0000</created>
                <updated>Tue, 20 May 2014 06:02:43 +0000</updated>
                            <resolved>Thu, 15 May 2014 11:40:11 +0000</resolved>
                                                    <fixVersion>Scripting JSP 2.1.0</fixVersion>
                    <fixVersion>Commons Compiler 2.2.0</fixVersion>
                                    <component>Scripting</component>
                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13906960" author="cziegeler" created="Thu, 20 Feb 2014 13:53:58 +0000"  >&lt;p&gt;Maybe we need to update our embedded Eclipse java compiler?&lt;/p&gt;</comment>
                            <comment id="13906981" author="bdelacretaz" created="Thu, 20 Feb 2014 14:03:18 +0000"  >&lt;p&gt;I don&apos;t know much about our Eclipse compiler, and I haven&apos;t tried running our integration tests with Java 8 before, so maybe that never worked.&lt;/p&gt;

&lt;p&gt;I have added a more specific test at &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;, just this is enough to make JSP compilation fail with java 1.8.0 on macosx 10.9.1:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;%@page &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;java.util.Arrays&quot;&lt;/span&gt;%&amp;gt;
&amp;lt;%@page &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;java.lang.CharSequence&quot;&lt;/span&gt;%&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://svn.apache.org/repos/asf/sling/trunk/launchpad/integration-tests/src/main/resources/scripts/sling-it/imports.jsp&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/sling/trunk/launchpad/integration-tests/src/main/resources/scripts/sling-it/imports.jsp&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13907031" author="bdelacretaz" created="Thu, 20 Feb 2014 14:55:33 +0000"  >&lt;p&gt;I have tried upgrading the jasper-jdt compiler and related artifacts using the attached jasper-upgrade.path but that doesn&apos;t help.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, can you confirm that this patch is the right way to upgrade the Eclipse compiler?&lt;/p&gt;</comment>
                            <comment id="13907078" author="cziegeler" created="Thu, 20 Feb 2014 15:41:33 +0000"  >&lt;p&gt;Yepp, looks like the right way to update - do we know if that version supports Java 8?&lt;/p&gt;</comment>
                            <comment id="13907155" author="bdelacretaz" created="Thu, 20 Feb 2014 16:37:57 +0000"  >&lt;p&gt;It looks like it&apos;s the org.eclipse.jdt.core compiler that&apos;s at fault, here&apos;s what I tried, using org.eclipse.jdt.core-3.7.1.jar obtained from Maven Central (md5=7e414469cec096cf93272ab2528c840e) :&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;$ cat A.java
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.lang.CharSequence;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.Arrays;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;A {
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt; a = Arrays.class;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt; cs = CharSequence.class;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Compiles fine with JDK 1.7:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;$ java -version
java version &lt;span class=&quot;code-quote&quot;&gt;&quot;1.7.0_45&quot;&lt;/span&gt;
Java(TM) SE &lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt; Environment (build 1.7.0_45-b18)
Java HotSpot(TM) 64-Bit Server VM (build 24.45-b08, mixed mode)

$ java -jar org.eclipse.jdt.core-3.7.1.jar A.java
$ # no errors

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And after changing JDK settings:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;$ java -version
java version &lt;span class=&quot;code-quote&quot;&gt;&quot;1.8.0&quot;&lt;/span&gt;
Java(TM) SE &lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt; Environment (build 1.8.0-b129)
Java HotSpot(TM) 64-Bit Server VM (build 25.0-b69, mixed mode)

$ java -jar org.eclipse.jdt.core-3.7.1.jar A.java
1. ERROR in A.java (at line 1)
...
The &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.lang.CharSequence cannot be resolved

2. ERROR in A.java (at line 2)
...
The &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.Arrays cannot be resolved
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13907162" author="fmeschbe" created="Thu, 20 Feb 2014 16:44:24 +0000"  >&lt;p&gt;Java 8 support for the JDT compiler is work in progress. See &lt;a href=&quot;https://wiki.eclipse.org/JDT_Core/Java8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://wiki.eclipse.org/JDT_Core/Java8&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Maybe the compiler just cannot read the Java 8 class files and then fails with that message ?&lt;/p&gt;

&lt;p&gt;Can we create some builds which downloads the beta build compiler for use ?&lt;/p&gt;</comment>
                            <comment id="13907181" author="bdelacretaz" created="Thu, 20 Feb 2014 17:01:23 +0000"  >&lt;p&gt;I have unassigned this issue as I won&apos;t have time to work on it more right now, thanks Felix for the work in progress link.&lt;/p&gt;</comment>
                            <comment id="13959985" author="rombert" created="Fri, 4 Apr 2014 14:13:49 +0000"  >&lt;p&gt;Compilation of that sample class works fine now with &lt;a href=&quot;http://search.maven.org/#artifactdetails&quot; title=&quot;org.eclipse.tycho\|org.eclipse.jdt.core\|3.9.1.v20130905-0837\|jar&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;org.eclipse.jdt.core 3.9.1.v20130905-0837&lt;/a&gt; and a Java 8 runtime.&lt;/p&gt;

&lt;p&gt;Nevertheless, I have no idea where to add this new JDT compiler jar ; &lt;tt&gt;mvn dependency:tree&lt;/tt&gt; mentions nothing about org.eclipse.jdt.core in bundles/scripting/jsp . I actually made the change in contrib/commons/compiler before realising that the issue is rooted somewhere else.&lt;/p&gt;</comment>
                            <comment id="13959994" author="bdelacretaz" created="Fri, 4 Apr 2014 14:22:49 +0000"  >&lt;p&gt;AFAICS those compiler classes are provided by the jasper-jdt dependency in bundles/scripting/jsp:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;cd bundles/scripting/jsp
mvn dependency:copy-dependencies
unzip -l target/dependency/jasper-jdt-6.0.14.jar

Archive:  target/dependency/jasper-jdt-6.0.14.jar
...
     2447  02-12-07 14:00   org/eclipse/jdt/core/compiler/BuildContext.class
     1537  02-12-07 14:00   org/eclipse/jdt/core/compiler/CategorizedProblem.class
    18317  02-12-07 14:00   org/eclipse/jdt/core/compiler/CharOperation.class
     1556  02-12-07 14:00   org/eclipse/jdt/core/compiler/CompilationParticipant.class
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13960001" author="rombert" created="Fri, 4 Apr 2014 14:29:47 +0000"  >&lt;p&gt;I see, thanks.&lt;/p&gt;</comment>
                            <comment id="13960004" author="rombert" created="Fri, 4 Apr 2014 14:32:49 +0000"  >&lt;p&gt;By looking at &lt;a href=&quot;https://tomcat.apache.org/whichversion.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://tomcat.apache.org/whichversion.html&lt;/a&gt; , I can see that the latest Tomcat version is 6.0.39, and since the attached &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12630064/12630064_jasper-upgrade.patch&quot; title=&quot;jasper-upgrade.patch attached to SLING-3405&quot;&gt;jasper-upgrade.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; does not work, it&apos;s clear that we must look into the 7.x stream at least. There are two issues here:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Tomcat 7 requires Java 6 at least. That shouldn&apos;t be too much of a problem, as Java 5 is long EOLed&lt;/li&gt;
	&lt;li&gt;There are no published jasper-jdt artifacts for Tomcat 7. Not sure why that is, I need to look a bit deeper&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13960005" author="fmeschbe" created="Fri, 4 Apr 2014 14:33:17 +0000"  >&lt;p&gt;The goal is actually to update to the latest Eclipse Compiler which fully supports Java 8. Same for the Java compiler support bundle.&lt;/p&gt;

&lt;p&gt;I have been thinking of actually removing the Java Compiler from both the JSP and the Compiler support bundles and just install the Eclipse JDT compiler bundle in Sling. WDYT ?&lt;/p&gt;</comment>
                            <comment id="13960021" author="rombert" created="Fri, 4 Apr 2014 14:52:13 +0000"  >&lt;blockquote&gt;&lt;p&gt;I have been thinking of actually removing the Java Compiler from both the JSP and the Compiler support bundles and just install the Eclipse JDT compiler bundle in Sling. WDYT ?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That sounds good to me. The jsp scripting support bundle should keep working, as the JDT bundle has changed in a compatible way ( still at 3.x ).&lt;/p&gt;</comment>
                            <comment id="13987714" author="cziegeler" created="Fri, 2 May 2014 13:55:49 +0000"  >&lt;p&gt;I&apos;ve replaced the compiler with a version used by Tomcat 8, not sure what java version this one requires though&lt;/p&gt;

&lt;p&gt;We can&apos;t directly use the Eclipse JDT bundle as this requires other Eclipse bundles  - which are not needed for the pure compilation task&lt;/p&gt;</comment>
                            <comment id="13987717" author="cziegeler" created="Fri, 2 May 2014 13:58:03 +0000"  >&lt;p&gt;It seems that version requires Java 6 as well - which is fine for us&lt;/p&gt;</comment>
                            <comment id="13987721" author="cziegeler" created="Fri, 2 May 2014 14:05:43 +0000"  >&lt;p&gt;I&apos;ve also updated the commons compiler used by the java scripting and set the default java version to 1.6 for jsp compilation&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12630064" name="jasper-upgrade.patch" size="1393" author="bdelacretaz" created="Thu, 20 Feb 2014 14:55:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374719</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 26 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sko7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>375019</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3402] Build fails under Windows</title>
                <link>https://issues.apache.org/jira/browse/SLING-3402</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Works under OS/X but fails under Windows 7. Looks like something is wrong with the way c:\FAKE_BUNDLE is being resolved. Note that version 2.2.0 builds OK under Windows but the changes made since then don&apos;t build.&lt;/p&gt;

&lt;p&gt;Running org.apache.sling.maven.projectsupport.BundleListContentProviderTest&lt;br/&gt;
Tests run: 31, Failures: 8, Errors: 0, Skipped: 0, Time elapsed: 0.866 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
testInstall15Oak(org.apache.sling.maven.projectsupport.BundleListContentProviderTest)  Time elapsed: 0.053 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
java.lang.AssertionError: Expecting &lt;a href=&quot;file:/FAKE_BUNDLE/org.apache.sling.jcr.oak.server/15/oak&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:/FAKE_BUNDLE/org.apache.sling.jcr.oak.server/15/oak&lt;/a&gt; in children of resources/install.oak/15 (result=&lt;a href=&quot;file:/C:/FAKE_BUNDLE/org.apache.sling.jcr.oak.server/15/oak, file:/C:/FAKE_BUNDLE/jsr305/15/oak,jackrabbit&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:/C:/FAKE_BUNDLE/org.apache.sling.jcr.oak.server/15/oak, file:/C:/FAKE_BUNDLE/jsr305/15/oak,jackrabbit&lt;/a&gt;)&lt;/p&gt;</description>
                <environment>Windows 7</environment>
        <key id="12696164">SLING-3402</key>
            <summary>Build fails under Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dmc7337">David McCormack</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 Feb 2014 04:50:05 +0000</created>
                <updated>Fri, 14 Apr 2023 07:51:53 +0000</updated>
                            <resolved>Fri, 14 Apr 2023 07:51:53 +0000</resolved>
                                    <version>Maven Launchpad Plugin 2.2.0</version>
                                                    <component>Testing</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                                                                        <attachments>
                            <attachment id="12629994" name="TEST-org.apache.sling.maven.projectsupport.BundleListContentProviderTest.xml" size="37444" author="dmc7337" created="Thu, 20 Feb 2014 04:53:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374641</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 37 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sk6v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374941</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3400] Sling holds resource providers after they have been unregistered</title>
                <link>https://issues.apache.org/jira/browse/SLING-3400</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;We have been checking to see what class references leak after our code has been unloaded. One thing that leaks is our resource provider which is being held in Sling&apos;s Resource Resolver. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12695771">SLING-3400</key>
            <summary>Sling holds resource providers after they have been unregistered</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="lbyrum">Laurie byrum</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Feb 2014 20:04:25 +0000</created>
                <updated>Fri, 4 Apr 2014 09:05:49 +0000</updated>
                            <resolved>Tue, 25 Feb 2014 10:07:09 +0000</resolved>
                                                    <fixVersion>Resource Resolver 1.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13905084" author="cziegeler" created="Wed, 19 Feb 2014 11:06:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lbyrum&quot; class=&quot;user-hover&quot; rel=&quot;lbyrum&quot;&gt;lbyrum&lt;/a&gt; Can you confirm / verify that this is caused by long running resource resolvers? Thanks&lt;/p&gt;</comment>
                            <comment id="13906786" author="cziegeler" created="Thu, 20 Feb 2014 09:13:51 +0000"  >&lt;p&gt;It seems this is really caused by long running resource resolvers. They hold a reference to the used resource provider for as long as the resource resolver exists&lt;/p&gt;</comment>
                            <comment id="13908289" author="cziegeler" created="Fri, 21 Feb 2014 13:13:41 +0000"  >&lt;p&gt;In rev 1570565 I&apos;ve committed a change which will re-register the resource resolver factory if a resource provider factory is unregistered.&lt;br/&gt;
This causes all resource resolvers to be closed and then re-created&lt;/p&gt;

&lt;p&gt;I&apos;ll leave this issue open a little bit for futher comments&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374278</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 36 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1shy7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374578</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3399] OOME in JcrResourceListener for many events</title>
                <link>https://issues.apache.org/jira/browse/SLING-3399</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Oak supports large number of transient changes to be saved with a single save call. As a consequence such an operation will generate a big batch of observation events, which can cause the JcrResourceListener to run out of heap space.&lt;/p&gt;

&lt;p&gt;See also &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3279&quot; title=&quot;Leverage improved observation support from Oak&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3279&quot;&gt;&lt;del&gt;SLING-3279&lt;/del&gt;&lt;/a&gt; where I already noted that queueing observation events might be problematic.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12695728">SLING-3399</key>
            <summary>OOME in JcrResourceListener for many events</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="mduerig">Michael D&#252;rig</assignee>
                                    <reporter username="mduerig">Michael D&#252;rig</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Feb 2014 16:40:58 +0000</created>
                <updated>Mon, 11 Aug 2014 12:02:24 +0000</updated>
                            <resolved>Mon, 11 Aug 2014 12:02:24 +0000</resolved>
                                    <version>JCR Resource 2.3.0</version>
                                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13904232" author="mduerig" created="Tue, 18 Feb 2014 16:48:52 +0000"  >&lt;p&gt;Test case demonstrating the problem at &lt;a href=&quot;http://svn.apache.org/r1569420&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1569420&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13905415" author="mduerig" created="Wed, 19 Feb 2014 13:30:35 +0000"  >&lt;p&gt;This also occurs on copy and move operations of large trees.&lt;/p&gt;</comment>
                            <comment id="13912681" author="mduerig" created="Wed, 26 Feb 2014 09:25:04 +0000"  >&lt;p&gt;As discussed with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, we might be better of in investing into a new solution targeted at Oak&apos;s scalability level (i.e. &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3279&quot; title=&quot;Leverage improved observation support from Oak&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3279&quot;&gt;&lt;del&gt;SLING-3279&lt;/del&gt;&lt;/a&gt;) instead of tweaking &lt;tt&gt;JcrResourceListener&lt;/tt&gt;, which would only push the bottleneck to the next level.&lt;/p&gt;

&lt;p&gt;Such a new solution would probably not be fully backward compatible with &lt;tt&gt;JcrResourceListener&lt;/tt&gt; but would scale much better in the face of many events. Users would then actually have the choice between the two options trading off full backwards compatibility against better scalability. &lt;/p&gt;</comment>
                            <comment id="14092711" author="mduerig" created="Mon, 11 Aug 2014 12:02:24 +0000"  >&lt;p&gt;Resolving as won&apos;t fix as the &lt;tt&gt;OakResourceListner&lt;/tt&gt; from &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3279&quot; title=&quot;Leverage improved observation support from Oak&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3279&quot;&gt;&lt;del&gt;SLING-3279&lt;/del&gt;&lt;/a&gt; should be used when running into this problem.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374236</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 12 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1shov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374536</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3394] Fix agent isPassive (reverse replication) checks</title>
                <link>https://issues.apache.org/jira/browse/SLING-3394</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;the SimpleReplicationAgent#isPassive method is not working as the TransportHandler initialization in ReplicationAgentServiceFactory has changed due to the move of TransportHandlers as own configurations and services hence that reference can never be null. Also its usage in SimpleReplicationAgent#removeHead is inverted and breaks the reverse replication scenario.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12695213">SLING-3394</key>
            <summary>Fix agent isPassive (reverse replication) checks</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="teofili">Tommaso Teofili</assignee>
                                    <reporter username="teofili">Tommaso Teofili</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Feb 2014 14:03:55 +0000</created>
                <updated>Tue, 31 Mar 2015 15:22:45 +0000</updated>
                            <resolved>Fri, 14 Feb 2014 14:06:41 +0000</resolved>
                                                    <fixVersion>Content Distribution 0.1.0</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13901455" author="teofili" created="Fri, 14 Feb 2014 14:06:41 +0000"  >&lt;p&gt;fixed in r1568311&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373721</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 37 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1seiv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374021</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3393] Parameter re-encoding does not work for Jetty 7 and above</title>
                <link>https://issues.apache.org/jira/browse/SLING-3393</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-559&quot; title=&quot;Request parameter re-encoding does not work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-559&quot;&gt;&lt;del&gt;SLING-559&lt;/del&gt;&lt;/a&gt; changed the query encoding to 8859-1 when used in combination with Jetty, by setting a request attribute called:&lt;/p&gt;

&lt;p&gt;    &quot;org.mortbay.jetty.Request.queryEncoding&quot;&lt;/p&gt;

&lt;p&gt;With Jetty 7 and above, this attribute has been changed to: &lt;/p&gt;

&lt;p&gt;    &quot;org.eclipse.jetty.server.Request.queryEncoding&quot; &lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;, so the fix no longer works. I suggest to either use both attribute names or only the new one, if support for Jetty 6 or earlier is no longer a must.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://download.eclipse.org/jetty/stable-7/apidocs/org/eclipse/jetty/server/Request.html#setQueryEncoding(java.lang.String&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://download.eclipse.org/jetty/stable-7/apidocs/org/eclipse/jetty/server/Request.html#setQueryEncoding(java.lang.String&lt;/a&gt;)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12695168">SLING-3393</key>
            <summary>Parameter re-encoding does not work for Jetty 7 and above</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="dpfister">Dominique Pfister</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Feb 2014 09:04:18 +0000</created>
                <updated>Thu, 6 Mar 2014 07:08:24 +0000</updated>
                            <resolved>Mon, 17 Feb 2014 16:22:12 +0000</resolved>
                                    <version>Engine 2.2.10</version>
                                    <fixVersion>Engine 2.3.0</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13901294" author="amitgupt" created="Fri, 14 Feb 2014 10:26:40 +0000"  >&lt;p&gt;I think that we can keep both parameters to support previous versions&lt;/p&gt;</comment>
                            <comment id="13901341" author="amitgupt" created="Fri, 14 Feb 2014 11:19:27 +0000"  >&lt;p&gt;patch tested with latest Jetty &amp;gt;7, not tested with older version. &lt;/p&gt;</comment>
                            <comment id="13903352" author="fmeschbe" created="Mon, 17 Feb 2014 16:22:12 +0000"  >&lt;p&gt;Thanks for providing the patch. I have applied it (slightly reformatted) in Rev. 1569040.&lt;/p&gt;

&lt;p&gt;Please note, that the approach discussed on the Sling dev list &lt;a href=&quot;http://sling.markmail.org/thread/iw5lxsb6ewpefvvv&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Request Parameter Themes&lt;/a&gt; might render this patch obsolete. At least it solves the short term problem.&lt;/p&gt;</comment>
                            <comment id="13922086" author="fmeschbe" created="Thu, 6 Mar 2014 07:08:24 +0000"  >&lt;p&gt;Close after release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12628995" name="SLING-3393.patch" size="1633" author="amitgupt" created="Fri, 14 Feb 2014 11:19:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373676</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 35 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1se8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373976</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3392] JobManager MaintenanceTask should not rely on search for removing locks</title>
                <link>https://issues.apache.org/jira/browse/SLING-3392</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;org.apache.sling.event.impl.jobs.MaintenanceTask relies on search to find obsolete locks and remove those.&lt;/p&gt;

&lt;p&gt;Search can fail for reasons such as index corruption. It should not rely on search for such critical tasks.&lt;/p&gt;

&lt;p&gt;And, another issue with locks is that those are created in a flat hierarchy.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12695164">SLING-3392</key>
            <summary>JobManager MaintenanceTask should not rely on search for removing locks</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="amitgupt">Amit Gupta</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Feb 2014 08:53:31 +0000</created>
                <updated>Fri, 7 Mar 2014 08:51:48 +0000</updated>
                            <resolved>Wed, 19 Feb 2014 13:31:29 +0000</resolved>
                                    <version>Event 3.3.4</version>
                                    <fixVersion>Event 3.3.6</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13905359" author="cziegeler" created="Wed, 19 Feb 2014 12:30:30 +0000"  >&lt;p&gt;I question to workaround potential problems in the repository, especially as search is used all over the place. And if it is not working here, chances are high that its not working in other places. And avoiding search altogether seems very unlikely.&lt;br/&gt;
However, in this case, we could replace the search with traversing and make everything a little bit more robust wrt to repository problems.&lt;br/&gt;
I don&apos;t see how to create a good non flat hierarchy - we can&apos;t use any randomness as the path needs to be the exact same on all instances in a cluster to make locking work. So the only option would be to use the job name - however in order to create a nice /non-flat distribution we would need to know how the name is constructed, it might just differ in one single character at any place in the string. And having a hierarchy makes the cleanup way harde, as we also would need to remove empty folders which could cause conflicts in the cluster etc.&lt;/p&gt;</comment>
                            <comment id="13905372" author="cziegeler" created="Wed, 19 Feb 2014 12:44:43 +0000"  >&lt;p&gt;After checking the code I think we can do the following:&lt;/p&gt;

&lt;p&gt;    traverse the repository instead of doing a search&lt;br/&gt;
    use batch deletion&lt;br/&gt;
    decrease the TTL for locks to two minutes&lt;br/&gt;
    do the lock cleanup every minute&lt;/p&gt;

&lt;p&gt;I don&apos;t see any way to not create a flat hierarchy which leaves us with an equally distributed hierarchy&lt;/p&gt;</comment>
                            <comment id="13905416" author="cziegeler" created="Wed, 19 Feb 2014 13:31:29 +0000"  >&lt;p&gt;I&apos;ve added the changes as mentioned above&lt;/p&gt;</comment>
                            <comment id="13906349" author="alexander.klimetschek" created="Thu, 20 Feb 2014 00:19:30 +0000"  >&lt;p&gt;AFAICS, in the current solution it still has a flat list and needs to iterate it completely to find out the oldest ones which could be anywhere in the list (I assume it&apos;s not ordered).&lt;/p&gt;

&lt;p&gt;You could use a date + time based structure for the nested hierarchy. Have buckets in minutes or whatever is appropriate to keep it minimized. Then deletion is really simple - just delete all the buckets that are older than 3 minutes.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/eventing/jobs/locks
    + 2014-02-19_12:20
        + job1
        + job2
    + 2014-02-19_12:21
        + job3
        + job4
    + 2014-02-19_12:22
        + job5
    + 2014-02-19_12:23
        + job6
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;(date + timestamps would be UTC)&lt;/p&gt;</comment>
                            <comment id="13906696" author="cziegeler" created="Thu, 20 Feb 2014 07:17:12 +0000"  >&lt;p&gt;This is about creating locks - so each instance in a cluster needs to create the exact same path for the same lock. if instance A creates the lock at 12:20:58 and instance B tries this at 12:21:00 (which is very likely to happen), then both instances get the lock. Checking several paths to create the lock simply does not work and creates all kinds of concurrency problems.&lt;br/&gt;
Jackrabbit claims to handle 10.000 child nodes in a flat hierarchy, the locks are valid for two minutes. So as long as there are less jobs with locks in this time interval, we&apos;re fine. Please note, that the mechanism which starts to use locks within the job handling is deprecated for some time anyway, so clients should avoid it - and usually it is not needed anyway.&lt;br/&gt;
Oak handles flat hierarchies.&lt;br/&gt;
If I count all if this together, it&apos;s simply not worth adding a complicated and error prone mechanism in this area&lt;/p&gt;</comment>
                            <comment id="13906735" author="alexander.klimetschek" created="Thu, 20 Feb 2014 08:01:19 +0000"  >&lt;p&gt;Right, the path must be the same on multiple cluster nodes, I missed that.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373672</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 37 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1se7z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373972</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3391] VanityPathTest can get stuck</title>
                <link>https://issues.apache.org/jira/browse/SLING-3391</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;As a consequence of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3380&quot; title=&quot;Reduce memory footprint of JcrResourceListener&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3380&quot;&gt;&lt;del&gt;SLING-3380&lt;/del&gt;&lt;/a&gt; the VanityPathTest integration test gets stuck forever.&lt;/p&gt;

&lt;p&gt;Apart from fixing the event translation in JcrEventListener, the VanityPathTest should also be modified and fixed to not wait forever. Rather it should terminate with a test error after some time indicating that the expected event has not been received.&lt;/p&gt;

&lt;p&gt;See the analysis &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3380&quot; title=&quot;Reduce memory footprint of JcrResourceListener&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3380&quot;&gt;&lt;del&gt;SLING-3380&lt;/del&gt;&lt;/a&gt; for more details.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3380?focusedCommentId=13901179&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13901179&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SLING-3380?focusedCommentId=13901179&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13901179&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12695152">SLING-3391</key>
            <summary>VanityPathTest can get stuck</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Feb 2014 07:35:10 +0000</created>
                <updated>Fri, 14 Feb 2014 07:43:47 +0000</updated>
                            <resolved>Fri, 14 Feb 2014 07:43:47 +0000</resolved>
                                                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13901189" author="fmeschbe" created="Fri, 14 Feb 2014 07:43:47 +0000"  >&lt;p&gt;The timeout for waiting for events is given in seconds instead of milliseconds. So setting the timeout to 5000 will wait for close 1.5h for the event to arrive which basically has the test stuck because the event may not come at all.&lt;/p&gt;

&lt;p&gt;Reduced the time to 5 seconds in Rev. 1568208 and this now lets the test fail after 5 seconds if the event is missing.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373660</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 37 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1se5b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373960</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3387] NPE in org.apache.sling.jcr.registration.AbstractRegistrationSupport.getName</title>
                <link>https://issues.apache.org/jira/browse/SLING-3387</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;org.apache.sling.jcr.registration.AbstractRegistrationSupport#getName refers to the class&apos; logger without checking for null. It should probably rather us the log() method which does exactly that.&lt;/p&gt;

&lt;p&gt;12.11.2013 10:14:37.010 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;CM Event Dispatcher (Fire ConfigurationEvent: pid=org.apache.sling.jcr.jackrabbit.server.RmiRegistrationSupport)&amp;#93;&lt;/span&gt; org.apache.sling.jcr.registration &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.jcr.jackrabbit.server.RmiRegistrationSupport&amp;#93;&lt;/span&gt; The bindRepository method has thrown an exception (java.lang.NullPointerException) java.lang.NullPointerException&lt;br/&gt;
at org.apache.sling.jcr.registration.AbstractRegistrationSupport.getName(AbstractRegistrationSupport.java:217)&lt;br/&gt;
at org.apache.sling.jcr.registration.AbstractRegistrationSupport.bindRepository(AbstractRegistrationSupport.java:306)&lt;br/&gt;
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12694533">SLING-3387</key>
            <summary>NPE in org.apache.sling.jcr.registration.AbstractRegistrationSupport.getName</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="mduerig">Michael D&#252;rig</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Feb 2014 17:16:36 +0000</created>
                <updated>Fri, 7 Mar 2014 06:15:45 +0000</updated>
                            <resolved>Wed, 12 Feb 2014 11:03:35 +0000</resolved>
                                    <version>JCR Registration 1.0.0</version>
                                    <fixVersion>JCR Registration 1.0.0</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13898044" author="mduerig" created="Tue, 11 Feb 2014 17:19:41 +0000"  >&lt;p&gt;Proposed patch&lt;/p&gt;</comment>
                            <comment id="13898995" author="fmeschbe" created="Wed, 12 Feb 2014 11:03:35 +0000"  >&lt;p&gt;Thanks for providing the patch. I have applied it in Rev. 1567598&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12628264" name="SLING-3387.patch" size="1052" author="mduerig" created="Tue, 11 Feb 2014 17:19:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373041</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 38 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sacv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373343</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3385]  Expose replication agents actions  and information via HTTP.</title>
                <link>https://issues.apache.org/jira/browse/SLING-3385</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;We need a safe way to expose replication agents actions via HTTP.&lt;/p&gt;

&lt;p&gt;Replication agents are OSGI services that can do the following actions:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;replicate a content tree (build a content package and add it to a queue)&lt;/li&gt;
	&lt;li&gt;add a content package into a queue&lt;/li&gt;
	&lt;li&gt;remove a content package from its queue&lt;br/&gt;
A replication agent also exposes information about packages in its queues.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;We have to expose all this actions and information over HTTP in order to be available to authorized users.&lt;/p&gt;

&lt;p&gt;Actions:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Replicate (schedules a replication action)&lt;br/&gt;
POST /system/replication/agents&lt;br/&gt;
X-replication-action: ADD/DELETE&lt;br/&gt;
X-replication-path: /content/mycontent&lt;br/&gt;
X-replication-agent: 
{agentName}&lt;br/&gt;
&lt;br/&gt;
- Import/Export (adds or removes a package from a queue)&lt;br/&gt;
POST /system/replication/packages&lt;br/&gt;
X-replication-action: PACKAGE_OFFER/PACKAGE_POLL&lt;br/&gt;
X-replication-queue: {queueName}&lt;br/&gt;
X-replication-agent: {agentName}&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;-Information about agents, queues, packages&lt;br/&gt;
GET /system/replication/agents?agent=&lt;/p&gt;
{agentName}&lt;br/&gt;
GET /system/replication/queues?agent={agentName}
&lt;p&gt;GET /system/replication/packages?queue=&lt;/p&gt;
{queueName}
&lt;p&gt;&amp;amp;agent=&lt;/p&gt;
{agentName}


</description>
                <environment></environment>
        <key id="12694246">SLING-3385</key>
            <summary> Expose replication agents actions  and information via HTTP.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="teofili">Tommaso Teofili</assignee>
                                    <reporter username="mpetria">Marius Petria</reporter>
                        <labels>
                    </labels>
                <created>Mon, 10 Feb 2014 12:33:46 +0000</created>
                <updated>Tue, 31 Mar 2015 15:23:11 +0000</updated>
                            <resolved>Mon, 10 Nov 2014 12:39:57 +0000</resolved>
                                                    <fixVersion>Content Distribution 0.1.0</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13896509" author="fmeschbe" created="Mon, 10 Feb 2014 13:46:07 +0000"  >&lt;p&gt;I have the impression you should define a proper REST-ful API addressing agents and queues as resources ...&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Replicate:
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;POST /system/replication/agents/{agentName}

content=/content/mycontent&amp;amp;action={action}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Status/Information&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;GET /system/replication/agents/{agentName}
GET /system/replication/queues/{queueName}
GET /system/replication/packages/{queueName}/{agentName}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13896606" author="mpetria" created="Mon, 10 Feb 2014 14:38:57 +0000"  >&lt;p&gt;Hi Felix,&lt;/p&gt;

&lt;p&gt;You are right, that would probably be a nicer design, however there are some issues with it.&lt;/p&gt;

&lt;p&gt;1. We want to be able to replicate to multiple agents at once so that would be done by posting to /agents with multiple X-replication-agent headers.&lt;br/&gt;
2. There seems to be no consensus on how to expose such an hierarchy via HTTP (see [1]). I am trying to propose here a not so nice compromise. &lt;/p&gt;

&lt;p&gt;More specifically exposing /system/replication/agents/{agentName} can be done with a ResourceProvider or with a hierarchy of shadow nodes. While for agent configuration the shadow nodes make some sense because they contain properties of the configuration and they can be accessed via standard servlets (in /etc/replication) for agent and queue actions/status a shadow hierarchy of nodes will be very unnatural. &lt;/p&gt;

&lt;p&gt;Basically the compromise solution is to create only the root node of the hierarchy and use query params to filter the results.&lt;/p&gt;






&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3352&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SLING-3352&lt;/a&gt;&lt;/p&gt;



</comment>
                            <comment id="13896810" author="tripod" created="Mon, 10 Feb 2014 18:17:49 +0000"  >&lt;p&gt;I don&apos;t like the use of http headers to transport the information. this is highly unusable for ajax clients and for debugging. And it might not go through proxies.&lt;/p&gt;

&lt;p&gt;also, is there a documentation how the REST (or let&apos;s call it HTTP) API looks like? what are the parameters for? how is the error handling? what is the payload? what is the response?&lt;/p&gt;</comment>
                            <comment id="13896977" author="mpetria" created="Mon, 10 Feb 2014 20:37:02 +0000"  >&lt;p&gt;Hi Tobias,&lt;/p&gt;

&lt;p&gt;There is no detailed spec as I wanted to fix first the general approach. Basically requests use headers and a stream payload for packages. If we are to drop headers then we could use multipart messages with jsons containing the metadata (action, paths, agent) and octetstreams containing the package bytes.&lt;/p&gt;

&lt;p&gt;However, when I was analyzing this option it made more sense to rely again on standard servlets rather than implementing custom servlets to handle the payload.&lt;/p&gt;

&lt;p&gt;We could use purely JCR nodes that store requests and packages.&lt;/p&gt;

&lt;p&gt;For replication actions (commands) one would store the content of a command and a task (or event handler) would pick it up, pass it to the agent and then move it to outbox.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;/system/replication/commands/inbox
/system/replication/commands/outbox
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For importing/exporting packages those could be uploaded/downloaded from their corresponding boxes.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;/system/replication/packages/inbox
/system/replication/packages/outbox
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The only questions for this approach are:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Is there a way in sling to get the the first element in the outbox using orderby and pagination.&lt;/li&gt;
	&lt;li&gt;We might still need to expose status information about agents (like inner queues status). Should we do this by using a resourceprovider in order to avoid empty agent nodes?&lt;/li&gt;
&lt;/ul&gt;

</comment>
                            <comment id="13897026" author="teofili" created="Mon, 10 Feb 2014 21:20:59 +0000"  >&lt;p&gt;The way it currently works is described in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3315&quot; title=&quot;Refactor replication HTTP API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3315&quot;&gt;&lt;del&gt;SLING-3315&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
Why should we persist requests ? Package persistence should be already handled by the &lt;em&gt;ReplicationPackageBuilder&lt;/em&gt;, why should we explicitly persist them separately?&lt;/p&gt;

&lt;p&gt;I think this and &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3352&quot; title=&quot;Expose OSGI configuration via HTTP&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3352&quot;&gt;&lt;del&gt;SLING-3352&lt;/del&gt;&lt;/a&gt; are part of the same discussion about the replication HTTP API, with this one specific to HTTP API for triggering replication &quot;actions&quot; &lt;/p&gt;</comment>
                            <comment id="13897139" author="tripod" created="Mon, 10 Feb 2014 22:35:23 +0000"  >&lt;p&gt;I&apos;m not saying you should store the &apos;commands&apos; in the content - IMO that&apos;s nonsense. but avoid HTTP headers to transport any action or parameter. they belong to the HTTP layer, not your application &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;A better REST way would be to upload the package first, get a location URL, and then issue the commands referring to the packages. this also mitigates the multiple-agents problem a bit.&lt;/p&gt;</comment>
                            <comment id="13897589" author="fmeschbe" created="Tue, 11 Feb 2014 07:03:47 +0000"  >&lt;p&gt;I think &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tripod&quot; class=&quot;user-hover&quot; rel=&quot;tripod&quot;&gt;tripod&lt;/a&gt; hit the nail: You should be defining a concise REST-ful (or HTTP if you will) API and discuss that. This really is an API discussion at this point and we can think about the implementation later.&lt;/p&gt;</comment>
                            <comment id="13897595" author="mpetria" created="Tue, 11 Feb 2014 07:12:17 +0000"  >&lt;blockquote&gt;&lt;p&gt;avoid HTTP headers to transport any action or parameter&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That will be done &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;store the &apos;commands&apos; in the content - IMO that&apos;s nonsense.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;From what I found out that is the only secure way in sling to expose REST APIs OOTB. Any servlet based approach (registered by path or by resourcetype) is unsecure by default and must be protected inside the servlet.&lt;/p&gt;


</comment>
                            <comment id="13898073" author="tripod" created="Tue, 11 Feb 2014 17:51:50 +0000"  >&lt;p&gt;&amp;gt;&amp;gt;&amp;gt; For replication actions (commands) one would store the content of a command and a task (or event handler) would pick it up, pass it to the agent and then move it to outbox&lt;br/&gt;
&amp;gt;&amp;gt; store the &apos;commands&apos; in the content - IMO that&apos;s nonsense.&lt;br/&gt;
&amp;gt; From what I found out that is the only secure way in sling to expose REST APIs OOTB. Any servlet based approach (registered by path or by resourcetype) is unsecure by default and must be protected inside the servlet.&lt;/p&gt;

&lt;p&gt;I see your point, but defining a purely content driven command interface is not very practical - especially in respect to error handling. and you have to deal with clustering problematics, too. &lt;/p&gt;</comment>
                            <comment id="13898991" author="fmeschbe" created="Wed, 12 Feb 2014 10:57:35 +0000"  >&lt;p&gt;We should discuss this in a full context of a REST-ful/HTTP API. See &lt;a href=&quot;http://sling.markmail.org/thread/mvfbi4pv2hgmmqnr&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.markmail.org/thread/mvfbi4pv2hgmmqnr&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14204719" author="teofili" created="Mon, 10 Nov 2014 12:39:57 +0000"  >&lt;p&gt;this has been fixed and implemented according to the API proposed on the wiki, more details can be found on the &lt;a href=&quot;https://github.com/apache/sling/blob/trunk/contrib/extensions/distribution/README.md#http-api&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;documentation&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>372755</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 51 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1s8lr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373059</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3383] Non stopping thread in AbstractJobQueue causes classloader leak </title>
                <link>https://issues.apache.org/jira/browse/SLING-3383</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;While analyzing heap dump for classloader leaks using script &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; following possible leak was reported &lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;	org.apache.sling.event.impl.jobs.queues.AbstractJobQueue$1@0x12547e960
	 Following are few of the live paths found
	 Live path
		org.apache.sling.event.impl.jobs.queues.AbstractJobQueue$1@0x12547e960
		java.lang.Thread@0x12547e888
		[Ljava.lang.Thread;@0x124f18f58
		java.lang.ThreadGroup@0x123346e80
		java.lang.Thread@0x126635c48
		java.util.concurrent.locks.AbstractQueuedSynchronizer$Node@0x13161da50
		java.util.concurrent.locks.AbstractQueuedSynchronizer$Node@0x1318253e0
		java.util.concurrent.locks.AbstractQueuedSynchronizer$Node@0x1318253c0
		java.util.concurrent.locks.AbstractQueuedSynchronizer$Node@0x1318253a0
		java.util.concurrent.locks.AbstractQueuedSynchronizer$Node@0x12a128c90
		java.util.concurrent.locks.AbstractQueuedSynchronizer$Node@0x12a24c198
		java.util.concurrent.locks.AbstractQueuedSynchronizer$Node@0x12a24c178
		java.util.concurrent.locks.AbstractQueuedSynchronizer$Node@0x12a24c158
		java.util.concurrent.locks.AbstractQueuedSynchronizer$Node@0x12a24c138
		java.util.concurrent.locks.AbstractQueuedSynchronizer$Node@0x12a24c118
		java.util.concurrent.locks.AbstractQueuedSynchronizer$Node@0x12a24c0f8
		java.util.concurrent.locks.AbstractQueuedSynchronizer$Node@0x12a24c0d8
		java.util.concurrent.locks.AbstractQueuedSynchronizer$Node@0x12a24c0b8
		java.util.concurrent.locks.AbstractQueuedSynchronizer$Node@0x12a24c098
		java.util.concurrent.locks.AbstractQueuedSynchronizer$Node@0x12a24c078
		java.util.concurrent.locks.AbstractQueuedSynchronizer$Node@0x12a24c058
		java.util.concurrent.locks.AbstractQueuedSynchronizer$Node@0x12a007e30
		java.util.concurrent.locks.AbstractQueuedSynchronizer$Node@0x12a007e10
		java.util.concurrent.locks.AbstractQueuedSynchronizer$Node@0x12a007df0
		java.util.concurrent.locks.AbstractQueuedSynchronizer$Node@0x12a007dd0
		java.util.concurrent.locks.AbstractQueuedSynchronizer$Node@0x12a007db0
		java.util.concurrent.locks.AbstractQueuedSynchronizer$Node@0x12a007d90
		java.util.concurrent.locks.AbstractQueuedSynchronizer$Node@0x12a007d70
		java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@0x125d2c968
		java.lang.Thread@0x126637b00
		java.util.concurrent.ThreadPoolExecutor$Worker@0x126637b68
		java.util.HashMap$Entry@0x126640058
		[Ljava.util.HashMap$Entry;@0x12663fde8
		java.util.HashMap@0x125d2ca08
		java.util.HashSet@0x125d2c9f8
		java.util.concurrent.ThreadPoolExecutor@0x125d2c8a0
		org.apache.sling.commons.threads.impl.DefaultThreadPool@0x125d2c7b0 [*]
		org.apache.sling.commons.threads.impl.ThreadPoolFacade@0x125d2c798 [*]
		org.apache.sling.commons.threads.impl.DefaultThreadPoolManager$Entry@0x125d535d0 [*]
		java.util.HashMap$Entry@0x125d535b0
		[Ljava.util.HashMap$Entry;@0x124147940
		java.util.HashMap@0x124147910
		org.apache.sling.commons.threads.impl.DefaultThreadPoolManager@0x124146e50 [*]
		org.apache.felix.framework.ServiceRegistrationImpl@0x12414f3e8
		org.apache.sling.commons.threads.impl.Activator@0x12414f3d0 [*]
		org.apache.felix.framework.BundleImpl@0x122809f78
		org.apache.felix.framework.ServiceRegistrationImpl@0x1241e8c40
		class org.apache.sling.commons.threads.impl.WebConsolePrinter
		org.apache.sling.commons.threads.impl.WebConsolePrinter@0x1241e8a70 [*]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It appears that the thread created in AbstractJobQueue &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; is not interrupting the thread upon deactivation/shutdown. So the thread remains blocked in waiting (in take method of various implementations) and never gets a chance to check for the running flag. A better way would be to handle the InterruptedException properly &lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt; and exit the thread as part of InterruptedException exception handling&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://gist.github.com/chetanmeh/8860776&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gist.github.com/chetanmeh/8860776&lt;/a&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling/blob/trunk/bundles/extensions/event/src/main/java/org/apache/sling/event/impl/jobs/queues/AbstractJobQueue.java#L161&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/bundles/extensions/event/src/main/java/org/apache/sling/event/impl/jobs/queues/AbstractJobQueue.java#L161&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://www.ibm.com/developerworks/java/library/j-jtp05236/index.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.ibm.com/developerworks/java/library/j-jtp05236/index.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12694209">SLING-3383</key>
            <summary>Non stopping thread in AbstractJobQueue causes classloader leak </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="chetanm">Chetan Mehrotra</reporter>
                        <labels>
                    </labels>
                <created>Mon, 10 Feb 2014 06:36:40 +0000</created>
                <updated>Fri, 7 Mar 2014 08:51:48 +0000</updated>
                            <resolved>Thu, 20 Feb 2014 08:55:10 +0000</resolved>
                                    <version>Event 3.3.4</version>
                                    <fixVersion>Event 3.3.6</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13904176" author="cziegeler" created="Tue, 18 Feb 2014 15:49:59 +0000"  >&lt;p&gt;I&apos;ve committed some changes, basically now the interrupt flag is reset and in some cases the running flag is changed.&lt;br/&gt;
What&apos;s the easiest way to find out if that fixes the problem?&lt;/p&gt;</comment>
                            <comment id="13905102" author="chetanm" created="Wed, 19 Feb 2014 11:18:38 +0000"  >&lt;p&gt;Not sure on easy way. You can possibly try refreshing the Event bundle multiple times and then use the Classloader Leak Detector (&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3359&quot; title=&quot;Classloader Leak Detector Console Tab&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3359&quot;&gt;&lt;del&gt;SLING-3359&lt;/del&gt;&lt;/a&gt;) to see if it highlights any leak&lt;/p&gt;</comment>
                            <comment id="13905527" author="cziegeler" created="Wed, 19 Feb 2014 15:03:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chetanm&quot; class=&quot;user-hover&quot; rel=&quot;chetanm&quot;&gt;chetanm&lt;/a&gt;  The output I get is:&lt;/p&gt;

&lt;p&gt;org.apache.sling.event (3.3.5.SNAPSHOT) - Classloader Count &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Bundle Id - 137&lt;/li&gt;
	&lt;li&gt;Leaked classloaders&lt;/li&gt;
	&lt;li&gt;Identity HashCode - 603863fc, Creation time 19.02.2014 15:51:18.764&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;How can I make more sense out of this?&lt;/p&gt;</comment>
                            <comment id="13905610" author="cziegeler" created="Wed, 19 Feb 2014 16:06:04 +0000"  >&lt;p&gt;Looking at the thread dump, there is no thread hanging in Sling eventing anymore, however the above entry is printed.&lt;br/&gt;
Does this mean that another bundle holds the class loader?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>372718</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 37 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1s8dr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373022</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3381] JobManager.getQueue() might not return queue</title>
                <link>https://issues.apache.org/jira/browse/SLING-3381</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;JobManager.getQueue(String) allows to get a queue based on its name, however internally the implementation uses a filtered name (e.g. / replaced with a dash) and the method passes the provided name directly into the map without applying the same filtering. Therefore as soon as filtered characters are usd in the name, the method will return null.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12693840">SLING-3381</key>
            <summary>JobManager.getQueue() might not return queue</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 7 Feb 2014 07:39:05 +0000</created>
                <updated>Mon, 14 Apr 2014 18:28:25 +0000</updated>
                            <resolved>Fri, 7 Feb 2014 07:54:17 +0000</resolved>
                                    <version>Event 3.3.4</version>
                                    <fixVersion>Event 3.3.6</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13894277" author="cziegeler" created="Fri, 7 Feb 2014 07:54:17 +0000"  >&lt;p&gt;Fixed by applying the filtering in all places&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12708332">SLING-3502</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>372349</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 38 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1s64f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>372653</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3379] OptingServlet accepts method bypassed</title>
                <link>https://issues.apache.org/jira/browse/SLING-3379</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;It is possible for the accepts method of the OptingServlet interface to be bypassed under certain conditions.&lt;/p&gt;

&lt;p&gt;For example consider a servlet called MyServlet that has a resourceType of &quot;myapp/components/foo&#8221; and allows the POST method with a selector of &#8220;bar&#8221;.  This servlet also implements the OptingServlet interface and has an &#8216;accepts&#8217; method that checks the extension on the request.&lt;/p&gt;

&lt;p&gt;During some security testing I discovered that when I give a node a sling:resourceType of &quot;myapp/components/foo.POST.servlet&#8221;, I can POST to this node with no selector and any extension I want which will still resolve to the MyServlet but not call the &#8220;accepts&#8221; method from the OptingServlet interface and goes directly to the doPost method.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12693578">SLING-3379</key>
            <summary>OptingServlet accepts method bypassed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="arumsey">Anthony Rumsey</reporter>
                        <labels>
                    </labels>
                <created>Thu, 6 Feb 2014 15:21:24 +0000</created>
                <updated>Sat, 6 May 2023 10:25:22 +0000</updated>
                            <resolved>Sat, 6 May 2023 10:25:22 +0000</resolved>
                                                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13893433" author="arumsey" created="Thu, 6 Feb 2014 15:22:33 +0000"  >&lt;p&gt;If I am not mistaken, this is what is going on: the opting servlet is used in the first phase where sling tries to find a matching servlet/script, before the second phase that has one servlet identified already and simply calls it.&lt;br/&gt;
Multiple candidates can come into play in the resolution process, say an overlayed script in the search path or multiple selectors matching (resourcetype/selector/html.jsp vs. resourcetype/selector.jsp). There is a weighting algorithm going on to prefer the right things (albeit you can still come up with complicated cases). This phase might end up with multiple matches, usually you have at least also the default GET or POST servlet waiting as fallback.&lt;br/&gt;
If any of these implement the OptingServlet they are asked if they will accept the request. If they don&apos;t, they will get kicked out of the list.&lt;br/&gt;
After that, the top match will be picked and called.&lt;br/&gt;
Now I assume because the very explicit &quot;/*.servlet&quot; resource type is used (usually reserved for registering java based servlets with one string), that first step is essentially skipped and the servlet behind that it is directly called - thus skipping the OptingServlet call, and not relying on the selector.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>372163</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 38 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1s4zr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>372468</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3378] SelectorFormServlet should escape auth type</title>
                <link>https://issues.apache.org/jira/browse/SLING-3378</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The SelectorFormServlet should escape the &quot;selectedAuthType&quot; request parameter that it uses.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12693532">SLING-3378</key>
            <summary>SelectorFormServlet should escape auth type</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Thu, 6 Feb 2014 11:16:11 +0000</created>
                <updated>Mon, 11 Aug 2014 14:15:26 +0000</updated>
                            <resolved>Thu, 6 Feb 2014 11:17:38 +0000</resolved>
                                    <version>Auth Selector 1.0.4</version>
                                    <fixVersion>Auth Selector 1.0.6</fixVersion>
                                    <component>Authentication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13893273" author="bdelacretaz" created="Thu, 6 Feb 2014 11:17:38 +0000"  >&lt;p&gt;Fixed in revision 1565165&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>372117</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 38 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1s4pj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>372422</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3376] TenantProvider passes tenant with old state to TenantCustomizer</title>
                <link>https://issues.apache.org/jira/browse/SLING-3376</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The TenantProvider does pass a Tenant with the old state to the TenantCustomizer#setup() method, making it impossible to handle changes  on the update case. I would expect to have a Tenant (in a transient state) passed which reflects the new state.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12693376">SLING-3376</key>
            <summary>TenantProvider passes tenant with old state to TenantCustomizer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="amitgupt">Amit Gupta</assignee>
                                    <reporter username="rschaer">Roland Schaer</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Feb 2014 15:44:22 +0000</created>
                <updated>Mon, 18 Aug 2014 11:29:16 +0000</updated>
                            <resolved>Thu, 3 Apr 2014 04:40:05 +0000</resolved>
                                    <version>Tenant 1.0.0</version>
                                    <fixVersion>Tenant 1.0.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13892344" author="rschaer" created="Wed, 5 Feb 2014 17:44:36 +0000"  >&lt;p&gt;adding possible patch&lt;/p&gt;</comment>
                            <comment id="13893063" author="amitgupt" created="Thu, 6 Feb 2014 05:34:20 +0000"  >&lt;p&gt;Thanks for the patch applied At revision: 1565082  &lt;/p&gt;</comment>
                            <comment id="13958510" author="amitgupt" created="Thu, 3 Apr 2014 04:40:05 +0000"  >&lt;p&gt;Closing applied the patch already.&lt;/p&gt;</comment>
                            <comment id="13998536" author="githubbot" created="Thu, 15 May 2014 07:36:24 +0000"  >&lt;p&gt;Github user roele closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/11&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/11&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12627162" name="SLING-3376.patch" size="1069" author="rschaer" created="Wed, 5 Feb 2014 17:44:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371961</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 25 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1s3qn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>372265</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3375] HttpClient use in org.apache.sling.discovery.impl package does not close method connections explicitely</title>
                <link>https://issues.apache.org/jira/browse/SLING-3375</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Using the sling topology in our application, we experience instances being disconnected from the topology. Looking at our logs, we see occurrences of IOExceptions and then the instance can&apos;t connect anymore. &lt;br/&gt;
Looking at the use of HttpClient in the package &apos;org.apache.sling.discovery.impl&apos; I noticed the method was not released explicitely although advised by the lib doc &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;org.apache.sling.discovery.impl.topology.connector.TopologyConnectorClient#ping&lt;br/&gt;
org.apache.sling.discovery.impl.topology.connector.TopologyConnectorClient#disconnect&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://hc.apache.org/httpclient-3.x/tutorial.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hc.apache.org/httpclient-3.x/tutorial.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12693316">SLING-3375</key>
            <summary>HttpClient use in org.apache.sling.discovery.impl package does not close method connections explicitely</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="marett">Timothee Maret</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Feb 2014 10:05:41 +0000</created>
                <updated>Sat, 8 Mar 2014 16:17:52 +0000</updated>
                            <resolved>Thu, 6 Feb 2014 17:23:28 +0000</resolved>
                                    <version>Discovery Impl 1.0.2</version>
                                    <fixVersion>Discovery Impl 1.0.4</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                            <attachment id="12627106" name="SLING-3375.patch" size="999" author="marett" created="Wed, 5 Feb 2014 10:09:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371901</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 39 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1s3db:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>372205</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3374] Overlay sendRedirect to set relative Location header</title>
                <link>https://issues.apache.org/jira/browse/SLING-3374</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Recently, Location headers returned from redirects started being absolute instead of relative. &lt;/p&gt;

&lt;p&gt;We should try to decorate this in sling.&lt;br/&gt;
Can we replace the sendRedirect with a set-header set-status combination&lt;br/&gt;
in sling?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12693268">SLING-3374</key>
            <summary>Overlay sendRedirect to set relative Location header</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="lbyrum">Laurie byrum</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Feb 2014 00:26:15 +0000</created>
                <updated>Sat, 28 Feb 2015 22:50:34 +0000</updated>
                            <resolved>Sat, 28 Feb 2015 22:50:18 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="13891913" author="bdelacretaz" created="Wed, 5 Feb 2014 08:37:05 +0000"  >&lt;p&gt;Can you provide a scenario or automated test to reproduce the issue?&lt;/p&gt;

&lt;p&gt;IIUC from an offline discussion this happens when running Sling on specific servlet engines.&lt;/p&gt;

&lt;p&gt;There&apos;s a number of tests under &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; which verify the Location header in responses, I assume some of them should show the problem if you run them in a problematic environment.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://svn.apache.org/repos/asf/sling/trunk/launchpad/integration-tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/sling/trunk/launchpad/integration-tests&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13891929" author="fmeschbe" created="Wed, 5 Feb 2014 08:52:18 +0000"  >&lt;p&gt;Technically we can (and in an internal discussion I may actually have stipulated that we) implement the sendRedirect method in Sling to return a relative path.&lt;/p&gt;

&lt;p&gt;There are two problems, though with respect to specification compliance:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;The Servlet API spec requires the &lt;a href=&quot;http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletResponse.html#sendRedirect%28java.lang.String%29&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;sendRedirect&lt;/a&gt; method to set an absolute URL on the Location header.&lt;/li&gt;
	&lt;li&gt;The current HTTP/1.1 spec (RFC 2616) mandates the &lt;a href=&quot;http://tools.ietf.org/html/rfc2616#section-14.30&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Location&lt;/a&gt; header to be an absolute URI (which is considered a bug to be fixed in the upcoming HTTP spec: &lt;a href=&quot;http://www.greenbytes.de/tech/webdav/draft-ietf-httpbis-p2-semantics-25.html#header.location&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.greenbytes.de/tech/webdav/draft-ietf-httpbis-p2-semantics-25.html#header.location&lt;/a&gt;).&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Given that the HTTP spec is being updated and most if not all modern browsers today support relative URI Location headers, it would be conceivable to wrap the sendRedirect method to always use a relative URL instead of forcing an absolute one.&lt;/p&gt;

&lt;p&gt;But then: what would be the benefit of having a relative URL as opposed to an absolute URL ? Could it be that the HttpServletRequest.getServerName and HttpServletRequest.getServerPort yield wrong (or unexpected) values behind a caching proxy ?&lt;/p&gt;</comment>
                            <comment id="13891937" author="bdelacretaz" created="Wed, 5 Feb 2014 09:07:24 +0000"  >&lt;p&gt;There are valid cases for both relative and absolute Location URI in a response, as described in the draft-ietf-httpbis-p2-semantics-25 that you point to.&lt;/p&gt;

&lt;p&gt;What we might do is override sendRedirect to make sure it respects the intention (absolute or relative Location) of the caller, using set header + set status calls as suggested, instead of calling the sendRedirect of the response object that we wrap.&lt;/p&gt;</comment>
                            <comment id="14336764" author="niseth" created="Wed, 25 Feb 2015 17:10:26 +0000"  >&lt;p&gt;One of my customer reported the issue in AEM 6.0&lt;/p&gt;

&lt;p&gt;Steps to reproduce the issue:&lt;/p&gt;

&lt;p&gt;Install a vanilla 5.4 instance.&lt;br/&gt;
Add a page to the geometrixx site.&lt;br/&gt;
Go to advanced properties of the new page and add a redirect to the triangle product page&lt;br/&gt;
Open new page and observe Location Response Header &amp;#8211; note that it has no scheme/server (a desired trait)&lt;/p&gt;

&lt;p&gt;*Location	/content/geometrixx.html*&lt;/p&gt;

&lt;p&gt;Install a vanilla 6.0 instance&lt;br/&gt;
Add a page to the geometrixx site&lt;br/&gt;
Go to the advanced properties of the new page and add a redirect to the triangle product page&lt;br/&gt;
Open the new page and observe Location Response Header &amp;#8211; note that it has the scheme and server (not desirable)&lt;/p&gt;

&lt;p&gt;*Location	&lt;a href=&quot;http://localhost:5665/content/geometrixx.html*&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:5665/content/geometrixx.html*&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Note:&lt;/b&gt; Issue is also reproducible at 6.0 SP2.&lt;/p&gt;</comment>
                            <comment id="14339507" author="bdelacretaz" created="Fri, 27 Feb 2015 01:05:15 +0000"  >&lt;p&gt;We might be discussing two different things here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lbyrum&quot; class=&quot;user-hover&quot; rel=&quot;lbyrum&quot;&gt;lbyrum&lt;/a&gt; mentions relative/absolute Location values, which I understand like /foo/bar as opposed to ../bar&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=niseth&quot; class=&quot;user-hover&quot; rel=&quot;niseth&quot;&gt;niseth&lt;/a&gt; mentions Location values which have or don&apos;t have a scheme/server&lt;/p&gt;

&lt;p&gt;As far as I can see, the current SlingHttpServletResponseImpl delegates sendRedirect to the javax parent class, so the behavior is probably dependent on the servlet engine.&lt;/p&gt;</comment>
                            <comment id="14339636" author="bdelacretaz" created="Fri, 27 Feb 2015 02:39:23 +0000"  >&lt;p&gt;We probably need to discuss on our dev list what the right behavior is, in the meantime I have created an example Filter that uses setHeader/setStatus to avoid the using servlet engine&apos;s sendRedirect method. This can be used as a workaround to reproduce the old behavior.&lt;/p&gt;

&lt;p&gt;Source code at &lt;a href=&quot;https://svn.apache.org/repos/asf/sling/whiteboard/bdelacretaz/redirect-as-is&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/sling/whiteboard/bdelacretaz/redirect-as-is&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14340361" author="niseth" created="Fri, 27 Feb 2015 16:46:23 +0000"  >&lt;p&gt;(I have removed the CQ references - this is the Sling issue tracker - Bertrand)&lt;/p&gt;</comment>
                            <comment id="14340440" author="cziegeler" created="Fri, 27 Feb 2015 17:43:07 +0000"  >&lt;p&gt;Shouldn&apos;t we rather fix this at the servlet engine level? With overlaying it in Sling we only cover the cases where the request goes through Sling but for the http service is general, its not the case and we end up with two different mechanisms.&lt;/p&gt;</comment>
                            <comment id="14340798" author="rombert" created="Fri, 27 Feb 2015 21:04:56 +0000"  >&lt;p&gt;I don&apos;t think this makes too much sense in the context of Sling only&lt;/p&gt;</comment>
                            <comment id="14340859" author="bdelacretaz" created="Fri, 27 Feb 2015 21:39:53 +0000"  >&lt;p&gt;As I said I&apos;m not sure there&apos;s even something to fix - the behavior has changed compared to earlier versions of Sling, and a Filter like my redirect-as-is example can be used to reproduce the previous behavior if needed.&lt;/p&gt;

&lt;p&gt;So IMO the question is rather which behavior is more correct.&lt;/p&gt;</comment>
                            <comment id="14340860" author="justinedelson" created="Fri, 27 Feb 2015 21:44:06 +0000"  >&lt;p&gt;I&apos;m not even sure this has changed in Sling. If I understand, the issue Nitin is describing was that the servlet engine bundled in older versions of AEM/CQ was not fully compliant with the servlet specification, which clearly states that the current behavior is the correct one.&lt;/p&gt;</comment>
                            <comment id="14340896" author="bdelacretaz" created="Fri, 27 Feb 2015 22:01:40 +0000"  >&lt;p&gt;Good point, Justin! &lt;/p&gt;

&lt;p&gt;I checked the SlingHttpServletResponseImpl class of the org.apache.sling.engine-2.2.0 bundle (used in the CQ 5.4 version that Nitin refers to) and it&apos;s indeed using its parent (servlet engine) class for sendRedirect, which confirms that the change is due to the servlet engine.&lt;/p&gt;

&lt;p&gt;I suggest closing this wontfix as this is a servlet engine issue, with a workaround (redirect-as-is or something similar) that I don&apos;t think we should implement in Sling.&lt;/p&gt;</comment>
                            <comment id="14341159" author="niseth" created="Sat, 28 Feb 2015 01:36:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=justinedelson&quot; class=&quot;user-hover&quot; rel=&quot;justinedelson&quot;&gt;justinedelson&lt;/a&gt; - Yes customer complains that in CQ 5.4 the Location Response Header does not contain any scheme/server and set as relative url as:&lt;/p&gt;

&lt;p&gt;Location Response Header: /content/geometrixx.html&lt;/p&gt;

&lt;p&gt;whereas in AEM6.0 the Location Response Header has the scheme and server and set as absolute url as:&lt;/p&gt;

&lt;p&gt;Location Response Header: &lt;a href=&quot;http://host:port/content/geometrixx.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://host:port/content/geometrixx.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;As you stated the older version (5.4) was not fully complaint with the servlet specification, does that means it was the issue in the servlet engine earlier? and now it is correct as - The CQSE servlet engine has been replaced with Eclipse Jetty&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt; - Can you please let me know where the changes is to be done if customer wants an old behavior in AEM6? You recommended that users implement a Filter,does that mean customer have to write a code in the RedirectAsIsFilter class to achieve this? &lt;/p&gt;

</comment>
                            <comment id="14341798" author="lbyrum" created="Sat, 28 Feb 2015 21:59:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=justinedelson&quot; class=&quot;user-hover&quot; rel=&quot;justinedelson&quot;&gt;justinedelson&lt;/a&gt; or &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt;: sorry for the dumb question, but can you give a reference for your statement that the spec says to only allow fully qualified locations? The only thing i could find that was relevant was &lt;a href=&quot;http://trac.tools.ietf.org/wg/httpbis/trac/ticket/185&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://trac.tools.ietf.org/wg/httpbis/trac/ticket/185&lt;/a&gt; which 3 years ago determined that relative locations should be allowed. Thanks!&lt;/p&gt;</comment>
                            <comment id="14341815" author="justinedelson" created="Sat, 28 Feb 2015 22:47:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lbyrum&quot; class=&quot;user-hover&quot; rel=&quot;lbyrum&quot;&gt;lbyrum&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=niseth&quot; class=&quot;user-hover&quot; rel=&quot;niseth&quot;&gt;niseth&lt;/a&gt; Please refer to &lt;a href=&quot;http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletResponse.html#sendRedirect%28java.lang.String%29&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletResponse.html#sendRedirect%28java.lang.String%29&lt;/a&gt;. As you can see there, the specified behavior of the sendRedirect() method is that &quot;the servlet container must convert the relative URL to an absolute URL before sending the response to the client&quot;.&lt;/p&gt;

&lt;p&gt;Since Sling does not implement this method and simply passes it through to the servlet container, any variance in how this method behaves is not Sling&apos;s domain.&lt;/p&gt;</comment>
                            <comment id="14341816" author="justinedelson" created="Sat, 28 Feb 2015 22:50:18 +0000"  >&lt;p&gt;Marking this as Won&apos;t Fix. Per my last comment, the behavior of this method is up to the servlet container.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12497430">SLING-1965</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12527738">SLING-2251</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371853</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 35 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1s32n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>372157</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3372] Unable to deploy org.apache.sling.launchpad-7-SNAPSHOT.war on jetty-distribution-9.1.1.v20140108</title>
                <link>https://issues.apache.org/jira/browse/SLING-3372</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;While deploying org.apache.sling.launchpad-7-SNAPSHOT.war  we get following exception&lt;/p&gt;

&lt;p&gt;14-02-04 23:06:59.027:INFO:oasl.war:main: sling: Sling  Extension Lib Home : /home/rohkuma/Documents/software/java/sling_jetty/lib/ext&lt;br/&gt;
2014-02-04 23:06:59.028:INFO:oasl.war:main: sling: No Launcher JAR to install&lt;br/&gt;
2014-02-04 23:06:59.029:INFO:oasl.war:main: sling: Loading launcher class org.apache.sling.launchpad.base.webapp.SlingServletDelegate from org.apache.sling.launchpad.base.jar&lt;br/&gt;
2014-02-04 23:06:59.029:WARN:oasl.war:main: sling: Cannot load Launcher Servlet org.apache.sling.launchpad.base.webapp.SlingServletDelegate&lt;br/&gt;
java.lang.IllegalArgumentException: Sling Launcher JAR /home/rohkuma/Documents/software/java/sling_jetty/org.apache.sling.launchpad.base.jar is not accessible&lt;br/&gt;
	at org.apache.sling.launchpad.base.shared.Loader.loadLauncher(Loader.java:102)&lt;br/&gt;
	at org.apache.sling.launchpad.webapp.SlingServlet.startSling(SlingServlet.java:363)&lt;br/&gt;
	at org.apache.sling.launchpad.webapp.SlingServlet.startSling(SlingServlet.java:325)&lt;br/&gt;
	at org.apache.sling.launchpad.webapp.SlingServlet.init(SlingServlet.java:118)&lt;br/&gt;
	at javax.servlet.GenericServlet.init(GenericServlet.java:244)&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:561)&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletHolder.initialize(ServletHolder.java:351)&lt;/p&gt;</description>
                <environment>jetty-distribution-9.1.1.v20140108</environment>
        <key id="12693163">SLING-3372</key>
            <summary>Unable to deploy org.apache.sling.launchpad-7-SNAPSHOT.war on jetty-distribution-9.1.1.v20140108</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="rohitkumarbhagat">Rohit Kumar</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 Feb 2014 17:52:25 +0000</created>
                <updated>Sat, 26 Jul 2014 17:35:27 +0000</updated>
                            <resolved>Wed, 5 Feb 2014 13:25:32 +0000</resolved>
                                    <version>Launchpad Base 2.5.0</version>
                                    <fixVersion>Launchpad Base 2.5.2</fixVersion>
                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13890930" author="rohitkumarbhagat" created="Tue, 4 Feb 2014 17:57:55 +0000"  >&lt;p&gt;Jetty was unable to search for Sling Launchpad  Base jar at /WEB-INF//resources/org.apache.sling.launchpad.base.jar.&lt;/p&gt;

&lt;p&gt;Replacing // with / did the trick. Attaching patch.&lt;/p&gt;</comment>
                            <comment id="13892085" author="fmeschbe" created="Wed, 5 Feb 2014 13:25:32 +0000"  >&lt;p&gt;Thank you very much for the patch. I have applied it in Rev. 1564767.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12626913" name="Sling-3372.patch" size="875" author="rohitkumarbhagat" created="Tue, 4 Feb 2014 17:57:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371749</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 39 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1s2fz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>372049</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3369] framework-extension-ws fragment should include javax.xml.rpc</title>
                <link>https://issues.apache.org/jira/browse/SLING-3369</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Could also go in framework-extension-xml, but I think javax.xml.rpc is roughly a peer of javax.xml.soap, which is in framework-extension-ws.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12693093">SLING-3369</key>
            <summary>framework-extension-ws fragment should include javax.xml.rpc</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 Feb 2014 12:37:35 +0000</created>
                <updated>Wed, 5 Feb 2014 13:41:49 +0000</updated>
                            <resolved>Wed, 5 Feb 2014 13:41:49 +0000</resolved>
                                                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13892097" author="fmeschbe" created="Wed, 5 Feb 2014 13:37:31 +0000"  >&lt;p&gt;While I was under the assumption that javax.xml.rpc was part of the Java platform, I have now quickly crosschecked and neither Java 7 nore Java 8 have this package in their runtime class library.&lt;/p&gt;

&lt;p&gt;So we should probably not add it to any of the fragments.&lt;/p&gt;</comment>
                            <comment id="13892101" author="justinedelson" created="Wed, 5 Feb 2014 13:41:49 +0000"  >&lt;p&gt;I was under the same impression. Thanks for double checking.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371679</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 39 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1s20f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371979</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3365] HeartbeatHandler.deactivate() should not block</title>
                <link>https://issues.apache.org/jira/browse/SLING-3365</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;We&apos;ve seen a case where the HeartbeatHandler.deactivate() method was blocked at the synchronized(lock):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: BLOCKED (on object monitor)
	at org.apache.sling.discovery.impl.common.heartbeat.HeartbeatHandler.deactivate(HeartbeatHandler.java:169)
	- waiting to lock &amp;lt;0x00000006028bcfd8&amp;gt; (a java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This in turn prevented the bundle to be deactivated and blocked other felix code.&lt;/p&gt;

&lt;p&gt;The deactivate() method should succeed quickly and instruct any other (HeartbeatHandler) thread to stop immediately too.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12692842">SLING-3365</key>
            <summary>HeartbeatHandler.deactivate() should not block</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="stefanegli">Stefan Egli</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Feb 2014 12:56:49 +0000</created>
                <updated>Thu, 8 Jun 2017 11:48:53 +0000</updated>
                            <resolved>Mon, 3 Feb 2014 14:12:12 +0000</resolved>
                                    <version>Discovery Impl 1.0.2</version>
                                    <fixVersion>Discovery Impl 1.0.4</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13889493" author="egli" created="Mon, 3 Feb 2014 14:12:12 +0000"  >&lt;p&gt;fixed, will be shipped with discovery.impl 1.0.4&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="13078292">SLING-6945</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371428</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 39 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1s0hb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371731</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3364] All rotated log files are not made part of the zip provided through webconsole</title>
                <link>https://issues.apache.org/jira/browse/SLING-3364</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Sling Log bundle so far provided ability to dump all the rotated log files as part of zip generated via Felix WebConsole support. With shift to Logback its not straightforward to  determine location of all rotated logs files e.g. one created via config xml &lt;/p&gt;

&lt;p&gt;Need to find a way to determine all such rotated log files and dump them. &lt;/p&gt;

&lt;p&gt;1. Dump all files from log folder&lt;br/&gt;
2. Dump only the file created via OSGi configuration as we know the pattern used and then use a logic similar to earlier version to determine all such files. For files generated by other appenders (one configured via xml) its not possible to determine the pattern post initialization&lt;/p&gt;</description>
                <environment></environment>
        <key id="12692823">SLING-3364</key>
            <summary>All rotated log files are not made part of the zip provided through webconsole</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chetanm">Chetan Mehrotra</assignee>
                                    <reporter username="chetanm">Chetan Mehrotra</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Feb 2014 10:34:38 +0000</created>
                <updated>Fri, 7 Mar 2014 06:16:22 +0000</updated>
                            <resolved>Tue, 25 Feb 2014 08:58:41 +0000</resolved>
                                                    <fixVersion>Commons Log 4.0.0</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13911402" author="chetanm" created="Tue, 25 Feb 2014 08:58:41 +0000"  >&lt;p&gt;Added support in &lt;a href=&quot;http://svn.apache.org/r1571618&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1571618&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This fix would enable including files which are rotated via simple patterns i.e. which do not change the prefix, which do not create rotated file in different directory etc would get included in zip&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371409</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 36 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1s0d3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371712</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3362] org.apache.sling.installer.factory.deploymentpackage fails to build</title>
                <link>https://issues.apache.org/jira/browse/SLING-3362</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;pom has dependency on installer.api 1.0-SNAPSHOT. &lt;/p&gt;

&lt;p&gt;&amp;lt;dependency&amp;gt;&lt;br/&gt;
            &amp;lt;groupId&amp;gt;org.apache.sling&amp;lt;/groupId&amp;gt;&lt;br/&gt;
            &amp;lt;artifactId&amp;gt;org.apache.sling.installer.api&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
            &amp;lt;version&amp;gt;1.0-SNAPSHOT&amp;lt;/version&amp;gt;&lt;br/&gt;
            &amp;lt;scope&amp;gt;provided&amp;lt;/scope&amp;gt;&lt;br/&gt;
        &amp;lt;/dependency&amp;gt;&lt;/p&gt;

&lt;p&gt;on a fresh machine, this snapshot version is not available and the build fails.&lt;/p&gt;

&lt;p&gt;api has been merged into core.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12692654">SLING-3362</key>
            <summary>org.apache.sling.installer.factory.deploymentpackage fails to build</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="amitgupt">Amit Gupta</assignee>
                                    <reporter username="amitgupt">Amit Gupta</reporter>
                        <labels>
                    </labels>
                <created>Sat, 1 Feb 2014 11:29:33 +0000</created>
                <updated>Thu, 3 Jul 2014 08:16:21 +0000</updated>
                            <resolved>Sat, 1 Feb 2014 12:02:54 +0000</resolved>
                                                    <fixVersion>Installer Core 3.5.2</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13888540" author="amitgupt" created="Sat, 1 Feb 2014 11:30:29 +0000"  >&lt;p&gt;seems to be affect of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2947&quot; title=&quot;Merge installer api back into core&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2947&quot;&gt;&lt;del&gt;SLING-2947&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13888552" author="amitgupt" created="Sat, 1 Feb 2014 12:02:54 +0000"  >&lt;p&gt;fixed the pom in revision: 1563397  &lt;/p&gt;

&lt;p&gt;using latest released installer.core now.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371249</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 39 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1rzdr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371552</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3361] JcrResourceUtil.createPath does not work in certain ACL setups</title>
                <link>https://issues.apache.org/jira/browse/SLING-3361</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;JcrResourceUtil.createPath fails for path such as &lt;br/&gt;
/a/b/c/d/e&lt;br/&gt;
where /ab/c already exists and d/e needs to be created in certain acl setups i.e.&lt;br/&gt;
user has read &amp;amp; write permission to /a/b/c not don&apos;t have read permission on /.&lt;br/&gt;
Current implementation expects that user would have read permission on root node.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12692503">SLING-3361</key>
            <summary>JcrResourceUtil.createPath does not work in certain ACL setups</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="amitgupt">Amit Gupta</assignee>
                                    <reporter username="amitgupt">Amit Gupta</reporter>
                        <labels>
                    </labels>
                <created>Fri, 31 Jan 2014 12:22:26 +0000</created>
                <updated>Sat, 8 Mar 2014 16:19:33 +0000</updated>
                            <resolved>Fri, 31 Jan 2014 16:29:49 +0000</resolved>
                                    <version>JCR Resource 2.3.0</version>
                                    <fixVersion>JCR Resource 2.3.2</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13887686" author="amitgupt" created="Fri, 31 Jan 2014 12:23:06 +0000"  >&lt;p&gt;patch file&lt;/p&gt;</comment>
                            <comment id="13887695" author="amitgupt" created="Fri, 31 Jan 2014 12:28:32 +0000"  >&lt;p&gt;only fixed the issue in &lt;br/&gt;
Node createPath(String path,&lt;br/&gt;
                                  String intermediateNodeType,&lt;br/&gt;
                                  String nodeType,&lt;br/&gt;
                                  Session session,&lt;br/&gt;
                                  boolean autoSave)&lt;/p&gt;

&lt;p&gt;for the other variant, I am not sure if we need to fix that as well. As caller is already passing parentNode, so we can assume that user already have access to  parentNode.&lt;/p&gt;</comment>
                            <comment id="13887712" author="amitgupt" created="Fri, 31 Jan 2014 13:11:19 +0000"  >&lt;p&gt;fixing other variants as well.. added one more specific test for the variant.&lt;/p&gt;</comment>
                            <comment id="13887883" author="amitgupt" created="Fri, 31 Jan 2014 16:29:29 +0000"  >&lt;p&gt;patch applied At revision: 1563166  &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12626296" name="SLING-3361.patch" size="7160" author="amitgupt" created="Fri, 31 Jan 2014 13:11:19 +0000"/>
                            <attachment id="12626292" name="bug.patch" size="5571" author="amitgupt" created="Fri, 31 Jan 2014 12:23:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371098</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 39 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1rygn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371402</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3354] Search paths are returned in wrong order</title>
                <link>https://issues.apache.org/jira/browse/SLING-3354</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The resource resolver returns the default search paths in the wrong order&lt;/p&gt;</description>
                <environment></environment>
        <key id="12692242">SLING-3354</key>
            <summary>Search paths are returned in wrong order</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 30 Jan 2014 10:09:35 +0000</created>
                <updated>Thu, 6 Feb 2014 18:25:51 +0000</updated>
                            <resolved>Thu, 30 Jan 2014 10:10:32 +0000</resolved>
                                    <version>Testing ResourceResolver Mock 0.1.0</version>
                                    <fixVersion>Testing ResourceResolver Mock 0.2.0</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13886459" author="cziegeler" created="Thu, 30 Jan 2014 10:10:32 +0000"  >&lt;p&gt;Fixed, I&apos;ve also updated the project to the latest api&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370837</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 39 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1rwuv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371142</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3351] org.apache.sling.jcr.resource.JcrResourceUtil.setProperty method doesn&apos;t handle primitive arrays</title>
                <link>https://issues.apache.org/jira/browse/SLING-3351</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;org.apache.sling.jcr.resource.JcrResourceUtil.setProperty(Node, String, Object) method throws ClassCastException if primitive array is passed as a property value.&lt;/p&gt;

&lt;p&gt;The reason is that the method implementation attempts cast propertyValue parameter to Object[] directly after detecting that the property class is an array (see &lt;a href=&quot;http://svn.apache.org/repos/asf/sling/trunk/bundles/jcr/resource/src/main/java/org/apache/sling/jcr/resource/JcrResourceUtil.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/sling/trunk/bundles/jcr/resource/src/main/java/org/apache/sling/jcr/resource/JcrResourceUtil.java&lt;/a&gt; lines 176:177):&lt;br/&gt;
....&lt;br/&gt;
        } else if ( propertyValue.getClass().isArray() ) {&lt;br/&gt;
            final Object[] values = (Object[])propertyValue;&lt;br/&gt;
.....&lt;br/&gt;
This doesn&apos;t take into account that primitive arrays are not subclasses of Object[] thus leading to ClassCastException.&lt;/p&gt;

&lt;p&gt;Here is the fixed version of setProperty method:&lt;/p&gt;

&lt;p&gt;    public static void setProperty(final Node node,&lt;br/&gt;
            final String propertyName,&lt;br/&gt;
            final Object propertyValue)&lt;br/&gt;
            throws RepositoryException {&lt;br/&gt;
        if ( propertyValue == null ) &lt;/p&gt;
{
            node.setProperty(propertyName, (String)null);
        }
&lt;p&gt; else if ( propertyValue.getClass().isArray() ) {&lt;br/&gt;
            final int length = Array.getLength(propertyValue);&lt;br/&gt;
            final Value[] setValues = new Value&lt;span class=&quot;error&quot;&gt;&amp;#91;length&amp;#93;&lt;/span&gt;;&lt;br/&gt;
            for(int i=0; i&amp;lt;length; i++) &lt;/p&gt;
{
                Object value = Array.get(propertyValue, i);
                setValues[i] = createValue(value, node.getSession());
            }
&lt;p&gt;            node.setProperty(propertyName, setValues);&lt;br/&gt;
        } else &lt;/p&gt;
{
            node.setProperty(propertyName, createValue(propertyValue, node.getSession()));
        }
&lt;p&gt;    }&lt;/p&gt;</description>
                <environment></environment>
        <key id="12692177">SLING-3351</key>
            <summary>org.apache.sling.jcr.resource.JcrResourceUtil.setProperty method doesn&apos;t handle primitive arrays</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="akrainiouk">Alexei Krainiouk</reporter>
                        <labels>
                    </labels>
                <created>Wed, 29 Jan 2014 23:24:48 +0000</created>
                <updated>Mon, 17 Feb 2014 15:48:03 +0000</updated>
                            <resolved>Thu, 30 Jan 2014 09:03:25 +0000</resolved>
                                    <version>JCR Resource 2.2.8</version>
                                    <fixVersion>JCR Resource 2.3.0</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13886161" author="justinedelson" created="Thu, 30 Jan 2014 01:52:29 +0000"  >&lt;p&gt;Could you create a proper patch?&lt;/p&gt;</comment>
                            <comment id="13886342" author="cziegeler" created="Thu, 30 Jan 2014 07:02:53 +0000"  >&lt;p&gt;Thanks for the patch, Alexei. It&apos;s applied&lt;/p&gt;</comment>
                            <comment id="13886614" author="akrainiouk" created="Thu, 30 Jan 2014 14:35:38 +0000"  >&lt;p&gt;Sorry for not submitting proper patch, - I was having troubles checking out your project yesterday.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370768</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 39 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1rwg7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371076</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3348] fix sortable table headers in /system/console/topology</title>
                <link>https://issues.apache.org/jira/browse/SLING-3348</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The table headers in /system/console/topology suggest sortability while it actually doesn&apos;t work.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12692029">SLING-3348</key>
            <summary>fix sortable table headers in /system/console/topology</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="stefanegli">Stefan Egli</reporter>
                        <labels>
                    </labels>
                <created>Wed, 29 Jan 2014 13:03:54 +0000</created>
                <updated>Sat, 8 Mar 2014 16:17:53 +0000</updated>
                            <resolved>Tue, 4 Feb 2014 18:22:38 +0000</resolved>
                                    <version>Discovery Impl 1.0.2</version>
                                    <fixVersion>Discovery Impl 1.0.4</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370619</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 40 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1rvkn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370929</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3346] Feature#isEnabled(ExecutionContext) method not evaluated</title>
                <link>https://issues.apache.org/jira/browse/SLING-3346</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;It is enough for a &lt;em&gt;Resource&lt;/em&gt; having the &lt;tt&gt;sling:features&lt;/tt&gt; property set with a valid &lt;em&gt;Feature&lt;/em&gt; service name to be disabled &lt;del&gt;and dropping it re-enables the &lt;em&gt;Resource&lt;/em&gt;&lt;/del&gt; it doesn&apos;t matter which boolean value the method &lt;tt&gt;Feature#isEnabled(ExecutionContext)&lt;/tt&gt; returns, it is not hit neither evaluated.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12692003">SLING-3346</key>
            <summary>Feature#isEnabled(ExecutionContext) method not evaluated</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="simone.tripodi">Simone Tripodi</reporter>
                        <labels>
                    </labels>
                <created>Wed, 29 Jan 2014 10:44:05 +0000</created>
                <updated>Fri, 4 Apr 2014 09:05:51 +0000</updated>
                            <resolved>Wed, 29 Jan 2014 11:34:09 +0000</resolved>
                                                    <fixVersion>Feature Flags 1.0.0</fixVersion>
                    <fixVersion>Resource Resolver 1.1.0</fixVersion>
                                    <component>Extensions</component>
                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13885257" author="fmeschbe" created="Wed, 29 Jan 2014 11:34:09 +0000"  >&lt;p&gt;Turns out we need both filter registration because initial resource resolution takes place before any Sling filter is called&lt;/p&gt;

&lt;p&gt;An additional issues was unconvered where negative feature checks had no effect&lt;/p&gt;

&lt;p&gt;Fixed both issues in Rev. 1562416&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370593</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 40 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1rvev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370903</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3345] Regression of SLING-1414</title>
                <link>https://issues.apache.org/jira/browse/SLING-3345</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The issue described in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1414&quot; title=&quot;JSP Expression Language (eg: &amp;quot;${resource.path}&amp;quot;) to call the getPath() method of a Resource object returned by ResourceResolver.findResources() result in error.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1414&quot;&gt;&lt;del&gt;SLING-1414&lt;/del&gt;&lt;/a&gt; arises only on JDK 1.7 on the previously described Linux platform. It can be assumed that there is a platform-specific deviation in compiler behavior, as the issue does not arise in MacOs or Windows environments:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Caused by: java.lang.IllegalAccessException: &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt; javax.el.BeanELResolver can not access a member of &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.sling.jcr.resource.internal.helper.jcr.JcrItemResource with modifiers &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt;&quot;&lt;/span&gt;
	at sun.reflect.Reflection.ensureMemberAccess(Reflection.java:95)
	at java.lang.reflect.AccessibleObject.slowCheckMemberAccess(AccessibleObject.java:261)
	at java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:253)
	at java.lang.reflect.Method.invoke(Method.java:594)
	at javax.el.BeanELResolver.getValue(BeanELResolver.java:62)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>GNU/Linux 2.6.18-274.18.1.el5&lt;br/&gt;
java version &amp;quot;1.7.0&amp;quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.7.0-b147)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 21.0-b17, mixed mode)</environment>
        <key id="12691662">SLING-3345</key>
            <summary>Regression of SLING-1414</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="o.otto">Olaf Otto</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Jan 2014 16:38:55 +0000</created>
                <updated>Mon, 17 Feb 2014 15:48:02 +0000</updated>
                            <resolved>Thu, 30 Jan 2014 08:27:37 +0000</resolved>
                                    <version>JCR Resource 2.2.8</version>
                                    <fixVersion>JCR Resource 2.3.0</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13886403" author="cziegeler" created="Thu, 30 Jan 2014 08:26:10 +0000"  >&lt;p&gt;It seems, at some point of time we added public back as the modifier for those classes&lt;/p&gt;</comment>
                            <comment id="13886404" author="cziegeler" created="Thu, 30 Jan 2014 08:27:37 +0000"  >&lt;p&gt;Thanks for reporting this, I&apos;ve made the classes now package private again and added a comment why this is needed.&lt;br/&gt;
This required to move one class (adapter factory) and adding a test resource class to circumvent the package private modifier&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370407</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 40 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ruc7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370728</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3344] log bundle is too conservative in exporting logback</title>
                <link>https://issues.apache.org/jira/browse/SLING-3344</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In trying to deploy a logback appender provided by a cloud logging provider, I found that there are several packages which are not exported by Commons Log, namely ch.qos.logback.classic.encoder and ch.qos.logback.classic.pattern*.&lt;/p&gt;

&lt;p&gt;These should be exported by Commons Log.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12691655">SLING-3344</key>
            <summary>log bundle is too conservative in exporting logback</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Jan 2014 15:54:11 +0000</created>
                <updated>Fri, 7 Mar 2014 06:16:22 +0000</updated>
                            <resolved>Wed, 29 Jan 2014 21:40:01 +0000</resolved>
                                                    <fixVersion>Commons Log 4.0.0</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13884972" author="justinedelson" created="Wed, 29 Jan 2014 03:55:33 +0000"  >&lt;p&gt;fixed in r1562346&lt;/p&gt;</comment>
                            <comment id="13885143" author="chetanm" created="Wed, 29 Jan 2014 08:42:17 +0000"  >&lt;p&gt;While we are at it ... should we export all packages from Logback. At starting I only exported those packages which were like defining the API. Probably we should export all.&lt;/p&gt;

&lt;p&gt;Thoughts?&lt;/p&gt;</comment>
                            <comment id="13885311" author="justinedelson" created="Wed, 29 Jan 2014 12:57:08 +0000"  >&lt;p&gt;I&apos;m not 100% sure what the expectation is from Appender creators as to how much of Logback they can depend upon. Probably all of it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; in which case you&apos;re correct.&lt;/p&gt;</comment>
                            <comment id="13885585" author="cziegeler" created="Wed, 29 Jan 2014 17:53:06 +0000"  >&lt;p&gt;Yes, I fear we have to go this route - while implementing an appender I exactly ran into that problem: i wanted to use one of the logback classes, but that package was not exported &lt;/p&gt;</comment>
                            <comment id="13885844" author="justinedelson" created="Wed, 29 Jan 2014 21:40:01 +0000"  >&lt;p&gt;added all packages in r 1562601&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370400</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 40 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ruan:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370721</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3343] Sling-Junit-Core Method Name in Test selector is not honoured</title>
                <link>https://issues.apache.org/jira/browse/SLING-3343</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When using method name in test selection in browser, method name is not honoured.&lt;br/&gt;
For Example,&lt;br/&gt;
When hitting url like,&lt;br/&gt;
&amp;lt;server:port&amp;gt;/system/sling/junit/com.demo.test.demoTest/methodName.html&lt;br/&gt;
and executing the test, all the tests in the class demoTest are execute instead of just executing the test methodName.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12691614">SLING-3343</key>
            <summary>Sling-Junit-Core Method Name in Test selector is not honoured</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sufyanharoon">Sufyan Haroon</reporter>
                        <labels>
                            <label>bug</label>
                    </labels>
                <created>Tue, 28 Jan 2014 11:20:47 +0000</created>
                <updated>Sat, 6 May 2023 10:25:15 +0000</updated>
                            <resolved>Sat, 6 May 2023 10:25:15 +0000</resolved>
                                    <version>org.apache.sling.testing.tools 1.0.6</version>
                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13884557" author="rohitkumarbhagat" created="Tue, 28 Jan 2014 20:27:15 +0000"  >&lt;p&gt;As a fix, added method name to post path in order to invoke only selected test method. Attaching patch.&lt;/p&gt;</comment>
                            <comment id="13885075" author="sufyanharoon" created="Wed, 29 Jan 2014 06:49:41 +0000"  >&lt;p&gt;As a fix we need to add method name in test execution path in two places. Attaching the patch for the same.&lt;/p&gt;</comment>
                            <comment id="13885076" author="sufyanharoon" created="Wed, 29 Jan 2014 06:50:07 +0000"  >&lt;p&gt;Patch for fixing it in both the servlets.&lt;/p&gt;</comment>
                            <comment id="14044092" author="klcodanr" created="Wed, 25 Jun 2014 21:46:31 +0000"  >&lt;p&gt;Neither patch seemed to work.  Could you take a look at this counter proposal patch and see if that fixes this issue?&lt;/p&gt;</comment>
                            <comment id="14061892" author="egli" created="Tue, 15 Jul 2014 09:46:52 +0000"  >&lt;p&gt;moved from 1.0.8 to 1.0.10&lt;/p&gt;</comment>
                            <comment id="14489095" author="cziegeler" created="Fri, 10 Apr 2015 07:18:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=klcodanr&quot; class=&quot;user-hover&quot; rel=&quot;klcodanr&quot;&gt;klcodanr&lt;/a&gt; Can we get this resolved by applying the latest patch or should we defer the issue (I&apos;m planning to cut a release)?&lt;/p&gt;</comment>
                            <comment id="14503056" author="klcodanr" created="Mon, 20 Apr 2015 15:42:40 +0000"  >&lt;p&gt;Sorry for the delay in replying.  I didn&apos;t get feedback, so pushing it back is fine.  &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12652504" name="SLING-3343.diff" size="2115" author="klcodanr" created="Wed, 25 Jun 2014 21:46:31 +0000"/>
                            <attachment id="12625653" name="SLING-3343.patch" size="1418" author="rohitkumarbhagat" created="Tue, 28 Jan 2014 20:27:15 +0000"/>
                            <attachment id="12625804" name="SLING-3343.txt" size="2854" author="sufyanharoon" created="Wed, 29 Jan 2014 06:50:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370359</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 28 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1rtxj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370660</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3341] [logback] Race condition in configuring Logback</title>
                <link>https://issues.apache.org/jira/browse/SLING-3341</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Current way to configure Logback works like as below&lt;/p&gt;

&lt;p&gt;1. Any change in config finally leads a call to org.apache.sling.commons.log.logback.internal.LogbackManager#configChanged&lt;/p&gt;

&lt;p&gt;2. The config change is not done in concurrent way. A thread must acquire the &lt;tt&gt;resetLock&lt;/tt&gt; to trigger  Logback reset. If this lock cannot be acquired then it just sets a flag &lt;tt&gt;configChanged&lt;/tt&gt; to true. The Logback reset job upon completion checks &lt;tt&gt;configChanged&lt;/tt&gt; . if found to be true then it reschedules the job to load Logback again&lt;/p&gt;

&lt;p&gt;In current impl there is a small race condition where its possible that Logback reset job does not see the &lt;tt&gt;configChanged&lt;/tt&gt; flag and hence Logback does not get reinitialized and is configured with stale config&lt;/p&gt;</description>
                <environment></environment>
        <key id="12691368">SLING-3341</key>
            <summary>[logback] Race condition in configuring Logback</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chetanm">Chetan Mehrotra</assignee>
                                    <reporter username="chetanm">Chetan Mehrotra</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 Jan 2014 13:00:20 +0000</created>
                <updated>Mon, 3 Feb 2014 08:35:26 +0000</updated>
                            <resolved>Mon, 3 Feb 2014 08:35:26 +0000</resolved>
                                    <version>Commons Log 4.0.0</version>
                                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13882801" author="chetanm" created="Mon, 27 Jan 2014 13:24:58 +0000"  >&lt;p&gt;Refactored the logic in &lt;a href=&quot;http://svn.apache.org/r1561666&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1561666&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13883913" author="chetanm" created="Tue, 28 Jan 2014 08:46:00 +0000"  >&lt;p&gt;Fixed another race condition in &lt;a href=&quot;http://svn.apache.org/r1562003&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1562003&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;In this case there was a race condition when logbackManager is initialized. It can happen that OSGi config events are received while the started flag is set to false and config has been invoked&lt;/p&gt;</comment>
                            <comment id="13889315" author="chetanm" created="Mon, 3 Feb 2014 08:35:26 +0000"  >&lt;p&gt;issue has not surfaced/reported again post this fix. Current fixes looks sufficient. Closing it for now&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370113</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 39 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1rsg7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370415</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3340] Warnings on startup regarding no-op loggers</title>
                <link>https://issues.apache.org/jira/browse/SLING-3340</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Depening on the order in which bundles are installed Slf4j might use NoOp loggers for loggers created before Logback is initialized. One would see a warning log like below&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Slf4j is not initialized yet. Delaying Logback support initialization
SLF4J: The following loggers will not work because they were created
SLF4J: during the default configuration phase of the underlying logging system.
SLF4J: See also http://www.slf4j.org/codes.html#substituteLogger
SLF4J: org.apache.sling.commons.logservice
SLF4J: org.apache.sling.installer.core
SLF4J: org.apache.sling.installer.core.impl.OsgiInstallerImpl
SLF4J: org.apache.sling.audit.osgi.installer
SLF4J: org.apache.sling.installer.core.impl.PersistentResourceList
SLF4J: org.apache.sling.installer.core.impl.EntityResourceList
SLF4J: org.apache.sling.installer.core.impl.tasks.BundleTaskCreator
SLF4J: org.apache.sling.installer.core.impl.DefaultTransformer
SLF4J: org.apache.sling.installer.provider.file
SLF4J: org.apache.sling.installer.provider.file.impl.ServicesListener
SLF4J: org.apache.sling.installer.provider.file.impl.FileInstaller
SLF4J: org.apache.sling.javax.activation
SLF4J: org.apache.sling.javax.activation.internal.Activator
SLF4J: org.apache.sling.javax.activation.internal.OsgiMailcapCommandMap
SLF4J: org.apache.sling.launchpad.installer
SLF4J: org.apache.sling.settings
SLF4J: org.apache.sling.settings.impl.SlingSettingsServiceImpl
SLF4J: org.apache.sling.launchpad.installer.impl.LaunchpadConfigInstaller
SLF4J: org.apache.sling.installer.core.impl.tasks.RestartActiveBundlesTask
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Given that log from Sling installer category are important and should not be lost we should avoid such scenario to be created.&lt;/p&gt;

&lt;p&gt;See thread &lt;a href=&quot;http://markmail.org/thread/n4zyj5akkh24ahh5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/thread/n4zyj5akkh24ahh5&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12691192">SLING-3340</key>
            <summary>Warnings on startup regarding no-op loggers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chetanm">Chetan Mehrotra</assignee>
                                    <reporter username="chetanm">Chetan Mehrotra</reporter>
                        <labels>
                    </labels>
                <created>Sat, 25 Jan 2014 07:06:33 +0000</created>
                <updated>Wed, 22 Jul 2015 06:40:49 +0000</updated>
                            <resolved>Wed, 22 Jul 2015 06:40:30 +0000</resolved>
                                    <version>Commons Log 4.0.0</version>
                                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13889254" author="chetanm" created="Mon, 3 Feb 2014 06:13:37 +0000"  >&lt;p&gt;Opened bug in Slf4j &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; and sent a pull request for the possible fix &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://bugzilla.slf4j.org/show_bug.cgi?id=311&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bugzilla.slf4j.org/show_bug.cgi?id=311&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/qos-ch/slf4j/pull/58&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/qos-ch/slf4j/pull/58&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13893099" author="chetanm" created="Thu, 6 Feb 2014 06:29:19 +0000"  >&lt;p&gt;The bug has been fixed in Slf4j and a new release 1.7.6 with the fix is available &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://www.slf4j.org/news.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.slf4j.org/news.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13910061" author="chetanm" created="Mon, 24 Feb 2014 06:56:29 +0000"  >&lt;p&gt;Updated the Slf4j related bundle versions in &lt;a href=&quot;http://svn.apache.org/r1571156&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1571156&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14636383" author="chetanm" created="Wed, 22 Jul 2015 06:40:30 +0000"  >&lt;p&gt;Issue was fixed via update of Slf4j dependency. No change performed in Commons Log hence not setting any fix version&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12694502">SLING-3386</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369935</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 15 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1rrcv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370237</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3338] SlingHttpServletResponseImpl.encodeURL(String) and encodeRedirectURL(String) return wrong Url in multiple domain setups</title>
                <link>https://issues.apache.org/jira/browse/SLING-3338</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The &amp;lt;c:url&amp;gt; JSTL tag (org.apache.taglibs.standard.tag.rt.core.UrlTag) does not work with multi domain mappings configured to the same path.&lt;/p&gt;

&lt;p&gt;org.apache.taglibs.standard.tag.rt.core.UrlTag uses&lt;br/&gt;
org.apache.taglibs.standard.tag.common.core.UrlSupport which calls&lt;br/&gt;
response.encodeURL(result); in the doEndTag method. That goes down to&lt;br/&gt;
org.apache.sling.engine.impl.SlingHttpServletResponseImpl.encodeUrl(String).&lt;/p&gt;

&lt;p&gt;SlingHttpServletResponseImpl.encodeUrl calls SlingHttpServletResponseImpl.map(String) without the request. This can result in wrong mapping if more than one mapping matches always the frist one is picked.&lt;/p&gt;

&lt;p&gt;Can be reproduces by using the following mapping config&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;a href=&quot;http://localhost:4503/etc/map/http.tidy.-1.json):&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:4503/etc/map/http.tidy.-1.json):&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;{&lt;br/&gt;
  &quot;jcr:primaryType&quot;: &quot;sling:Folder&quot;,&lt;br/&gt;
  &quot;host-a1.com&quot;: &lt;/p&gt;
{
    &quot;jcr:createdBy&quot;: &quot;admin&quot;,
    &quot;sling:internalRedirect&quot;: [
      &quot;/content/a&quot;,
      &quot;/&quot;
    ],
  &quot;jcr:primaryType&quot;: &quot;sling:Mapping&quot;
  }
&lt;p&gt;,&lt;br/&gt;
  &quot;host-a2.com&quot;: &lt;/p&gt;
{
    &quot;sling:internalRedirect&quot;: [
      &quot;/content/a&quot;,
      &quot;/&quot;
    ],
    &quot;jcr:primaryType&quot;: &quot;sling:Mapping&quot;
  }
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;When using &amp;lt;c:url&amp;gt; to encode a link a request on host-a1.com works fine. The return value of the tag is a relative link. Access via host-a2.com is broken and &amp;lt;c:url&amp;gt; return a full link pointing to domain hoas-a1.com.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12691045">SLING-3338</key>
            <summary>SlingHttpServletResponseImpl.encodeURL(String) and encodeRedirectURL(String) return wrong Url in multiple domain setups</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="mhaack">Markus Haack</reporter>
                        <labels>
                            <label>jstl</label>
                            <label>mapping</label>
                            <label>taglib</label>
                    </labels>
                <created>Fri, 24 Jan 2014 14:34:24 +0000</created>
                <updated>Thu, 17 Apr 2014 08:52:51 +0000</updated>
                            <resolved>Fri, 24 Jan 2014 15:38:49 +0000</resolved>
                                    <version>Engine 2.2.8</version>
                                    <fixVersion>Engine 2.3.0</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13881039" author="justinedelson" created="Fri, 24 Jan 2014 15:21:00 +0000"  >&lt;p&gt;updating summary to indicate that issue also impacts encodeRedirectURL()&lt;/p&gt;</comment>
                            <comment id="13881051" author="justinedelson" created="Fri, 24 Jan 2014 15:38:49 +0000"  >&lt;p&gt;fixed in r1561035 by passing the request into the map() method.&lt;/p&gt;</comment>
                            <comment id="13922085" author="fmeschbe" created="Thu, 6 Mar 2014 07:08:24 +0000"  >&lt;p&gt;Close after release&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12709011">SLING-3504</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369788</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 35 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1rqg7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370090</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3329] Jobs in ordered queue might be ignored</title>
                <link>https://issues.apache.org/jira/browse/SLING-3329</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If jobs have the exact same created time, only one of these jobs is executed. The other job stays in the repository and is executed on next restart of the bundle&lt;/p&gt;</description>
                <environment></environment>
        <key id="12690087">SLING-3329</key>
            <summary>Jobs in ordered queue might be ignored</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Jan 2014 19:10:32 +0000</created>
                <updated>Fri, 24 Jan 2014 16:24:18 +0000</updated>
                            <resolved>Tue, 21 Jan 2014 19:14:48 +0000</resolved>
                                    <version>Event 3.3.2</version>
                                    <fixVersion>Event 3.3.4</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13877758" author="cziegeler" created="Tue, 21 Jan 2014 19:14:48 +0000"  >&lt;p&gt;The comparator did not handle the case if two jobs have the same created time. If changed this by comparing the id if the date is the same&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369044</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 41 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1rlwn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369349</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3321] Incorrect caching/timeout behavior with slow health check</title>
                <link>https://issues.apache.org/jira/browse/SLING-3321</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;We might not need to fix this right now, just making a note of some tests I did with the SlowHealthCheckSample.&lt;/p&gt;

&lt;p&gt;By default SlowHealthCheckSample takes 1200-3700 msec to execute, and I have set the cache lifetime to 5 seconds.&lt;/p&gt;

&lt;p&gt;With these settings, executing the health check every second should always provide a result: even if a particular execute call takes more than the default 2 seconds execution timeout, an older cached result should still be available as 3700 (max execution time) + 1000 (execution period) is smaller than 5000 (time to live in cache)&lt;/p&gt;

&lt;p&gt;I&apos;ll attach an execution log which shows that this is not the case. I see two problems:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;A result which times out is cached and reused, even though the actual execution might have finished in the meantime. We then get a timeout result and the actual result is thrown away. There&apos;s no &quot; execution counter=2&quot; result in my log for example.&lt;/li&gt;
	&lt;li&gt;There&apos;s no way to say &quot;execute the health check, but if it times out use an older result if still valid&quot;. We might need an execution option for that, as you don&apos;t always want that.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;I think this is a realistic use case, checking external systems for example might have that kind of timing characteristics. I should be able to call the executor for such an HC every second, for example, and get a result every time,.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12689234">SLING-3321</key>
            <summary>Incorrect caching/timeout behavior with slow health check</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Jan 2014 13:41:53 +0000</created>
                <updated>Fri, 31 Jan 2014 08:04:15 +0000</updated>
                            <resolved>Mon, 27 Jan 2014 09:26:23 +0000</resolved>
                                    <version>Health Check Core 1.1.0</version>
                                    <fixVersion>Health Check Core 1.1.0</fixVersion>
                                    <component>Health Check</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13873400" author="bdelacretaz" created="Thu, 16 Jan 2014 13:45:42 +0000"  >&lt;p&gt;Execution log attached as &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3321&quot; title=&quot;Incorrect caching/timeout behavior with slow health check&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3321&quot;&gt;&lt;del&gt;SLING-3321&lt;/del&gt;&lt;/a&gt;-log.txt&lt;/p&gt;</comment>
                            <comment id="13879898" author="bdelacretaz" created="Thu, 23 Jan 2014 12:46:25 +0000"  >&lt;p&gt;Looks much better after &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;&apos;s &lt;a href=&quot;http://svn.apache.org/r1560567&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1560567&lt;/a&gt; changes, thanks!&lt;/p&gt;

&lt;p&gt;I still get some timeouts with the while loop of the &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3321&quot; title=&quot;Incorrect caching/timeout behavior with slow health check&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3321&quot;&gt;&lt;del&gt;SLING-3321&lt;/del&gt;&lt;/a&gt;-log.txt attachment and resultCacheTtlInMs set to 5000, but timeout results are not cached anymore.&lt;/p&gt;

&lt;p&gt;To avoid getting timeouts we might implement a policy to start executing a new check if the cached result is older than say 50% of its time to live in cache, but that&apos;s probably better considered together with a general mechanism to refresh HC results regularly.&lt;/p&gt;</comment>
                            <comment id="13882656" author="cziegeler" created="Mon, 27 Jan 2014 09:26:23 +0000"  >&lt;p&gt;I&apos;ve changed the handling of futures completely - now only final results are cached and the managing of futures is synchronized to avoid double creation/running of futures when the same check is requested in parallel&lt;/p&gt;</comment>
                            <comment id="13882716" author="bdelacretaz" created="Mon, 27 Jan 2014 09:52:33 +0000"  >&lt;p&gt;Looks good, I&apos;ve done a quick test with the while loop of  the &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3321&quot; title=&quot;Incorrect caching/timeout behavior with slow health check&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3321&quot;&gt;&lt;del&gt;SLING-3321&lt;/del&gt;&lt;/a&gt;-log.txt attachment, with another similar loop in parallel that executes the slow health check very often, in parallel with the main test. &lt;/p&gt;

&lt;p&gt;There&apos;s no double execution, I still get occasional execution which is expected with the test&apos;s timings.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12623378" name="SLING-3321-log.txt" size="4723" author="bdelacretaz" created="Thu, 16 Jan 2014 13:45:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368201</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 40 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1rgpb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368506</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3320] Use service ranking to sort BindingsValuesProvider services</title>
                <link>https://issues.apache.org/jira/browse/SLING-3320</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I have implemented two basic BindingsValuesProviders like this.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@Service
@Component(immediate=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;)
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;MyBindings &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; BindingsValuesProvider {
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;What I want to make sure is that they are &lt;b&gt;always&lt;/b&gt; executed in the same order, first A, then B.&lt;br/&gt;
Because I want to re-use objects that were set in the first BindingsValuesProvider.&lt;/p&gt;

&lt;p&gt;Currently I don&apos;t have a way to do this.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12689191">SLING-3320</key>
            <summary>Use service ranking to sort BindingsValuesProvider services</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fvisser">Feike Visser</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Jan 2014 08:53:18 +0000</created>
                <updated>Fri, 7 Mar 2014 08:52:41 +0000</updated>
                            <resolved>Fri, 14 Feb 2014 08:12:13 +0000</resolved>
                                    <version>Scripting Core 2.0.24</version>
                                    <fixVersion>Scripting Core 2.0.26</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="13873225" author="bdelacretaz" created="Thu, 16 Jan 2014 10:19:54 +0000"  >&lt;p&gt;Doesn&apos;t a service.ranking property on each service work?&lt;/p&gt;

&lt;p&gt;Note that the value has to be an integer, IIRC you don&apos;t get a warning if it&apos;s not.&lt;/p&gt;</comment>
                            <comment id="13873234" author="fvisser" created="Thu, 16 Jan 2014 10:29:41 +0000"  >&lt;p&gt;Is this not used only for the startup of a service?&lt;/p&gt;

&lt;p&gt;Also should be number be low or high to get the service executed at the end?&lt;/p&gt;</comment>
                            <comment id="13873240" author="bdelacretaz" created="Thu, 16 Jan 2014 10:39:00 +0000"  >&lt;p&gt;service.ranking can be used at any time, the code that uses the services just needs to sort the ServiceReference objects to get the services in the order of that integer value. I&apos;m not sure if we are currently doing that for BVPs, but if we are not we should.&lt;/p&gt;

&lt;p&gt;Whether the order is up or down depends on the code that uses the services.&lt;/p&gt;

&lt;p&gt;If you could try changing the ranking to check if that has an impact that would be nice, or even better add tests to &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; that create BVPs with various rankings and check the result. I think you just need to modify getProperties(String context, String engineName) to take an optional ranking parameter, add that to service properties, and add some tests that create BVPs in a single context with different rankings to verify.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://svn.apache.org/repos/asf/sling/trunk/bundles/scripting/core/src/test/java/org/apache/sling/scripting/core/impl/BindingsValuesProvidersByContextIT.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/sling/trunk/bundles/scripting/core/src/test/java/org/apache/sling/scripting/core/impl/BindingsValuesProvidersByContextIT.java&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13873263" author="fvisser" created="Thu, 16 Jan 2014 10:56:38 +0000"  >&lt;p&gt;Little experiment:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@Service
@Component(immediate=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;)
@Properties (
@Property(name = Constants.SERVICE_RANKING, intValue = 10, propertyPrivate = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;))
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;MyBindings2 &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; BindingsValuesProvider {

	@Override
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void addBindings(Bindings bindings) {
		&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ( bindings.get(&lt;span class=&quot;code-quote&quot;&gt;&quot;test&quot;&lt;/span&gt;) == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) { 
			&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;test not found!!!&quot;&lt;/span&gt;);
		}
	}
}

@Service
@Component(immediate=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;)
@Properties (
@Property(name = Constants.SERVICE_RANKING, intValue = 10000, propertyPrivate = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;))
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;MyBindings &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; BindingsValuesProvider {

	@Override
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void addBindings(Bindings bindings) {
		bindings.put(&lt;span class=&quot;code-quote&quot;&gt;&quot;test&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;test&quot;&lt;/span&gt;);
	}
}

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This works: so the higher the value the earlier it gets picked up.&lt;/p&gt;

&lt;p&gt;Do you know if there is a default when no ranking is specified?&lt;/p&gt;</comment>
                            <comment id="13873295" author="fvisser" created="Thu, 16 Jan 2014 11:37:36 +0000"  >&lt;p&gt;I was too early...after redeploying a few times it seems to be still executed at random...&lt;/p&gt;</comment>
                            <comment id="13873298" author="kwin" created="Thu, 16 Jan 2014 11:42:27 +0000"  >&lt;p&gt;Probably one has to leverage the PolicyOption greedy (OSGi Compendium 4.3, $112.3.5), otherwise it depends on the when a specific ValuesProvider becomes available.&lt;/p&gt;</comment>
                            <comment id="13873319" author="fvisser" created="Thu, 16 Jan 2014 12:23:07 +0000"  >&lt;p&gt;Do you think this is a bug?&lt;/p&gt;</comment>
                            <comment id="13873321" author="bdelacretaz" created="Thu, 16 Jan 2014 12:28:26 +0000"  >&lt;p&gt;Yes, as I said BVPs should be ordered by service ranking. I don&apos;t have time to work on this right now but if someone could contribute a test as described above that would already help.&lt;/p&gt;</comment>
                            <comment id="13873353" author="cziegeler" created="Thu, 16 Jan 2014 13:18:27 +0000"  >&lt;p&gt;This has nothing to do with the greedy option, the current implementation simply uses a service tracker and does not sort the services in any order. So adding a sort by using the service reference which already implements Comparable should do the trick&lt;/p&gt;</comment>
                            <comment id="13893619" author="radu.cotescu" created="Thu, 6 Feb 2014 18:28:30 +0000"  >&lt;p&gt;I&apos;ve attached a patch that uses the natural ordering of the BVPs&apos; service references in order to return the BVPs in the order of their service ranking. This should allow BVPs to depend on the values set by other BVPs with a lower service ranking.&lt;/p&gt;</comment>
                            <comment id="13894546" author="bdelacretaz" created="Fri, 7 Feb 2014 14:02:06 +0000"  >&lt;p&gt;I have committed a minimized version of your patch (i.e. without the formatting changes) in &lt;a href=&quot;http://svn.apache.org/r1565659&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1565659&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;Also added a few more tests in BindingsValuesProvidersByContextIT including mixing language-specific and generic providers.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu.cotescu&quot; class=&quot;user-hover&quot; rel=&quot;radu.cotescu&quot;&gt;radu.cotescu&lt;/a&gt; can you please cross-check?&lt;/p&gt;</comment>
                            <comment id="13894565" author="radu.cotescu" created="Fri, 7 Feb 2014 14:27:01 +0000"  >&lt;p&gt;Everything looks good to me. Can we also get a new release for the o.a.s.scripting.core bundle (2.0.26)?&lt;/p&gt;</comment>
                            <comment id="13894567" author="bdelacretaz" created="Fri, 7 Feb 2014 14:32:50 +0000"  >&lt;p&gt;Thanks - I won&apos;t have time to do a release myself in the next few days but I&apos;ve scheduled this issue for 2.0.26.&lt;/p&gt;</comment>
                            <comment id="13901207" author="fmeschbe" created="Fri, 14 Feb 2014 08:08:48 +0000"  >&lt;p&gt;This change has a problem in the removedService(ServiceReference) method: The genericBindingsValuesProviders now uses a ServiceReference as the key while the removedService method still assumes the service ID this causes a ClassCastException:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.ClassCastException: org.apache.felix.framework.ServiceRegistrationImpl$ServiceReferenceImpl cannot be cast to java.lang.Long
	at java.lang.Long.compareTo(Long.java:50)
	at java.util.concurrent.ConcurrentSkipListMap.doRemove(ConcurrentSkipListMap.java:1064)
	at java.util.concurrent.ConcurrentSkipListMap.remove(ConcurrentSkipListMap.java:1659)
	at org.apache.sling.scripting.core.impl.ContextBvpCollector.removedService(ContextBvpCollector.java:99)
	at org.apache.sling.scripting.core.impl.BindingsValuesProvidersByContextImpl$3.applyInContext(BindingsValuesProvidersByContextImpl.java:217)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13901208" author="fmeschbe" created="Fri, 14 Feb 2014 08:12:13 +0000"  >&lt;p&gt;Fixed ClassCastException in Rev. 1568213.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12627387" name="SLING-3320_1.diff" size="20328" author="radu" created="Thu, 6 Feb 2014 18:28:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368158</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 37 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1rgfr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368463</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3319] ResourceProvider does not receive selectors or extensions when root path is resolved.</title>
                <link>https://issues.apache.org/jira/browse/SLING-3319</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In order to find and sort ResourceProviders, the ResourceProviderEntry class from org.apache.sling.resourceprovider splits the request path into segments, subsequently traversing the segments to find provides with a root matching the entire path up to the current segment. However, The function split(String) of ResourceProviderEntry splits by &quot;/&quot;, thus resulting in the last segment containing any selectors and extensions of the current path, like so:&lt;/p&gt;

&lt;p&gt;/content/test/root.html -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;content, test, root.html&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;Thus a provider with a root path of /content/test/root is not found. The next iteration in ResourceResolver# resolveInternal(String absPath) will then provide /content/test/root to the ResourceProviderEntry. The provider is thus found, but invoked with /content/test/root (without any extensions or selectors).&lt;/p&gt;

&lt;p&gt;However when requesting a child resource:&lt;/p&gt;

&lt;p&gt;/content/test/root.html -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;content, test, root, child.html&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;the provider for root is found and thus invoked with /content/test/root/child.html , i.e. including any selectors and suffixes.&lt;/p&gt;

&lt;p&gt;In essence, a ResourceProvider can not utilize any selectors or extensions to parametrize the resolution of its root resource.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12689178">SLING-3319</key>
            <summary>ResourceProvider does not receive selectors or extensions when root path is resolved.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="o.otto">Olaf Otto</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Jan 2014 07:46:41 +0000</created>
                <updated>Fri, 17 Jan 2014 00:32:36 +0000</updated>
                            <resolved>Fri, 17 Jan 2014 00:32:36 +0000</resolved>
                                    <version>Resource Resolver 1.0.6</version>
                                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="14400">4h</timeoriginalestimate>
                            <timeestimate seconds="14400">4h</timeestimate>
                                        <comments>
                            <comment id="13874150" author="o.otto" created="Thu, 16 Jan 2014 23:34:46 +0000"  >&lt;p&gt;I have analyzed potential ways to alter this behavior. Removing the extension(s) during the split() or during the resolution phase later on has undesired side effects (i.e., bugs). For instance, the ResourceProviderEntry infers semantics from the number of elements resolved:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;// query: /libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;// resource Provider: libs/sling/servlet/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/GET.servlet
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;// list will match libs, sling, servlet, &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;// and there will be no resource provider at the end
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (entries.size() &amp;gt; 0 &amp;amp;&amp;amp; entries.size() == elements.length) {
	&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (entries.get(entries.size() - 1).getResourceProviders().length == 0) {
		logger.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;Resolved Synthetic {}&quot;&lt;/span&gt;, fullPath);
		&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; SyntheticResource(resourceResolver, fullPath, ResourceProvider.RESOURCE_TYPE_SYNTHETIC);
	}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I believe the underlying issue is a lack of distinction between the lookup path (created by the ResourceResolverImpl using a ResourcePathIterator) and the original path as passed to the ResourceResolver. In my opinion, the original path should be preserved and passed to the resolver obtained via the path created by the ResourcePathIterator.&lt;/p&gt;

&lt;p&gt;I have modified the ResourceResolverImpl to this extend, and ran both the unit tests and some integration tests against a CMS project using Sling - so far I spotted no error. However, this is a very sensitive change and must be reviewed with care.&lt;/p&gt;</comment>
                            <comment id="13874153" author="o.otto" created="Thu, 16 Jan 2014 23:37:32 +0000"  >&lt;p&gt;patchfile adding original path preservation to the resource resolver&lt;/p&gt;</comment>
                            <comment id="13874213" author="justinedelson" created="Fri, 17 Jan 2014 00:32:36 +0000"  >&lt;p&gt;As described in &lt;a href=&quot;http://markmail.org/message/eshsevv7gqwr5p2r&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/eshsevv7gqwr5p2r&lt;/a&gt;, this is not a bug.&lt;/p&gt;

&lt;p&gt;If the provider root is /content/test/root, it should never be asked for /content/test/root.html as that is not a child of /content/test/root.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12623533" name="SLING-3319.patch" size="75240" author="o.otto" created="Thu, 16 Jan 2014 23:37:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368145</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 41 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1rgd3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368450</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3317] Concurrent access to WeakHashMap in ConcurrentCache causes infinite loop, 100% CPU usage</title>
                <link>https://issues.apache.org/jira/browse/SLING-3317</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;On a web application with Apache Sling Scripting JSP 2.0.24, 100% CPU usage problem happened as following. It looks similar to the tomcat problem, &lt;a href=&quot;https://issues.apache.org/bugzilla/show_bug.cgi?id=50078&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://issues.apache.org/bugzilla/show_bug.cgi?id=50078&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;   java.lang.Thread.State: RUNNABLE&lt;br/&gt;
	at java.util.WeakHashMap.get(WeakHashMap.java:470)&lt;br/&gt;
	at org.apache.el.util.ConcurrentCache.get(ConcurrentCache.java:24)&lt;br/&gt;
	at org.apache.el.lang.ExpressionBuilder.createNodeInternal(ExpressionBuilder.java:90)&lt;br/&gt;
	at org.apache.el.lang.ExpressionBuilder.build(ExpressionBuilder.java:146)&lt;br/&gt;
	at org.apache.el.lang.ExpressionBuilder.createValueExpression(ExpressionBuilder.java:190)&lt;br/&gt;
	at org.apache.el.ExpressionFactoryImpl.createValueExpression(ExpressionFactoryImpl.java:68)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.jasper.el.ExpressionEvaluatorImpl.parseExpression(ExpressionEvaluatorImpl.java:45)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.jasper.el.ExpressionEvaluatorImpl.evaluate(ExpressionEvaluatorImpl.java:55)&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;   java.lang.Thread.State: RUNNABLE&lt;br/&gt;
	at java.util.WeakHashMap.eq(WeakHashMap.java:343)&lt;br/&gt;
	at java.util.WeakHashMap.put(WeakHashMap.java:521)&lt;br/&gt;
	at java.util.WeakHashMap.putAll(WeakHashMap.java:640)&lt;br/&gt;
	at org.apache.el.util.ConcurrentCache.put(ConcurrentCache.java:34)&lt;br/&gt;
	at org.apache.el.lang.ExpressionBuilder.createNodeInternal(ExpressionBuilder.java:123)&lt;br/&gt;
	at org.apache.el.lang.ExpressionBuilder.build(ExpressionBuilder.java:146)&lt;br/&gt;
	at org.apache.el.lang.ExpressionBuilder.createValueExpression(ExpressionBuilder.java:190)&lt;br/&gt;
	at org.apache.el.ExpressionFactoryImpl.createValueExpression(ExpressionFactoryImpl.java:68)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.jasper.el.ExpressionEvaluatorImpl.parseExpression(ExpressionEvaluatorImpl.java:45)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.jasper.el.ExpressionEvaluatorImpl.evaluate(ExpressionEvaluatorImpl.java:55)&lt;/p&gt;
&lt;hr /&gt;</description>
                <environment></environment>
        <key id="12688968">SLING-3317</key>
            <summary>Concurrent access to WeakHashMap in ConcurrentCache causes infinite loop, 100% CPU usage</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ianeboston">Ian Boston</assignee>
                                    <reporter username="takahito.kikuchi">Takahito Kikuchi</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Jan 2014 09:08:54 +0000</created>
                <updated>Mon, 4 Dec 2017 12:03:43 +0000</updated>
                            <resolved>Wed, 29 Nov 2017 11:44:20 +0000</resolved>
                                                    <fixVersion>Scripting JSP 2.3.4</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15612121" author="rombert" created="Thu, 27 Oct 2016 14:56:14 +0000"  >&lt;p&gt;Sorry, this seems to have slipped for some reason. Lots of fixes have been applied to the scripting bundles, including one related to concurrency - &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3984&quot; title=&quot;JSP Compilation failure under heavy load&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3984&quot;&gt;&lt;del&gt;SLING-3984&lt;/del&gt;&lt;/a&gt; . Can I ask you to retry with version scripting.jsp version 2.1.6 or later and see if the problem still appears?&lt;/p&gt;</comment>
                            <comment id="16212461" author="ianeboston" created="Fri, 20 Oct 2017 10:09:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3984&quot; title=&quot;JSP Compilation failure under heavy load&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3984&quot;&gt;&lt;del&gt;SLING-3984&lt;/del&gt;&lt;/a&gt; is not relevant here as this stack trace occurs when evaluating EL and not when compiling a JSP. The same problem happens in Tomcat 6 and was fixed in Tomcat release of Tomcat 7.0.42 patched at &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; on . 4 Oct 2010, by putting a synchronised round the put and gets.&lt;/p&gt;

&lt;p&gt;Sling uses versions 6.0.14&lt;/p&gt;


&lt;p&gt;1 &lt;a href=&quot;https://github.com/apache/tomcat/commit/24494ec2d5fab4984828dc3439f32ca5515f98b8#diff-855b25d4571f8473ec18785862bcac67&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tomcat/commit/24494ec2d5fab4984828dc3439f32ca5515f98b8#diff-855b25d4571f8473ec18785862bcac67&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16212729" author="ianeboston" created="Fri, 20 Oct 2017 14:41:30 +0000"  >&lt;p&gt;Incorporating the patch into Servlets JSP 2.2.6 without and keeping the Tomcat version the same can be achieved by &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;, not exactly clean as it unpacks the Jars and embeds the classes into the bundle.  It also fixes a but in BeanELResolver fixed by Tomcat 7.0.42 (same issue)&lt;/p&gt;

&lt;p&gt;1 &lt;a href=&quot;https://github.com/ieb/sling/commit/93b3ce3092d43eee1331ffc05280dc130d6dfe0d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/ieb/sling/commit/93b3ce3092d43eee1331ffc05280dc130d6dfe0d&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16218232" author="ianeboston" created="Wed, 25 Oct 2017 07:59:03 +0000"  >&lt;p&gt;Seeing this behaviour regularly with Oracle JDK 1.8.144 (was not previously seeing it with 1.8.131). Perhaps it should be fixed by either upgrading the Tomcat libraries or using the patch supplied ?&lt;/p&gt;

&lt;p&gt;If anyone objects please shout, otherwise I will get the patch applied.&lt;/p&gt;</comment>
                            <comment id="16266764" author="ianeboston" created="Mon, 27 Nov 2017 13:05:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=takahito.kikuchi&quot; class=&quot;user-hover&quot; rel=&quot;takahito.kikuchi&quot;&gt;takahito.kikuchi&lt;/a&gt; has pointed out off list that bug is fixed in Tomcat 6.0.30 (verified), so the patch is not needed.&lt;/p&gt;</comment>
                            <comment id="16270640" author="ianeboston" created="Wed, 29 Nov 2017 11:44:00 +0000"  >&lt;p&gt;Fixed by upgrading to 6.0.30, verified the fix in that version to be identical to the patch supplied and tested. Verified that the upgrade doesn&apos;t change any external dependencies as the jar that is changed is embedded. Since this is a sub minor version upgrade, no other components should have to change. Best to leave for a few days to see if this change causes any unexpected issues elsewhere which OSGi was not able to prevent. (ie leaked implementation details in Jasper).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>367935</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 48 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1rf3z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368242</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3307] Updated launchpad bundle list is not reflected after upgrade</title>
                <link>https://issues.apache.org/jira/browse/SLING-3307</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;This is a follow-up bug report for &lt;a href=&quot;http://markmail.org/thread/6us2jyrkcz6wjwxr&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/thread/6us2jyrkcz6wjwxr&lt;/a&gt; .&lt;/p&gt;

&lt;p&gt;I&apos;ve run into a bug when trying to update an existing Sling launchad to add a new bundle. The steps I&apos;ve taken were:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Create a launchpad ( using the maven-launchpad-plugin ) and executed the jar file&lt;/li&gt;
	&lt;li&gt;Updated the bundle list to include a new bundle and executed the jar file on top of the existing launchpad directory&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The end result was that the new bundle was not deployed.&lt;/p&gt;

&lt;p&gt;Digging in the code a bit, I&apos;ve noticed that the upgrade goes well if I force the startup mode to update.&lt;/p&gt;

&lt;p&gt;The sling/conf/launchpad_timestamp.txt exists and is valid. It seems that the StartupManager.getSelfTimeStamp() method does not get the correct timestamp:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;looks for the last-modified date of the jar loading StartupManager.class - org.apache.sling.launchpad.base.jar&lt;/li&gt;
	&lt;li&gt;looks for the last-modified date of the jar loading LaunchpadContentProvider.class - still org.apache.sling.launchpad.base.jar&lt;/li&gt;
	&lt;li&gt;looks for the last-modified date of all the bundles from sling/startup folder&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The problem is that at this point, the new/modified bundles are not present in the sling/startup folder, so they are not taken into account. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12687424">SLING-3307</key>
            <summary>Updated launchpad bundle list is not reflected after upgrade</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Jan 2014 10:51:58 +0000</created>
                <updated>Thu, 4 May 2023 09:24:48 +0000</updated>
                            <resolved>Thu, 4 May 2023 09:24:48 +0000</resolved>
                                    <version>Launchpad Installer 1.2.2</version>
                                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13862913" author="bdelacretaz" created="Mon, 6 Jan 2014 10:57:07 +0000"  >&lt;p&gt;We used to have a different upgrade detection mechanism, which stored the unique ID (computed at build time) of a given launchpad jar file in the sling folder, and compared that with the current jar&apos;s ID at startup. Not sure why that was changed.&lt;/p&gt;</comment>
                            <comment id="13862914" author="rombert" created="Mon, 6 Jan 2014 10:57:38 +0000"  >&lt;p&gt;I&apos;ve attached &lt;span class=&quot;error&quot;&gt;&amp;#91;^SLING-3307-repro.zip|a sample maven project&amp;#93;&lt;/span&gt; which demonstrates the steps I took and ended up with the launchpad not being updated.&lt;/p&gt;

&lt;p&gt;The archive contains a README.md file which shows step-by-step instructions.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12621586" name="SLING-3307-repro.zip" size="2908" author="rombert" created="Mon, 6 Jan 2014 10:56:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>366425</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 43 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1r5u7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>366736</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3306] Job consumer configuration is distributed in a cluster</title>
                <link>https://issues.apache.org/jira/browse/SLING-3306</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The job consumer configuration is meant to be a local = per instance configuration and should not be distributed (through the OSGi installer) in a cluster.&lt;br/&gt;
It already declares the required property in the component description however as this is not part of the configuration, the config is distributed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12687194">SLING-3306</key>
            <summary>Job consumer configuration is distributed in a cluster</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Jan 2014 14:38:01 +0000</created>
                <updated>Sat, 18 Jan 2014 19:36:54 +0000</updated>
                            <resolved>Fri, 3 Jan 2014 14:46:42 +0000</resolved>
                                    <version>Event 3.3.0</version>
                                    <fixVersion>Event 3.3.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13861553" author="cziegeler" created="Fri, 3 Jan 2014 14:46:42 +0000"  >&lt;p&gt;I&apos;ve added the property to the configurable ones&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>366189</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 43 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1r4dz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>366500</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3305] Some pom profiles limit activation to JDK 1.6</title>
                <link>https://issues.apache.org/jira/browse/SLING-3305</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;A number of Sling poms have profiles that are only active with jdk 1.6. It looks like the intention is to deactivate them before 1.6, but there&apos;s not special reason to deactivate them for 1.7 and later.&lt;/p&gt;

&lt;p&gt;I&apos;ll change the restriction so that those profiles are active on 1.7 and later as well.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12687160">SLING-3305</key>
            <summary>Some pom profiles limit activation to JDK 1.6</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Jan 2014 10:51:35 +0000</created>
                <updated>Fri, 3 Jan 2014 11:05:26 +0000</updated>
                            <resolved>Fri, 3 Jan 2014 11:05:26 +0000</resolved>
                                                                    <component>General</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13861437" author="bdelacretaz" created="Fri, 3 Jan 2014 11:05:26 +0000"  >&lt;p&gt;Fixed in revision 1555048&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>366155</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 43 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1r46f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>366466</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3301] Add internal component for hierarchy queries</title>
                <link>https://issues.apache.org/jira/browse/SLING-3301</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2457&quot; title=&quot;ResourceUtil.isA() fails if resource has a type, whose super type is not readable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2457&quot;&gt;&lt;del&gt;SLING-2457&lt;/del&gt;&lt;/a&gt; fixed the ACL issue with super type lookups, but at the cost of creating a new admin resource resolver for every super type lookup. If an inheritance chain contains multiple super types (N), a single call can trigger the creation of N admin sessions. Often this also happens for a number of resources per request, depending on the application, so you might end up creating many Jackrabbit JCR sessions per request. While creating a resource resolver / session is cheap, having too many at the same time has a big performance impact on the read performance due to increased concurrency in the JCR repository layer.&lt;/p&gt;

&lt;p&gt;This affects:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;ResourceUtil.isA()&lt;/li&gt;
	&lt;li&gt;Resource.isResourceType()&lt;/li&gt;
	&lt;li&gt;ResourceResolver.isResourceType()&lt;/li&gt;
	&lt;li&gt;implementation in ResourceResolverImpl.isResourceType() and getParentResourceType() &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;A simple fix could be to cache a single admin resolver for the duration of the resource resolver containing it and reusing it for subsequent isResourceType() calls.&lt;/p&gt;

&lt;p&gt;Another improvement could also be to cache the isResourceType() lookups - if this is a typical short-lived request resource resolver. Within a request resource type hierarchies are unlikely to change and should probably be stable (and with Jackrabbit Oak the session won&apos;t refresh anyway). The cache would simply be a map of &quot;resource type&quot; =&amp;gt; &quot;is also this resource type&quot;, so that the super lookups don&apos;t have to be done again and again. Often an application might iterate over a tree of data and looking for the same resource type again and again, so the hit rate for the cache will be high.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://svn.apache.org/viewvc/sling/trunk/bundles/resourceresolver/src/main/java/org/apache/sling/resourceresolver/impl/ResourceResolverImpl.java?revision=1537136&amp;amp;view=markup&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/viewvc/sling/trunk/bundles/resourceresolver/src/main/java/org/apache/sling/resourceresolver/impl/ResourceResolverImpl.java?revision=1537136&amp;amp;view=markup&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12686145">SLING-3301</key>
            <summary>Add internal component for hierarchy queries</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="alexander.klimetschek">Alexander Klimetschek</reporter>
                        <labels>
                            <label>Performance</label>
                    </labels>
                <created>Mon, 23 Dec 2013 13:22:57 +0000</created>
                <updated>Fri, 14 Apr 2023 13:28:21 +0000</updated>
                            <resolved>Fri, 14 Apr 2023 13:28:21 +0000</resolved>
                                    <version>Resource Resolver 1.0.6</version>
                                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13855626" author="cziegeler" created="Mon, 23 Dec 2013 13:23:46 +0000"  >&lt;p&gt;This is a clone of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3285&quot; title=&quot;ResourceResolver.isResourceType() creates admin session for every call with super type, slowing down processing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3285&quot;&gt;&lt;del&gt;SLING-3285&lt;/del&gt;&lt;/a&gt; to keep the idea of a separate component for hierarchy related computing&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                            <outwardlinks description="is a clone of">
                                        <issuelink>
            <issuekey id="12684597">SLING-3285</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>365110</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 45 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qxl3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>365415</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3296] Occasional NPE in EstablishedClusterView</title>
                <link>https://issues.apache.org/jira/browse/SLING-3296</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Happened in &lt;a href=&quot;http://ci.apache.org/builders/sling-trunk-oak/builds/52:&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ci.apache.org/builders/sling-trunk-oak/builds/52:&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;testAdditionalInstance(org.apache.sling.discovery.impl.cluster.ClusterTest)  Time elapsed: 4.253 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
	at org.apache.sling.discovery.impl.common.resource.EstablishedClusterView.&amp;lt;init&amp;gt;(EstablishedClusterView.java:55)&lt;br/&gt;
	at org.apache.sling.discovery.impl.cluster.ClusterViewServiceImpl.getClusterView(ClusterViewServiceImpl.java:141)&lt;br/&gt;
	at org.apache.sling.discovery.impl.DiscoveryServiceImpl.getTopology(DiscoveryServiceImpl.java:406)&lt;br/&gt;
	at org.apache.sling.discovery.impl.DiscoveryServiceImpl.handlePotentialTopologyChange(DiscoveryServiceImpl.java:452)&lt;br/&gt;
	at org.apache.sling.discovery.impl.DiscoveryServiceImpl.updateProperties(DiscoveryServiceImpl.java:427)&lt;br/&gt;
	at org.apache.sling.discovery.impl.common.heartbeat.HeartbeatHandler.issueHeartbeat(HeartbeatHandler.java:250)&lt;br/&gt;
	at org.apache.sling.discovery.impl.common.heartbeat.HeartbeatHandler.run(HeartbeatHandler.java:207)&lt;br/&gt;
	at org.apache.sling.discovery.impl.setup.Instance.runHeartbeatOnce(Instance.java:340)&lt;br/&gt;
	at org.apache.sling.discovery.impl.cluster.ClusterTest.testAdditionalInstance(ClusterTest.java:322)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12685581">SLING-3296</key>
            <summary>Occasional NPE in EstablishedClusterView</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Dec 2013 12:56:39 +0000</created>
                <updated>Thu, 12 Nov 2015 11:25:57 +0000</updated>
                            <resolved>Mon, 26 Jan 2015 09:37:45 +0000</resolved>
                                    <version>Discovery Impl 1.0.2</version>
                                    <fixVersion>Discovery Impl 1.0.4</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14291615" author="egli" created="Mon, 26 Jan 2015 09:37:45 +0000"  >&lt;p&gt;has been fixed earlier with a more precise exception message. Marking as fixed. If seen again, more details should allow to narrow down further.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12678196">SLING-3234</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>364656</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 40 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qurb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>364956</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3289] o.a.s.event.it.IgnoreQueueTest causes buildbot timeout sometimes</title>
                <link>https://issues.apache.org/jira/browse/SLING-3289</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;http://ci.apache.org/builders/sling-trunk-oak/builds/42&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ci.apache.org/builders/sling-trunk-oak/builds/42&lt;/a&gt; failed with a timeout that&apos;s apparently caused by the IgnoreQueueTest integration test.&lt;/p&gt;

&lt;p&gt;I&apos;ll attach the stdio logs, which show this before the timeout:&lt;/p&gt;

&lt;p&gt;16.12.2013 05:19:23.193 &lt;b&gt;WARN&lt;/b&gt; [&lt;br/&gt;
Apche Sling JCR Resource Event Queue Processor for path &apos;/&apos;] org.apache.felix.eventadmin EventAdmin: &lt;br/&gt;
Blacklisting ServiceReference [&lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.event.jobs.JobManager, org.osgi.service.event.EventHandler, org.apache.sling.discovery.TopologyEventListener, java.lang.Runnable&amp;#93;&lt;/span&gt; | Bundle(org.apache.sling.event &lt;span class=&quot;error&quot;&gt;&amp;#91;66&amp;#93;&lt;/span&gt;)] due to timeout!&lt;/p&gt;</description>
                <environment></environment>
        <key id="12684919">SLING-3289</key>
            <summary>o.a.s.event.it.IgnoreQueueTest causes buildbot timeout sometimes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Dec 2013 10:40:27 +0000</created>
                <updated>Mon, 5 Jan 2015 16:54:08 +0000</updated>
                            <resolved>Mon, 5 Jan 2015 16:51:22 +0000</resolved>
                                    <version>Event 3.3.0</version>
                                    <fixVersion>Event 3.4.4</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14264764" author="cziegeler" created="Mon, 5 Jan 2015 16:51:22 +0000"  >&lt;p&gt;We fixed that at some point, therefore closing this issue&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12678196">SLING-3234</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12618886" name="build42.log" size="40764" author="bdelacretaz" created="Mon, 16 Dec 2013 10:41:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>363997</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 43 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qqpb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>364297</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3285] ResourceResolver.isResourceType() creates admin session for every call with super type, slowing down processing</title>
                <link>https://issues.apache.org/jira/browse/SLING-3285</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2457&quot; title=&quot;ResourceUtil.isA() fails if resource has a type, whose super type is not readable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2457&quot;&gt;&lt;del&gt;SLING-2457&lt;/del&gt;&lt;/a&gt; fixed the ACL issue with super type lookups, but at the cost of creating a new admin resource resolver for every super type lookup. If an inheritance chain contains multiple super types (N), a single call can trigger the creation of N admin sessions. Often this also happens for a number of resources per request, depending on the application, so you might end up creating many Jackrabbit JCR sessions per request. While creating a resource resolver / session is cheap, having too many at the same time has a big performance impact on the read performance due to increased concurrency in the JCR repository layer.&lt;/p&gt;

&lt;p&gt;This affects:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;ResourceUtil.isA()&lt;/li&gt;
	&lt;li&gt;Resource.isResourceType()&lt;/li&gt;
	&lt;li&gt;ResourceResolver.isResourceType()&lt;/li&gt;
	&lt;li&gt;implementation in ResourceResolverImpl.isResourceType() and getParentResourceType() &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;A simple fix could be to cache a single admin resolver for the duration of the resource resolver containing it and reusing it for subsequent isResourceType() calls.&lt;/p&gt;

&lt;p&gt;Another improvement could also be to cache the isResourceType() lookups - if this is a typical short-lived request resource resolver. Within a request resource type hierarchies are unlikely to change and should probably be stable (and with Jackrabbit Oak the session won&apos;t refresh anyway). The cache would simply be a map of &quot;resource type&quot; =&amp;gt; &quot;is also this resource type&quot;, so that the super lookups don&apos;t have to be done again and again. Often an application might iterate over a tree of data and looking for the same resource type again and again, so the hit rate for the cache will be high.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://svn.apache.org/viewvc/sling/trunk/bundles/resourceresolver/src/main/java/org/apache/sling/resourceresolver/impl/ResourceResolverImpl.java?revision=1537136&amp;amp;view=markup&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/viewvc/sling/trunk/bundles/resourceresolver/src/main/java/org/apache/sling/resourceresolver/impl/ResourceResolverImpl.java?revision=1537136&amp;amp;view=markup&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12684597">SLING-3285</key>
            <summary>ResourceResolver.isResourceType() creates admin session for every call with super type, slowing down processing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="alexander.klimetschek">Alexander Klimetschek</reporter>
                        <labels>
                            <label>Performance</label>
                    </labels>
                <created>Sat, 14 Dec 2013 02:29:15 +0000</created>
                <updated>Fri, 4 Apr 2014 09:05:50 +0000</updated>
                            <resolved>Mon, 23 Dec 2013 13:22:25 +0000</resolved>
                                    <version>Resource Resolver 1.0.6</version>
                                    <fixVersion>Resource Resolver 1.1.0</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="13848190" author="wmcgaule" created="Sat, 14 Dec 2013 03:21:26 +0000"  >&lt;p&gt;Having a cache of the isResourceType() lookups would certainly be ideal, but it may be difficult to invalidate such a cache if we store the cache long-term.  &lt;/p&gt;

&lt;p&gt;What about storing a &quot;long lived&quot; admin resource resolver associated with the current resource resolver factory and using that for the resource type heirarchy lookups?  This would eliminate the need to get new admin resolvers each time.  Of course on OAK this admin resolver would need to be refreshed on occasion which could also pose it&apos;s own set of challenges.&lt;/p&gt;</comment>
                            <comment id="13848221" author="cziegeler" created="Sat, 14 Dec 2013 04:14:26 +0000"  >&lt;p&gt;I think we have two options:&lt;br/&gt;
a) cache the admin resource resolver per resource resolver impl&lt;br/&gt;
b) create a separate (internal) service taking care of the resource hierarchy and using a single admin session. This service could also keep a cache and simply throw it away of a change is done to any sub tree of the search paths&lt;/p&gt;

&lt;p&gt;So b) is similar to Will&apos;s suggestion but keeps it in a separate service where we can handle the multi-threaded access to the single admin resource resolver&lt;/p&gt;

&lt;p&gt;Do avoid any additional sync&apos;ing a think it&apos;s better to go with a)&lt;/p&gt;</comment>
                            <comment id="13848429" author="wmcgaule" created="Sat, 14 Dec 2013 19:25:04 +0000"  >&lt;p&gt;Quick question - according ot &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-3596&quot; title=&quot;Reduce level for &amp;#39;overwriting cached item&amp;#39; log messages in ItemManager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JCR-3596&quot;&gt;&lt;del&gt;JCR-3596&lt;/del&gt;&lt;/a&gt; it looks like multi-threaded read access on a session is permitted while write is not.  Is there any reason we have to protect multithreaded access to this admin session considering it is only required for read?  (for option b I am speaking)&lt;/p&gt;</comment>
                            <comment id="13848469" author="cziegeler" created="Sat, 14 Dec 2013 21:47:24 +0000"  >&lt;p&gt;There are at least three reasons &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the jcr spec states that a session should not be a accessed concurrently - and we don&apos;t want to rely on implementation details&lt;/li&gt;
	&lt;li&gt;the resource resolver spec states it should not be accessed concurrently - and we&apos;re accessing an admin resource resolver which has an underlying session&lt;/li&gt;
	&lt;li&gt;although Jackrabbit states that its safe to have concurrent read access, at least in previous versions of Jackrabbit, there were sporadic problems with this resulting in exceptions. This might be fixed with newer versions of Jackrabbit&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13848687" author="alexander.klimetschek" created="Sun, 15 Dec 2013 21:24:14 +0000"  >&lt;p&gt;If the resource resolver spec doesn&apos;t allow concurrent access just as the jcr session spec, then we are ok - because the admin resolver access will always be wrapped within the normal resolver, which needs to be properly synchronized anyways.&lt;/p&gt;

&lt;p&gt;Regarding the 2 options Carsten mentioned:&lt;br/&gt;
a) is the simplest one and we should do it as a first step now and see what real-world improvements we get from it&lt;br/&gt;
b) right, having a cache makes only sense if we put it in a central shared service; we should look at this if a) is not good enough&lt;/p&gt;</comment>
                            <comment id="13848688" author="alexander.klimetschek" created="Sun, 15 Dec 2013 21:26:40 +0000"  >&lt;p&gt;Thinking about b) further: a central service actually makes sense as it could use the script user to get the exact same view as the script resolution about the resource type hierarchies. And while invalidation can be a bit tricky (needs another observation on the entire repository), it usually should only happen on code deployments. For a production system, where the performance issue with many parallel request only really comes up, types will be very stable.&lt;/p&gt;

&lt;p&gt;The service / cache would:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;use the script user to do the lookups&lt;/li&gt;
	&lt;li&gt;be invalidated by an observation listener on the sling search path (/apps, /libs...) (also script user)&lt;/li&gt;
	&lt;li&gt;just set a dirty flag on events&lt;/li&gt;
	&lt;li&gt;and force a refresh on the underlying jcr session, to make sure it sees the latest content (needed for Oak)&lt;/li&gt;
	&lt;li&gt;do the necessary single lookup using that session and add this single entry to the cache&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The only problem we might face is if the content modified by the production system overlaps with the areas where the types are:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;production requests make frequent &quot;content&quot; changes to /libs or /apps, leading to frequent invalidation (and we can&apos;t instruct the cache to only look at rt changes, because we need to take into account not only modifications of the sling:resourceSuperType properties, but also of creation or removal of resource type folders, as they can have an impact on the rt hierarchy)&lt;/li&gt;
	&lt;li&gt;use of absolute resource types or super types pointing outside the search path (e.g. sling:resourceSuperType=/content/site/foo)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Both (especially the latter) seem an uncommon usage and the penalty of doing so could be ok.&lt;/p&gt;</comment>
                            <comment id="13848708" author="cziegeler" created="Sun, 15 Dec 2013 22:53:41 +0000"  >&lt;p&gt;I&apos;ve added a first simple implementation for a)&lt;/p&gt;

&lt;p&gt;For b) if there are frequent changes to /libs, /apps, there is nothing we can do - we could provide an option to disable the cache though&lt;br/&gt;
If a resource type is absolute and pointing outside of the search paths, it&apos;s very likely that the script is not executed as the script resolver is configured with absolute paths which are allowed&lt;/p&gt;</comment>
                            <comment id="13855624" author="cziegeler" created="Mon, 23 Dec 2013 13:22:25 +0000"  >&lt;p&gt;I think we can close this issue with the current implementation. I&apos;ll create a duplicate of this to keep the idea of a separate service&lt;/p&gt;</comment>
                            <comment id="13855629" author="dcollie" created="Mon, 23 Dec 2013 13:27:50 +0000"  >&lt;p&gt;I am out of office until January 6th 2014 with no access to email.&lt;/p&gt;

&lt;p&gt;If you have an urgent issue please call me on my mobile number and leave a Voice Mail and I will return your call as soon as possible.&lt;/p&gt;

&lt;p&gt;Please use the relevant CRM system (Daycare/ClientCare) for any operational issues during my time out.&lt;/p&gt;

&lt;p&gt;Alternatively, you can visit the Adobe Support Portal to log issues against your registered products: &lt;a href=&quot;http://www.adobe.com/go/supportportal&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.adobe.com/go/supportportal&lt;/a&gt; or into Daycare at &lt;a href=&quot;http://daycare.day.com/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://daycare.day.com/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Kind regards &amp;#8211; David&lt;/p&gt;</comment>
                            <comment id="13865235" author="kwin" created="Wed, 8 Jan 2014 09:29:22 +0000"  >&lt;p&gt;Why is creating a very short-living session so expensive? Within the ResourceResolver.getParentResourceType() the session is almost immediately closed within the finally. Probably it is related to the session having a finalize method (&lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-2768&quot; title=&quot;Finalize method on SessionImpl&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JCR-2768&quot;&gt;JCR-2768&lt;/a&gt;). Since one request is dealt within a single thread there should never be multiple sessions active at the same time for that specific method. I think by just getting rid of the finalize method within the JCR session one would achieve a much better performance (very similar to using a resource resolver cache).&lt;/p&gt;</comment>
                            <comment id="13866005" author="alexander.klimetschek" created="Wed, 8 Jan 2014 22:48:58 +0000"  >&lt;p&gt;The problem seems to lie in the concurrent access of multiple JCR sessions with many parallel requests, not just in the creation of the session (see the description). This depends on the JCR implementation, but with the current state of Oak it seemed even worse, so Sling should minimize session use in any case.&lt;/p&gt;</comment>
                            <comment id="13866419" author="kwin" created="Thu, 9 Jan 2014 07:46:45 +0000"  >&lt;p&gt;Hi Alex, thanks for your answer but how does the cache help then?&lt;br/&gt;
If we only talk about one request, there should never be parallel access in any case, since the session was closed immediately afterwards (before the cache was implemented), so there should be no overlap of open sessions (at least for the case of isResourceType())&lt;br/&gt;
If we talk about multiple requests the cache will not help, because the cache is per request (it means for n requests there might be n parallel sessions, which is the same behaviour as before!).&lt;br/&gt;
Even without the cache we would have no more than n parallel sessions for n requests. Am I wrong here?&lt;/p&gt;</comment>
                            <comment id="13867158" author="alexander.klimetschek" created="Thu, 9 Jan 2014 22:10:04 +0000"  >&lt;p&gt;Yes, good point. It could be that the &quot;left overs&quot; of a Jackrabbit session that was already closed but not finalized yet &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; have a big impact on other sessions in terms of synchronization.&lt;/p&gt;

&lt;p&gt;Or it is simply the creation of a session that - if done 100s or 1000s of times per request (this is what we saw, easily happens if you use isResourceType() to filter on a larger jcr tree) even if a single session creation takes only a few ms, this adds up.&lt;/p&gt;</comment>
                            <comment id="13867583" author="kwin" created="Fri, 10 Jan 2014 07:22:13 +0000"  >&lt;p&gt;If we assume that the sessions which are closed but not yet finalized have an effect on synchronisation that should clearly be fixed in the code. But I am rather assuming that the GC is the culprit there (see &lt;a href=&quot;http://www.fasterj.com/articles/finalizer1.shtml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.fasterj.com/articles/finalizer1.shtml&lt;/a&gt;), meaning the closed sessions survive too long in the heap, due to the finalizer. Don&apos;t you think that getting rid of the finalize (&lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-2768&quot; title=&quot;Finalize method on SessionImpl&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JCR-2768&quot;&gt;JCR-2768&lt;/a&gt;) would have a bigger impact than the implemented cache?&lt;br/&gt;
Another question is, why does Oak behave even worse than Jackrabbit here?&lt;/p&gt;</comment>
                            <comment id="13867588" author="cziegeler" created="Fri, 10 Jan 2014 07:30:58 +0000"  >&lt;p&gt;While I value this discussion I think it should rather happen on the mailing list as this is not directly about this issue. Thanks&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                                                <inwardlinks description="is cloned by">
                                        <issuelink>
            <issuekey id="12686145">SLING-3301</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12475904">JCR-2768</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>363669</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 42 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qopz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>363975</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3284] Remove deprecated documentation of Sling Jobs</title>
                <link>https://issues.apache.org/jira/browse/SLING-3284</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently there is documentation about Sling Jobs available at&lt;br/&gt;
1) &lt;a href=&quot;http://sling.apache.org/documentation/the-sling-engine/eventing-and-jobs.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/documentation/the-sling-engine/eventing-and-jobs.html&lt;/a&gt;&lt;br/&gt;
and&lt;br/&gt;
2) &lt;a href=&quot;http://sling.apache.org/documentation/bundles/apache-sling-eventing-and-job-handling.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/documentation/bundles/apache-sling-eventing-and-job-handling.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;They do overlap but 2) seems to be the more recent documentation. Can you either crosslink between those 2 or just remove 1)?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12684447">SLING-3284</key>
            <summary>Remove deprecated documentation of Sling Jobs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Dec 2013 11:07:09 +0000</created>
                <updated>Sat, 14 Dec 2013 07:37:37 +0000</updated>
                            <resolved>Sat, 14 Dec 2013 07:37:37 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13848274" author="cziegeler" created="Sat, 14 Dec 2013 07:37:37 +0000"  >&lt;p&gt;Thanks for reporting, yes that seems to be a left over. I&apos;ve removed it and added a redirect from the old to the new page&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>363519</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 46 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qnsv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>363825</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3283] Table on http://sling.apache.org/documentation/bundles/apache-sling-eventing-and-job-handling.html broken</title>
                <link>https://issues.apache.org/jira/browse/SLING-3283</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The table for Queue Configurations seems to be broken at &lt;a href=&quot;http://sling.apache.org/documentation/bundles/apache-sling-eventing-and-job-handling.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/documentation/bundles/apache-sling-eventing-and-job-handling.html&lt;/a&gt;. Probably related to the wiki migration.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12684442">SLING-3283</key>
            <summary>Table on http://sling.apache.org/documentation/bundles/apache-sling-eventing-and-job-handling.html broken</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Dec 2013 10:43:05 +0000</created>
                <updated>Fri, 13 Dec 2013 16:52:24 +0000</updated>
                            <resolved>Fri, 13 Dec 2013 16:52:24 +0000</resolved>
                                                                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13847647" author="rombert" created="Fri, 13 Dec 2013 16:52:24 +0000"  >&lt;p&gt;Thanks for the report. I&apos;ve fixed the layout in &lt;a href=&quot;http://svn.apache.org/r1550766&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1550766&lt;/a&gt; and improved it in &lt;a href=&quot;http://svn.apache.org/r1550767&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1550767&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>363514</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 46 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qnrr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>363820</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3282] No metatype generated for JobManagerImpl OSGi configuration</title>
                <link>https://issues.apache.org/jira/browse/SLING-3282</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently the JobManagerImpl does not expose the properties in the web console. Also the properties being used by JobManagerConfiguration like  job.consumermanager.disableDistribution are not even defined. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12684441">SLING-3282</key>
            <summary>No metatype generated for JobManagerImpl OSGi configuration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Dec 2013 10:41:24 +0000</created>
                <updated>Sat, 18 Jan 2014 19:36:54 +0000</updated>
                            <resolved>Sat, 14 Dec 2013 08:15:57 +0000</resolved>
                                    <version>Event 3.3.0</version>
                                    <fixVersion>Event 3.3.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13848275" author="cziegeler" created="Sat, 14 Dec 2013 07:40:08 +0000"  >&lt;p&gt;The reason for not making these properties visible is to avoid web console admins to switch back and force without knowing what they do - while this might be true for other settings as well - I thought it&apos;s a good idea. The property can of course be set through an osgi configuration&lt;/p&gt;

&lt;p&gt;But I agree that its probably better to make this visible in the web console&lt;/p&gt;</comment>
                            <comment id="13848284" author="cziegeler" created="Sat, 14 Dec 2013 08:15:57 +0000"  >&lt;p&gt;The disable distribution property is now visible in the web console, I decided to make all other props private&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>363513</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 46 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qnrj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>363819</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3277] RequestProcessorMBeanImpl.resetStatistics does not reset sum and squared sum variable values</title>
                <link>https://issues.apache.org/jira/browse/SLING-3277</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The RequestProcessorMBeanImpl uses the variables: durationMsecSumX and durationMsecSumX2 to store the sum and squared sum of  request durations. These variables are used later to calculate the statistics MeanRequestDurationMsec and StandardDeviationDurationMsec.&lt;/p&gt;

&lt;p&gt;To calculate these statistics it uses the mentioned sum and sumX2 variables and the number of requests processed.&lt;/p&gt;

&lt;p&gt;The issue arises when the resetStatistics method is invoked: it resets the number of processed requests to 0, but not the sum and squared sum variables. &lt;/p&gt;

&lt;p&gt;For instance, if you have an accumulated processing time of 10000 msecs and 100 requests, the MeanRequestDurationMsec will be 100 msecs, which is correct. &lt;br/&gt;
If you invoke resetStatistics method at that time, the number of request will be reset to 0 while the sum of request durations will keep being 10000 msecs. &lt;br/&gt;
If next request is processed in 10msecs you will have accumulated a sum of request durations of 10010 msecs and only one request. So the MeanRequestDurationMsec statistic will display 10010msecs, which is wrong.&lt;/p&gt;

&lt;p&gt;The same issue occurs with the statistics for ServletCallCount and PeakRecursionDepth.&lt;/p&gt;

&lt;p&gt;To solve this issue the following variables need to be reset (set to 0) in the resetStatistics method:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;durationMsecSumX&lt;/li&gt;
	&lt;li&gt;durationMsecSumX2&lt;/li&gt;
	&lt;li&gt;servletCallCountSumX&lt;/li&gt;
	&lt;li&gt;servletCallCountSumX2&lt;/li&gt;
	&lt;li&gt;peakRecursionDepthSumX&lt;/li&gt;
	&lt;li&gt;peakRecursionDepthSumX2&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12683850">SLING-3277</key>
            <summary>RequestProcessorMBeanImpl.resetStatistics does not reset sum and squared sum variable values</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="fchicharro">Francisco Chicharro</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Dec 2013 15:04:55 +0000</created>
                <updated>Thu, 6 Mar 2014 07:08:24 +0000</updated>
                            <resolved>Wed, 11 Dec 2013 10:36:22 +0000</resolved>
                                    <version>Engine 2.2.10</version>
                                    <fixVersion>Engine 2.3.0</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13844343" author="fchicharro" created="Tue, 10 Dec 2013 15:31:23 +0000"  >&lt;p&gt;Source modified. Modifications are marked with &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3277&quot; title=&quot;RequestProcessorMBeanImpl.resetStatistics does not reset sum and squared sum variable values&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3277&quot;&gt;&lt;del&gt;SLING-3277&lt;/del&gt;&lt;/a&gt;&quot;.&lt;br/&gt;
I believe it could solve the issue&lt;/p&gt;</comment>
                            <comment id="13844345" author="bdelacretaz" created="Tue, 10 Dec 2013 15:31:56 +0000"  >&lt;p&gt;Thanks for this report - would it be possible for you to supply a patch for the RequestProcessorMBeanImplTest, that reproduces your problem? We can then fix it and verify that your use case is covered.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;  &lt;a href=&quot;https://svn.apache.org/repos/asf/sling/trunk/bundles/engine/src/test/java/org/apache/sling/engine/impl/RequestProcessorMBeanImplTest.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/sling/trunk/bundles/engine/src/test/java/org/apache/sling/engine/impl/RequestProcessorMBeanImplTest.java&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13845256" author="fchicharro" created="Wed, 11 Dec 2013 10:11:42 +0000"  >&lt;p&gt;Hi Bertrand,&lt;br/&gt;
please find attached the Test class that shows the issue.&lt;br/&gt;
Changes marked with string &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3277&quot; title=&quot;RequestProcessorMBeanImpl.resetStatistics does not reset sum and squared sum variable values&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3277&quot;&gt;&lt;del&gt;SLING-3277&lt;/del&gt;&lt;/a&gt;&quot;&lt;/p&gt;</comment>
                            <comment id="13845271" author="bdelacretaz" created="Wed, 11 Dec 2013 10:36:22 +0000"  >&lt;p&gt;Committed your patch and tests in &lt;a href=&quot;http://svn.apache.org/r1550098&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1550098&lt;/a&gt;, thanks very much for your contribution!&lt;/p&gt;

&lt;p&gt;If you have more patches to suggest, we prefer svn diff format if possible. In this case the changes were sufficiently small to be usable as you provided them.&lt;/p&gt;</comment>
                            <comment id="13922088" author="fmeschbe" created="Thu, 6 Mar 2014 07:08:24 +0000"  >&lt;p&gt;Close after release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12618050" name="RequestProcessorMBeanImpl.java" size="6391" author="fchicharro" created="Tue, 10 Dec 2013 15:31:23 +0000"/>
                            <attachment id="12618213" name="RequestProcessorMBeanImplTest.java" size="9171" author="fchicharro" created="Wed, 11 Dec 2013 10:11:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362922</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 35 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qk5b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>363228</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3269] ResourceDecorator returning null does not behave as specified</title>
                <link>https://issues.apache.org/jira/browse/SLING-3269</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The ResourceDecorator javadocs specify that decorate(Resource r) returning null is the same as returning r, but this is not the case. Returning null causes a null Resource to be returned in several places, instead of the original resource.&lt;/p&gt;

&lt;p&gt;Following up on the &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3267&quot; title=&quot;ResourceDecorator returning null should cause Resources to be ignored&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3267&quot;&gt;&lt;del&gt;SLING-3267&lt;/del&gt;&lt;/a&gt; discussions, I&apos;ll update the bundles/resourceresolver to expose the problems, and tag them with TODO:&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3269&quot; title=&quot;ResourceDecorator returning null does not behave as specified&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3269&quot;&gt;&lt;del&gt;SLING-3269&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12683597">SLING-3269</key>
            <summary>ResourceDecorator returning null does not behave as specified</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Dec 2013 13:08:33 +0000</created>
                <updated>Tue, 10 Dec 2013 10:51:06 +0000</updated>
                            <resolved>Tue, 10 Dec 2013 10:51:06 +0000</resolved>
                                    <version>Resource Resolver 1.0.6</version>
                                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13843137" author="bdelacretaz" created="Mon, 9 Dec 2013 13:20:02 +0000"  >&lt;p&gt;Tests added in &lt;a href=&quot;http://svn.apache.org/r1549566&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1549566&lt;/a&gt; - the offending cases are in ResourceDecoratorReturnsNullTest, with TODOs for when this is fixed.&lt;/p&gt;</comment>
                            <comment id="13843674" author="cziegeler" created="Mon, 9 Dec 2013 23:13:49 +0000"  >&lt;p&gt;Can you point to some code where this happens? - afaik resource decorators are not called directly but by using the ResourceDecoratorTracker which handles the null case&lt;/p&gt;</comment>
                            <comment id="13843682" author="cziegeler" created="Mon, 9 Dec 2013 23:21:13 +0000"  >&lt;p&gt;I think your test is bogus as it uses a custom ResourceDecoratorTracker&lt;/p&gt;</comment>
                            <comment id="13844180" author="fmeschbe" created="Tue, 10 Dec 2013 10:50:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; Right, it is the ResourceDecoratorTracker which calls the decorators in order and which handles a null-return value as documented on the ResourceDecorator interface.&lt;/p&gt;</comment>
                            <comment id="13844181" author="bdelacretaz" created="Tue, 10 Dec 2013 10:51:06 +0000"  >&lt;p&gt;Of course...testing the mocks instead of the actual code &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Thanks for catching this, I have fixed the tests in &lt;a href=&quot;http://svn.apache.org/r1549806&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1549806&lt;/a&gt; and they now demonstrate that the behavior is correctly implemented.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12683099">SLING-3267</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362669</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 47 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qijj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362963</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3268] TopicRoundRobin queue thread is not stopped when queue is closed</title>
                <link>https://issues.apache.org/jira/browse/SLING-3268</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When the TopicRoundRobin queue is closed, the main run thread might be in waiting in the take() method. However the put() call from within close() does not stop the queue. This can lead to many threads kept running when the queue restarts&lt;/p&gt;</description>
                <environment></environment>
        <key id="12683536">SLING-3268</key>
            <summary>TopicRoundRobin queue thread is not stopped when queue is closed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Dec 2013 02:45:03 +0000</created>
                <updated>Sat, 18 Jan 2014 19:36:53 +0000</updated>
                            <resolved>Mon, 9 Dec 2013 02:53:25 +0000</resolved>
                                    <version>Event 3.3.0</version>
                                    <fixVersion>Event 3.3.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13842872" author="cziegeler" created="Mon, 9 Dec 2013 02:53:25 +0000"  >&lt;p&gt;Fixed in rev 1549371 by always waking up take() when put() is called.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362609</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 47 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qi67:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362903</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3261] Unable to overwrite bundles with a non OSGi standard version</title>
                <link>https://issues.apache.org/jira/browse/SLING-3261</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I&apos;m currently unable to overwrite bundles if they have a simple versioning scheme (not osgi compliant, major.minor.something).&lt;/p&gt;

&lt;p&gt;This applies to oak (we&apos;re at 0.x), but also external libs like google&apos;s guava:&lt;/p&gt;

&lt;p&gt;Original list.xml contains:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;        &amp;lt;bundle&amp;gt;
            &amp;lt;groupId&amp;gt;com.google.guava&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;guava&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;14.0.1&amp;lt;/version&amp;gt;
            &amp;lt;runModes&amp;gt;crx3&amp;lt;/runModes&amp;gt;
        &amp;lt;/bundle&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Overwritten list.xml has newer versions:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;        &amp;lt;bundle&amp;gt;
            &amp;lt;groupId&amp;gt;com.google.guava&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;guava&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;15.0&amp;lt;/version&amp;gt;
            &amp;lt;runModes&amp;gt;crx3&amp;lt;/runModes&amp;gt;
        &amp;lt;/bundle&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I&apos;ve tracked down the problem to a faulty version comparison that is done via &lt;em&gt;DefaultMaven2OsgiConverter&lt;/em&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;.&lt;br/&gt;
The problem is with &lt;em&gt;converter.getVersion&lt;/em&gt; as outlined in the following example: &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;converter.getVersion(&quot;15.0&quot;) = 0.0.0.15_0
converter.getVersion(&quot;14.0.1&quot;) = 14.0.1
converter.getVersion(&quot;0.12-r1546058&quot;) = 0.0.0.0_12_r1546058
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;this means that the new version is viewed as older and will not be picked up.&lt;/p&gt;

&lt;p&gt;I realize that the bug may very well be in the &lt;em&gt;maven-osgi&lt;/em&gt; project, but as I have no idea where that is and the dependency needs to be updated in sling anyway, I&apos;m putting it all in this issue.&lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://svn.apache.org/viewvc/sling/trunk/tooling/maven/maven-launchpad-plugin/src/main/java/org/apache/sling/maven/projectsupport/bundlelist/BaseBundleList.java?view=markup#l84&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/sling/trunk/tooling/maven/maven-launchpad-plugin/src/main/java/org/apache/sling/maven/projectsupport/bundlelist/BaseBundleList.java?view=markup#l84&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12681669">SLING-3261</key>
            <summary>Unable to overwrite bundles with a non OSGi standard version</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="stillalex">Alex Deparvu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Nov 2013 21:57:26 +0000</created>
                <updated>Fri, 28 Oct 2016 09:38:48 +0000</updated>
                            <resolved>Fri, 28 Oct 2016 09:38:47 +0000</resolved>
                                    <version>Maven Launchpad Plugin 2.2.0</version>
                                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13834212" author="justinedelson" created="Wed, 27 Nov 2013 22:06:03 +0000"  >&lt;p&gt;FWIW, the source for the maven-osgi shared component is here: &lt;a href=&quot;http://svn.apache.org/repos/asf/maven/shared/trunk/maven-osgi/src/main/java/org/apache/maven/shared/osgi/DefaultMaven2OsgiConverter.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/maven/shared/trunk/maven-osgi/src/main/java/org/apache/maven/shared/osgi/DefaultMaven2OsgiConverter.java&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I wonder if this version comparision is even necessary. I&apos;ll have to doublecheck, but it seems like you should be able to downgrade bundles from an upstream list. Why shouldn&apos;t it just be the last bundle definition wins?&lt;/p&gt;</comment>
                            <comment id="13834232" author="alex.parvulescu" created="Wed, 27 Nov 2013 22:17:14 +0000"  >&lt;p&gt;I agree, you should simply be able to simply overwrite a bundle not caring about versions. &lt;br/&gt;
It is also  worth mentioning that this comparison happens backwards: you start with the master list (CQ) and check if there are any overlaps with the partial bundle list (Granite), then the merge will change versions only if the new version (Granite) is newer than the old version (CQ). Dunno if it helps, but I found this a bit confusing at first.&lt;/p&gt;</comment>
                            <comment id="13842428" author="cziegeler" created="Sun, 8 Dec 2013 06:31:18 +0000"  >&lt;p&gt;Apart from the faulty version check, I think this behaviour is what we have discussed back then. The bundle list can be seen as feature list and in this respect the highest version of a bundle must win, otherwise a feature will not work anymore.&lt;br/&gt;
So this is not an inheritance mechanism (as we&apos;re using internally within Adobe) but an aggregation mechanism&lt;/p&gt;</comment>
                            <comment id="15614913" author="cziegeler" created="Fri, 28 Oct 2016 09:38:47 +0000"  >&lt;p&gt;As we have moved to the provisioning model and the slingstart plugin, I&apos;ll close this as wont fix&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360933</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q7vr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361232</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3260] VanityPathTest fails randomly, expecting .ext but was.html</title>
                <link>https://issues.apache.org/jira/browse/SLING-3260</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The test sometimes fails on &lt;a href=&quot;http://ci.apache.org/builders/sling-trunk:&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ci.apache.org/builders/sling-trunk:&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Failed tests: &lt;br/&gt;
  VanityPathTest.testRedirectOnPathWithExtension:184 expected:&amp;lt;...89/16_1385551185995.&lt;span class=&quot;error&quot;&gt;&amp;#91;ext&amp;#93;&lt;/span&gt;&amp;gt; but was:&amp;lt;...89/16_1385551185995.&lt;span class=&quot;error&quot;&gt;&amp;#91;html&amp;#93;&lt;/span&gt;&amp;gt;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12681557">SLING-3260</key>
            <summary>VanityPathTest fails randomly, expecting .ext but was.html</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                            <label>sling-IT</label>
                    </labels>
                <created>Wed, 27 Nov 2013 12:36:30 +0000</created>
                <updated>Mon, 19 Dec 2016 11:37:40 +0000</updated>
                            <resolved>Mon, 19 Dec 2016 11:37:29 +0000</resolved>
                                                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13833760" author="bdelacretaz" created="Wed, 27 Nov 2013 13:10:38 +0000"  >&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/r1546024&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1546024&lt;/a&gt; should fix this, there was a bug in synchronizing the test with the server mapping changes.&lt;/p&gt;

&lt;p&gt;Keeping this open until buildbot confirms that it&apos;s fixed.&lt;/p&gt;</comment>
                            <comment id="15760935" author="rombert" created="Mon, 19 Dec 2016 11:37:29 +0000"  >&lt;p&gt;Considering fixed, did not fail since we moved to per-module jobs.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12678196">SLING-3234</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360821</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 45 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q773:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361120</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3259] SlingFelixTest fails semi-randomly, &quot;Timed out waiting for framework to stop&quot;</title>
                <link>https://issues.apache.org/jira/browse/SLING-3259</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;It looks like &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2571&quot; title=&quot;Random test failures in SlingFelixTest.test_start_stop()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2571&quot;&gt;&lt;del&gt;SLING-2571&lt;/del&gt;&lt;/a&gt; is not fixed, I&apos;m seeing this issue often on our buildbot builds (&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3234&quot; title=&quot;Sling buildbot continuous integration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3234&quot;&gt;&lt;del&gt;SLING-3234&lt;/del&gt;&lt;/a&gt;):&lt;/p&gt;

&lt;p&gt;testMultipleStartStop(org.apache.sling.launchpad.base.impl.SlingFelixTest)  Time elapsed: 0.245 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
java.lang.AssertionError: Timed out waiting for framework to stop&lt;br/&gt;
...&lt;br/&gt;
	at org.apache.sling.launchpad.base.impl.SlingFelixTest.stopFramework(SlingFelixTest.java:189)&lt;br/&gt;
	at org.apache.sling.launchpad.base.impl.SlingFelixTest.stopSling(SlingFelixTest.java:179)&lt;br/&gt;
	at org.apache.sling.launchpad.base.impl.SlingFelixTest.testMultipleStartStop(SlingFelixTest.java:76)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12681554">SLING-3259</key>
            <summary>SlingFelixTest fails semi-randomly, &quot;Timed out waiting for framework to stop&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Nov 2013 12:27:31 +0000</created>
                <updated>Tue, 10 Dec 2013 16:52:13 +0000</updated>
                            <resolved>Tue, 10 Dec 2013 16:52:13 +0000</resolved>
                                    <version>Launchpad Base 2.5.0</version>
                                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13844410" author="bdelacretaz" created="Tue, 10 Dec 2013 16:52:13 +0000"  >&lt;p&gt;Looking closer, there was a very short 10msec timeout on the Framework.waitForStop() call, I have increased that to 1000 in &lt;a href=&quot;http://svn.apache.org/r1549887&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1549887&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Marking the issue fixed, we&apos;ll reopen if needed.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12678196">SLING-3234</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12604334">SLING-2571</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360818</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 47 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q76f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361117</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3258] [regression] Sling log support webconsole no longer links to logger configurations</title>
                <link>https://issues.apache.org/jira/browse/SLING-3258</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The log support webconsole used to link to each logger configuration (the osgi configuration web console view). This is a useful feature to quickly find the right loggers and change log levels etc. and should be added back.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12681507">SLING-3258</key>
            <summary>[regression] Sling log support webconsole no longer links to logger configurations</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chetanm">Chetan Mehrotra</assignee>
                                    <reporter username="alexander.klimetschek">Alexander Klimetschek</reporter>
                        <labels>
                            <label>logback</label>
                    </labels>
                <created>Wed, 27 Nov 2013 06:36:17 +0000</created>
                <updated>Fri, 7 Mar 2014 06:16:22 +0000</updated>
                            <resolved>Fri, 29 Nov 2013 15:30:58 +0000</resolved>
                                                    <fixVersion>Commons Log 4.0.0</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13835423" author="chetanm" created="Fri, 29 Nov 2013 15:30:58 +0000"  >&lt;p&gt;Added support in  &lt;a href=&quot;http://svn.apache.org/r1546580&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1546580&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360772</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 48 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q6w7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361071</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3256] Regression by SLING-3255: StreamRendererServlet writes wrong output</title>
                <link>https://issues.apache.org/jira/browse/SLING-3256</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;the changes introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3255&quot; title=&quot;StreamRendererServlet makes incorrect assumptions about BufferedInputStream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3255&quot;&gt;&lt;del&gt;SLING-3255&lt;/del&gt;&lt;/a&gt; contained a bug, which produces wrong output.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12681150">SLING-3256</key>
            <summary>Regression by SLING-3255: StreamRendererServlet writes wrong output</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="tripod">Tobias Bocanegra</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Nov 2013 22:25:11 +0000</created>
                <updated>Fri, 7 Mar 2014 10:38:42 +0000</updated>
                            <resolved>Tue, 26 Nov 2013 05:46:04 +0000</resolved>
                                    <version>Servlets Get 2.1.4</version>
                                    <fixVersion>Servlets Get 2.1.6</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13831991" author="tripod" created="Mon, 25 Nov 2013 22:28:24 +0000"  >&lt;p&gt;on line 548, only &lt;tt&gt;read&lt;/tt&gt; bytes should be written, not &lt;tt&gt;len&lt;/tt&gt; : &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; 
543	        &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (position &amp;lt; end) {
544	            &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; len = (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;) &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.min(end - position, buffer.length);
545	            &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; read = istream.read(buffer, 0, len);
546	            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (read != -1) {
547	                position += read;
548	                ostream.write(buffer, 0, len);
549	            } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
550	                &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
551	            }
552	        }
553	    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13832305" author="alexander.klimetschek" created="Tue, 26 Nov 2013 04:36:01 +0000"  >&lt;p&gt;Here is a patch that adds a test for the case and fixes it.&lt;/p&gt;</comment>
                            <comment id="13832339" author="bdelacretaz" created="Tue, 26 Nov 2013 05:46:04 +0000"  >&lt;p&gt;Patch applied in &lt;a href=&quot;http://svn.apache.org/r1545544&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1545544&lt;/a&gt; - thanks for the report and patch!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12680605">SLING-3255</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12615791" name="SLING-3256.patch" size="2095" author="alexander.klimetschek" created="Tue, 26 Nov 2013 04:36:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360415</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 49 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q4p3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360714</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3255] StreamRendererServlet makes incorrect assumptions about BufferedInputStream</title>
                <link>https://issues.apache.org/jira/browse/SLING-3255</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The class (with code apparently borrowed from Tomcat) assumes that BufferedInputStream.read(...) always fills the requested buffer, even if the BIS does not make such a guarantee.&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-956&quot; title=&quot;SegmentStream doesn&amp;#39;t implement the method available()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-956&quot;&gt;&lt;del&gt;OAK-956&lt;/del&gt;&lt;/a&gt; for related discussion.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12680605">SLING-3255</key>
            <summary>StreamRendererServlet makes incorrect assumptions about BufferedInputStream</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="jukkaz">Jukka Zitting</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Nov 2013 21:27:59 +0000</created>
                <updated>Fri, 7 Mar 2014 10:38:43 +0000</updated>
                            <resolved>Fri, 22 Nov 2013 14:14:26 +0000</resolved>
                                    <version>Servlets Get 2.1.4</version>
                                    <fixVersion>Servlets Get 2.1.6</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13829372" author="jukkaz" created="Thu, 21 Nov 2013 21:30:38 +0000"  >&lt;p&gt;Proposed patch&lt;/p&gt;</comment>
                            <comment id="13829796" author="bdelacretaz" created="Fri, 22 Nov 2013 08:35:37 +0000"  >&lt;p&gt;Thanks for your patch, I have committed it in &lt;a href=&quot;http://svn.apache.org/r1544432&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1544432&lt;/a&gt; and added a few more test cases in &lt;a href=&quot;http://svn.apache.org/r1544434&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1544434&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13829969" author="bdelacretaz" created="Fri, 22 Nov 2013 13:34:09 +0000"  >&lt;p&gt;Reopening, looks like this breaks our RangeStreamingTest integration test&lt;/p&gt;</comment>
                            <comment id="13829988" author="bdelacretaz" created="Fri, 22 Nov 2013 14:14:26 +0000"  >&lt;p&gt;HTTP Range header handling was off by one, fixed in revision 1544547&lt;/p&gt;</comment>
                            <comment id="13830512" author="alexander.klimetschek" created="Sat, 23 Nov 2013 01:53:55 +0000"  >&lt;p&gt;BTW, the tomcat servlet which was used as basis in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1814&quot; title=&quot;Add support for Range requests to the StreamRendererServlet&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1814&quot;&gt;&lt;del&gt;SLING-1814&lt;/del&gt;&lt;/a&gt; still seems to use the same code: &lt;a href=&quot;http://svn.apache.org/viewvc/tomcat/trunk/java/org/apache/catalina/servlets/DefaultServlet.java?revision=1532296&amp;amp;view=markup#l2045&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;DefaultServlet.java copyRange() line 2045&lt;/a&gt;. &lt;/p&gt;</comment>
                            <comment id="13830975" author="jukkaz" created="Sun, 24 Nov 2013 16:47:08 +0000"  >&lt;p&gt;See latest comments in &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-956&quot; title=&quot;SegmentStream doesn&amp;#39;t implement the method available()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-956&quot;&gt;&lt;del&gt;OAK-956&lt;/del&gt;&lt;/a&gt; for some additional background.&lt;/p&gt;

&lt;p&gt;As for the Tomcat code, since it&apos;s in DefaultServlet, I believe it only needs to work with local files and resources inside jar/war files, in which cases the &lt;tt&gt;available()&lt;/tt&gt; methods are implemented in a way to make &lt;tt&gt;BufferedInputStream&lt;/tt&gt; work as expected by the code. It also seems that the code in Tomcat predates &lt;a href=&quot;http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6192696&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6192696&lt;/a&gt; where the behavior of &lt;tt&gt;BufferedInputStream&lt;/tt&gt; was adjusted so that it no longer necessarily blocks to wait until the full requested number of bytes has been read.&lt;/p&gt;</comment>
                            <comment id="13832111" author="alexander.klimetschek" created="Tue, 26 Nov 2013 00:14:25 +0000"  >&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3256&quot; title=&quot;Regression by SLING-3255: StreamRendererServlet writes wrong output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3256&quot;&gt;&lt;del&gt;SLING-3256&lt;/del&gt;&lt;/a&gt; for a regression of this change.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12681150">SLING-3256</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12663224">OAK-956</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12615197" name="0001-SLING-3255-StreamRendererServlet-makes-incorrect-ass.patch" size="8886" author="jukkaz" created="Thu, 21 Nov 2013 21:30:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359870</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 49 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q1cf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360169</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3253] leader not stable due to: leader recalculated instead of using pre-calculated leader based on leaderElectionId</title>
                <link>https://issues.apache.org/jira/browse/SLING-3253</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Discovery.impl stores a &apos;leaderElectionId&apos; property as part of the instance node in the repository. The idea of this property is to control the leader election: the instance with the lowest leaderElectionId in an established cluster-view becomes leader.&lt;/p&gt;

&lt;p&gt;This leaderElectionId is created properly (composed of the leaderElectionRepositoryDescriptor, the bundle-activation time and the slingId), it is propagated to the winning established cluster view and all - but is never really taken into consideration for the leader election.&lt;/p&gt;

&lt;p&gt;Instead, in discovery.impl 1.0.0 the leader election is only based on the slingId. Which makes it robust, yes, but not stable - since a joining slave can have a lower slingId than the current leader.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12680293">SLING-3253</key>
            <summary>leader not stable due to: leader recalculated instead of using pre-calculated leader based on leaderElectionId</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="stefanegli">Stefan Egli</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Nov 2013 14:29:21 +0000</created>
                <updated>Thu, 12 Nov 2015 11:27:32 +0000</updated>
                            <resolved>Thu, 21 Nov 2013 10:34:32 +0000</resolved>
                                    <version>Discovery Impl 1.0.0</version>
                                    <fixVersion>Discovery Impl 1.0.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13828807" author="egli" created="Thu, 21 Nov 2013 10:34:32 +0000"  >&lt;p&gt;Fixed. leaderId is now properly taken from the pre-calculated /var/discovery/impl/establishedView/%cluster-view-id%/leaderId.&lt;/p&gt;

&lt;p&gt;As a result:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;in discovery.impl 1.0.0: the leader is always the instance with the lowest slingId
	&lt;ul&gt;
		&lt;li&gt;this means that the leader can change if a new instance with a lower slingId joins or leaves.&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;in discovery.impl 1.0.2: there are two situations:
	&lt;ul&gt;
		&lt;li&gt;with leaderElectionRepositoryDescriptor empty: the first started instance becomes and remains leader until it is stopped&lt;/li&gt;
		&lt;li&gt;with leaderElectionRepositoryDescriptor configured: the first started instance where that descriptor-value is &apos;false&apos; becomes and remains leader until it is stopped. An instance with descriptor-value &apos;true&apos; can only become and stay leader if/as long as there are no instances with descriptor-value &apos;false&apos;.&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;PS: &apos;start/stop&apos; of an instance above is determined by discovery.impl bundle activate/deactivate.&lt;br/&gt;
PPS: an example of the leaderElectionRepositoryDescriptor is for it to be set to crx.cluster.master, in which case it forces the leader to be the first slave. This prevents an edge case problem with job distribution on the master.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359558</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 49 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pzfz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359857</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3250] [SlingPostServlet] Request Tracking does not include information about PostOperation</title>
                <link>https://issues.apache.org/jira/browse/SLING-3250</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;org.apache.sling.servlets.post.impl.SlingPostServlet&lt;br/&gt;
does not record information about the PostOperation in the request tracker. &lt;/p&gt;

&lt;p&gt;This information is useful when looking at recent requests in web console, to find out post operation that processed the request. Specially in case of custom post operations.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12679879">SLING-3250</key>
            <summary>[SlingPostServlet] Request Tracking does not include information about PostOperation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="amitgupt">Amit Gupta</assignee>
                                    <reporter username="amitgupt">Amit Gupta</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Nov 2013 06:07:32 +0000</created>
                <updated>Fri, 7 Mar 2014 10:39:27 +0000</updated>
                            <resolved>Fri, 22 Nov 2013 11:39:56 +0000</resolved>
                                    <version>Servlets Post 2.3.4</version>
                                    <fixVersion>Servlets Post 2.3.4</fixVersion>
                                    <component>General</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13829898" author="amitgupt" created="Fri, 22 Nov 2013 11:39:56 +0000"  >&lt;p&gt;committed At revision: 1544497 &lt;/p&gt;

&lt;p&gt;added a log in request tracker to record the post operation used&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359237</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 49 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pxgv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359536</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3249] Cache not properly used in JcrPropertyMap</title>
                <link>https://issues.apache.org/jira/browse/SLING-3249</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;JcrPropertyMap class has internal cache for properties an values.&lt;br/&gt;
The cache is not used correctly, e.g. reading the same property twice still results in access to underlying node.&lt;/p&gt;

&lt;p&gt;The problem is with get() methods, when property is red it is put into the cache, but the cache is never checked if it already contains the property.&lt;br/&gt;
The only way to force the caching is to use readFully() method indirectly, in this case read method is examining the cache.&lt;/p&gt;

&lt;p&gt;It looks this has been introduced by fixing &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2425&quot; title=&quot;Incorrect and inconsistent escaping of property names used in JcrPropertyMap&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2425&quot;&gt;&lt;del&gt;SLING-2425&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12679716">SLING-3249</key>
            <summary>Cache not properly used in JcrPropertyMap</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="ppakulski">Przemyslaw Pakulski</reporter>
                        <labels>
                            <label>perfomance</label>
                    </labels>
                <created>Mon, 18 Nov 2013 12:14:24 +0000</created>
                <updated>Mon, 17 Feb 2014 15:48:02 +0000</updated>
                            <resolved>Fri, 3 Jan 2014 07:30:21 +0000</resolved>
                                    <version>JCR Resource 2.2.8</version>
                                    <fixVersion>JCR Resource 2.3.0</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13843697" author="cziegeler" created="Mon, 9 Dec 2013 23:37:01 +0000"  >&lt;p&gt;I&apos;ve committed a potential fix - WDYT?&lt;/p&gt;</comment>
                            <comment id="13860098" author="ppakulski" created="Thu, 2 Jan 2014 09:36:09 +0000"  >&lt;p&gt;Proposed fix is very simple, which is good &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. I wondered for a moment where to put this cache checking condition.&lt;br/&gt;
It&apos;s a bit tricky because of key escaping. Does the fix work with properties using prefixes e.g. jcr:created ?&lt;/p&gt;

&lt;p&gt;If so then it&apos;s ok, I think.&lt;/p&gt;</comment>
                            <comment id="13861293" author="cziegeler" created="Fri, 3 Jan 2014 07:30:21 +0000"  >&lt;p&gt;Yes, the patch should work with all properties&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12543516">SLING-2425</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359074</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 43 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pwdj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359364</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3247] ClassCastException may be thrown if Session is not a JackrabbitSession</title>
                <link>https://issues.apache.org/jira/browse/SLING-3247</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When mapping a ResourceResolver to a tenant and the Session backing the ResourceResolver is not a JackrabbitSession, the TenantAdapter.getAdapter(Session, Class&amp;lt;?&amp;gt;) method throws a ClassCastException.&lt;/p&gt;

&lt;p&gt;Instead of checking for (session != null) at the beginning of the method we should actually check for (session instanceof JackrabbitSession).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12679609">SLING-3247</key>
            <summary>ClassCastException may be thrown if Session is not a JackrabbitSession</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Sun, 17 Nov 2013 01:28:34 +0000</created>
                <updated>Mon, 18 Aug 2014 11:29:17 +0000</updated>
                            <resolved>Sun, 17 Nov 2013 01:30:26 +0000</resolved>
                                    <version>Tenant 1.0.0</version>
                                    <fixVersion>Tenant 1.0.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13824694" author="fmeschbe" created="Sun, 17 Nov 2013 01:30:26 +0000"  >&lt;p&gt;Fixed in Rev. 1542629&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>358969</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 50 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pvq7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359259</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3245] TenantAdapterFactory can return incorrect &apos;null&apos; tenants depending on order of pathMatchers</title>
                <link>https://issues.apache.org/jira/browse/SLING-3245</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;For a case where users under /home/users/abc/tenant_name/ with an existing tenant tenant_name (assuming pathMatchers have a correct regex to be matched) should be identified with correct tenant without relying on order of entries in pathMatchers.&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Of course, the assumption is that pathMatchers can match a tenant name uniquely&lt;/li&gt;
	&lt;li&gt;e.g. pathMathers=
{&quot;/home/users/([^/]+)/*&quot;, &quot;/home/users/abc/([^/]+)/*}
&lt;p&gt; should work&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12679531">SLING-3245</key>
            <summary>TenantAdapterFactory can return incorrect &apos;null&apos; tenants depending on order of pathMatchers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="catholicon">Vikas Saurabh</reporter>
                        <labels>
                    </labels>
                <created>Sat, 16 Nov 2013 00:30:07 +0000</created>
                <updated>Mon, 18 Aug 2014 11:29:16 +0000</updated>
                            <resolved>Sun, 17 Nov 2013 01:26:20 +0000</resolved>
                                    <version>Tenant 1.0.0</version>
                                    <fixVersion>Tenant 1.0.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13824277" author="catholicon" created="Sat, 16 Nov 2013 00:34:26 +0000"  >&lt;p&gt;patch for the fix of the issue&lt;/p&gt;</comment>
                            <comment id="13824691" author="fmeschbe" created="Sun, 17 Nov 2013 01:26:20 +0000"  >&lt;p&gt;Thanks for reporting and providing the patch.&lt;/p&gt;

&lt;p&gt;Indeed we should consider all potential expressions and not abort if the first match happens to not map to a Tenant.&lt;/p&gt;

&lt;p&gt;Resolved in Rev. 1542627 applying the with some additional logging.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12614174" name="fix_early_tenantQuery_exit.patch" size="1838" author="catholicon" created="Sat, 16 Nov 2013 00:34:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>358891</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 50 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pv8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359181</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3244] Upgrade sling.api in commons/testing </title>
                <link>https://issues.apache.org/jira/browse/SLING-3244</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The commons/testing module still refers to org.apache.sling.api 2.1.0, so its mock classes are not compatible with later versions, which is troublesome when testing more modern code.&lt;/p&gt;

&lt;p&gt;The module should be updated to the latest sling.api, and mock classes adapted accordingly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12678990">SLING-3244</key>
            <summary>Upgrade sling.api in commons/testing </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 Nov 2013 10:56:57 +0000</created>
                <updated>Wed, 20 Sep 2017 13:06:28 +0000</updated>
                            <resolved>Wed, 13 Nov 2013 11:02:29 +0000</resolved>
                                    <version>Commons Testing 2.0.14</version>
                                    <fixVersion>Commons Testing 2.0.16</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13821190" author="bdelacretaz" created="Wed, 13 Nov 2013 11:02:29 +0000"  >&lt;p&gt;Changes committed in revision 1541469&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>358355</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 51 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1prxr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>358645</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3241] RhinoJavaScriptEngine.eval() does not unwrap NativeObject returned</title>
                <link>https://issues.apache.org/jira/browse/SLING-3241</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;org.apache.sling.scripting.javascript.internal.RhinoJavaScriptEngine#eval returns a org.mozilla.javascript.Scriptable object. Ideally resultant object should be unwrapped.&lt;/p&gt;</description>
                <environment>All</environment>
        <key id="12678933">SLING-3241</key>
            <summary>RhinoJavaScriptEngine.eval() does not unwrap NativeObject returned</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="sameer.charles">Sameer Charles</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 Nov 2013 04:34:08 +0000</created>
                <updated>Tue, 24 Jun 2014 13:05:39 +0000</updated>
                            <resolved>Wed, 13 Nov 2013 05:28:27 +0000</resolved>
                                    <version>Scripting JavaScript 2.0.12</version>
                                    <fixVersion>Scripting JavaScript 2.0.14</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13820956" author="fmeschbe" created="Wed, 13 Nov 2013 05:28:27 +0000"  >&lt;p&gt;Fixed in Rev. 1541393.&lt;/p&gt;

&lt;p&gt;Also adapted the ScriptableResourceTest becaused &quot;undefined&quot; is returned as null now. The test evaluates a comparison to the undefined value and verifies the result is true.&lt;/p&gt;</comment>
                            <comment id="13839809" author="sameer_charles" created="Thu, 5 Dec 2013 04:54:20 +0000"  >&lt;p&gt;unwrap might work if the resultant object is Scriptable, but seems like its always a NativeObject.&lt;/p&gt;

&lt;p&gt;Is it possible to reuse the ScriptValueConvertor#unwrapValue &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; from the springframework project? we would have to do the same thing.&lt;br/&gt;
Or do you think it should be the responsibility of the client application to unwrap js native objects.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://src.springframework.org/svn/se-surf/trunk/spring-webscripts/spring-webscripts/src/main/java/org/springframework/extensions/webscripts/ScriptValueConverter.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://src.springframework.org/svn/se-surf/trunk/spring-webscripts/spring-webscripts/src/main/java/org/springframework/extensions/webscripts/ScriptValueConverter.java&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14042077" author="bdelacretaz" created="Tue, 24 Jun 2014 13:05:39 +0000"  >&lt;p&gt;Closing Apache Sling Scripting JavaScript Support 2.0.14 issues after releasing that module.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>358299</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 19 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1prlb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>358589</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3240] Unable to run tests from launchpad/testing-war: launchpad/testing-war/src/main/config does not exist</title>
                <link>https://issues.apache.org/jira/browse/SLING-3240</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The launchpad/test-war project fails, apparently due to a missing configuration directory ( src/main/config ). However, once that directory is created the build still fails, since it fails to find the org.apache.sling.commons.testing.integration.HttpTest class.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12678560">SLING-3240</key>
            <summary>Unable to run tests from launchpad/testing-war: launchpad/testing-war/src/main/config does not exist</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Nov 2013 12:22:33 +0000</created>
                <updated>Wed, 7 Jun 2017 08:26:35 +0000</updated>
                            <resolved>Wed, 7 Jun 2017 08:26:35 +0000</resolved>
                                                    <fixVersion>Launchpad Testing 10</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13818913" author="rombert" created="Mon, 11 Nov 2013 12:23:48 +0000"  >&lt;p&gt;Attached log files for both of the issues described.&lt;/p&gt;</comment>
                            <comment id="13818930" author="bdelacretaz" created="Mon, 11 Nov 2013 13:05:59 +0000"  >&lt;p&gt;I think the root cause of the src/main/config error is maven-launchpad-plugin not accepting a missing folder in recent versions.&lt;/p&gt;

&lt;p&gt;I had the same problem in launchpad/builder and worked around it for now, look for empty.config.directory in pom.xml&lt;/p&gt;</comment>
                            <comment id="16040493" author="rombert" created="Wed, 7 Jun 2017 08:26:35 +0000"  >&lt;p&gt;This was fixed at some point&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12613145" name="build-failure-class-not-found.log" size="59624" author="rombert" created="Mon, 11 Nov 2013 12:23:48 +0000"/>
                            <attachment id="12613144" name="build-failure-config-dir-not-found.log" size="46890" author="rombert" created="Mon, 11 Nov 2013 12:23:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>357927</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ppav:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>358217</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3236] Unable to change node primary type once created</title>
                <link>https://issues.apache.org/jira/browse/SLING-3236</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Consider the following scenario in a Sling content module:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;folder is created in the project&lt;/li&gt;
	&lt;li&gt;folder is synced and created in the repo with a nt:folder primary type&lt;/li&gt;
	&lt;li&gt;a .content.xml file is added and the primary type set to sling:Folder&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;At this point the the primary type is not updated in the repository and additional metadata is not updated.&lt;/p&gt;

&lt;p&gt;Originally reported by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dsuess&quot; class=&quot;user-hover&quot; rel=&quot;dsuess&quot;&gt;dsuess&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12678225">SLING-3236</key>
            <summary>Unable to change node primary type once created</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Nov 2013 13:39:54 +0000</created>
                <updated>Thu, 12 Nov 2015 11:28:57 +0000</updated>
                            <resolved>Fri, 9 May 2014 21:01:44 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.0.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13993913" author="rombert" created="Fri, 9 May 2014 21:01:29 +0000"  >&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1593616&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1593616&lt;/a&gt; fix Poller timing out too fast&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1593617&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1593617&lt;/a&gt; poller now propagates the last caught throwable in all situations&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1593618&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1593618&lt;/a&gt; update the node&apos;s primary type if necessary ( + IT )&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1593619&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1593619&lt;/a&gt; use a common location in the repository for all methods of the ContentDeploymentTest&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>357600</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 25 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pnaf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>357890</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3235] 503 error at the beginning of integration tests</title>
                <link>https://issues.apache.org/jira/browse/SLING-3235</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Our launchpad/testing tests sometimes seem to start before Sling is actually ready, see example below.&lt;/p&gt;

&lt;p&gt;Sling services seem to be started, continuing with integration tests.&lt;br/&gt;
...&lt;br/&gt;
StreamServletTest.testHtmlFile(ERROR!&lt;br/&gt;
org.apache.sling.commons.testing.integration.HttpStatusCodeException: Expected status code 200 for GET, got 503...&lt;/p&gt;

&lt;p&gt;testPlainTextFile &amp;lt;&amp;lt;&amp;lt; ERROR!&lt;br/&gt;
java.io.IOException: mkdir(&lt;br/&gt;
&lt;a href=&quot;http://localhost:60527/launchpad-integration-tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:60527/launchpad-integration-tests&lt;/a&gt;) failed, status code=503&lt;/p&gt;

&lt;p&gt;Running org.apache.sling.launchpad.webapp.integrationtest.EspLoadTest&lt;br/&gt;
 &amp;lt;&amp;lt;&amp;lt; ERROR!&lt;br/&gt;
org.apache.sling.commons.testing.integration.HttpStatusCodeException: Expected status code 302 for POST, got 503, URL=&lt;a href=&quot;http://localhost:60527/EspLoadTest_1383722876765/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:60527/EspLoadTest_1383722876765/&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;&lt;br/&gt;
&amp;lt;head&amp;gt;&lt;br/&gt;
&amp;lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html;charset=ISO-8859-1&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;title&amp;gt;Error 503 ServletResolver service missing, cannot service requests&amp;lt;/title&amp;gt;&lt;/p&gt;

&lt;p&gt;...and the following tests pass&lt;/p&gt;</description>
                <environment></environment>
        <key id="12678199">SLING-3235</key>
            <summary>503 error at the beginning of integration tests</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Nov 2013 11:17:48 +0000</created>
                <updated>Wed, 28 Jan 2015 07:15:35 +0000</updated>
                            <resolved>Fri, 15 Nov 2013 10:55:33 +0000</resolved>
                                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13823541" author="bdelacretaz" created="Fri, 15 Nov 2013 10:55:33 +0000"  >&lt;p&gt;Should be fixed by &lt;a href=&quot;http://svn.apache.org/r1542223&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1542223&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The test-services bundle now includes configs which are installed asynchronously at startup and cause Sling to temporarily respond with 503. The tests now check URLs that (hopefully) indicate when a stable state is reached.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12762986">SLING-4261</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>357574</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 50 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pn4n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>357864</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3233] NPE in TopologyRequestValidator</title>
                <link>https://issues.apache.org/jira/browse/SLING-3233</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;NPE reported in TopologyRequestValidator on missing header. Fix in a moment.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12677783">SLING-3233</key>
            <summary>NPE in TopologyRequestValidator</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ianeboston">Ian Boston</assignee>
                                    <reporter username="ianeboston">Ian Boston</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Nov 2013 15:03:01 +0000</created>
                <updated>Thu, 12 Nov 2015 11:40:10 +0000</updated>
                            <resolved>Wed, 6 Nov 2013 15:24:03 +0000</resolved>
                                    <version>Discovery Impl 1.0.0</version>
                                    <fixVersion>Discovery Impl 1.0.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13814958" author="ianeboston" created="Wed, 6 Nov 2013 15:24:03 +0000"  >&lt;p&gt;Fixed&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>357158</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pkk7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>357448</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3232] Sling control port causes trouble in integration tests</title>
                <link>https://issues.apache.org/jira/browse/SLING-3232</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Integration tests sometimes fail with&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Failed to start Sling Control Server&lt;br/&gt;
java.net.BindException: Address already in use&lt;br/&gt;
	at org.apache.sling.maven.projectsupport.ControlListener.run(ControlListener.java:106)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:662)&lt;/p&gt;

&lt;p&gt;If we actually need that control port in integration tests (and I think we do), it should use a dynamically assigned free port number.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12677743">SLING-3232</key>
            <summary>Sling control port causes trouble in integration tests</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Nov 2013 09:36:11 +0000</created>
                <updated>Wed, 6 Nov 2013 09:45:22 +0000</updated>
                            <resolved>Wed, 6 Nov 2013 09:45:22 +0000</resolved>
                                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13814747" author="bdelacretaz" created="Wed, 6 Nov 2013 09:45:22 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/r1539289&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1539289&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>357118</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pkbb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>357408</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3231] Not able to set multiple framework property via command line args</title>
                <link>https://issues.apache.org/jira/browse/SLING-3231</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Sling launchpad doc &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; mentions that multiple framework properties can be specified via command line like &quot;-D n=v&quot;. For current implementation this leads to saving of last pair only.&lt;/p&gt;

&lt;p&gt;This appears to be a bug in parsing logic &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;. Patch to follow&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://sling.apache.org/documentation/the-sling-engine/the-sling-launchpad.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/documentation/the-sling-engine/the-sling-launchpad.html&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://markmail.org/thread/dtlzmnrcid4v3esy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/thread/dtlzmnrcid4v3esy&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12677588">SLING-3231</key>
            <summary>Not able to set multiple framework property via command line args</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chetanm">Chetan Mehrotra</assignee>
                                    <reporter username="chetanm">Chetan Mehrotra</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 Nov 2013 14:55:42 +0000</created>
                <updated>Sat, 26 Jul 2014 17:35:26 +0000</updated>
                            <resolved>Wed, 13 Nov 2013 12:10:13 +0000</resolved>
                                    <version>Launchpad Base 2.5.0</version>
                                    <fixVersion>Launchpad Base 2.5.2</fixVersion>
                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13813958" author="chetanm" created="Tue, 5 Nov 2013 14:59:22 +0000"  >&lt;p&gt;Patch to handle multiple options. This patch support specifying property like &lt;tt&gt;-Da1=b1 -Da2=b2&lt;/tt&gt; which matches the style used to specify the system properties in Java command line&lt;/p&gt;

&lt;p&gt;If required support can also be added for documented way of &lt;tt&gt;-D a1=b1 -D a2=b2&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="13817351" author="bdelacretaz" created="Fri, 8 Nov 2013 15:31:34 +0000"  >&lt;p&gt;I think requiring -Da=b without spaces is fine if that makes things simpler, as long as -D a=b with spaces produces a useful error message.&lt;/p&gt;

&lt;p&gt;And actually using -F instead of -D would be better to prevent confusion, otherwise you can have confusing command lines like &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java -Da=b -jar some.jar -Da=c
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Where the -Ds have different meaning depending on their position in the command line.&lt;/p&gt;</comment>
                            <comment id="13819797" author="chetanm" created="Tue, 12 Nov 2013 03:42:08 +0000"  >&lt;p&gt;Fine would go with &lt;tt&gt;-F&lt;/tt&gt; option&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fmeschbe&quot; class=&quot;user-hover&quot; rel=&quot;fmeschbe&quot;&gt;fmeschbe&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; Can you also have a look and comment. Would like to commit it by tomorrow &lt;/p&gt;</comment>
                            <comment id="13820967" author="fmeschbe" created="Wed, 13 Nov 2013 05:47:31 +0000"  >&lt;p&gt;Thanks for the patch.&lt;/p&gt;

&lt;p&gt;And yes, I think we should support both variants &quot;-Da=b&quot; and &quot;-D a=b&quot;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt; I think we should stick with -D because we always had this and other Java apps to the same. Changing this might be even more confusing and using -F might even be confused with -f for the log file.&lt;/p&gt;
</comment>
                            <comment id="13821180" author="bdelacretaz" created="Wed, 13 Nov 2013 10:50:42 +0000"  >&lt;p&gt;I don&apos;t have a very strong opinion about -D or -F, as long as those who vote for -D take the burden of explaining that when people get in trouble with &quot;java -Da=b -jar some.jar -Da=c&quot; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13821259" author="chetanm" created="Wed, 13 Nov 2013 12:10:13 +0000"  >&lt;p&gt;Fixed the issue with &lt;a href=&quot;http://svn.apache.org/r1541482&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1541482&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Following formats are supported&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;-Da1=b1 -Da2=b2&lt;/li&gt;
	&lt;li&gt;-D a1=b1 -D a2=b2&lt;/li&gt;
&lt;/ul&gt;

</comment>
                    </comments>
                    <attachments>
                            <attachment id="12612189" name="SLING-3231.patch" size="4401" author="chetanm" created="Tue, 5 Nov 2013 14:59:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>356963</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 51 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pjdb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>357253</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3230] UpdateUserTest integration test fails with Oak</title>
                <link>https://issues.apache.org/jira/browse/SLING-3230</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Two tests fail in UpdateUserTest - the cause for the second looks like &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3144&quot; title=&quot;UserAdmin and GroupAdmin groups are missing on our Oak setup&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3144&quot;&gt;&lt;del&gt;SLING-3144&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;For now, I&apos;ll disable those tests with the JackrabbitOnly category.&lt;/p&gt;

&lt;p&gt;UpdateUserTest.testChangeUserPassword:103 &lt;br/&gt;
expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  UpdateUserTest.testChangeUserPasswordAsUserAdminMemberWithoutOldPwd:185 &lt;br/&gt;
Adding user testUser1383662767745 to group via &lt;a href=&quot;http://localhost:8888/system/userManager/group/UserAdmin.update.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8888/system/userManager/group/UserAdmin.update.html&lt;/a&gt; expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12677584">SLING-3230</key>
            <summary>UpdateUserTest integration test fails with Oak</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 Nov 2013 14:47:16 +0000</created>
                <updated>Tue, 6 Oct 2015 19:56:14 +0000</updated>
                            <resolved>Tue, 6 Oct 2015 19:56:14 +0000</resolved>
                                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14263829" author="chetanm" created="Sun, 4 Jan 2015 10:39:52 +0000"  >&lt;p&gt;Current &lt;tt&gt;ChangeUserPasswordServlet&lt;/tt&gt; makes use of implementation details to validate old password (via reflection) and hence was failing with Oak. Instead it can make use of new changePassword method introduced via &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-3080&quot; title=&quot;Add User#changePassword(String newPw, String oldPw)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JCR-3080&quot;&gt;&lt;del&gt;JCR-3080&lt;/del&gt;&lt;/a&gt; to validate the old password directly&lt;/p&gt;

&lt;p&gt;Patch for the same. It updates the dependency on JR API to 2.3.0. With this the UpdateUserTest passes&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=asanso&quot; class=&quot;user-hover&quot; rel=&quot;asanso&quot;&gt;asanso&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt; Would it be fine to apply the patch&lt;/p&gt;</comment>
                            <comment id="14264546" author="asanso" created="Mon, 5 Jan 2015 12:36:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chetanm&quot; class=&quot;user-hover&quot; rel=&quot;chetanm&quot;&gt;chetanm&lt;/a&gt; lgtm thanks!!&lt;/p&gt;</comment>
                            <comment id="14265933" author="chetanm" created="Tue, 6 Jan 2015 10:18:29 +0000"  >&lt;p&gt;Applied the patch in &lt;a href=&quot;http://svn.apache.org/r1649766&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1649766&lt;/a&gt;. Would enable the tests once &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4283&quot; title=&quot;Use config from builder in testing application&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4283&quot;&gt;&lt;del&gt;SLING-4283&lt;/del&gt;&lt;/a&gt; is resolved&lt;/p&gt;</comment>
                            <comment id="14266011" author="chetanm" created="Tue, 6 Jan 2015 11:55:01 +0000"  >&lt;p&gt;Renebaled the test &lt;tt&gt;testChangeUserPassword&lt;/tt&gt; with &lt;a href=&quot;http://svn.apache.org/r1649785&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1649785&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;testChangeUserPasswordAsUserAdminMemberWithoutOldPwd&lt;/tt&gt; is stil failing to due to missing UserAdmin group&lt;/p&gt;</comment>
                            <comment id="14945654" author="rombert" created="Tue, 6 Oct 2015 19:56:07 +0000"  >&lt;p&gt; Removed testChangeUserPasswordAsUserAdminMemberWithoutOldPwd as it uses UserAdminGroup removed with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-5093&quot; title=&quot;Remove UserAdmin and GroupAdmin settings from AuthorizablePrivilegesInfo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-5093&quot;&gt;&lt;del&gt;SLING-5093&lt;/del&gt;&lt;/a&gt; .&lt;/p&gt;

&lt;p&gt; &lt;a href=&quot;https://svn.apache.org/r1707129&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1707129&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12636606">SLING-2788</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12672136">SLING-3144</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12689972" name="SLING-3230.patch" size="3345" author="chetanm" created="Sun, 4 Jan 2015 10:39:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>356959</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 4 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pjcf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>357249</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3229] UserPrivilegesInfoTest integration tests fails on Oak (missing UserAdmin/GroupAdmin groups)</title>
                <link>https://issues.apache.org/jira/browse/SLING-3229</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Tests fail with errors like  &lt;/p&gt;

&lt;p&gt;Adding user testUser1383658423704 to group via &lt;a href=&quot;http://localhost:8888/system/userManager/group/UserAdmin.update.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8888/system/userManager/group/UserAdmin.update.html&lt;/a&gt; expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;/p&gt;

&lt;p&gt;For now, I&apos;ll disable those tests using the JackrabbitOnly category.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12677567">SLING-3229</key>
            <summary>UserPrivilegesInfoTest integration tests fails on Oak (missing UserAdmin/GroupAdmin groups)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 Nov 2013 13:36:08 +0000</created>
                <updated>Tue, 6 Oct 2015 19:52:52 +0000</updated>
                            <resolved>Tue, 6 Oct 2015 19:52:52 +0000</resolved>
                                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14945651" author="rombert" created="Tue, 6 Oct 2015 19:52:45 +0000"  >&lt;p&gt;Removed the parts of the tests that were using the UserAdmin/GroupAdmin functionality, as it has been removed with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-5093&quot; title=&quot;Remove UserAdmin and GroupAdmin settings from AuthorizablePrivilegesInfo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-5093&quot;&gt;&lt;del&gt;SLING-5093&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://svn.apache.org/r1707128&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1707128&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12636606">SLING-2788</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12672136">SLING-3144</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>356942</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 4 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pj8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>357232</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3228] PostServletPrivilegesUpdateTest integration test fails with Oak, needs test categories</title>
                <link>https://issues.apache.org/jira/browse/SLING-3228</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The PostServletPrivilegesUpdateTest test fails on Oak, it expects a property added event that Oak doesn&apos;t supply.&lt;/p&gt;

&lt;p&gt;This is a good opportunity to implement the &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3151&quot; title=&quot;Add Junit JackrabbitOnly and OakOnly JUnit test categories&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3151&quot;&gt;&lt;del&gt;SLING-3151&lt;/del&gt;&lt;/a&gt; test categories, we can then keep both tests so as to document the subtle differences between Oak and Jackrabbit when it comes to JCR events.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12677365">SLING-3228</key>
            <summary>PostServletPrivilegesUpdateTest integration test fails with Oak, needs test categories</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                            <label>sling-IT</label>
                    </labels>
                <created>Mon, 4 Nov 2013 12:57:08 +0000</created>
                <updated>Sat, 6 May 2023 10:25:05 +0000</updated>
                            <resolved>Sat, 6 May 2023 10:25:05 +0000</resolved>
                                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13813992" author="bdelacretaz" created="Tue, 5 Nov 2013 15:34:39 +0000"  >&lt;p&gt;For now, I have disabled the failing tests using the JackrabbitOnly category, in &lt;a href=&quot;http://svn.apache.org/r1539033&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1539033&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16139284" author="rombert" created="Wed, 23 Aug 2017 22:51:06 +0000"  >&lt;p&gt;Actually the problem is with the test, or rather with the Davex remoting not being able to deliver observation events - see &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-4173&quot; title=&quot;Unable to receive observation events when connecting via DavEx&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JCR-4173&quot;&gt;&lt;del&gt;OAK-6583&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16153526" author="rombert" created="Tue, 5 Sep 2017 11:52:33 +0000"  >&lt;p&gt;Once we incorporate a new Jackrabbit release, the test needs to be updated as instead of 1 property added, 1 property removed and 1 property changed event, 2 property changed events are sent.&lt;/p&gt;</comment>
                            <comment id="16168116" author="kwin" created="Fri, 15 Sep 2017 16:26:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; Since you integrated Jackrabbit 2.14.3 in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-7102&quot; title=&quot;DavEx integration tests fail on Java 9 - javax.jcr.RepositoryFactory is not an ImageIO SPI class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-7102&quot;&gt;&lt;del&gt;SLING-7102&lt;/del&gt;&lt;/a&gt; could we reenable the tests now?&lt;/p&gt;</comment>
                            <comment id="16169419" author="rombert" created="Sun, 17 Sep 2017 21:12:29 +0000"  >&lt;p&gt;The tests still needs adjustment, as Oak does not send the right events ( remembered this the hard way ).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12672805">SLING-3151</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13097162">JCR-4173</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>356740</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 6 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1phzr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>357030</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3227] FormLoginModulePlugin does not work with Oak</title>
                <link>https://issues.apache.org/jira/browse/SLING-3227</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Some integration tests (&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3221&quot; title=&quot;AuthenticationResponseCodeTest fails with Oak, missing FormLoginModulePlugin&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3221&quot;&gt;&lt;del&gt;SLING-3221&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3226&quot; title=&quot;RedirectOnLogoutTest integration test fails on Oak: missing FormAuthenticationHandler&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3226&quot;&gt;&lt;del&gt;SLING-3226&lt;/del&gt;&lt;/a&gt;) fail on Oak as our form authentication handler doesn&apos;t work with Oak.&lt;/p&gt;

&lt;p&gt;We&apos;ll need to either deprecate this functionality on Oak, or supply an alternative. Based on the oak dev list discussion &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;, an OSGi-based JAAS login module &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; should work.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://oak.markmail.org/thread/bsmmpfx6igtcqb5u&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://oak.markmail.org/thread/bsmmpfx6igtcqb5u&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://felix.apache.org/documentation/subprojects/apache-felix-jaas.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://felix.apache.org/documentation/subprojects/apache-felix-jaas.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12677361">SLING-3227</key>
            <summary>FormLoginModulePlugin does not work with Oak</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chetanm">Chetan Mehrotra</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                            <label>oak</label>
                    </labels>
                <created>Mon, 4 Nov 2013 12:39:06 +0000</created>
                <updated>Tue, 13 Oct 2015 04:35:27 +0000</updated>
                            <resolved>Sun, 4 Jan 2015 09:12:09 +0000</resolved>
                                                    <fixVersion>Form Based Authentication 1.0.8</fixVersion>
                                    <component>Authentication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                                                            <comments>
                            <comment id="14263810" author="chetanm" created="Sun, 4 Jan 2015 09:12:09 +0000"  >&lt;p&gt;Added FormLoginModule based on Oak support for JAAS authentication&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;FormAuthenticationHandler would use FormLoginModule or FormLoginModulePlugin depending on support for Oak LoginModule. This would enable use of same bundle in both Oak and JR2 based Sling deployments&lt;/li&gt;
	&lt;li&gt;For JAAS auth the handler would construct a FormCrendentials instance which is supported by FormLoginModule only. Once validated it would make use of Oak pre auth support to let Oak complete the JAAS login&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Done with &lt;a href=&quot;http://svn.apache.org/r1649302&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1649302&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12677098">SLING-3221</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12677360">SLING-3226</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12739615">SLING-3910</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                            <subtask id="12764754">SLING-4277</subtask>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>356736</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 43 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1phyv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>357026</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3226] RedirectOnLogoutTest integration test fails on Oak: missing FormAuthenticationHandler</title>
                <link>https://issues.apache.org/jira/browse/SLING-3226</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The second request of the RedirectOnLogoutTest (created for &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1847&quot; title=&quot;Redirect after logout does not work with form authentication&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1847&quot;&gt;&lt;del&gt;SLING-1847&lt;/del&gt;&lt;/a&gt;) fails with a 401 status, very probably because the sling.formauth cookie that it supplies is not recognized as Sling&apos;s FormAuthenticationHandler is not active on Oak.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12677360">SLING-3226</key>
            <summary>RedirectOnLogoutTest integration test fails on Oak: missing FormAuthenticationHandler</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chetanm">Chetan Mehrotra</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Nov 2013 12:37:15 +0000</created>
                <updated>Sun, 4 Jan 2015 09:14:12 +0000</updated>
                            <resolved>Sun, 4 Jan 2015 09:14:12 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13813981" author="bdelacretaz" created="Tue, 5 Nov 2013 15:21:13 +0000"  >&lt;p&gt;For now, I have disabled the failing tests using the JackrabbitOnly category, in &lt;a href=&quot;http://svn.apache.org/r1539027&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1539027&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14263812" author="chetanm" created="Sun, 4 Jan 2015 09:14:12 +0000"  >&lt;p&gt;As &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3227&quot; title=&quot;FormLoginModulePlugin does not work with Oak&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3227&quot;&gt;&lt;del&gt;SLING-3227&lt;/del&gt;&lt;/a&gt; got resolved reenabled the test with &lt;a href=&quot;http://svn.apache.org/r1649304&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1649304&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12636606">SLING-2788</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12677361">SLING-3227</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>356735</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 43 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1phyn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>357025</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3225] ModifyAceTest integration test fails with Oak: missing rep:write privilege </title>
                <link>https://issues.apache.org/jira/browse/SLING-3225</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In ModifyAceTest.testMergeAceForUserGrantAggregatePrivilegePartsAfterDenyAggregatePrivilege&lt;/p&gt;

&lt;p&gt;Expected privilege rep:write to be included in supplied list: &lt;span class=&quot;error&quot;&gt;&amp;#91;jcr:read, jcr:nodeTypeManagement, jcr:modifyAccessControl, jcr:versionManagement, jcr:write&amp;#93;&lt;/span&gt;)&lt;/p&gt;

&lt;p&gt;at org.apache.sling.launchpad.webapp.integrationtest.accessManager.ModifyAceTest.testMergeAceForUserGrantAggregatePrivilegePartsAfterDenyAggregatePrivilege(ModifyAceTest.java:986)&lt;/p&gt;

&lt;p&gt;Which looks related to &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3010&quot; title=&quot;Managing Permissions using Sling with Aggregate Privileges&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3010&quot;&gt;&lt;del&gt;SLING-3010&lt;/del&gt;&lt;/a&gt; - but my knowledge of those modules is fairly limited, so before I spend too much time on digging down, hints or patches are welcome.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12677358">SLING-3225</key>
            <summary>ModifyAceTest integration test fails with Oak: missing rep:write privilege </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Nov 2013 12:23:55 +0000</created>
                <updated>Mon, 11 Nov 2013 14:06:09 +0000</updated>
                            <resolved>Mon, 11 Nov 2013 14:06:09 +0000</resolved>
                                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13812805" author="fmeschbe" created="Mon, 4 Nov 2013 12:35:01 +0000"  >&lt;p&gt;&lt;tt&gt;rep:write&lt;/tt&gt; sounds like an internal permission. Do we want to check for those at all ?&lt;/p&gt;</comment>
                            <comment id="13813966" author="bdelacretaz" created="Tue, 5 Nov 2013 15:07:31 +0000"  >&lt;p&gt;For now, I have disabled the failing tests using the JackrabbitOnly category, in &lt;a href=&quot;http://svn.apache.org/r1539021&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1539021&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13818979" author="bdelacretaz" created="Mon, 11 Nov 2013 14:06:09 +0000"  >&lt;p&gt;Test reactivated in revision 1540733, passes after upgrading to Oak 0.10.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12636606">SLING-2788</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>356733</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 51 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1phy7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>357023</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3224] GetAclTest integration test fails due to incorrect privilege expansion in AbstractGetAclServlet</title>
                <link>https://issues.apache.org/jira/browse/SLING-3224</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Failed tests:   testEffectiveAclMergeForUser_SubsetOfPrivilegesDeniedOnChild:&lt;/p&gt;

&lt;p&gt;Expected privilege jcr:modifyProperties to be NOT INCLUDED in supplied list: &lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;rep:userManagement, jcr:nodeTypeManagement, jcr:modifyProperties, jcr:namespaceManagement, rep:privilegeManagement, jcr:workspaceManagement, rep:readProperties, rep:alterProperties, jcr:nodeTypeDefinitionManagement, jcr:lockManagement, jcr:read, jcr:lifecycleManagement, jcr:removeNode, jcr:modifyAccessControl, jcr:removeChildNodes, jcr:versionManagement, rep:addProperties, rep:removeProperties, rep:readNodes, jcr:readAccessControl, jcr:addChildNodes, jcr:retentionManagement&amp;#93;&lt;/span&gt;)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12677342">SLING-3224</key>
            <summary>GetAclTest integration test fails due to incorrect privilege expansion in AbstractGetAclServlet</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                            <label>sling-IT</label>
                    </labels>
                <created>Mon, 4 Nov 2013 11:18:06 +0000</created>
                <updated>Mon, 17 Sep 2018 15:34:27 +0000</updated>
                            <resolved>Thu, 24 Aug 2017 13:45:58 +0000</resolved>
                                                    <fixVersion>JCR Jackrabbit Access Manager 3.0.2</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13812788" author="bdelacretaz" created="Mon, 4 Nov 2013 12:01:52 +0000"  >&lt;p&gt;This looks like a real difference in behavior between Jackrabbit and Oak. &lt;/p&gt;

&lt;p&gt;To confirm, we should add a test to bundles/jcr/it-jackrabbit-oak/.../CommonTests which does the same privileges setup &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; directly on the repository, and verifies the results.&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; See GetAclTest. testEffectiveAclMergeForUser_SubsetOfPrivilegesDeniedOnChild for the privileges setup.&lt;/p&gt;</comment>
                            <comment id="13812793" author="fmeschbe" created="Mon, 4 Nov 2013 12:09:49 +0000"  >&lt;p&gt;Given this difference: Is this a corner case which may or may not be implemented in one or the other way (according to the spec) or is it a regression in either Jackrabbit or Oak ?&lt;/p&gt;

&lt;p&gt;In the former case, I opt for removing the test (we cannot make sure the test ever passes on different implementations).&lt;/p&gt;

&lt;p&gt;In the latter case, I opt for adapting the test to what is the intended behaviour and report an issue against the regression producing implementation.&lt;/p&gt;

&lt;p&gt;Ok, there is a third option: The test is just buggy &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13813961" author="bdelacretaz" created="Tue, 5 Nov 2013 15:01:31 +0000"  >&lt;p&gt;For now, I have disabled the failing tests using the JackrabbitOnly category, in revision 1539019&lt;/p&gt;</comment>
                            <comment id="16139797" author="rombert" created="Thu, 24 Aug 2017 09:15:41 +0000"  >&lt;p&gt;I am not sure that this is an error in Oak. Failing to find an actual test for this scenario, I wrote one which passes:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;diff --git a/oak-jcr/src/test/java/org/apache/jackrabbit/oak/jcr/security/authorization/ChildNodePermissionsTest.java b/oak-jcr/src/test/java/org/apache/jackrabbit/oak/jcr/security/authorization/ChildNodePermissionsTest.java
new file mode 100644
index 0000000000..18b64026c2
--- /dev/null
+++ b/oak-jcr/src/test/java/org/apache/jackrabbit/oak/jcr/security/authorization/ChildNodePermissionsTest.java
@@ -0,0 +1,38 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the &quot;License&quot;); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package org.apache.jackrabbit.oak.jcr.security.authorization;
+
+import javax.jcr.Node;
+import javax.jcr.security.Privilege;
+
+import org.junit.Test;
+
+public class ChildNodePermissionsTest extends AbstractEvaluationTest {
+
+    @Test
+    public void testChildNodeDeniedJcrWrite() throws Exception {
+        
+        Node n = superuser.getNode(path);
+        Node child = n.addNode(&quot;child&quot;);
+        
+        allow(n.getPath(), privilegesFromName(Privilege.JCR_ALL));
+        deny(child.getPath(), privilegesFromName(Privilege.JCR_WRITE));
+        
+        assertHasPrivilege(child.getPath(), Privilege.JCR_MODIFY_PROPERTIES, false);
+    }
+}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16139887" author="rombert" created="Thu, 24 Aug 2017 11:01:19 +0000"  >&lt;p&gt;Stepping through the code I can see that Oak returns the privileges correctly. However, in &lt;tt&gt;AbstractGetAclServlet.internalGetAcl&lt;/tt&gt; , the &lt;tt&gt;mergePrivilegeSet&lt;/tt&gt; invocation does not work properly. The call that fails is at line 181:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;                	mergePrivilegeSets(privilege,
                			privilegeToAncestorMap,
							deniedSet, grantedSet);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;where privilege is &lt;tt&gt;jcr:write&lt;/tt&gt;, deniedSet is empty and grantedSet is &lt;tt&gt;jcr:all&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;The logic is quite involved but I guess expansion of aggregate privileges is broken here.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Edit&lt;/em&gt;: typo&lt;/p&gt;</comment>
                            <comment id="16140043" author="rombert" created="Thu, 24 Aug 2017 13:45:35 +0000"  >&lt;ul&gt;
	&lt;li&gt;fixed bug with minor refactoring + extensive tests in &lt;a href=&quot;https://svn.apache.org/r1806048&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1806048&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;remove failing test in &lt;a href=&quot;https://svn.apache.org/1806049&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1806049&lt;/a&gt; after validating that the test passes with the SNAPSHOT version of the bundle&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I&apos;ve removed the test since it was testing a very specific scenario now covered in a unit test placed in the bundle. I&apos;ve left the over tests to make sure we have some integration coverage.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>356717</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 9 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1phun:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>357007</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3222] RequestUtil#escapeXml doesn&apos;t escape quotes</title>
                <link>https://issues.apache.org/jira/browse/SLING-3222</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;According to &lt;a href=&quot;http://www.w3.org/TR/xml/#syntax&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.w3.org/TR/xml/#syntax&lt;/a&gt; , there are 5 characters which should be escaped in XML. &lt;/p&gt;

&lt;p&gt;ResponseUtil#escapeXml(String input) only escapes brackets and ampersand. It should also escape single and double quotes.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12677100">SLING-3222</key>
            <summary>RequestUtil#escapeXml doesn&apos;t escape quotes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="andrei.dulvac">Andrei Dulvac</reporter>
                        <labels>
                            <label>PatchAvailable</label>
                    </labels>
                <created>Fri, 1 Nov 2013 16:30:54 +0000</created>
                <updated>Tue, 10 Dec 2013 08:48:08 +0000</updated>
                            <resolved>Tue, 10 Dec 2013 08:48:08 +0000</resolved>
                                    <version>API 2.2.0</version>
                                                    <component>API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13811447" author="andrei.dulvac" created="Fri, 1 Nov 2013 16:59:40 +0000"  >&lt;p&gt;Attached patch&lt;/p&gt;</comment>
                            <comment id="13844095" author="bdelacretaz" created="Tue, 10 Dec 2013 08:48:08 +0000"  >&lt;p&gt;Thanks for your patch, AFAICS this has been addressed by &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3276&quot; title=&quot;Escape quotes and double quotes when escaping for XML&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3276&quot;&gt;&lt;del&gt;SLING-3276&lt;/del&gt;&lt;/a&gt; in the meantime.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12508137">SLING-2085</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12611632" name="SLING-3222.patch" size="705" author="andrei.dulvac" created="Fri, 1 Nov 2013 16:59:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>356476</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 47 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pgcv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>356764</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3221] AuthenticationResponseCodeTest fails with Oak, missing FormLoginModulePlugin</title>
                <link>https://issues.apache.org/jira/browse/SLING-3221</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The launchpad/integration-tests AuthenticationResponseCodeTest,testValidatingCorrectFormCredentials test fails when run against Oak, in the following scenario:&lt;/p&gt;

&lt;p&gt;1) login via POST /j_security_check with j_username=admin j_password=admin j_validate=true&lt;/p&gt;

&lt;p&gt;2) login via POST /j_security_check with just j_validate=true and the cookies set by the previous login call&lt;/p&gt;

&lt;p&gt;The second login fails as our Oak setup does not use the Sling FormLoginModulePlugin that&apos;s used when running on Jackrabbit.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12677098">SLING-3221</key>
            <summary>AuthenticationResponseCodeTest fails with Oak, missing FormLoginModulePlugin</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chetanm">Chetan Mehrotra</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 Nov 2013 16:24:13 +0000</created>
                <updated>Sun, 4 Jan 2015 09:13:22 +0000</updated>
                            <resolved>Sun, 4 Jan 2015 09:13:22 +0000</resolved>
                                                                    <component>Authentication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13811434" author="bdelacretaz" created="Fri, 1 Nov 2013 16:50:46 +0000"  >&lt;p&gt;When running on Jackrabbit, a login with something like this as credential attributes:&lt;/p&gt;

{sling.formauth=9a4b3db0a0c625f36a16124710a8bdcb2903dac0@01383319840133@admin, user.name=admin, sling.authType=FORM}

&lt;p&gt;is handled by our FormLoginModulePlugin &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;, that&apos;s not present on our Oak setup.&lt;/p&gt;

&lt;p&gt;I have asked on the Oak dev list what the equivalent is.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://svn.apache.org/repos/asf/sling/trunk/bundles/auth/form/src/main/java/org/apache/sling/auth/form/impl/FormLoginModulePlugin.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/sling/trunk/bundles/auth/form/src/main/java/org/apache/sling/auth/form/impl/FormLoginModulePlugin.java&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13813975" author="bdelacretaz" created="Tue, 5 Nov 2013 15:17:28 +0000"  >&lt;p&gt;For now, I have disabled the failing tests using the JackrabbitOnly category, in &lt;a href=&quot;http://svn.apache.org/r1539025&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1539025&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14188282" author="rombert" created="Wed, 29 Oct 2014 11:57:52 +0000"  >&lt;p&gt;For the record, the discussion is at &lt;a href=&quot;http://markmail.org/thread/ipmqcdinyh2vdcmn&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;oak-dev: Can I use LoginModulePlugins in Oak?&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14263811" author="chetanm" created="Sun, 4 Jan 2015 09:13:22 +0000"  >&lt;p&gt;With &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3227&quot; title=&quot;FormLoginModulePlugin does not work with Oak&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3227&quot;&gt;&lt;del&gt;SLING-3227&lt;/del&gt;&lt;/a&gt; resolved enabled the test with &lt;a href=&quot;http://svn.apache.org/r1649305&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1649305&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12636606">SLING-2788</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12677361">SLING-3227</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>356474</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 43 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pgcf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>356762</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3220] TimedEventSender put into a busy endless loop, after topology changes</title>
                <link>https://issues.apache.org/jira/browse/SLING-3220</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;There seem&apos;s to be an issue in the TimedEventSender that puts the related background thread into a busy endless loop. This has two effects:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Heavy CPU usage&lt;/li&gt;
	&lt;li&gt;Timed Jobs are never finished, if in the busy loop&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;That&apos;s what I found out when debugging so far:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;TimedEventSender starts a background thread that takes events from a blocking queue&lt;/li&gt;
	&lt;li&gt;If the event&apos;s topic is org/apache/sling/event/impl/jobs/STOPPED, the event is never processed and there is no new event taken from the queue, thus it&apos;s not properly waiting, but instead falls into the endless loop, as the event instance is never set to null&lt;/li&gt;
	&lt;li&gt;Events with the &apos;stop topic&apos; are sent upon topology change event, handled by TimedEventSender itself, thus this only happens as soon as a new instance is joining the topology.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;In order to reproduce:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;one must have a second instance joining the same topology&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I will try to come up with a patch. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12676881">SLING-3220</key>
            <summary>TimedEventSender put into a busy endless loop, after topology changes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="pfaffm@adobe.com">Marc Pfaff</reporter>
                        <labels>
                    </labels>
                <created>Thu, 31 Oct 2013 16:02:33 +0000</created>
                <updated>Sat, 18 Jan 2014 19:36:54 +0000</updated>
                            <resolved>Fri, 1 Nov 2013 13:45:44 +0000</resolved>
                                    <version>Event 3.3.0</version>
                                    <fixVersion>Event 3.3.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13811151" author="pfaffm@adobe.com" created="Fri, 1 Nov 2013 10:18:54 +0000"  >&lt;p&gt;I managed to fix the endless loop, simply by ensuring all types of events are handled and the event is reset to null accordingly. This ensures the loop always takes the next event from the queue, which properly blocks the thread, if the queue is empty.&lt;/p&gt;

&lt;p&gt;The intention to put a &apos;stopped event&apos; (Utility.TOPIC_STOPPED) on the queue to control the background thread is unclear to me. Starting the thread is guarded by the threadStarted flag, which ensures the thread is only started once. So IMHO the thread must only be stopped on component deactivation.&lt;/p&gt;

&lt;p&gt;Does this help?&lt;/p&gt;
</comment>
                            <comment id="13811163" author="cziegeler" created="Fri, 1 Nov 2013 10:39:37 +0000"  >&lt;p&gt;I think this is introducing a new problem - the idea of stopping the queue is to stop/suspend the queue thread until the topology is stable again. With the patch in place, new events coming in while the topology is not stable, these events are immediately processed.&lt;br/&gt;
Of course the endless loop is not correct either. So I think this needs to be fixed completeley different: when stopped, the thread should sleep until woken up again.&lt;/p&gt;</comment>
                            <comment id="13811164" author="cziegeler" created="Fri, 1 Nov 2013 10:44:55 +0000"  >&lt;p&gt;Looking again at the code, I take my comment back &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; The active flag is set to false before the stop event is sent, so everything should be fine. Patch looks good to me&lt;/p&gt;</comment>
                            <comment id="13811256" author="bdelacretaz" created="Fri, 1 Nov 2013 13:45:44 +0000"  >&lt;p&gt;Patch applied in revision 1537937, thanks for your contribution!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12611572" name="SLING-3220.patch" size="1332" author="pfaffm@adobe.com" created="Fri, 1 Nov 2013 10:18:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>356257</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pf07:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>356545</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3219] ResourceResolverTest should be an OSGi test case, and use events instead of sleep</title>
                <link>https://issues.apache.org/jira/browse/SLING-3219</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The ResourceResolverTest is run in a weird way from a JSP script from the integration-tests module, which makes it a bit hard to debug and prevents it from using JUnit features. &lt;/p&gt;

&lt;p&gt;Also, it uses sleep to wait for mapping changes to be activated. This makes it fragile, and it fails sometimes with Oak where observation events are currently (V0.9) delivered less often than in Jackrabbit.&lt;/p&gt;

&lt;p&gt;I&apos;ll refactor it as a real JUnit test and instead of sleep() use the org/apache/sling/api/resource/ResourceResolverMapping/CHANGED event that the mapping subsystem delivers to indicate mapping changes.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12676869">SLING-3219</key>
            <summary>ResourceResolverTest should be an OSGi test case, and use events instead of sleep</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Thu, 31 Oct 2013 15:07:30 +0000</created>
                <updated>Thu, 31 Oct 2013 15:41:36 +0000</updated>
                            <resolved>Thu, 31 Oct 2013 15:41:36 +0000</resolved>
                                    <version>Launchpad Test Services 2.0.6</version>
                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13810350" author="bdelacretaz" created="Thu, 31 Oct 2013 15:41:36 +0000"  >&lt;p&gt;Implemented in &lt;a href=&quot;http://svn.apache.org/r1537534&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1537534&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The test can now be run with a POST from &lt;a href=&quot;http://localhost:8888/system/sling/junit/org.apache.sling.launchpad.testservices.serversidetests.ResourceResolverTest.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8888/system/sling/junit/org.apache.sling.launchpad.testservices.serversidetests.ResourceResolverTest.html&lt;/a&gt; , it looks stable in both Jackrabbit and Oak now, but much slower in Oak (33s vs. 9 on my box). IIUC the slowness is caused by Oak 0.9 having higher latency in delivering observation events.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12636606">SLING-2788</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>356245</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pexj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>356533</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3216] BindingsValuesProviders do not respect service dynamics</title>
                <link>https://issues.apache.org/jira/browse/SLING-3216</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Unregistering a BindingsValuesProvider does not cause the references to it in DefaultSlingScript instances cached by the ServletResolver to be refreshed. Simiarly, registering a new BVP does not show up in cached instances.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12676526">SLING-3216</key>
            <summary>BindingsValuesProviders do not respect service dynamics</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Oct 2013 01:26:04 +0000</created>
                <updated>Mon, 24 Feb 2014 10:19:17 +0000</updated>
                            <resolved>Wed, 30 Oct 2013 13:50:08 +0000</resolved>
                                    <version>Servlets Resolver 2.2.4</version>
                    <version>Scripting Core 2.0.24</version>
                                    <fixVersion>Servlets Resolver 2.3.0</fixVersion>
                    <fixVersion>Scripting Core 2.0.26</fixVersion>
                                    <component>Scripting</component>
                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13808671" author="justinedelson" created="Wed, 30 Oct 2013 02:00:58 +0000"  >&lt;p&gt;There&apos;s actually two different problems:&lt;br/&gt;
1) a change to a BVP doesn&apos;t cause the script cache to be refresh. The best solution I can come up with is to send an event.&lt;br/&gt;
2) unregistered BVPs aren&apos;t actually removed from the language-specific maps because the remove() call is passing in the service, not the serviceId.&lt;/p&gt;

&lt;p&gt;Attached patch handles both. However, it causes the Scripting Core ITs to fail. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt; can you take a look as to why? I can&apos;t figure it out.&lt;/p&gt;</comment>
                            <comment id="13808824" author="bdelacretaz" created="Wed, 30 Oct 2013 07:55:13 +0000"  >&lt;p&gt;Fixed the tests in &lt;a href=&quot;http://svn.apache.org/r1536994&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1536994&lt;/a&gt; , they were making some wrong assumptions about the sorting of BVPs of the same category. I have added the org.apache.felix.eventadmin dependency that you need as well, so if you apply your patch without the src/test bits you should be ok.&lt;/p&gt;</comment>
                            <comment id="13809010" author="justinedelson" created="Wed, 30 Oct 2013 12:02:33 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt;. I applied my patch in r1537059.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12610964" name="SLING-3216.patch" size="11985" author="justinedelson" created="Wed, 30 Oct 2013 02:00:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>355958</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 1 week ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pd67:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>356246</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3210] Oak login fails in DavExDisabledAnonAccessTest</title>
                <link>https://issues.apache.org/jira/browse/SLING-3210</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The DavExIntegrationTest base class uses repository.login(&quot;default&quot;), without credentials, which is not supported by Oak as per &lt;a href=&quot;http://jackrabbit.apache.org/oak/docs/differences.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jackrabbit.apache.org/oak/docs/differences.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;As a result, the login correctly fails, causing the test to fail.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12676111">SLING-3210</key>
            <summary>Oak login fails in DavExDisabledAnonAccessTest</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Oct 2013 12:53:53 +0000</created>
                <updated>Tue, 29 Oct 2013 15:14:43 +0000</updated>
                            <resolved>Tue, 29 Oct 2013 09:14:48 +0000</resolved>
                                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13806749" author="bdelacretaz" created="Mon, 28 Oct 2013 13:14:58 +0000"  >&lt;p&gt;At &lt;a href=&quot;http:///svn.apache.org/r1536348&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http:///svn.apache.org/r1536348&lt;/a&gt; , modified the DavExIntegrationTest base class to use admin credentials to verify that remote access works, and added a separate testDavexServletAccess() that tests just HTTP GET access to the davex servlet without credentials. &lt;/p&gt;

&lt;p&gt;IIUC the latter is what the test is meant to check, but before my changes it also assumed that credentials-less access to the remote repository should work, which is not the case with Oak anymore.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=justinedelson&quot; class=&quot;user-hover&quot; rel=&quot;justinedelson&quot;&gt;justinedelson&lt;/a&gt;, as according to &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2274&quot; title=&quot;DavEx servlet should never require authentication, even if anonymous access is prohibited&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2274&quot;&gt;&lt;del&gt;SLING-2274&lt;/del&gt;&lt;/a&gt; you implemented that test, could you review my changes?&lt;/p&gt;</comment>
                            <comment id="13807131" author="justinedelson" created="Mon, 28 Oct 2013 19:13:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt; I don&apos;t think you need the extra test. Just changing the login to some credentials should be sufficient. The test in DavExDisabledAnonAccessTest ensures that davex login works with or without anonymous access being enabled (which was the issue in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2274&quot; title=&quot;DavEx servlet should never require authentication, even if anonymous access is prohibited&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2274&quot;&gt;&lt;del&gt;SLING-2274&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="13807810" author="bdelacretaz" created="Tue, 29 Oct 2013 09:14:48 +0000"  >&lt;p&gt;Thanks for the clarification, I have removed the extra test in revision 1536617 - the other tests do indeed fail if I remove the dummy service registration in the org.apache.sling.jcr.davex bundle.&lt;/p&gt;</comment>
                            <comment id="13807856" author="fmeschbe" created="Tue, 29 Oct 2013 10:27:47 +0000"  >&lt;p&gt;Instead of admin credentials, I suggest to use GuestCredentials which is the right way to get anonymous access to the repository.&lt;/p&gt;</comment>
                            <comment id="13808071" author="justinedelson" created="Tue, 29 Oct 2013 15:14:43 +0000"  >&lt;p&gt;The DavExDisabledAnonAccessTest isn&apos;t really about anonymous access to the repository. It is about when anonymous access is disabled at the Sling Auth level.&lt;/p&gt;

&lt;p&gt;A DavEx client will send one or two anonymous requests (IIRC these are PROPFIND requests to get repository descriptors) before sending authentication information. So we had to always enable anonymous acess (again at the Sling Auth level) to the DavEx servlet, otherwise these initial requests would fail.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12636606">SLING-2788</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>355608</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 1 week, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pb0f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>355896</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3209] Deploying files via &quot;Install bundles directly from local directory&quot; does not work properly</title>
                <link>https://issues.apache.org/jira/browse/SLING-3209</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If you specify how to install artifacts to the launchpad instance as Install bundles directly from local directory, application crushes. This is caused by not sending all required data e.g. OSGI-INF content.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12676109">SLING-3209</key>
            <summary>Deploying files via &quot;Install bundles directly from local directory&quot; does not work properly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="Maciej Matuszewski">Maciej Matuszewski</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Oct 2013 12:45:53 +0000</created>
                <updated>Thu, 12 Nov 2015 11:29:03 +0000</updated>
                            <resolved>Fri, 23 May 2014 12:31:12 +0000</resolved>
                                    <version>Sling Eclipse IDE 1.0.0</version>
                                    <fixVersion>Sling Eclipse IDE 1.0.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13807780" author="rombert" created="Tue, 29 Oct 2013 08:28:59 +0000"  >&lt;p&gt;Right now we expect the project to place all required data in its output directory. If data is missing, the deployment will not work properly. How do you see this improved?&lt;/p&gt;</comment>
                            <comment id="13807804" author="egli" created="Tue, 29 Oct 2013 09:01:28 +0000"  >&lt;p&gt;Could it be due to the maven-scr-plugin not being configured properly in the pom and/or not picked up by m2e&apos;s lifecycle mapping?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;, could we try to come up with some sanity check for such a case? Wouldn&apos;t know how exactly though.. But maybe this could become a frequent case that people stumble upon..&lt;/p&gt;</comment>
                            <comment id="13807813" author="rombert" created="Tue, 29 Oct 2013 09:18:14 +0000"  >&lt;p&gt;What I can think of is inspecting the MANIFEST.MF and looking for a Service-Component header . If that header exists, ensure that it matches something in the project output directory. Of course, things can get hairy if we have a header which is &lt;tt&gt;OSGI-INF/*.xml&lt;/tt&gt; .&lt;/p&gt;

&lt;p&gt;I&apos;m not sure that this is  100% correct, but that&apos;s what we can do and is pretty much agnostic to how the application is assembled. This can be only one of the pre-deployment rules that we have, as I think there is more to be done in the future.&lt;/p&gt;</comment>
                            <comment id="13807819" author="egli" created="Tue, 29 Oct 2013 09:22:30 +0000"  >&lt;p&gt;Right. Double-checking the Service-Component property of the manifest sounds like a good first step and shouldn&apos;t have any side-effects.&lt;/p&gt;</comment>
                            <comment id="13808983" author="maciej matuszewski" created="Wed, 30 Oct 2013 11:24:09 +0000"  >&lt;p&gt;My OSGI-INF data is generated properly and it&apos;s in the &lt;tt&gt;target/scr-plugin-generated&lt;/tt&gt; directory. Isn&apos;t it a default maven-scr-plugin directory? When I manually copy OSGI-INF to the &lt;tt&gt;target/classes&lt;/tt&gt; it works fine. &lt;/p&gt;

&lt;p&gt;I have also other issue - is it possible to restart some other bundle when one is modified?&lt;/p&gt;</comment>
                            <comment id="13808985" author="egli" created="Wed, 30 Oct 2013 11:27:15 +0000"  >&lt;blockquote&gt;&lt;p&gt;My OSGI-INF data is generated properly and it&apos;s in the target/scr-plugin-generated directory. Isn&apos;t it a default maven-scr-plugin directory? When I manually copy OSGI-INF to the target/classes it works fine. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It must be in the target/classes directory. This is due to the way, the install servlet works: either it takes the exploded content of target/classes and installs it as a bundle. Or the slingclipse creates a jar based on the content of target/classes and uploads the jar. Both ways, everything must be under target/classes.&lt;/p&gt;</comment>
                            <comment id="13809083" author="rombert" created="Wed, 30 Oct 2013 13:48:18 +0000"  >&lt;p&gt;If you update to the latest version of the maven-scr-plugin you will get this configuration change automatically.&lt;/p&gt;</comment>
                            <comment id="14007096" author="rombert" created="Fri, 23 May 2014 12:31:12 +0000"  >&lt;p&gt;With the fixes from &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3550&quot; title=&quot;Inspect bundles for deployment for well-known errors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3550&quot;&gt;&lt;del&gt;SLING-3550&lt;/del&gt;&lt;/a&gt;, this is no longer an issue. I&apos;ve also updated the troubleshooting guide to reference this problem - see &lt;a href=&quot;https://cwiki.apache.org/confluence/display/SLING/Sling+IDE+tooling+User+Guide#SlingIDEtoolingUserGuide-WhydoIgetanerrrorabout%22NoSCRdescriptorfoundat...%22?&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/display/SLING/Sling+IDE+tooling+User+Guide#SlingIDEtoolingUserGuide-WhydoIgetanerrrorabout%22NoSCRdescriptorfoundat...%22?&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Maciej+Matuszewski&quot; class=&quot;user-hover&quot; rel=&quot;Maciej Matuszewski&quot;&gt;Maciej Matuszewski&lt;/a&gt; - please reopen if you still have problems.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>355606</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 23 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pazz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>355894</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3208] Port number from server settings is not used for sling:install</title>
                <link>https://issues.apache.org/jira/browse/SLING-3208</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In server setting you can set Port number in Connection section, however this port is not used for sling:install action. Maven uses default 8080. Changing this setting is available only via maven plugin configuration e.g. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.sling&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;maven-sling-plugin&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;2.0.5-SNAPSHOT&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;user&amp;gt;&lt;/span&gt;admin&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/user&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;password&amp;gt;&lt;/span&gt;admin&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/password&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;slingUrl&amp;gt;&lt;/span&gt; http://localhost:5502/system/console &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/slingUrl&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12676105">SLING-3208</key>
            <summary>Port number from server settings is not used for sling:install</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="Maciej Matuszewski">Maciej Matuszewski</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Oct 2013 12:22:58 +0000</created>
                <updated>Tue, 29 Oct 2013 08:34:48 +0000</updated>
                            <resolved>Tue, 29 Oct 2013 08:34:48 +0000</resolved>
                                    <version>Sling Eclipse IDE 1.0.0</version>
                                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13807785" author="rombert" created="Tue, 29 Oct 2013 08:34:48 +0000"  >&lt;p&gt;We&apos;ve moved away from using Maven for bundle deployment, so this no longer applies.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12610544" name="wrong_port.png" size="83241" author="Maciej Matuszewski" created="Mon, 28 Oct 2013 12:23:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>355602</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 1 week, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1paz3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>355890</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3205] maven-launchpad-plugin:run does not take run modes into account</title>
                <link>https://issues.apache.org/jira/browse/SLING-3205</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Running &quot;mvn clean launchpad:run&quot; in launchpad/testing, all bundles are installed regardless of the &amp;lt;runModes&amp;gt; specified in the bundle lists.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12675466">SLING-3205</key>
            <summary>maven-launchpad-plugin:run does not take run modes into account</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Thu, 24 Oct 2013 11:37:56 +0000</created>
                <updated>Fri, 25 Oct 2013 12:26:36 +0000</updated>
                            <resolved>Fri, 25 Oct 2013 12:26:36 +0000</resolved>
                                    <version>Maven Launchpad Plugin 2.2.0</version>
                                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13804087" author="bdelacretaz" created="Thu, 24 Oct 2013 11:41:11 +0000"  >&lt;p&gt;Added a test in &lt;a href=&quot;http://svn.apache.org/r1535342&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1535342&lt;/a&gt; that demonstrates the problem, disabled for now.&lt;/p&gt;</comment>
                            <comment id="13805265" author="bdelacretaz" created="Fri, 25 Oct 2013 12:26:36 +0000"  >&lt;p&gt;Implemented in revision 1535709&lt;/p&gt;

&lt;p&gt;Corresponding integration enabled in revision 1535712&lt;/p&gt;

&lt;p&gt;With this, the launchpad/testing tests use the correct bundles when run with -Dsling.run.modes=oak, as verified by InactiveRunModeTest. Some other tests still fail with that run mode but that&apos;s &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2788&quot; title=&quot;Optionally run Sling on Apache OAK&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2788&quot;&gt;&lt;del&gt;SLING-2788&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12672989">SLING-3155</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>355043</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1p7j3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>355331</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3203] Post servlet&apos;s delete operation deletes parent of nonexisting node</title>
                <link>https://issues.apache.org/jira/browse/SLING-3203</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In the below scenario, /tmp/test is gone after the delete operation - the resource resolver goes up the path of the nonexisting node, and it&apos;s /tmp/test that&apos;s provided to the DeleteOperation.&lt;/p&gt;

&lt;p&gt;I think we should change this (maybe with a backwards compatibility switch), as it&apos;s clear that the user&apos;s intention in this case is not to delete /tmp/test. Maybe just reject :delete operations if the request has any selector or extensions.&lt;/p&gt;

&lt;p&gt;curl -u admin:admin -X POST &lt;a href=&quot;http://localhost:8080/tmp/test/some.node&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/tmp/test/some.node&lt;/a&gt;&lt;br/&gt;
curl -u admin:admin &lt;a href=&quot;http://localhost:8080/tmp/test.tidy.2.json&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/tmp/test.tidy.2.json&lt;/a&gt; # looks good&lt;br/&gt;
curl -u admin:admin -F:operation=delete &lt;a href=&quot;http://localhost:8080/tmp/test.other/nothing&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/tmp/test.other/nothing&lt;/a&gt;&lt;br/&gt;
curl -u admin:admin &lt;a href=&quot;http://localhost:8080/tmp/test.tidy.2.json&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/tmp/test.tidy.2.json&lt;/a&gt; # 404&lt;/p&gt;</description>
                <environment></environment>
        <key id="12675236">SLING-3203</key>
            <summary>Post servlet&apos;s delete operation deletes parent of nonexisting node</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Wed, 23 Oct 2013 12:18:30 +0000</created>
                <updated>Thu, 27 Mar 2014 13:17:19 +0000</updated>
                            <resolved>Wed, 22 Jan 2014 13:12:04 +0000</resolved>
                                    <version>Servlets Post 2.3.2</version>
                                    <fixVersion>Servlets Post 2.3.4</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13802858" author="bdelacretaz" created="Wed, 23 Oct 2013 12:49:57 +0000"  >&lt;p&gt;Suggested patch - causes the above scenario to return a 400 BAD REQUEST status for any :delete operation that has selectors, extension or a suffix.&lt;/p&gt;</comment>
                            <comment id="13803290" author="alexander.klimetschek" created="Wed, 23 Oct 2013 20:31:58 +0000"  >&lt;p&gt;Looks good to me. A request to /tmp/test.other/nothing doesn&apos;t really make sense in the first place if the (full) path does not exist.&lt;/p&gt;

&lt;p&gt;Does the same issue apply to these cases?&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;a DELETE request (don&apos;t know if that shares use of the DeleteOperation)&lt;/li&gt;
	&lt;li&gt;a request using a @Delete addressing the local node (not sure if that works):
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;POST /tmp/test.other/nothing
with param: &lt;span class=&quot;code-quote&quot;&gt;&quot;.@Delete&quot;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;(are these all ways to delete something?)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Also could the same issue be present for other operations such as move, copy etc.?&lt;/p&gt;</comment>
                            <comment id="13804035" author="jsedding" created="Thu, 24 Oct 2013 10:22:02 +0000"  >&lt;blockquote&gt;&lt;p&gt;to return a 400 BAD REQUEST status&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think 400 is the incorrect status code. It is defined in &lt;a href=&quot;http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;RFC2616&lt;/a&gt; as &quot;The request could not be understood by the server due to malformed syntax.&quot;,^, however, the syntax of the request is just fine.&lt;/p&gt;

&lt;p&gt;Would it make sense to use a simple 404 Not Found?&lt;/p&gt;</comment>
                            <comment id="13804067" author="bdelacretaz" created="Thu, 24 Oct 2013 11:04:00 +0000"  >&lt;p&gt;You could argue that the syntax of the request is incorrect...but 404 is fine as well, as we&apos;re not finding the resource we&apos;re being asked to delete.&lt;/p&gt;</comment>
                            <comment id="13804797" author="alexander.klimetschek" created="Thu, 24 Oct 2013 23:18:16 +0000"  >&lt;p&gt;AFAIU, 400 Bad Request would mean the &quot;HTTP syntax&quot; is broken. In this case however it&apos;s just that the URL doesn&apos;t make sense here. If later that node in question is present, the request would be ok, so it is weird to say it&apos;s a syntax issue...&lt;/p&gt;

&lt;p&gt;So I agree a 404 instead sound better.&lt;/p&gt;</comment>
                            <comment id="13878420" author="fmeschbe" created="Wed, 22 Jan 2014 08:57:09 +0000"  >&lt;p&gt;I agree with the 400 part not being appropriate. I am not really sure about 404 being the right code, though. Rather I think it would be 403/FORBIDDEN (we don&apos;t allow this operation on this resource &lt;span class=&quot;error&quot;&gt;&amp;#91;URL&amp;#93;&lt;/span&gt;) or maybe even 409/CONFLICT (because we generally allow this method on this URL but in this context)&lt;/p&gt;

&lt;p&gt;WDYT ?&lt;/p&gt;

&lt;p&gt;Going a step further: I wonder, whether we should not forbid selectors and extensions completely on the SlingPostServlet ?&lt;/p&gt;</comment>
                            <comment id="13878438" author="bdelacretaz" created="Wed, 22 Jan 2014 09:12:48 +0000"  >&lt;p&gt;I agree that something &quot;worse&quot; than 404 is good to express the problem clearly.&lt;/p&gt;

&lt;p&gt;I wouldn&apos;t use 409 as &lt;a href=&quot;http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html&lt;/a&gt; says &quot;this code is only allowed in situations where it is expected that the user might be able to resolve the conflict and resubmit the request&quot; but here resubmitting will fail every time.&lt;/p&gt;

&lt;p&gt;My (current &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; favorite is 403, &quot;the server understood the request, but is refusing to fulfill it - authorization will not help and the request SHOULD NOT be repeated&quot;. I&apos;ll implement it like that then.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I wonder, whether we should not forbid selectors and extensions completely on the SlingPostServlet&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;m not in favor of that but let&apos;s discuss on the dev list if needed, that&apos;s a distinct topic.&lt;/p&gt;</comment>
                            <comment id="13878624" author="bdelacretaz" created="Wed, 22 Jan 2014 13:12:04 +0000"  >&lt;p&gt;Implemented in &lt;a href=&quot;http://svn.apache.org/r1560342&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1560342&lt;/a&gt; , with integration test.&lt;/p&gt;

&lt;p&gt;POST :delete now returns 403 with a descriptive message if the request includes selectors, extension or suffix.&lt;/p&gt;

&lt;p&gt;All integration tests pass.&lt;/p&gt;</comment>
                            <comment id="13949279" author="rryan@adobe.com" created="Thu, 27 Mar 2014 13:17:19 +0000"  >&lt;p&gt;In the case an :applyTo is provided isn&apos;t this check too draconian?&lt;/p&gt;

&lt;p&gt;Forbidding selectors on the sling post servlet ignores that filters and security checks might wish to use selectors to enforce security in front of the sling post servlet.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12609851" name="SLING-3203.patch" size="1978" author="bdelacretaz" created="Wed, 23 Oct 2013 12:49:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>354856</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 31 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1p6dr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>355145</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3202]  org.apache.sling.event.it.ClassloadingTest deadlock</title>
                <link>https://issues.apache.org/jira/browse/SLING-3202</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;This doesn&apos;t happen all the time but I just got a deadlock while running a full Sling build of svn revision 1534947&lt;/p&gt;

&lt;p&gt;I&apos;ll attach a stack trace + console log.&lt;/p&gt;</description>
                <environment>java version &amp;quot;1.6.0_51&amp;quot;&lt;br/&gt;
macosx 10.7.5</environment>
        <key id="12675218">SLING-3202</key>
            <summary> org.apache.sling.event.it.ClassloadingTest deadlock</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Wed, 23 Oct 2013 09:27:51 +0000</created>
                <updated>Mon, 5 Jan 2015 16:55:13 +0000</updated>
                            <resolved>Mon, 5 Jan 2015 16:55:07 +0000</resolved>
                                                    <fixVersion>Event 3.4.4</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13803956" author="cziegeler" created="Thu, 24 Oct 2013 07:37:37 +0000"  >&lt;p&gt;I can&apos;t tell for sure, but I think this is related to DS. We should wait for the 1.8 release and see whether that solves the problem&lt;/p&gt;</comment>
                            <comment id="14264767" author="cziegeler" created="Mon, 5 Jan 2015 16:55:07 +0000"  >&lt;p&gt;We haven&apos;t seen this for a long time, therefore setting to fixed&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12609829" name="SLING-3194-stacktrace.txt" size="44068" author="bdelacretaz" created="Wed, 23 Oct 2013 09:28:14 +0000"/>
                            <attachment id="12609830" name="testlog.txt" size="40161" author="bdelacretaz" created="Wed, 23 Oct 2013 09:28:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>354838</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 43 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1p69r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>355127</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3201] Redirect after post not possible</title>
                <link>https://issues.apache.org/jira/browse/SLING-3201</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;We are using the default post servlet and have PostOperation implementations that run some of our code and set up the response. In certain cases, we&apos;d like to redirect (via a 302 response + Location header). When we do this, the 302 is returned, but the Location isn&apos;t set because of code here: &lt;a href=&quot;http://grepcode.com/file/repo1.maven.org/maven2/org.apache.sling/org.apache.sling.servlets.post/2.3.0/org/apache/sling/servlets/post/AbstractPostResponse.java#320&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://grepcode.com/file/repo1.maven.org/maven2/org.apache.sling/org.apache.sling.servlets.post/2.3.0/org/apache/sling/servlets/post/AbstractPostResponse.java#320&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I talked to Felix Meschberger about this. His response was:&lt;br/&gt;
Looking at the code and the HTTP spec, I would think that the iff statement is incomplete and should not only encompass the 201/CREATED code but also the 3xx redirect codes, something like:&lt;/p&gt;

&lt;p&gt;if (statusCode == HttpServletResponse.SC_CREATED || statusCode / 100 == 3) {&lt;br/&gt;
    response.setHeader(&quot;Location&quot;, getLocation());&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;So, I would think this is a bug (or oversight) in the AbstractPostResponse.&lt;/p&gt;

&lt;p&gt;Do you mind reporting a Sling issue ?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12675141">SLING-3201</key>
            <summary>Redirect after post not possible</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="lbyrum">Laurie byrum</reporter>
                        <labels>
                    </labels>
                <created>Tue, 22 Oct 2013 22:08:22 +0000</created>
                <updated>Fri, 7 Mar 2014 10:39:27 +0000</updated>
                            <resolved>Thu, 24 Oct 2013 07:33:31 +0000</resolved>
                                    <version>Servlets Post 2.3.2</version>
                                    <fixVersion>Servlets Post 2.3.4</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13802363" author="fmeschbe" created="Tue, 22 Oct 2013 22:27:40 +0000"  >&lt;p&gt;Committed proposed fix in Rev. 1534825 along with a simple unit test making sure the Location header is appropriately set for the 201 and 3xx responses.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>354761</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 2 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1p5sn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>355050</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3199] Missing legal files in lauchpad/builder bundleListconfig.zip</title>
                <link>https://issues.apache.org/jira/browse/SLING-3199</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;For now I&apos;ve disabled ianal-maven-plugin in that pom, will need to fix that in a cleaner way.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12675033">SLING-3199</key>
            <summary>Missing legal files in lauchpad/builder bundleListconfig.zip</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 22 Oct 2013 14:20:22 +0000</created>
                <updated>Tue, 6 Oct 2015 19:57:50 +0000</updated>
                            <resolved>Tue, 6 Oct 2015 19:57:50 +0000</resolved>
                                                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14945657" author="rombert" created="Tue, 6 Oct 2015 19:57:50 +0000"  >&lt;p&gt;Since we migrated to the provisioning model I assume that this is no longer an issue ; please reopen if that is not the case&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12636606">SLING-2788</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>354655</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 4 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1p553:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>354944</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3197] ClassCastException when serializing arrays of scalar types</title>
                <link>https://issues.apache.org/jira/browse/SLING-3197</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When a resource has an array of a scalar type a ClassCastException occurs trying to cast this to Object[].&lt;/p&gt;</description>
                <environment></environment>
        <key id="12675002">SLING-3197</key>
            <summary>ClassCastException when serializing arrays of scalar types</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 22 Oct 2013 09:50:37 +0000</created>
                <updated>Sat, 8 Mar 2014 16:20:54 +0000</updated>
                            <resolved>Tue, 22 Oct 2013 09:51:38 +0000</resolved>
                                    <version>Resource Inventory 0.5.0</version>
                                    <fixVersion>Resource Inventory 1.0.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13801655" author="cziegeler" created="Tue, 22 Oct 2013 09:51:38 +0000"  >&lt;p&gt;Fixed in rev 1534576 by using commons-lang&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>354624</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 2 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1p4y7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>354913</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3196] ClassLoaderResourceProvider.getChildren() includes unwanted sibling paths</title>
                <link>https://issues.apache.org/jira/browse/SLING-3196</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I&apos;ll add a test that demonstrates the problem, calling getPath(&quot;resources/install&quot;) wrongly includes results like resources/install.jackrabbit/three.jar and resources/install.oak/four.jar&lt;/p&gt;

&lt;p&gt;Running the same test against svn revision 1487419 passes, so the regression was introduced in the meantime.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12674815">SLING-3196</key>
            <summary>ClassLoaderResourceProvider.getChildren() includes unwanted sibling paths</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 Oct 2013 15:57:46 +0000</created>
                <updated>Sat, 26 Jul 2014 17:35:27 +0000</updated>
                            <resolved>Tue, 22 Oct 2013 10:14:26 +0000</resolved>
                                                    <fixVersion>Launchpad Base 2.5.2</fixVersion>
                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13800781" author="bdelacretaz" created="Mon, 21 Oct 2013 16:36:08 +0000"  >&lt;p&gt;With the attached patch my ClassLoaderResourceProviderChildrenTest passes, and I think the test is correct.It also allows the runmode-based switching of bundles to work in launchpad/builder, with is not the case with the current trunk.&lt;/p&gt;

&lt;p&gt;The patch causes ClassLoaderResourceProviderTest, which tests the matching pattern used to select subpaths, to fail.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, as you wrote the latter test, do you agree with my patch? If yes I&apos;ll update the ClassLoaderResourceProviderTest and commit.&lt;/p&gt;</comment>
                            <comment id="13800792" author="bdelacretaz" created="Mon, 21 Oct 2013 16:45:42 +0000"  >&lt;p&gt;Updated patch - removing the .* that follows the root path completely.&lt;/p&gt;</comment>
                            <comment id="13801530" author="cziegeler" created="Tue, 22 Oct 2013 06:15:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt; I&apos;m a little bit confused. In &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3022&quot; title=&quot;ClassLoaderResourceProvider blocks bundles provided under resources/bundles.someRunMode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3022&quot;&gt;&lt;del&gt;SLING-3022&lt;/del&gt;&lt;/a&gt; you changed the regexp from &quot;^&quot; + path + &quot;/&lt;span class=&quot;error&quot;&gt;&amp;#91;^/&amp;#93;&lt;/span&gt;+/?$&quot; to the current version and added the above mentioned test.&lt;br/&gt;
So this basically reverts &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3022&quot; title=&quot;ClassLoaderResourceProvider blocks bundles provided under resources/bundles.someRunMode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3022&quot;&gt;&lt;del&gt;SLING-3022&lt;/del&gt;&lt;/a&gt; which I think is fine (I didn&apos;t catch the change of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3022&quot; title=&quot;ClassLoaderResourceProvider blocks bundles provided under resources/bundles.someRunMode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3022&quot;&gt;&lt;del&gt;SLING-3022&lt;/del&gt;&lt;/a&gt; when it was done &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; )&lt;/p&gt;</comment>
                            <comment id="13801544" author="bdelacretaz" created="Tue, 22 Oct 2013 06:44:20 +0000"  >&lt;p&gt;Oh - I forgot about &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3022&quot; title=&quot;ClassLoaderResourceProvider blocks bundles provided under resources/bundles.someRunMode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3022&quot;&gt;&lt;del&gt;SLING-3022&lt;/del&gt;&lt;/a&gt;, of course if I&apos;m reverting my own wrong changes I don&apos;t really need to ask for permission &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Sorry about the noise, I&apos;ll commit this and at least we&apos;ll have gained some unit tests in the process.&lt;/p&gt;</comment>
                            <comment id="13801676" author="bdelacretaz" created="Tue, 22 Oct 2013 10:14:26 +0000"  >&lt;p&gt;Reverted the code as it was before &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3022&quot; title=&quot;ClassLoaderResourceProvider blocks bundles provided under resources/bundles.someRunMode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3022&quot;&gt;&lt;del&gt;SLING-3022&lt;/del&gt;&lt;/a&gt; (with a small addition to guard against trailing slashes in paths, should that ever occur) in revision 1534587. ClassLoaderResourceProvider now has full test coverage.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12672989">SLING-3155</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12609458" name="SLING-3196.patch" size="1781" author="bdelacretaz" created="Mon, 21 Oct 2013 16:45:42 +0000"/>
                            <attachment id="12609452" name="SLING-3196.patch" size="1793" author="bdelacretaz" created="Mon, 21 Oct 2013 16:36:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>354437</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 2 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1p3sv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>354727</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3194] failure running sling.extensions.event unit/integraiton tests on windows?</title>
                <link>https://issues.apache.org/jira/browse/SLING-3194</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;this is a follow up of this mail thread&lt;br/&gt;
&lt;a href=&quot;http://apache-sling.73963.n3.nabble.com/failure-running-sling-extensions-event-unit-integraiton-tests-on-windows-tt4027989.html#none&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://apache-sling.73963.n3.nabble.com/failure-running-sling-extensions-event-unit-integraiton-tests-on-windows-tt4027989.html#none&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;with current revision in trunk (rev. 1533892) it is still happening - or happening again. the problem is that it sometimes work, most times does not work.&lt;/p&gt;

&lt;p&gt;last comment from carsten:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I fixed one thing in the Classloading test which removes the started job&lt;br/&gt;
from the history...this shouldn&apos;t have an impact though&lt;/p&gt;

&lt;p&gt;Could you please comment out line 222 in the Classloading test and retun&lt;br/&gt;
the tests, so hopefully this gives us a clue about what is going on.&lt;/p&gt;

&lt;p&gt;Carsten &lt;/p&gt;&lt;/blockquote&gt;</description>
                <environment>Win 7 64bit, JDK 1.7.0_17</environment>
        <key id="12674743">SLING-3194</key>
            <summary>failure running sling.extensions.event unit/integraiton tests on windows?</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 Oct 2013 08:04:39 +0000</created>
                <updated>Mon, 1 Sep 2014 10:25:20 +0000</updated>
                            <resolved>Mon, 1 Sep 2014 10:25:20 +0000</resolved>
                                    <version>Event 3.3.0</version>
                                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13800468" author="sseifert@pro-vision.de" created="Mon, 21 Oct 2013 08:41:54 +0000"  >&lt;p&gt;the failures are different from time to time. sometimes only on IT fails, sometimes more than one, sometimes it runs without failure.&lt;/p&gt;

&lt;p&gt;other example of a test run today - two failures&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Results :

Tests in error:
  testHistory(org.apache.sling.event.it.HistoryTest): test timed out after 300000 milliseconds
  testOrderedQueue(org.apache.sling.event.it.OrderedQueueTest): test timed out after 300000 milliseconds

Tests run: 18, Failures: 0, Errors: 2, Skipped: 0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;with detailed results in &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12609387/12609387_131021_failsafe-reports.zip&quot; title=&quot;131021_failsafe-reports.zip attached to SLING-3194&quot;&gt;131021_failsafe-reports.zip&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="13800478" author="cziegeler" created="Mon, 21 Oct 2013 08:55:29 +0000"  >&lt;p&gt;Could you please also capture the whole maven output?&lt;/p&gt;</comment>
                            <comment id="13800514" author="sseifert@pro-vision.de" created="Mon, 21 Oct 2013 09:46:42 +0000"  >&lt;p&gt;please note that the IT &quot;ClassloadingTest&quot; is not the source of the problem. i deactivated it by adding to the failsafe plugin configuration in the pom:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;                    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;excludes&amp;gt;&lt;/span&gt;
                        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;exclude&amp;gt;&lt;/span&gt;**/it/ClassloadingTest*&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/exclude&amp;gt;&lt;/span&gt;
                    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/excludes&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;but it still fails.&lt;/p&gt;

&lt;p&gt;attached is a full maven output of this run with this one test deactivated, this time only one IT failed, with the same set of tests in a previous run two ITs failed.&lt;br/&gt;
&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12609397/12609397_131021_maven_full_output.zip&quot; title=&quot;131021_maven_full_output.zip attached to SLING-3194&quot;&gt;131021_maven_full_output.zip&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="13802100" author="cziegeler" created="Tue, 22 Oct 2013 18:38:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert%40pro-vision.de&quot; class=&quot;user-hover&quot; rel=&quot;sseifert@pro-vision.de&quot;&gt;sseifert@pro-vision.de&lt;/a&gt; The OrderedJobQueue test was registering two job consumers handling the same topic - not sure if this is the problem, but I committed a change anyway. Could you please give it a test run?&lt;/p&gt;</comment>
                            <comment id="13802724" author="sseifert@pro-vision.de" created="Wed, 23 Oct 2013 09:06:16 +0000"  >&lt;p&gt;i tested it 6 times, and it succeeded in 4 cases, failed in 2 cases.&lt;br/&gt;
so - unfortunately - its still seems to be unstable.&lt;/p&gt;</comment>
                            <comment id="13802738" author="bdelacretaz" created="Wed, 23 Oct 2013 09:29:36 +0000"  >&lt;p&gt;This doesn&apos;t look related but FWIW I just found an issue in ClassloadingTest, see &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3202&quot; title=&quot; org.apache.sling.event.it.ClassloadingTest deadlock&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3202&quot;&gt;&lt;del&gt;SLING-3202&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13803959" author="cziegeler" created="Thu, 24 Oct 2013 07:39:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert%40pro-vision.de&quot; class=&quot;user-hover&quot; rel=&quot;sseifert@pro-vision.de&quot;&gt;sseifert@pro-vision.de&lt;/a&gt; Thanks, this is a minor relief, as the test code before was correct and if my change would have fixed the problem, this would have meant we have a larger problem in the way consumers are treated. I know I&apos;m asking a lot - but it  seems you&apos;re the only one who can reproduce the problem - could you please create thread dumps when the test hangs? This might give us a clue where the problem actually lies&lt;/p&gt;</comment>
                            <comment id="13804708" author="sseifert@pro-vision.de" created="Thu, 24 Oct 2013 21:39:16 +0000"  >&lt;p&gt;another test run, this time with two failures:&lt;br/&gt;
&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12610160/12610160_131024_output.txt&quot; title=&quot;131024_output.txt attached to SLING-3194&quot;&gt;131024_output.txt&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;the first hang for several minutes was at the log line&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;24.10.2013 23:19:38.441 *INFO* [Apache Sling Job Queue test] org.apache.sling.event.impl.jobs.queues.OrderedJobQueue.test Starting job queue test
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;series of thread dumps during this hang &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12610161/12610161_131024_dump1.txt&quot; title=&quot;131024_dump1.txt attached to SLING-3194&quot;&gt;131024_dump1.txt&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;the second hang was at this line:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;24.10.2013 23:28:26.803 *INFO* [Apache Sling Job Queue orderedtest] org.apache.sling.event.impl.jobs.queues.OrderedJobQueue.orderedtest Starting job queue orderedtest
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;series of thread dumps during this hang &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12610162/12610162_131024_dump2.txt&quot; title=&quot;131024_dump2.txt attached to SLING-3194&quot;&gt;131024_dump2.txt&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="14117284" author="sseifert@pro-vision.de" created="Mon, 1 Sep 2014 10:25:20 +0000"  >&lt;p&gt;i tried it again to day - it seems the problem is solved, IT test run on windows (although they take quite a long time to complete: ~10 minutes on my machine).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12609387" name="131021_failsafe-reports.zip" size="3625" author="sseifert" created="Mon, 21 Oct 2013 08:41:54 +0000"/>
                            <attachment id="12609397" name="131021_maven_full_output.zip" size="151039" author="sseifert" created="Mon, 21 Oct 2013 09:46:42 +0000"/>
                            <attachment id="12610161" name="131024_dump1.txt" size="544333" author="sseifert" created="Thu, 24 Oct 2013 21:39:16 +0000"/>
                            <attachment id="12610162" name="131024_dump2.txt" size="585111" author="sseifert" created="Thu, 24 Oct 2013 21:39:16 +0000"/>
                            <attachment id="12610160" name="131024_output.txt" size="1497047" author="sseifert" created="Thu, 24 Oct 2013 21:39:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>354365</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 9 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1p3cv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>354655</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3192] Correct metatype information for health checks</title>
                <link>https://issues.apache.org/jira/browse/SLING-3192</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The metatype information of the default health checks is not correct.&lt;br/&gt;
We should also move them into the class files&lt;/p&gt;</description>
                <environment></environment>
        <key id="12674649">SLING-3192</key>
            <summary>Correct metatype information for health checks</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Sat, 19 Oct 2013 12:20:56 +0000</created>
                <updated>Thu, 24 Oct 2013 07:29:23 +0000</updated>
                            <resolved>Sat, 19 Oct 2013 12:36:51 +0000</resolved>
                                    <version>Health Check Core 1.0.4</version>
                                    <fixVersion>Health Check Core 1.0.6</fixVersion>
                                    <component>Health Check</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13799884" author="cziegeler" created="Sat, 19 Oct 2013 12:36:51 +0000"  >&lt;p&gt;I&apos;ve corrected the metatype information, applied our general naming scheme and also moved the metatype information into the java source files&lt;br/&gt;
rev 1533746&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>354271</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1p2s7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>354561</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3191] Prevent endless recursion of composite health checks</title>
                <link>https://issues.apache.org/jira/browse/SLING-3191</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;As a composite health check aggregates the result of other health checks by using tags, this can cause an endless recursion of the root composite health check is included either directly or indirectly from a child health check&lt;/p&gt;</description>
                <environment></environment>
        <key id="12674648">SLING-3191</key>
            <summary>Prevent endless recursion of composite health checks</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Sat, 19 Oct 2013 12:13:20 +0000</created>
                <updated>Thu, 24 Oct 2013 07:29:23 +0000</updated>
                            <resolved>Sat, 19 Oct 2013 12:19:56 +0000</resolved>
                                    <version>Health Check Core 1.0.4</version>
                                    <fixVersion>Health Check Core 1.0.6</fixVersion>
                                    <component>Health Check</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13799877" author="cziegeler" created="Sat, 19 Oct 2013 12:19:56 +0000"  >&lt;p&gt;Using a thread local to detect recursive invocation&lt;br/&gt;
rev 1533742&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>354270</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1p2rz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>354560</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3189] LogbackManager causes lockup on second startup</title>
                <link>https://issues.apache.org/jira/browse/SLING-3189</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Looks like I didn&apos;t test yesterday&apos;s &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3185&quot; title=&quot;ClassCastException in o.a.s.commons.log&amp;#39;s LogbackManager at bundle activation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3185&quot;&gt;&lt;del&gt;SLING-3185&lt;/del&gt;&lt;/a&gt; fix thoroughly enough, I&apos;m seeing a system lockup on second startup of the current trunk launchpad.&lt;/p&gt;

&lt;p&gt;Steps to reproduce:&lt;br/&gt;
1. Start launchpad/builder runnable jar with no existing sling folder, Sling starts fine.&lt;br/&gt;
2. Stop and restart.&lt;br/&gt;
3. Sling doesn&apos;t start, the BundleWiringImpl waits forever on a classloading call triggered by StaticLoggerBinder.getSingleton()&lt;/p&gt;

&lt;p&gt;Stack trace:&lt;br/&gt;
Daemon Thread &lt;span class=&quot;error&quot;&gt;&amp;#91;FelixStartLevel&amp;#93;&lt;/span&gt; (Suspended)	&lt;br/&gt;
	owns: BundleWiringImpl$BundleClassLoaderJava5  (id=40)	&lt;br/&gt;
	waiting for: HashMap&amp;lt;K,V&amp;gt;  (id=41)	&lt;br/&gt;
	Object.wait(long) line: not available &lt;span class=&quot;error&quot;&gt;&amp;#91;native method&amp;#93;&lt;/span&gt;	&lt;br/&gt;
	HashMap&amp;lt;K,V&amp;gt;(Object).wait() line: 485	&lt;br/&gt;
	BundleWiringImpl$BundleClassLoaderJava5(BundleWiringImpl$BundleClassLoader).findClass(String) line: 2050	&lt;br/&gt;
	BundleWiringImpl.findClassOrResourceByDelegation(String, boolean) line: 1472	&lt;br/&gt;
	BundleWiringImpl.access$400(BundleWiringImpl, String, boolean) line: 75	&lt;br/&gt;
	BundleWiringImpl$BundleClassLoaderJava5(BundleWiringImpl$BundleClassLoader).loadClass(String, boolean) line: 1923	&lt;br/&gt;
	BundleWiringImpl$BundleClassLoaderJava5(ClassLoader).loadClass(String) line: 247	&lt;br/&gt;
	LogbackManager.ensureSlf4jIsInitialized() line: 147	&lt;br/&gt;
	LogbackManager.&amp;lt;init&amp;gt;(BundleContext) line: 103	&lt;br/&gt;
	Activator.start(BundleContext) line: 55	&lt;/p&gt;</description>
                <environment></environment>
        <key id="12674500">SLING-3189</key>
            <summary>LogbackManager causes lockup on second startup</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chetanm">Chetan Mehrotra</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Fri, 18 Oct 2013 12:37:52 +0000</created>
                <updated>Fri, 7 Mar 2014 06:16:22 +0000</updated>
                            <resolved>Tue, 5 Nov 2013 11:46:31 +0000</resolved>
                                    <version>Commons Log 3.0.2</version>
                                    <fixVersion>Commons Log 4.0.0</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13799127" author="chetanm" created="Fri, 18 Oct 2013 14:18:48 +0000"  >&lt;p&gt;I feared this situation would arise with my fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3185&quot; title=&quot;ClassCastException in o.a.s.commons.log&amp;#39;s LogbackManager at bundle activation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3185&quot;&gt;&lt;del&gt;SLING-3185&lt;/del&gt;&lt;/a&gt;. Would try to reproduce and come with proper fix&lt;/p&gt;</comment>
                            <comment id="13799797" author="chetanm" created="Sat, 19 Oct 2013 06:07:37 +0000"  >&lt;p&gt;I tried to reproduce the issue locally but it does not happen on my setup. I used the latest Sling created from launchpad/builder module.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt; Can you provide thread dump for the above deadlock?&lt;/p&gt;</comment>
                            <comment id="13800455" author="bdelacretaz" created="Mon, 21 Oct 2013 08:20:03 +0000"  >&lt;p&gt;Here&apos;s the full stack trace.&lt;/p&gt;</comment>
                            <comment id="13800473" author="chetanm" created="Mon, 21 Oct 2013 08:45:13 +0000"  >&lt;p&gt;From seeing the thread dump I think following is happening&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Sling installer installs all bundles at a given Start Level like 1&lt;/li&gt;
	&lt;li&gt;At start level 1 we have various bundles like Commons Log and Jetty&lt;/li&gt;
	&lt;li&gt;Jetty has an optional dependency on SLF4J&lt;/li&gt;
	&lt;li&gt;Once all the bundles are resolved the bundles are started. In some cases Jetty bundle gets started first.&lt;/li&gt;
	&lt;li&gt;If Jetty gets started first it triggers SLF4J initialization in a separate thread (diff from main Framework thread) and the SLF4J would access the StaticLoggerBinder provided by Logback jar packaged within Commons Log bundle. This is triggered via static initializer logic in org.slf4j.LoggerFactory#getILoggerFactory &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;. Note that by this time Commons Log bundle has not be started. In this process at some stage it needs lock on the Commons Log classloader&lt;/li&gt;
	&lt;li&gt;Commons Log bundle itself require access to the return value of ILoggerFactory.getILoggerFactory() in its BundleActivator.start as its that singleton LoggerContext instance which needs to be used by LogbackManager for further configuration. It currently hold the Common Log classloader lock&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;This lead to a deadlock and stalls the system. One possible fix I can think of is&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Commons Log activator checks if the LoggerFactory is initialized i.e. &lt;tt&gt;LoggerFactory.getILoggerFactory() instanceof LoggerContext&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;If not initialized then it would starting the initialization in a separate thread where it would wait till &lt;tt&gt;LoggerFactory&lt;/tt&gt; is initialized and only then start LogbackManager&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Thoughts?&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://bugzilla.slf4j.org/show_bug.cgi?id=106&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bugzilla.slf4j.org/show_bug.cgi?id=106&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/qos-ch/slf4j/blob/master/slf4j-api/src/main/java/org/slf4j/LoggerFactory.java#L292&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/qos-ch/slf4j/blob/master/slf4j-api/src/main/java/org/slf4j/LoggerFactory.java#L292&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13800484" author="bdelacretaz" created="Mon, 21 Oct 2013 09:01:52 +0000"  >&lt;p&gt;I like the idea of initializing in a separate thread. &lt;/p&gt;

&lt;p&gt;As mentioned at &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3185&quot; title=&quot;ClassCastException in o.a.s.commons.log&amp;#39;s LogbackManager at bundle activation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3185&quot;&gt;&lt;del&gt;SLING-3185&lt;/del&gt;&lt;/a&gt; the commons log bundle causes circular dependencies, as it&apos;s exporting the org.slf4j.impl packages which slf4j needs to startup. Having those come from a distinct bundle might make things easier but according to Chetan it&apos;s not that easy to implement that separation. Decoupling the bundle&apos;s initialization in a separate thread should break those loops.&lt;/p&gt;</comment>
                            <comment id="13800495" author="fmeschbe" created="Mon, 21 Oct 2013 09:19:41 +0000"  >&lt;p&gt;Reading &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; I wonder whether this might be an approach to the problem: Can we make sure to only do minimal, default, setup in StaticLoggerBinder.SINGLETON.getLoggerFactory() such as to not do any further class loading and then have the &quot;commons log&quot; activator do the actual heavy listing configuration ?&lt;/p&gt;

&lt;p&gt;Apart from it being nice to solve this problem, I hope this is a corner case &amp;#8211; Logback intialization caused by a paralell thread causing deadlock between Logback and classloaders. And we can also mitigate this by moving the jetty bundle to another start level, which should actually be the case ?&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://logback.qos.ch/manual/configuration.html#joranDirectly&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://logback.qos.ch/manual/configuration.html#joranDirectly&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13800503" author="chetanm" created="Mon, 21 Oct 2013 09:32:07 +0000"  >&lt;blockquote&gt;&lt;p&gt;Reading &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; I wonder whether this might be an approach to the problem &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That is what is being done. The default config used is &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; and later we introduce our integration config via &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;And we can also mitigate this by moving the jetty bundle to another start level&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That would help. I have been using Commons Log with Adobe CQ (Sling based App) where the HTTP service starts at a later start level. And I have not hit this issue so far for past 2 months. &lt;/p&gt;

&lt;p&gt;So unless changing startlevel does not pose much issue in terms of upgrade I suggest&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Move Jetty to a later start level - or some how ensure that commons log activator is called first&lt;/li&gt;
	&lt;li&gt;In additon use the thread based approach to workaround such cases. The logic would ensure that new thread is only used when Slf4j is not initialized&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling/blob/trunk/bundles/commons/log/src/main/resources/logback.xml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/bundles/commons/log/src/main/resources/logback.xml&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling/blob/trunk/bundles/commons/log/src/main/resources/logback-empty.xml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/bundles/commons/log/src/main/resources/logback-empty.xml&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13800510" author="fmeschbe" created="Mon, 21 Oct 2013 09:42:25 +0000"  >&lt;p&gt;Ok. I agree we should do both - move Jetty to a higher startlevel (also the bridge for servlet container deployments) as well as taking the asychronous approach when this situation is detected.&lt;/p&gt;</comment>
                            <comment id="13800516" author="bdelacretaz" created="Mon, 21 Oct 2013 09:50:19 +0000"  >&lt;p&gt;I also think we need both changes - while it&apos;s the Jetty bundle that causes the issue in this case, others might as well.&lt;/p&gt;

&lt;p&gt;Also, when upgrading existing systems we might see different combinations, so the commons log bundle should be as robust as possible w.r.t these initialization problems.&lt;/p&gt;</comment>
                            <comment id="13800564" author="cziegeler" created="Mon, 21 Oct 2013 11:49:48 +0000"  >&lt;p&gt;I&apos;m not that happy about solving this by changing the start level. Start levels should not be abused to solve problems. If we have a chance to fix this without depending on startup order, we should go that way&lt;/p&gt;</comment>
                            <comment id="13801716" author="chetanm" created="Tue, 22 Oct 2013 11:08:38 +0000"  >&lt;p&gt;Patch which uses a separate thread to configure Logback in case SLF4J is not initialized yet.&lt;/p&gt;

&lt;p&gt;I tried to reproduce the issue locally but somehow it does not show up. So &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt; would require you to test the patch on your system and see if it resolves the issue&lt;/p&gt;</comment>
                            <comment id="13813872" author="chetanm" created="Tue, 5 Nov 2013 11:46:31 +0000"  >&lt;p&gt;Patch was applied by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt; at rev &lt;a href=&quot;http://svn.apache.org/r1534615&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1534615&lt;/a&gt; and seems to resolve the issue for now.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12674301">SLING-3185</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12609637" name="SLING-3189.patch" size="6680" author="chetanm" created="Tue, 22 Oct 2013 11:08:38 +0000"/>
                            <attachment id="12609379" name="SLING-3189.stack.txt" size="14382" author="bdelacretaz" created="Mon, 21 Oct 2013 08:20:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>354122</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1p1wf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>354414</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3187] Scheduling an invalid cron expression results in a RuntimeException</title>
                <link>https://issues.apache.org/jira/browse/SLING-3187</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When an invalid cron expression is tried to be scheduled, a RuntimeException is thrown and not catched.&lt;br/&gt;
However, the API clearly states, that in this case, the job should not be scheduled and no exception should be thrown&lt;/p&gt;</description>
                <environment></environment>
        <key id="12674389">SLING-3187</key>
            <summary>Scheduling an invalid cron expression results in a RuntimeException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 17 Oct 2013 20:00:45 +0000</created>
                <updated>Thu, 24 Oct 2013 07:30:01 +0000</updated>
                            <resolved>Thu, 17 Oct 2013 20:01:41 +0000</resolved>
                                    <version>Commons Scheduler 2.4.0</version>
                                    <fixVersion>Commons Scheduler 2.4.2</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13798342" author="cziegeler" created="Thu, 17 Oct 2013 20:01:41 +0000"  >&lt;p&gt;Expression is now explicitly checked&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>354011</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1p17r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>354303</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3186] JmxScriptBindingsProvider should use debug log level</title>
                <link>https://issues.apache.org/jira/browse/SLING-3186</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;JmxScriptBindingsProvider outputs a message on info level whenever it&apos;s called but no FormattingResultLog is available&lt;br/&gt;
This really should be debug&lt;/p&gt;</description>
                <environment></environment>
        <key id="12674351">SLING-3186</key>
            <summary>JmxScriptBindingsProvider should use debug log level</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 17 Oct 2013 17:30:34 +0000</created>
                <updated>Thu, 24 Oct 2013 07:29:23 +0000</updated>
                            <resolved>Thu, 17 Oct 2013 17:33:03 +0000</resolved>
                                    <version>Health Check Core 1.0.4</version>
                                    <fixVersion>Health Check Core 1.0.6</fixVersion>
                                    <component>Health Check</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>353973</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1p0zb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>354265</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3185] ClassCastException in o.a.s.commons.log&apos;s LogbackManager at bundle activation</title>
                <link>https://issues.apache.org/jira/browse/SLING-3185</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;with the initial launchpad runmodes patch of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3155&quot; title=&quot;Switch launchpad between Jackrabbit and Oak based on run modes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3155&quot;&gt;&lt;del&gt;SLING-3155&lt;/del&gt;&lt;/a&gt;, the org.apache.sling.commons.log bundle does not start initially, due to a ClassCastException in Logback manager.&lt;/p&gt;

&lt;p&gt;Note that there is a circular dependency between this bundle and slf4j.api:&lt;/p&gt;

&lt;p&gt;commons log imports org.slf4j,version=1.6.4 from slf4j.api&lt;/p&gt;

&lt;p&gt;slf4j.api imports org.slf4j.impl,version=1.6.4 from org.apache.sling.commons.log&lt;/p&gt;</description>
                <environment></environment>
        <key id="12674301">SLING-3185</key>
            <summary>ClassCastException in o.a.s.commons.log&apos;s LogbackManager at bundle activation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Thu, 17 Oct 2013 12:02:34 +0000</created>
                <updated>Fri, 7 Mar 2014 06:16:22 +0000</updated>
                            <resolved>Thu, 17 Oct 2013 13:40:55 +0000</resolved>
                                    <version>Commons Log 3.0.0</version>
                                    <fixVersion>Commons Log 4.0.0</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13797828" author="bdelacretaz" created="Thu, 17 Oct 2013 12:16:18 +0000"  >&lt;p&gt;What happens at startup of my patched launchpad is&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[Loaded org.slf4j.helpers.SubstituteLoggerFactory from slinginstall:slf4j-api-1.6.4.jar]

[Loaded ch.qos.logback.classic.LoggerContext from slinginstall:org.apache.sling.commons.log-3.0.3-SNAPSHOT.jar]

*ERROR* [FelixStartLevel] ERROR: Error starting slinginstall:org.apache.sling.commons.log-3.0.3-SNAPSHOT.jar (java.lang.ClassCastException: org.slf4j.helpers.SubstituteLoggerFactory cannot be &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to ch.qos.logback.classic.LoggerContext)
  at org.apache.sling.commons.log.logback.internal.LogbackManager.&amp;lt;init&amp;gt;(LogbackManager.java:101)
  at org.apache.sling.commons.log.logback.internal.Activator.start(Activator.java:55)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;According to Chetan, logback uses its own classloader, that&apos;s probably what causes the ClassCastException.&lt;/p&gt;

&lt;p&gt;Once Sling starts, the commons.log bundle starts without problems.&lt;/p&gt;</comment>
                            <comment id="13797877" author="chetanm" created="Thu, 17 Oct 2013 13:18:28 +0000"  >&lt;p&gt;The issue occurs because of the way SLF4J performs initialization. When it is asked for the logger for the very first time it triggers the initialization of Logging layer and sets its state to &lt;tt&gt;ONGOING_INITILIZATION&lt;/tt&gt;. Now untill it gets initialized if any other thread asks for Logger then it returns a logger obtained from &lt;tt&gt;SubstituteLoggerFactory&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;This logger factory gets swapped with actual LoggerFactory when initialization is complete. See also &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;So what happens here that by the time Sling LogbackManager tries to obtain the LoggerFactory the initialization was not complete and it got &lt;tt&gt;SubstituteLoggerFactory&lt;/tt&gt; instead of Logback&apos;s &lt;tt&gt;LoggerContext&lt;/tt&gt; resulting in CCE&lt;/p&gt;

&lt;p&gt;As a fix we now make a call to &lt;tt&gt;StaticLoggerBinder.getSingleton();&lt;/tt&gt; which ensures that by the time this call returns the Logback based Logger implementation is binded to SLF4J as it is done in a static initializer &lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://bugzilla.slf4j.org/show_bug.cgi?id=106&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bugzilla.slf4j.org/show_bug.cgi?id=106&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13797903" author="bdelacretaz" created="Thu, 17 Oct 2013 13:40:55 +0000"  >&lt;p&gt;Patch committed in revision 1533079, it does indeed fix my issue, thanks for your contribution!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12672989">SLING-3155</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12674500">SLING-3189</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12608925" name="SLING-3185.patch" size="3022" author="chetanm" created="Thu, 17 Oct 2013 13:18:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>353923</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1p0o7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>354215</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3179] Implement solution to the Authentication Handler Credential Validation Problem</title>
                <link>https://issues.apache.org/jira/browse/SLING-3179</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The proposal &lt;a href=&quot;https://cwiki.apache.org/confluence/display/SLING/Solving+the+Authentication+Handler+Credential+Validation+Problem&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Solving the Authentication Handler Credential Validation Problem&lt;/a&gt; should be implemented.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12674081">SLING-3179</key>
            <summary>Implement solution to the Authentication Handler Credential Validation Problem</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="asanso">Antonio Sanso</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 Oct 2013 08:04:55 +0000</created>
                <updated>Wed, 12 Apr 2023 05:45:00 +0000</updated>
                            <resolved>Wed, 12 Apr 2023 05:45:00 +0000</resolved>
                                    <version>JCR Base 2.1.2</version>
                    <version>API 2.4.2</version>
                    <version>Resource Resolver 1.0.6</version>
                                                    <component>API</component>
                    <component>JCR</component>
                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="13804047" author="marett" created="Thu, 24 Oct 2013 10:41:25 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fmeschbe&quot; class=&quot;user-hover&quot; rel=&quot;fmeschbe&quot;&gt;fmeschbe&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;I have attached a patch (also available at &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;) for this implementation and opened a pull request &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;.&lt;br/&gt;
The patch contains the implementation described in the wiki.&lt;/p&gt;

&lt;p&gt;In order to work, the Service User Mapper must be configured with:&lt;br/&gt;
org.apache.sling.resourceresolver:user.identified=*&lt;/p&gt;

&lt;p&gt;Would it make sense to have this as a default for the org.apache.sling.serviceusermapping.impl.ServiceUserMapperImpl service ?&lt;br/&gt;
If not, I would add some documentation.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling/pull/9.diff&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/9.diff&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling/pull/9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/9&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13846295" author="asanso" created="Thu, 12 Dec 2013 13:15:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt; may you please provide an SVN patch &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; ?&lt;/p&gt;</comment>
                            <comment id="13848967" author="marett" created="Mon, 16 Dec 2013 09:41:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=asanso&quot; class=&quot;user-hover&quot; rel=&quot;asanso&quot;&gt;asanso&lt;/a&gt;, I have uploaded the svn patch, see &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3179&quot; title=&quot;Implement solution to the Authentication Handler Credential Validation Problem&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3179&quot;&gt;&lt;del&gt;SLING-3179&lt;/del&gt;&lt;/a&gt;.patch&lt;br/&gt;
Regarding the implementation, it follows the patterns in &lt;br/&gt;
org.apache.sling.resourceresolver.impl.ResourceResolverFactoryActivator&lt;/p&gt;</comment>
                            <comment id="13868599" author="alexander.klimetschek" created="Sat, 11 Jan 2014 01:57:34 +0000"  >&lt;p&gt;I don&apos;t see how this is adding security other than reintroducing the TrustedInfo again, just with different and more complex code.&lt;/p&gt;

&lt;p&gt;Why the Subject doAs part: the code already does an &quot;evil&quot; repository.loginAdministrative() - then it would be much simpler to do impersonation on the session rather than the complex doAs() logic, which really exposes internal JCR/repository user logic, i.e. how principals are set up, including group membership, while on the JCR layer a user is simply identified by a string id.&lt;/p&gt;</comment>
                            <comment id="13868845" author="tripod" created="Sat, 11 Jan 2014 18:24:47 +0000"  >&lt;blockquote&gt;&lt;p&gt;I don&apos;t see how this is adding security other than reintroducing the TrustedInfo again, just with different and more complex code.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;yes, but on a different level. IMO the JCR resource provider must come with a LoginModule counterpart that establishes the trust.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;complex doAs() logic, which really exposes internal JCR/repository user logic&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;this is how JAAS works and also referred to in &lt;a href=&quot;http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/Repository.html#login(javax.jcr.Credentials, java.lang.String)&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Repository.login()&lt;/a&gt;. AFAICS, the only problem is the population of the subject and that&apos;s why I&apos;d prefer the LoginModule approach.&lt;/p&gt;
</comment>
                            <comment id="13868903" author="alexander.klimetschek" created="Sat, 11 Jan 2014 23:40:53 +0000"  >&lt;blockquote&gt;&lt;p&gt;this is how JAAS works&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes. It seems quite complex and IMO we shouldn&apos;t use or advertise it very much - it seems you can easily mess it up.&lt;/p&gt;

&lt;p&gt;IIUC, this is for the use case of external authentication where the repository needs to trust the outside. IMO this must be a config option in Jackrabbit and by default off. And use LoginModule or the loginByService mechanism for pre authentication.&lt;/p&gt;</comment>
                            <comment id="15764321" author="githubbot" created="Tue, 20 Dec 2016 14:25:13 +0000"  >&lt;p&gt;Github user tmaret closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/9&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12634780">SLING-2762</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12610074" name="SLING-3179.diff" size="20368" author="marett" created="Thu, 24 Oct 2013 10:36:23 +0000"/>
                            <attachment id="12618877" name="SLING-3179.patch" size="20414" author="marett" created="Mon, 16 Dec 2013 09:38:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>353704</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 45 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ozcn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>353996</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3178] org.apache.sling.jcr.registration embeds ancient JCR-RMI classes</title>
                <link>https://issues.apache.org/jira/browse/SLING-3178</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The mentioned component uses JCR-RMI version 2.0.0. This wouldn&apos;t be a problem if it only imported the exported API from that version, but it actually embeds parts of the JRC-RMI library, which makes it impossible to upgrade the RMI functionality without also changing this component.&lt;/p&gt;

&lt;p&gt;A better approach would be to use normal imports for the relevant classes/packages.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12673992">SLING-3178</key>
            <summary>org.apache.sling.jcr.registration embeds ancient JCR-RMI classes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="jukkaz">Jukka Zitting</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Oct 2013 21:17:10 +0000</created>
                <updated>Fri, 7 Mar 2014 06:15:45 +0000</updated>
                            <resolved>Sun, 20 Oct 2013 13:10:18 +0000</resolved>
                                                    <fixVersion>JCR Registration 1.0.0</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13795657" author="jukkaz" created="Tue, 15 Oct 2013 21:21:22 +0000"  >&lt;p&gt;Proposed patch.&lt;/p&gt;</comment>
                            <comment id="13800136" author="cziegeler" created="Sun, 20 Oct 2013 13:10:18 +0000"  >&lt;p&gt;Thanks for your patch, it&apos;s applied in rev 1533884&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12608576" name="0001-SLING-3178-org.apache.sling.jcr.registration-embeds-.patch" size="1321" author="jukkaz" created="Tue, 15 Oct 2013 21:21:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>353615</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 2 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1oysv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>353907</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3165] Cannot remove Bundle or Content Package Module from Server</title>
                <link>https://issues.apache.org/jira/browse/SLING-3165</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;From the Servers view, right clicking on a module (bundle or content package) includes a &quot;Remove&quot; option which opens a confirmation dialog, but this doesn&apos;t seem to do anything.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12673455">SLING-3165</key>
            <summary>Cannot remove Bundle or Content Package Module from Server</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Oct 2013 15:44:56 +0000</created>
                <updated>Thu, 12 Nov 2015 11:28:53 +0000</updated>
                            <resolved>Thu, 15 May 2014 14:48:35 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.0.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13794059" author="rombert" created="Mon, 14 Oct 2013 11:11:43 +0000"  >&lt;p&gt;As a workaround, you can right-click on the server and click &apos;Add and Remove...&apos;&lt;/p&gt;</comment>
                            <comment id="13998808" author="rombert" created="Thu, 15 May 2014 14:48:36 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1594935&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1594935&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>353078</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 24 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ovgf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>353365</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3164] Clarify ClusterView.getId (was: Clarify and deprecate ClusterView.getId)</title>
                <link>https://issues.apache.org/jira/browse/SLING-3164</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;As discussed on the list (at &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;) the ClusterView.getId() is currently unspecific about whether the id is stable/persistent or not. The current implementation of it is not stable and returns a new id with every changing cluster view. Without assumptions on the underlying implementation details it is not trivial to provide a stable id. This contrasts to the slingId of an InstanceDescription - which is guaranteed to be stable. A cluster can reshape and join another cluster, hence a cluster id is not trivial to be stable.&lt;/p&gt;

&lt;p&gt;The suggestion is to clarify the unstable nature of that id in its javadoc and marking it as deprecated - since there is no use for an unstable id really.&lt;br/&gt;
&amp;#8211;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; - &lt;a href=&quot;http://markmail.org/message/kf3pydso7eruiwfg&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/kf3pydso7eruiwfg&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12673454">SLING-3164</key>
            <summary>Clarify ClusterView.getId (was: Clarify and deprecate ClusterView.getId)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="stefanegli">Stefan Egli</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Oct 2013 15:33:43 +0000</created>
                <updated>Tue, 24 Nov 2015 09:14:48 +0000</updated>
                            <resolved>Thu, 31 Oct 2013 10:36:14 +0000</resolved>
                                    <version>Discovery API 1.0.0</version>
                                    <fixVersion>Discovery API 1.0.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13794011" author="egli" created="Mon, 14 Oct 2013 09:26:18 +0000"  >&lt;p&gt;deprecated ClusterView.getId() and adjusted javadoc accordingly&lt;/p&gt;</comment>
                            <comment id="13808958" author="egli" created="Wed, 30 Oct 2013 11:00:06 +0000"  >&lt;p&gt;As the further discussion in &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; evolved, it turned out that ClusterView.getId should not be deprecated but instead be improved and made more stable. Hence this ticket is reopen to adjust the javadoc of ClusterView.getId (discovery.api part). There is a separate ticket, &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3195&quot; title=&quot;Provide a property to uniquely identify a Cluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3195&quot;&gt;&lt;del&gt;SLING-3195&lt;/del&gt;&lt;/a&gt;, about the improvement/stabilization of the id in discovery.impl.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; - &lt;a href=&quot;http://markmail.org/message/kf3pydso7eruiwfg&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/kf3pydso7eruiwfg&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13810102" author="egli" created="Thu, 31 Oct 2013 10:36:14 +0000"  >&lt;p&gt;Reverted deprecation of getId() and instead marked the id as stable.&lt;/p&gt;

&lt;p&gt;There&apos;s two special cases to take note of:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;when an instance joins a cluster, it inherits the new cluster&apos;s cluster id (in this situation the cluster id changes for the joining instance)&lt;/li&gt;
	&lt;li&gt;when instances part from a cluster, the cluster id is retained (in this situation there can be potentially multiple clusters with the same id - hence the cluster id is not unique in this situation. This fact can be used to detect split brain/network partitioning situations)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12915718">OAK-3672</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12674773">SLING-3195</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>353077</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ovg7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>353364</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3163] XML Namespaces shouldn&apos;t appear in JCR Properties List</title>
                <link>https://issues.apache.org/jira/browse/SLING-3163</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;by which I mean the xmlns:* properties&lt;/p&gt;</description>
                <environment></environment>
        <key id="12673354">SLING-3163</key>
            <summary>XML Namespaces shouldn&apos;t appear in JCR Properties List</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Oct 2013 01:47:33 +0000</created>
                <updated>Thu, 12 Nov 2015 11:28:42 +0000</updated>
                            <resolved>Mon, 26 May 2014 07:56:29 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.0.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14007708" author="rombert" created="Fri, 23 May 2014 21:11:52 +0000"  >&lt;p&gt;Does this still happen? I don&apos;t see them ( but I might be looking in the wrong place )&lt;/p&gt;</comment>
                            <comment id="14008649" author="egli" created="Mon, 26 May 2014 07:56:29 +0000"  >&lt;p&gt;This got fixed in r 1594817 (&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2985&quot; title=&quot;[Tooling] show content of .content.xml in project explorer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2985&quot;&gt;&lt;del&gt;SLING-2985&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>352977</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 23 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1outz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>353264</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3161] SlingIDE Import Content wizard should respect .vltignore files</title>
                <link>https://issues.apache.org/jira/browse/SLING-3161</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Given in repository:&lt;br/&gt;
/apps/foo/install&lt;br/&gt;
/apps/foo/install/.vltignore = *.jar&lt;br/&gt;
/apps/foo/install/foo.jar&lt;/p&gt;

&lt;p&gt;Then running import content should not copy foo.jar into the local working copy.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12673351">SLING-3161</key>
            <summary>SlingIDE Import Content wizard should respect .vltignore files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Oct 2013 01:39:19 +0000</created>
                <updated>Thu, 12 Nov 2015 11:28:44 +0000</updated>
                            <resolved>Fri, 16 May 2014 14:28:31 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.0.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13999760" author="rombert" created="Fri, 16 May 2014 11:58:27 +0000"  >&lt;p&gt;The rules for parsing .vltignore files are found in the &lt;a href=&quot;https://github.com/apache/jackrabbit-filevault/blob/9981fdca2630bc08b921752f41475e0027615da4/vault-vlt/src/main/java/org/apache/jackrabbit/vault/vlt/meta/Ignored.java#L122&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Ignore#addIgnored&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13999836" author="rombert" created="Fri, 16 May 2014 14:28:31 +0000"  >&lt;p&gt;I&apos;ve added .vltignore logic, but just for importing. Let&apos;s see if we need something else.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1595203&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1595203&lt;/a&gt; added EclipseResourceMatchers&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1595205&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1595205&lt;/a&gt; added RepositoryAccessor.createFile&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1595207&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1595207&lt;/a&gt; added ContentImportTest.importFilesAndFolders&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1595208&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1595208&lt;/a&gt; added ContentImportTest.importFilesAndFoldersRespectsVltFilters&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1595209&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1595209&lt;/a&gt; add an IgnoredResources abstraction in the api project.&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1595210&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1595210&lt;/a&gt; respect found .vltignore files found when importing.&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1595211&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1595211&lt;/a&gt; take into account .vltignore files which are present under the content sync root but not under the import root.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>352974</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 24 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1outb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>353261</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3160] Creating ResourceResolverFactory as ServiceFactory leads to multiple MapEntries creation</title>
                <link>https://issues.apache.org/jira/browse/SLING-3160</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;With &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2944&quot; title=&quot;Replace administrative login by service-based login&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2944&quot;&gt;&lt;del&gt;SLING-2944&lt;/del&gt;&lt;/a&gt; ResourceResolverFactory  is now being created as ServiceFactory leading to multiple instances being created for each consuming bundle. &lt;/p&gt;

&lt;p&gt;Each ResourceResolverFactoryImpl instance keeps a reference to MapEntries which internally spawns a thread to keep the entries upto date. Due to creation of multiple instances there are multiple &quot;MapEntries Update&quot; thread getting created which is probably not desirable.&lt;/p&gt;

&lt;p&gt;I think all the ResourceResolverFactoryImpl must &lt;b&gt;share&lt;/b&gt; a singleton state where only single instance of MapEntries gets created&lt;/p&gt;</description>
                <environment></environment>
        <key id="12673213">SLING-3160</key>
            <summary>Creating ResourceResolverFactory as ServiceFactory leads to multiple MapEntries creation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="chetanm">Chetan Mehrotra</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Oct 2013 12:19:15 +0000</created>
                <updated>Fri, 4 Apr 2014 09:05:50 +0000</updated>
                            <resolved>Mon, 24 Mar 2014 16:10:08 +0000</resolved>
                                    <version>Resource Resolver 1.1.0</version>
                                    <fixVersion>Resource Resolver 1.1.0</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13791428" author="chetanm" created="Thu, 10 Oct 2013 12:20:35 +0000"  >&lt;p&gt;Thread dump where you can see 18 threads of &quot;MapEntries Update&quot; getting created possibly for each bundle which asks for ResourceResolverFactory&lt;/p&gt;</comment>
                            <comment id="13792646" author="cziegeler" created="Fri, 11 Oct 2013 14:16:08 +0000"  >&lt;p&gt;I&apos;ve applied a potential fix in rev 1531301 which splits the resource resolver factory implementation into two classes: a common singleton instance shard by all instances of the factory&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12607790" name="threaddump.txt" size="89975" author="chetanm" created="Thu, 10 Oct 2013 12:20:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>352836</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 3 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1otz3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>353123</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3159] Never try to install bundles if the support bundle is not installed</title>
                <link>https://issues.apache.org/jira/browse/SLING-3159</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;As a user, if I check &apos;Install bundles directly from local directory&apos; but do not install the support bundle, when trying to deploy I bundle I get a success message ( the POST is successful ) but the bundle is not deployed. I only get a hint on the servers view that the status is 404.&lt;/p&gt;

&lt;p&gt;I should be prompted that the support bundle is not installed and asked to install it. Or maybe the bundle should be automatically installed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12673200">SLING-3159</key>
            <summary>Never try to install bundles if the support bundle is not installed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Oct 2013 11:00:18 +0000</created>
                <updated>Thu, 12 Nov 2015 11:28:43 +0000</updated>
                            <resolved>Mon, 5 May 2014 10:50:31 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.0.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13989413" author="rombert" created="Mon, 5 May 2014 10:50:31 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1592478&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1592478&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>352823</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 26 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1otw7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>353110</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3158] Warning &quot;Property scheduler.runOn ignored for schedule&quot; when no property is set</title>
                <link>https://issues.apache.org/jira/browse/SLING-3158</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When no runOn property is set for a whiteboard scheduler, the warning Property scheduler.runOn ignored for schedule is put out - in this case no warning should be logged as a missing property is fine&lt;/p&gt;</description>
                <environment></environment>
        <key id="12673195">SLING-3158</key>
            <summary>Warning &quot;Property scheduler.runOn ignored for schedule&quot; when no property is set</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Oct 2013 09:12:30 +0000</created>
                <updated>Thu, 24 Oct 2013 07:30:01 +0000</updated>
                            <resolved>Thu, 10 Oct 2013 09:14:03 +0000</resolved>
                                    <version>Commons Scheduler 2.4.0</version>
                                    <fixVersion>Commons Scheduler 2.4.2</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>352818</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1otv3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>353105</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3153] Sling project overlay conflicts with the version control overlay</title>
                <link>https://issues.apache.org/jira/browse/SLING-3153</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The &apos;S&apos; overlay which is present on Sling projects conflicts with the Version control overlay, as defined in the &lt;a href=&quot;http://wiki.eclipse.org/User_Interface_Guidelines&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Eclipse UI guidelines&lt;/a&gt; - search for &apos;Version Control&apos;.&lt;/p&gt;

&lt;p&gt;As such , I think we should find a different way of decorating Sling projects, or even remove the decorator altogether.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12672824">SLING-3153</key>
            <summary>Sling project overlay conflicts with the version control overlay</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Oct 2013 14:56:43 +0000</created>
                <updated>Thu, 26 Sep 2019 12:39:54 +0000</updated>
                            <resolved>Mon, 5 May 2014 12:52:56 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.0.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13789259" author="rombert" created="Tue, 8 Oct 2013 14:59:36 +0000"  >&lt;p&gt;In the attached &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12607364/12607364_screenshot.png&quot; title=&quot;screenshot.png attached to SLING-3153&quot;&gt;screenshot.png&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; it is visible that the project has a Sling project decorator, but it should rather inherit the &apos;?&apos; decorator which marks untracked resources from Git.&lt;/p&gt;</comment>
                            <comment id="13800617" author="rombert" created="Mon, 21 Oct 2013 12:48:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stefanegli&quot; class=&quot;user-hover&quot; rel=&quot;stefanegli&quot;&gt;stefanegli&lt;/a&gt; - do you have any thoughts on how to solve this conflict? From a usability point of view I get bit by this daily &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; so I&apos;m inclined to remove it and create a post-1.0.0 issue on adding a sling project overlay.&lt;/p&gt;</comment>
                            <comment id="13800690" author="egli" created="Mon, 21 Oct 2013 14:29:51 +0000"  >&lt;p&gt;yea, that&apos;s a bit unfortunate. decorator space is really a scarce resource.. somehow I&apos;m still inclined to &apos;somehow&apos; indicate that the project is marked with a sling facet.. what if we move it to the lower-left, is something biting it there?&lt;/p&gt;</comment>
                            <comment id="13801784" author="rombert" created="Tue, 22 Oct 2013 13:04:27 +0000"  >&lt;p&gt;I&apos;ve attached &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12609645/12609645_java-faceted-project-decoration.png&quot; title=&quot;java-faceted-project-decoration.png attached to SLING-3153&quot;&gt;java-faceted-project-decoration.png&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; , which shows how a Maven + Java project appears after being converted to faceted form.&lt;/p&gt;

&lt;p&gt;To me it looks like converting to faceted form does not add any decoration - the Java decoration was already there. And consider a project with multiple facets - how does one choose which facet is displayed?&lt;/p&gt;

&lt;p&gt;I suggest making this decorator optional and disabled by default.&lt;/p&gt;</comment>
                            <comment id="13802687" author="egli" created="Wed, 23 Oct 2013 08:02:31 +0000"  >&lt;blockquote&gt;&lt;p&gt;I suggest making this decorator optional and disabled by default.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Ok, agreed. Then again, we might also just get rid of it? Who would try to find this option anyway..?&lt;/p&gt;</comment>
                            <comment id="13807818" author="rombert" created="Tue, 29 Oct 2013 09:20:37 +0000"  >&lt;p&gt;Hm, not sure. Let&apos;s leave this tentatively as &apos;remove decorator&apos; until we get closer to releasing 1.0.0 and make the change then. It&apos;s an easy change and with low risk.&lt;/p&gt;</comment>
                            <comment id="13989479" author="rombert" created="Mon, 5 May 2014 12:52:56 +0000"  >&lt;p&gt;Since no other proposal popped up, I removed the overlay in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1592516&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1592516&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12609645" name="java-faceted-project-decoration.png" size="2413" author="rombert" created="Tue, 22 Oct 2013 13:04:19 +0000"/>
                            <attachment id="12607364" name="screenshot.png" size="7946" author="rombert" created="Tue, 8 Oct 2013 14:59:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>352447</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 26 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1orkv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>352734</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3150] Error handler does not get original exception</title>
                <link>https://issues.apache.org/jira/browse/SLING-3150</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The sling documentation &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; indicates for uncaught exceptions  the java simple name of the Throwable class is used to find the error handler.  However, Sling request processor is type casting any exception into SlingException &amp;amp; hence the requested error handler is not caught.  &lt;/p&gt;

&lt;p&gt; Steps to reproduce:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Create file Exception.jsp &amp;amp; FileNotFoundException.jsp at /apps/sling/servlet/errorhandler/&lt;/li&gt;
	&lt;li&gt;In jsp throw new FileNotFoundException(&quot;Really does not exists&quot;);&lt;/li&gt;
	&lt;li&gt;The handler calls Exception.jsp&lt;/li&gt;
	&lt;li&gt;Now create SlingException.jsp &amp;amp; Now for all exceptions this handler get called.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;  &lt;br/&gt;
&lt;a href=&quot;http://sling.apache.org/documentation/the-sling-engine/errorhandling.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/documentation/the-sling-engine/errorhandling.html&lt;/a&gt;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12672781">SLING-3150</key>
            <summary>Error handler does not get original exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Oct 2013 10:00:22 +0000</created>
                <updated>Sat, 12 Oct 2013 16:02:28 +0000</updated>
                            <resolved>Tue, 8 Oct 2013 10:01:12 +0000</resolved>
                                    <version>Engine 2.2.8</version>
                                    <fixVersion>Engine 2.2.10</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13789077" author="cziegeler" created="Tue, 8 Oct 2013 10:01:12 +0000"  >&lt;p&gt;Fixed by unwrapping the exception for as long as it is a SlingException&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>352404</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 4 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1orbb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>352691</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3149] Links to the new version of top-level pages are broken</title>
                <link>https://issues.apache.org/jira/browse/SLING-3149</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When browsing an old documentation page that has been moved across, there is a banner message in yellow at the top of the page:&lt;/p&gt;

&lt;p&gt;This is an old version of the Sling website, see the site conversion page for more info. The migrated but not yet edited version of this page is at /documentation/development/getting-and-building-sling.html&lt;/p&gt;

&lt;p&gt;This works correctly for secondary pages &amp;amp; below (as per &apos;Getting and Building Sling&apos; above), but links of pages at the top-level of the navigation start with a double slash, e.g.:&lt;/p&gt;

&lt;p&gt;href=&quot;//contributing.html&quot;&lt;/p&gt;

&lt;p&gt;Following the link, in Chrome at least, brings you to a 404 at &lt;a href=&quot;http://contributing.html/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://contributing.html/&lt;/a&gt;&lt;/p&gt;</description>
                <environment>&lt;a href=&quot;http://sling.apache.org/site/documentation.html&quot;&gt;http://sling.apache.org/site/documentation.html&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://sling.apache.org/site/contributing.html&quot;&gt;http://sling.apache.org/site/contributing.html&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
OSX/Chrome 30</environment>
        <key id="12672776">SLING-3149</key>
            <summary>Links to the new version of top-level pages are broken</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="klcodanr">Dan Klco</assignee>
                                    <reporter username="another-dave">David Moloney</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Oct 2013 09:28:03 +0000</created>
                <updated>Tue, 8 Oct 2013 16:53:13 +0000</updated>
                            <resolved>Tue, 8 Oct 2013 15:07:50 +0000</resolved>
                                                                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13789271" author="klcodanr" created="Tue, 8 Oct 2013 15:07:50 +0000"  >&lt;p&gt;David,&lt;/p&gt;

&lt;p&gt;Thanks for the bug report.  I have fixed the links on the pages you indicated and all of the other pages I found.&lt;/p&gt;

&lt;p&gt;Please open another issue if you happen to find anything else.&lt;/p&gt;

&lt;p&gt;Regards,&lt;br/&gt;
Dan&lt;/p&gt;</comment>
                            <comment id="13789381" author="another-dave" created="Tue, 8 Oct 2013 16:53:13 +0000"  >&lt;p&gt;Cool, thanks Dan! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Best&lt;br/&gt;
Dave&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>352399</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 4 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ora7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>352686</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3147] Oak: i18n dictionaries observation no longer works</title>
                <link>https://issues.apache.org/jira/browse/SLING-3147</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When running Sling with Oak, the JcrResourceBundleProvider &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; in the i18n bundle apparently no longer gets the observation events for sling:message nodes in the JCR. This means that changing a string in the repo or installing a package with new translations won&apos;t have an effect if the resource bundle is already loaded in memory.&lt;/p&gt;

&lt;p&gt;Workaround is to restart the i18n bundle after every string change.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://svn.apache.org/repos/asf/sling/trunk/contrib/extensions/i18n/src/main/java/org/apache/sling/i18n/impl/JcrResourceBundleProvider.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/sling/trunk/contrib/extensions/i18n/src/main/java/org/apache/sling/i18n/impl/JcrResourceBundleProvider.java&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12672400">SLING-3147</key>
            <summary>Oak: i18n dictionaries observation no longer works</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="alexander.klimetschek">Alexander Klimetschek</reporter>
                        <labels>
                            <label>i18n</label>
                    </labels>
                <created>Fri, 4 Oct 2013 19:54:58 +0000</created>
                <updated>Sat, 8 Mar 2014 16:19:05 +0000</updated>
                            <resolved>Sat, 16 Nov 2013 00:02:52 +0000</resolved>
                                    <version>i18n 2.2.6</version>
                                    <fixVersion>i18n 2.2.8</fixVersion>
                                    <component>Extensions</component>
                    <component>Oak</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13786668" author="alexander.klimetschek" created="Fri, 4 Oct 2013 21:52:33 +0000"  >&lt;p&gt;It&apos;s funny, we have &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2881&quot; title=&quot;[I18N][Performance] JcrResourceBundleProvider clears the cache on mix:language changes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2881&quot;&gt;&lt;del&gt;SLING-2881&lt;/del&gt;&lt;/a&gt; still to do, but it&apos;s solved now already &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13787222" author="cziegeler" created="Sat, 5 Oct 2013 14:01:24 +0000"  >&lt;p&gt;Is this a bug in Oak - or is the Sling implementation relying on non spec&apos;ed behaviour from the jackrabbit implementation?&lt;/p&gt;</comment>
                            <comment id="13787249" author="alexander.klimetschek" created="Sat, 5 Oct 2013 16:07:46 +0000"  >&lt;p&gt;Needs to be investigated.&lt;/p&gt;</comment>
                            <comment id="13812692" author="bdelacretaz" created="Mon, 4 Nov 2013 09:17:03 +0000"  >&lt;p&gt;Alex, do we have tests that demonstrate this, or could you add one?&lt;/p&gt;

&lt;p&gt;In the meantime, our launchpad and integration tests run on Oak if using -Dsling.run.modes=oak on the launchpad or Maven command line.&lt;/p&gt;</comment>
                            <comment id="13813135" author="alexander.klimetschek" created="Mon, 4 Nov 2013 19:22:03 +0000"  >&lt;p&gt;Sorry, all I can point to at the moment is the sling i18n bundle in action. Don&apos;t have time to write a test.&lt;/p&gt;</comment>
                            <comment id="13815030" author="bdelacretaz" created="Wed, 6 Nov 2013 16:58:12 +0000"  >&lt;p&gt;I have added a new integration test at &lt;a href=&quot;http://svn.apache.org/r1539396&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1539396&lt;/a&gt; , which reproduces the problem: running the extensions/i18n build with -Dsling.run.modes=oak now fails, whereas in the default jackrabbit mode it passes.&lt;/p&gt;

&lt;p&gt;This new test requires the new extensions/sling-pax-util module, as a snapshot dependency for now.&lt;/p&gt;</comment>
                            <comment id="13822600" author="bdelacretaz" created="Thu, 14 Nov 2013 16:52:22 +0000"  >&lt;p&gt;I have added some tests to the bundles/jcr/it-jackrabbit-oak module in &lt;a href=&quot;http://svn.apache.org/r1541972&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1541972&lt;/a&gt; to try to reproduce the problem there, but observation works just fine in those tests. We&apos;ll need to dig deeper to find out what&apos;s different between both sets of tests.&lt;/p&gt;</comment>
                            <comment id="13823027" author="alexander.klimetschek" created="Thu, 14 Nov 2013 22:23:31 +0000"  >&lt;p&gt;I guess it&apos;s a missing &lt;tt&gt;Session.refresh()&lt;/tt&gt; that is &lt;a href=&quot;http://jackrabbit.apache.org/oak/docs/differences.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;required in Oak&lt;/a&gt;. The &lt;a href=&quot;http://svn.apache.org/viewvc/sling/trunk/contrib/extensions/i18n/src/main/java/org/apache/sling/i18n/impl/JcrResourceBundleProvider.java?revision=1378151&amp;amp;view=markup&amp;amp;pathrev=1539396&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;JcrResourceBundleProvider&lt;/a&gt; that registers the event listener uses the same long-running session/resource resolver for the observation events and reading the actual bundles.&lt;/p&gt;</comment>
                            <comment id="13823337" author="tripod" created="Fri, 15 Nov 2013 06:14:46 +0000"  >&lt;p&gt;...or create the session with auto-refresh. see &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-803&quot; title=&quot;Backwards compatibility of long-lived sessions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-803&quot;&gt;&lt;del&gt;OAK-803&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13823569" author="bdelacretaz" created="Fri, 15 Nov 2013 11:18:36 +0000"  >&lt;p&gt;Thanks for the hints, of course lack of session refresh was the issue. &lt;/p&gt;

&lt;p&gt;Should be fixed in &lt;a href=&quot;http://svn.apache.org/r1542231&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1542231&lt;/a&gt; - mvn clean install -Dsling.run.modes=oak now works.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alexander.klimetschek&quot; class=&quot;user-hover&quot; rel=&quot;alexander.klimetschek&quot;&gt;alexander.klimetschek&lt;/a&gt; can you review and close this issue if ok?&lt;/p&gt;</comment>
                            <comment id="13824258" author="alexander.klimetschek" created="Sat, 16 Nov 2013 00:02:52 +0000"  >&lt;p&gt;Thanks!&lt;/p&gt;

&lt;p&gt;It seems some of the automagic refreshing added in &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-803&quot; title=&quot;Backwards compatibility of long-lived sessions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-803&quot;&gt;&lt;del&gt;OAK-803&lt;/del&gt;&lt;/a&gt; solved the problem on our application stack already, so I couldn&apos;t reproduce this anymore. But that magic is only intended for a few oak releases to ease application migration, so the explicit refresh() is still the right thing and based on your integration tests I am quite sure this was the cause of the issue. The updated sling.i18n bundle works fine. I created an internal release of it.&lt;/p&gt;

&lt;p&gt;So I am resolving this as fixed.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12636606">SLING-2788</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>352027</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 50 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1oozz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>352315</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3146] Out-of date &quot;Discover Sling in 15 minutes&quot;</title>
                <link>https://issues.apache.org/jira/browse/SLING-3146</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When following instructions from &quot;Discover Sling in 15 minutes&quot;&lt;br/&gt;
(&lt;a href=&quot;http://sling.apache.org/documentation/getting-started/discover-sling-in-15-minutes.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/documentation/getting-started/discover-sling-in-15-minutes.html&lt;/a&gt;),&lt;br/&gt;
the steps ask to download org.apache.sling.launchpad-6-standalone.jar,&lt;br/&gt;
and run it via java -jar ....&lt;br/&gt;
Indeed when running it, I stumble upon an AIOB exception,&lt;br/&gt;
which looks like the one described in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2348&quot; title=&quot;Running the Lauchpad throws an ArrayIndexOutOfBoundException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2348&quot;&gt;&lt;del&gt;SLING-2348&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
However this bug should have been fixed in May, 2012,&lt;br/&gt;
and the jar seems to be from Jan, 2013.&lt;/p&gt;

&lt;p&gt;I&apos;m not sure whether:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the link to the launchpad jar is the good one&lt;/li&gt;
	&lt;li&gt;the apache mirrors are providing the good file&lt;/li&gt;
	&lt;li&gt;or there has been a regression (in which case &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2348&quot; title=&quot;Running the Lauchpad throws an ArrayIndexOutOfBoundException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2348&quot;&gt;&lt;del&gt;SLING-2348&lt;/del&gt;&lt;/a&gt; should be reopened ?)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;In any case, the first impression is disappointing &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Eric&lt;/p&gt;

&lt;p&gt;-------- detailed infos --------&lt;br/&gt;
java 1.7.0.21 64 bit on W7.&lt;/p&gt;

&lt;p&gt;C:\tmp\&amp;gt;java -jar org.apache.sling.launchpad-6-standalone.jar -l 4&lt;br/&gt;
04.10.2013 13:59:38.781 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; Setting sling.home=sling (default)&lt;br/&gt;
04.10.2013 13:59:38.782 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; Starting Sling in sling (C:\tmp\sling)&lt;br/&gt;
04.10.2013 13:59:38.794 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; Checking launcher JAR in folder sling&lt;br/&gt;
04.10.2013 13:59:38.809 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; Existing launcher is up to date, using it: 2.3.0 (org.apache.sling.launchpad.base.jar)&lt;br/&gt;
04.10.2013 13:59:38.812 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; Loading launcher class org.apache.sling.launchpad.base.app.MainDelegate from org.apache.sling.launchpad.base.jar&lt;br/&gt;
04.10.2013 13:59:38.823 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; Starting launcher ...&lt;br/&gt;
04.10.2013 13:59:38.828 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; HTTP server port: 8080&lt;br/&gt;
04.10.2013 13:59:38.894 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; Failed to Start OSGi framework&lt;br/&gt;
org.osgi.framework.BundleException: Uncaught Instantiation Issue: java.lang.ArrayIndexOutOfBoundsException: -1&lt;br/&gt;
        at org.apache.sling.launchpad.base.impl.Sling.&amp;lt;init&amp;gt;(Sling.java:245)&lt;br/&gt;
        at org.apache.sling.launchpad.base.app.MainDelegate$1.&amp;lt;init&amp;gt;(MainDelegate.java:159)&lt;br/&gt;
        at org.apache.sling.launchpad.base.app.MainDelegate.start(MainDelegate.java:159)&lt;br/&gt;
        at org.apache.sling.launchpad.app.Main.startSling(Main.java:244)&lt;br/&gt;
        at org.apache.sling.launchpad.app.Main.&amp;lt;init&amp;gt;(Main.java:107)&lt;br/&gt;
        at org.apache.sling.launchpad.app.Main.main(Main.java:56)&lt;br/&gt;
Caused by: java.lang.ArrayIndexOutOfBoundsException: -1&lt;br/&gt;
        at java.util.ArrayList.elementData(Unknown Source)&lt;br/&gt;
        at java.util.ArrayList.get(Unknown Source)&lt;br/&gt;
        at org.apache.felix.framework.BundleImpl.getCurrentModule(BundleImpl.java:1046)&lt;br/&gt;
        at org.apache.felix.framework.BundleImpl.getSymbolicName(BundleImpl.java:863)&lt;br/&gt;
        at org.apache.sling.launchpad.base.impl.SlingFelix.getSymbolicName(SlingFelix.java:32)&lt;br/&gt;
        at org.apache.felix.framework.Felix.toString(Felix.java:1012)&lt;br/&gt;
        at org.apache.felix.framework.Logger.doLog(Logger.java:128)&lt;br/&gt;
        at org.apache.felix.framework.Logger._log(Logger.java:181)&lt;br/&gt;
        at org.apache.felix.framework.Logger.log(Logger.java:114)&lt;br/&gt;
        at org.apache.felix.framework.ExtensionManager.&amp;lt;init&amp;gt;(ExtensionManager.java:201)&lt;br/&gt;
        at org.apache.felix.framework.Felix.&amp;lt;init&amp;gt;(Felix.java:374)&lt;br/&gt;
        at org.apache.sling.launchpad.base.impl.SlingFelix.&amp;lt;init&amp;gt;(SlingFelix.java:39)&lt;br/&gt;
        at org.apache.sling.launchpad.base.impl.Sling.&amp;lt;init&amp;gt;(Sling.java:235)&lt;br/&gt;
        ... 5 more&lt;br/&gt;
04.10.2013 13:59:38.898 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; There was a problem launching Sling&lt;br/&gt;
04.10.2013 13:59:38.898 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Sling Terminator&amp;#93;&lt;/span&gt; Java VM is shutting down&lt;/p&gt;


</description>
                <environment>W7</environment>
        <key id="12672324">SLING-3146</key>
            <summary>Out-of date &quot;Discover Sling in 15 minutes&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="eestieve">Eric Estievenart</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Oct 2013 12:05:07 +0000</created>
                <updated>Thu, 4 May 2023 09:22:59 +0000</updated>
                            <resolved>Thu, 4 May 2023 09:22:59 +0000</resolved>
                                                                    <component>Documentation</component>
                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13786115" author="rombert" created="Fri, 4 Oct 2013 13:02:52 +0000"  >&lt;p&gt;Hi Eric,&lt;/p&gt;

&lt;p&gt;Thanks for raising this issue - it&apos;s entirely correct that your experience is not the best one. To give you a little more background, the Sling download - the Sling Launchpad - is an aggregate release of many bundles and artifacts, including the base launchpad. &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2348&quot; title=&quot;Running the Lauchpad throws an ArrayIndexOutOfBoundException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2348&quot;&gt;&lt;del&gt;SLING-2348&lt;/del&gt;&lt;/a&gt; was filed against the base launchpad and fixed, but we never did a full release of the Sling Launchpad 7 which is expected to work against Java 7 and 8.&lt;/p&gt;

&lt;p&gt;To run the Sling launchpad, either use Java 6 for the official Sling Launchpad 6 download , or build the latest svn trunk version according to &lt;a href=&quot;http://sling.apache.org/documentation/development/getting-and-building-sling.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Getting and building Sling&lt;/a&gt; . This trunk version will work just fine with Java 7, and should work with Java 8 as well.&lt;/p&gt;

&lt;p&gt;Robert&lt;/p&gt;</comment>
                            <comment id="13786121" author="eestieve" created="Fri, 4 Oct 2013 13:12:52 +0000"  >&lt;p&gt;Indeed it works with java6. Hopefully I still had an old jdk6 installed too.&lt;br/&gt;
The best for now would probably to add a small warning saying that the launchpad-6 jar does not work on jdk&amp;gt;=7,&lt;br/&gt;
until there is a more recent build availaible, no ?&lt;br/&gt;
Thanks,&lt;br/&gt;
Eric&lt;/p&gt;</comment>
                            <comment id="13786124" author="rombert" created="Fri, 4 Oct 2013 13:17:05 +0000"  >&lt;p&gt;Adding a note about that is an option, I&apos;ve started a discussion at &lt;a href=&quot;http://sling.markmail.org/thread/miuo36tnb65vp3ov&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.markmail.org/thread/miuo36tnb65vp3ov&lt;/a&gt; . Let&apos;s see what the other developers think as well.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>351950</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 4 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ooj3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>352238</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3145] Compilation error in impl-vlt-test with Java 6</title>
                <link>https://issues.apache.org/jira/browse/SLING-3145</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;As reported at &lt;a href=&quot;http://sling.markmail.org/thread/qx7tovg7txyqnhjx&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.markmail.org/thread/qx7tovg7txyqnhjx&lt;/a&gt; :&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Failed to execute goal&lt;br/&gt;
org.apache.maven.plugins:maven-compiler-plugin:3.1:testCompile&lt;br/&gt;
(default-testCompile) on project org.apache.sling.ide.impl-vlt-test:&lt;br/&gt;
Compilation failure: Compilation failure:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /Users/justin/KeplerWorkspace/sling-builder/tooling/ide/impl-vlt-test/src/test/java/org/apache/sling/ide/impl/vlt/serialization/ContentXmlHandlerTest.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;133,9&amp;#93;&lt;/span&gt;&lt;br/&gt;
cannot find symbol&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; symbol  : method&lt;br/&gt;
assertThat(java.lang.String,java.lang.Iterable&amp;lt;org.apache.sling.ide.transport.ResourceProxy&amp;gt;,org.hamcrest.Matcher&amp;lt;java.lang.Iterable&amp;lt;?&lt;br/&gt;
super java.lang.Object&amp;gt;&amp;gt;)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; location: class&lt;br/&gt;
org.apache.sling.ide.impl.vlt.serialization.ContentXmlHandlerTest&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /Users/justin/KeplerWorkspace/sling-builder/tooling/ide/impl-vlt-test/src/test/java/org/apache/sling/ide/impl/vlt/serialization/ContentXmlHandlerTest.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;141,9&amp;#93;&lt;/span&gt;&lt;br/&gt;
cannot find symbol&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; symbol  : method&lt;br/&gt;
assertThat(java.lang.String,java.util.List&amp;lt;org.apache.sling.ide.transport.ResourceProxy&amp;gt;,org.hamcrest.Matcher&amp;lt;java.lang.Iterable&amp;lt;?&lt;br/&gt;
super java.lang.Object&amp;gt;&amp;gt;)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; location: class&lt;br/&gt;
org.apache.sling.ide.impl.vlt.serialization.ContentXmlHandlerTest&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /Users/justin/KeplerWorkspace/sling-builder/tooling/ide/impl-vlt-test/src/test/java/org/apache/sling/ide/impl/vlt/serialization/ContentXmlHandlerTest.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;148,9&amp;#93;&lt;/span&gt;&lt;br/&gt;
cannot find symbol&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; symbol  : method&lt;br/&gt;
assertThat(java.lang.String,java.util.List&amp;lt;org.apache.sling.ide.transport.ResourceProxy&amp;gt;,org.hamcrest.Matcher&amp;lt;java.lang.Iterable&amp;lt;?&lt;br/&gt;
super java.lang.Object&amp;gt;&amp;gt;)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; location: class&lt;br/&gt;
org.apache.sling.ide.impl.vlt.serialization.ContentXmlHandlerTest&lt;/p&gt;</description>
                <environment></environment>
        <key id="12672262">SLING-3145</key>
            <summary>Compilation error in impl-vlt-test with Java 6</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Oct 2013 00:50:37 +0000</created>
                <updated>Thu, 12 Nov 2015 11:28:56 +0000</updated>
                            <resolved>Fri, 4 Oct 2013 01:06:01 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.0.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13785779" author="rombert" created="Fri, 4 Oct 2013 01:06:01 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1529050&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1529050&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>351888</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 4 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1oo5j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>352176</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3144] UserAdmin and GroupAdmin groups are missing on our Oak setup</title>
                <link>https://issues.apache.org/jira/browse/SLING-3144</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Some of my &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2788&quot; title=&quot;Optionally run Sling on Apache OAK&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2788&quot;&gt;&lt;del&gt;SLING-2788&lt;/del&gt;&lt;/a&gt; integration tests (for example PrivilegesInfoTest) fail as the UserAdmin and GroupAdmin don&apos;t initially exist.&lt;/p&gt;

&lt;p&gt;In Jackrabbit those groups are apparently created by UserAccessControlProvider &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; - I&apos;ll ask the Oak team how to have the equivalent in Oak.&lt;/p&gt;

&lt;p&gt;As a workaround, creating those groups as follows allows a few more tests to pass - but for the final setup the groups need to be created with specific security-related parameters.&lt;/p&gt;

&lt;p&gt;curl -u admin:admin -F:name=GroupAdmin &lt;a href=&quot;http://localhost:8080/system/userManager/group.create.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/system/userManager/group.create.html&lt;/a&gt;&lt;br/&gt;
curl -u admin:admin -F:name=UserAdmin &lt;a href=&quot;http://localhost:8080/system/userManager/group.create.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/system/userManager/group.create.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://jackrabbit.apache.org/api/2.2/org/apache/jackrabbit/core/security/user/UserAccessControlProvider.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jackrabbit.apache.org/api/2.2/org/apache/jackrabbit/core/security/user/UserAccessControlProvider.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12672136">SLING-3144</key>
            <summary>UserAdmin and GroupAdmin groups are missing on our Oak setup</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Oct 2013 13:38:13 +0000</created>
                <updated>Thu, 4 May 2023 09:22:47 +0000</updated>
                            <resolved>Thu, 4 May 2023 09:22:47 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13789183" author="asanso" created="Tue, 8 Oct 2013 13:12:52 +0000"  >&lt;p&gt;using last version of org.apache.sling.jcr.jackrabbit.usermanager (namely 2.2.1-SNAPSHOT) makes all the test contained in  org.apache.sling.launchpad.webapp.integrationtest.accessManager.PrivilegesInfoTest to pass.&lt;/p&gt;

&lt;p&gt;org.apache.sling.launchpad.webapp.integrationtest.userManager.PrivilegesInfoTest are still failing&lt;/p&gt;</comment>
                            <comment id="13790300" author="asanso" created="Wed, 9 Oct 2013 12:32:56 +0000"  >&lt;p&gt;While I do not like too much this feature of having a special group configured via osgi that skips ACLs it seems that is a feature of Sling.&lt;/p&gt;

&lt;p&gt;I will attach a patch that would create those groups on demand (only for the tests).&lt;/p&gt;

&lt;p&gt;Bertrand Delacretaz WDYT?&lt;/p&gt;</comment>
                            <comment id="13790330" author="bdelacretaz" created="Wed, 9 Oct 2013 13:16:24 +0000"  >&lt;p&gt;I haven&apos;t tested your patch but creating the UserAdmin and GroupAdmin groups just for the tests looks good to me.&lt;/p&gt;

&lt;p&gt;In addition, I would suggest having a look at the CreateUserServlet and CreateGroupServlet, and make sure they return a 403 forbidden HTTP status and log a descriptive message if these groups are missing. That can happen in distinct issues of course.&lt;/p&gt;</comment>
                            <comment id="13790352" author="asanso" created="Wed, 9 Oct 2013 13:35:25 +0000"  >&lt;p&gt;thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt; &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;In addition, I would suggest having a look at the CreateUserServlet and CreateGroupServlet, and make sure they return a 403 forbidden HTTP status and log a descriptive message if these groups are missing.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;another option is to change the default of the properties that expect those groups to empty. IMHO is wrong to count on the presence of them.&lt;/p&gt;

&lt;p&gt;WDYT?&lt;/p&gt;
</comment>
                            <comment id="13812740" author="bdelacretaz" created="Mon, 4 Nov 2013 10:46:27 +0000"  >&lt;p&gt;Ok with changing the default values, but then I assume you&apos;d need to set them in order for our existing Jackrabbit tests to work? That&apos;s doable of course.&lt;/p&gt;</comment>
                            <comment id="15050525" author="bdelacretaz" created="Thu, 10 Dec 2015 10:22:13 +0000"  >&lt;p&gt;Unassigning tickets on which I&apos;m not currently working&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12672092">SLING-3143</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12677567">SLING-3229</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12677584">SLING-3230</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12902667">SLING-5093</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12607549" name="SLING-3144-patch.txt" size="28065" author="asanso" created="Wed, 9 Oct 2013 12:33:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>351762</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 46 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ondj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>352050</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3143] CreateUserTest fails on Oak: CreateUserServlet.createUser doesn&apos;t work for UserAdmin group members</title>
                <link>https://issues.apache.org/jira/browse/SLING-3143</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;CreateUserServlet.createUser detects if the current user is a member of the UserAdmin group (group name is configurable), and if that&apos;s the case considers the user as admin and uses its session to create a new user.&lt;/p&gt;

&lt;p&gt;This fails on Oak, our launchpad/integration-tests CreateUserTest fails.&lt;/p&gt;

&lt;p&gt;I&apos;ll attach a patch that works around the problem by forcing the use of an admin session in this case, but I&apos;m not sure if it&apos;s the right thing to do, I&apos;ll discuss on the dev list.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12672092">SLING-3143</key>
            <summary>CreateUserTest fails on Oak: CreateUserServlet.createUser doesn&apos;t work for UserAdmin group members</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Oct 2013 07:20:49 +0000</created>
                <updated>Tue, 6 Oct 2015 19:51:06 +0000</updated>
                            <resolved>Tue, 6 Oct 2015 19:51:06 +0000</resolved>
                                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13789168" author="asanso" created="Tue, 8 Oct 2013 12:45:49 +0000"  >&lt;p&gt;CreateUserServlet  has currently 2 failures :&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;testCreateUser&lt;/li&gt;
	&lt;li&gt;testCreateUserAsUserAdminGroupMember&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;using last version of org.apache.sling.jcr.jackrabbit.usermanager (namely 2.2.1-SNAPSHOT) makes testCreateUser to pass.&lt;/p&gt;

&lt;p&gt;Regarding  testCreateUserAsUserAdminGroupMember  according to the discussion held in the OAk list would make sense to disable for Sling on Oak&lt;/p&gt;</comment>
                            <comment id="13812707" author="fmeschbe" created="Mon, 4 Nov 2013 09:36:35 +0000"  >&lt;p&gt;I don&apos;t think this is a reasonable patch: The assumption is that the configured group name is such that members of that group are allowed to manage users which includes creation of users. If this is not the case, then either configuration is wrong or setup of the group is wrong.&lt;/p&gt;</comment>
                            <comment id="13812711" author="asanso" created="Mon, 4 Nov 2013 09:40:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fmeschbe&quot; class=&quot;user-hover&quot; rel=&quot;fmeschbe&quot;&gt;fmeschbe&lt;/a&gt; you might want to see my patch and comment in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3144&quot; title=&quot;UserAdmin and GroupAdmin groups are missing on our Oak setup&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3144&quot;&gt;&lt;del&gt;SLING-3144&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13812735" author="bdelacretaz" created="Mon, 4 Nov 2013 10:35:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fmeschbe&quot; class=&quot;user-hover&quot; rel=&quot;fmeschbe&quot;&gt;fmeschbe&lt;/a&gt; as mentioned the patch is just a workaround that gets the tests green. We need to find a better solution, or disable the corresponding functionality on Oak if we think we don&apos;t need it.&lt;/p&gt;</comment>
                            <comment id="13812738" author="fmeschbe" created="Mon, 4 Nov 2013 10:40:35 +0000"  >&lt;p&gt;Yeah, I see.&lt;/p&gt;

&lt;p&gt;Still I don&apos;t like changing the running code towards the worse. Rather I suggest to hack-up the test cases &amp;#8211; maybe along the lines of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3144&quot; title=&quot;UserAdmin and GroupAdmin groups are missing on our Oak setup&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3144&quot;&gt;&lt;del&gt;SLING-3144&lt;/del&gt;&lt;/a&gt; &amp;#8211; to make sure, all things being configured corrently, the tests pass.&lt;/p&gt;</comment>
                            <comment id="13813996" author="bdelacretaz" created="Tue, 5 Nov 2013 15:38:49 +0000"  >&lt;p&gt;For now, I have disabled the failing tests using the JackrabbitOnly category, in &lt;a href=&quot;http://svn.apache.org/r1539035&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1539035&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14945650" author="rombert" created="Tue, 6 Oct 2015 19:50:59 +0000"  >&lt;p&gt;Removed the GroupAdmin/UserAdmin component of the tests, as that has been removed with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-5093&quot; title=&quot;Remove UserAdmin and GroupAdmin settings from AuthorizablePrivilegesInfo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-5093&quot;&gt;&lt;del&gt;SLING-5093&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://svn.apache.org/r1707127&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1707127&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12636606">SLING-2788</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12672136">SLING-3144</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12606537" name="SLING-3143-forceAdminSession.patch" size="1512" author="bdelacretaz" created="Thu, 3 Oct 2013 07:23:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>351718</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 4 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1on3r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>352006</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3142] NullPointerException with Java8 in AbstractUsingBundleList</title>
                <link>https://issues.apache.org/jira/browse/SLING-3142</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When using the launchpad plugin with java 8 I get an NPE with:&lt;br/&gt;
Caused by: java.lang.NullPointerException&lt;br/&gt;
	at java.util.Objects.requireNonNull(Objects.java:203)&lt;br/&gt;
	at java.util.ArrayList.removeAll(ArrayList.java:674)&lt;br/&gt;
	at org.apache.maven.shared.filtering.DefaultMavenFileFilter.getDefaultFilterWrappers(DefaultMavenFileFilter.java:215)&lt;br/&gt;
	at org.apache.maven.shared.filtering.DefaultMavenFileFilter.copyFile(DefaultMavenFileFilter.java:75)&lt;br/&gt;
	at org.apache.sling.maven.projectsupport.AbstractUsingBundleListMojo.readSlingProperties(AbstractUsingBundleListMojo.java:411)&lt;br/&gt;
	at org.apache.sling.maven.projectsupport.AbstractUsingBundleListMojo.getSlingProperties(AbstractUsingBundleListMojo.java:460)&lt;/p&gt;


&lt;p&gt;It seems that while ArrayList#removeAll(null) does not throw with pre Java8 it now does - the javadocs clearly state that a NPE is thrown, so we should adjust our code&lt;/p&gt;</description>
                <environment></environment>
        <key id="12671719">SLING-3142</key>
            <summary>NullPointerException with Java8 in AbstractUsingBundleList</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                            <label>java8</label>
                    </labels>
                <created>Wed, 2 Oct 2013 06:52:26 +0000</created>
                <updated>Thu, 6 Mar 2014 07:48:39 +0000</updated>
                            <resolved>Fri, 4 Oct 2013 05:56:32 +0000</resolved>
                                    <version>Maven Launchpad Plugin 2.2.0</version>
                                    <fixVersion>Maven Launchpad Plugin 2.3.0</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13785922" author="cziegeler" created="Fri, 4 Oct 2013 05:56:32 +0000"  >&lt;p&gt;Fixed by passing in an empty list instead of null&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>351429</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 4 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1olbz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>351718</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3141] AbstractAuthenticationFormServlet should make sure resource is a valid redirect</title>
                <link>https://issues.apache.org/jira/browse/SLING-3141</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The resource paramter should be checked to be a valid redirect value in AbstractAuthenticationFormServlet&lt;/p&gt;</description>
                <environment></environment>
        <key id="12671561">SLING-3141</key>
            <summary>AbstractAuthenticationFormServlet should make sure resource is a valid redirect</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Oct 2013 11:58:17 +0000</created>
                <updated>Sat, 8 Mar 2014 17:59:32 +0000</updated>
                            <resolved>Thu, 3 Oct 2013 07:14:09 +0000</resolved>
                                    <version>Auth Core 1.1.2</version>
                                    <fixVersion>Auth Core 1.1.4</fixVersion>
                                    <component>Authentication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13782858" author="cziegeler" created="Tue, 1 Oct 2013 12:08:42 +0000"  >&lt;p&gt;Fixed by using the helper method AuthUtil.isRedirectValid and additionally escaping &amp;lt;, &amp;gt;, &amp;amp;, &quot; and &apos;&lt;br/&gt;
Revision 1528062&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12699575">SLING-3443</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>351271</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 5 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1okdj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>351563</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3140] ClassCastException while serializing byte[] in Sling Job with JCR Resource Resolver</title>
                <link>https://issues.apache.org/jira/browse/SLING-3140</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When trying to serialize a byte[] in Sling Job properties Map I noticed that an error occurs when using the JCR Resource Resolver caused by a ClassCastException in JcrPropertyMapCacheEntry since it tries to cast a byte to Object. This therefore doesn&apos;t happen when serializing Byte[].&lt;br/&gt;
This also happens when trying to serialize long/int/...[] due to the same cast.&lt;br/&gt;
Here&apos;s the stacktrace:&lt;br/&gt;
could not add an item to the queue java.lang.ClassCastException: [B cannot be cast to [Ljava.lang.Object;&lt;br/&gt;
	at org.apache.sling.jcr.resource.internal.helper.JcrPropertyMapCacheEntry.&amp;lt;init&amp;gt;(JcrPropertyMapCacheEntry.java:94)&lt;br/&gt;
	at org.apache.sling.jcr.resource.internal.JcrModifiableValueMap.put(JcrModifiableValueMap.java:630)&lt;br/&gt;
	at org.apache.sling.jcr.resource.internal.helper.jcr.JcrResourceProvider.create(JcrResourceProvider.java:453)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.create(ResourceResolverImpl.java:1076)&lt;br/&gt;
	at org.apache.sling.api.resource.ResourceUtil.getOrCreateResource(ResourceUtil.java:578)&lt;br/&gt;
	at org.apache.sling.event.impl.support.ResourceHelper.getOrCreateResource(ResourceHelper.java:221)&lt;br/&gt;
	at org.apache.sling.event.impl.jobs.JobManagerImpl.writeJob(JobManagerImpl.java:1323)&lt;br/&gt;
	at org.apache.sling.event.impl.jobs.JobManagerImpl.addJobInteral(JobManagerImpl.java:1242)&lt;br/&gt;
	at org.apache.sling.event.impl.jobs.JobManagerImpl.addJob(JobManagerImpl.java:794)&lt;/p&gt;


&lt;p&gt;Here&apos;s the code snippet that triggers the error:&lt;br/&gt;
Map&amp;lt;String, Object&amp;gt; properties = new HashMap&amp;lt;String, Object&amp;gt;();&lt;br/&gt;
properties.put(&quot;BIN&quot;,&quot;a string&quot;.getBytes());&lt;br/&gt;
Job job = jobManager.addJob(&quot;name&quot;, &quot;id&quot;, properties);&lt;/p&gt;

&lt;p&gt;See testcase below to reproduce the problem on the JCR Resource Resolver:&lt;br/&gt;
package org.apache.sling.jcr.resource.internal.helper;&lt;br/&gt;
import org.junit.Test;&lt;br/&gt;
public class JcrPropertyMapCacheEntryTest {&lt;br/&gt;
  @Test&lt;br/&gt;
  public void testByteArray() throws Exception &lt;/p&gt;
{
    Byte[] ba = new Byte[0];
    new JcrPropertyMapCacheEntry(ba, null);
    // ok
    byte[] ba2 = new byte[0];
    new JcrPropertyMapCacheEntry(ba2, null);
    // fail
  }
&lt;p&gt;  @Test&lt;br/&gt;
  public void testLongArray() throws Exception &lt;/p&gt;
{
    Long[] ba = new Long[0];
    new JcrPropertyMapCacheEntry(ba, null);
    // ok
    long[] ba2 = new long[0];
    new JcrPropertyMapCacheEntry(ba2, null);
    // fail
  }
&lt;p&gt;}&lt;/p&gt;</description>
                <environment></environment>
        <key id="12671514">SLING-3140</key>
            <summary>ClassCastException while serializing byte[] in Sling Job with JCR Resource Resolver</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="teofili">Tommaso Teofili</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Oct 2013 06:49:02 +0000</created>
                <updated>Mon, 17 Feb 2014 15:48:02 +0000</updated>
                            <resolved>Fri, 4 Oct 2013 05:54:51 +0000</resolved>
                                    <version>JCR Resource 2.2.8</version>
                                    <fixVersion>JCR Resource 2.3.0</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13782847" author="teofili" created="Tue, 1 Oct 2013 11:53:36 +0000"  >&lt;p&gt;I&apos;ve implemented a possible fix at:&lt;br/&gt;
&lt;a href=&quot;https://github.com/tteofili/sling/compare/apache:trunk...sling-3140.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/tteofili/sling/compare/apache:trunk...sling-3140.patch&lt;/a&gt;&lt;br/&gt;
 by catching such failures and using commons-lang&apos;s ArrayUtils#toObject method to explicitly convert primitive types arrays.&lt;/p&gt;</comment>
                            <comment id="13783078" author="cziegeler" created="Tue, 1 Oct 2013 16:03:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=teofili&quot; class=&quot;user-hover&quot; rel=&quot;teofili&quot;&gt;teofili&lt;/a&gt; Thanks for the patch - what about first doing all the instanceof tests and as a default case casting to Object[] array instead of catching the exception and then doing the checks?&lt;/p&gt;</comment>
                            <comment id="13783792" author="teofili" created="Wed, 2 Oct 2013 10:18:59 +0000"  >&lt;p&gt;yeah, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, it makes sense, patch updated at &lt;a href=&quot;https://github.com/tteofili/sling/compare/apache:trunk...sling-3140.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/tteofili/sling/compare/apache:trunk...sling-3140.patch&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13785920" author="cziegeler" created="Fri, 4 Oct 2013 05:54:51 +0000"  >&lt;p&gt;Thanks for your updated patch, Tommas. It&apos;s applied&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>351224</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 4 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ok33:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>351516</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3137] Ignore vlt tracking files when publishing content</title>
                <link>https://issues.apache.org/jira/browse/SLING-3137</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When working with an existing vlt checkout, .vlt files are published to the repository.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12671362">SLING-3137</key>
            <summary>Ignore vlt tracking files when publishing content</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 30 Sep 2013 13:33:01 +0000</created>
                <updated>Thu, 12 Nov 2015 11:28:54 +0000</updated>
                            <resolved>Mon, 30 Sep 2013 15:52:12 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.0.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13781950" author="rombert" created="Mon, 30 Sep 2013 15:52:12 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1527617&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1527617&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>351068</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 5 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1oj4f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>351360</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3134] Bundle deployment mechanism does not deploy on the configured server</title>
                <link>https://issues.apache.org/jira/browse/SLING-3134</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The maven deployment mechanism must pass in the:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;url&lt;/li&gt;
	&lt;li&gt;username&lt;/li&gt;
	&lt;li&gt;password&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;for the configured server, otherwise deployment follows the pom.xml definition, not the one from Eclipse&lt;/p&gt;</description>
                <environment></environment>
        <key id="12671011">SLING-3134</key>
            <summary>Bundle deployment mechanism does not deploy on the configured server</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Sep 2013 20:43:54 +0000</created>
                <updated>Thu, 12 Nov 2015 11:28:46 +0000</updated>
                            <resolved>Tue, 22 Oct 2013 14:46:17 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.0.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13801877" author="rombert" created="Tue, 22 Oct 2013 14:46:17 +0000"  >&lt;p&gt;With the latest fixes for &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3019&quot; title=&quot;Provide a mechanism to install a bundle based on a directory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3019&quot;&gt;&lt;del&gt;SLING-3019&lt;/del&gt;&lt;/a&gt;, we no longer need to use Maven to deploy bundles. Therefore we now pick up the directory and create a jar file out of it.&lt;/p&gt;

&lt;p&gt;This is faster and less error-prone than building and invoking maven launch configurations.&lt;/p&gt;

&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1534649&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1534649&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350840</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 2 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ohpr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>351131</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3129] Node names which are changed when encoding in platform format are not imported</title>
                <link>https://issues.apache.org/jira/browse/SLING-3129</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;For the following node structure&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;ROOT &lt;span class=&quot;error&quot;&gt;&amp;#91;nt:unstructured&amp;#93;&lt;/span&gt;&lt;br/&gt;
&amp;#45; _jcr_content &lt;span class=&quot;error&quot;&gt;&amp;#91;nt:file&amp;#93;&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;a node named /ROOT/jcr:content is taken into account, which is incorrect.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;September 26, 2013 11:55:41 PM EEST&amp;#93;&lt;/span&gt; ListChildrenCommand -&amp;gt; /ROOT : JcrResult[ success:true] (15 ms)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;September 26, 2013 11:55:42 PM EEST&amp;#93;&lt;/span&gt; ListChildrenCommand -&amp;gt; /ROOT/jcr:content : JcrResult[ success:false, exception: org.apache.sling.ide.transport.RepositoryException - javax.jcr.PathNotFoundException: /ROOT/jcr:content] (17 ms)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12670830">SLING-3129</key>
            <summary>Node names which are changed when encoding in platform format are not imported</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Sep 2013 21:17:45 +0000</created>
                <updated>Thu, 12 Nov 2015 11:28:59 +0000</updated>
                            <resolved>Thu, 26 Sep 2013 21:50:28 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.0.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13779289" author="rombert" created="Thu, 26 Sep 2013 21:50:28 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;added a test to validate that .content.xml parsing is correct in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1526714&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1526714&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;fixed remaining JCR commands which incorrectly encoded the paths they were executing on in platform format - paths passed to commands must always be in repository format in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1526716&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1526716&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350659</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 5 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1oglz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350952</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3124] SetupServerWizardPage should not hardcode username/password to admin/admin</title>
                <link>https://issues.apache.org/jira/browse/SLING-3124</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description></description>
                <environment></environment>
        <key id="12670687">SLING-3124</key>
            <summary>SetupServerWizardPage should not hardcode username/password to admin/admin</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Sep 2013 11:26:43 +0000</created>
                <updated>Thu, 12 Nov 2015 11:28:51 +0000</updated>
                            <resolved>Tue, 20 May 2014 08:46:28 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.0.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14002967" author="rombert" created="Tue, 20 May 2014 08:46:28 +0000"  >&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1596137&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1596137&lt;/a&gt; minor cleanups&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1596138&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1596138&lt;/a&gt; implementation&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350516</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 24 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ofqf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350809</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3123] Resource deletion no longer obeys filters</title>
                <link>https://issues.apache.org/jira/browse/SLING-3123</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Probably broken with &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1526145&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1526145&lt;/a&gt; .&lt;/p&gt;</description>
                <environment></environment>
        <key id="12670686">SLING-3123</key>
            <summary>Resource deletion no longer obeys filters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Sep 2013 11:26:25 +0000</created>
                <updated>Thu, 12 Nov 2015 11:28:54 +0000</updated>
                            <resolved>Fri, 27 Sep 2013 14:24:43 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.0.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13779975" author="rombert" created="Fri, 27 Sep 2013 14:24:43 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1526912&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1526912&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350515</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 5 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ofq7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350808</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3122] Incorrect filtering for full coverage nodes</title>
                <link>https://issues.apache.org/jira/browse/SLING-3122</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;With the following filter&lt;/p&gt;

&lt;p&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;br/&gt;
	&amp;lt;workspaceFilter version=&quot;1.0&quot;&amp;gt;&lt;br/&gt;
	     &amp;lt;filter root=&quot;/content/slingDemo&quot;/&amp;gt;&lt;br/&gt;
	     &amp;lt;filter root=&quot;/apps/slingDemo&quot;/&amp;gt;&lt;br/&gt;
	     &amp;lt;filter root=&quot;/var/full-coverage&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;/workspaceFilter&amp;gt;&lt;/p&gt;

&lt;p&gt;changes to /var/full-coverage.xml not synced, were that is file corresponds to a node with full coverage present at /var/full-coverage&lt;/p&gt;</description>
                <environment></environment>
        <key id="12670685">SLING-3122</key>
            <summary>Incorrect filtering for full coverage nodes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Sep 2013 11:25:46 +0000</created>
                <updated>Thu, 12 Nov 2015 11:29:01 +0000</updated>
                            <resolved>Tue, 13 May 2014 15:14:40 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.0.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13996483" author="rombert" created="Tue, 13 May 2014 15:14:40 +0000"  >&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1594242&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1594242&lt;/a&gt; - ProjectAdapter now rejects empty input streams&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1594243&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1594243&lt;/a&gt; - add RepositoryAccessor.creatNode&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1594244&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1594244&lt;/a&gt; - take the real repository path into account when filtering&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350514</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 25 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ofpz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3121] Deployment of java bundles fails if the maven-sling-plugin is not declared in the pom</title>
                <link>https://issues.apache.org/jira/browse/SLING-3121</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The run configuration should:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;explicitly list the maven-sling-plugin ( groupId:artifactId:version) OR declare it in the bundle ; otherwise it fails&lt;/li&gt;
	&lt;li&gt;not inlcude the &apos;bundle&apos; profile&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The relevant error listing is&lt;/p&gt;

&lt;p&gt;	&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; The requested profile &quot;bundle&quot; could not be activated because it does not exist.&lt;br/&gt;
	&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; No plugin found for prefix &apos;sling&apos; in the current project and in the plugin groups &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.maven.plugins, org.codehaus.mojo&amp;#93;&lt;/span&gt; available from the repositories &lt;span class=&quot;error&quot;&gt;&amp;#91;local (C:\Users\labuser\.m2\repository), central (http://repo.maven.apache.org/maven2)&amp;#93;&lt;/span&gt; -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt;&lt;br/&gt;
	&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;br/&gt;
	&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; To see the full stack trace of the errors, re-run Maven with the -e switch.&lt;br/&gt;
	&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Re-run Maven using the -X switch to enable full debug logging.&lt;br/&gt;
	&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;br/&gt;
	&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; For more information about the errors and possible solutions, please read the following articles:&lt;br/&gt;
	&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://cwiki.apache.org/confluence/display/MAVEN/NoPluginFoundForPrefixException&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cwiki.apache.org/confluence/display/MAVEN/NoPluginFoundForPrefixException&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12670684">SLING-3121</key>
            <summary>Deployment of java bundles fails if the maven-sling-plugin is not declared in the pom</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Sep 2013 11:25:39 +0000</created>
                <updated>Thu, 12 Nov 2015 11:28:54 +0000</updated>
                            <resolved>Fri, 27 Sep 2013 15:21:28 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.0.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13780005" author="rombert" created="Fri, 27 Sep 2013 15:09:05 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;invoke &apos;package&apos; before trying to deploy the bundle with Maven in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1526934&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1526934&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;updated launch config to make it easier to debug Maven executions in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1526936&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1526936&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;make local deployment use the OSGiClient instead of httpclient in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1526938&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1526938&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13780017" author="rombert" created="Fri, 27 Sep 2013 15:21:28 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Use fully-qualified plugin name when creating the maven launch config in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1526949&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1526949&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;Make the maven launch config not update snapshots in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1526950&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1526950&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350513</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 5 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ofpr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350806</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3119] Startup Filter: move to HTTP filter to prevent authentication before startup has completed</title>
                <link>https://issues.apache.org/jira/browse/SLING-3119</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The current StartupFilter implementation is a Sling filter which prevents requests from being processed only after all HTTP filters have been called and authentication has been handled.&lt;br/&gt;
Making this an HTTP filter registered with the Felix ExtHttpService would answer requests with 503 much earlier.&lt;br/&gt;
Such a filter must still allow access to felix.webconsole.manager.root, typically /system/console&lt;/p&gt;</description>
                <environment></environment>
        <key id="12670527">SLING-3119</key>
            <summary>Startup Filter: move to HTTP filter to prevent authentication before startup has completed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="benpeter">Ben Peter</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Sep 2013 17:37:42 +0000</created>
                <updated>Fri, 27 Sep 2013 17:02:32 +0000</updated>
                            <resolved>Fri, 27 Sep 2013 17:02:32 +0000</resolved>
                                                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13777795" author="benpeter" created="Wed, 25 Sep 2013 17:41:22 +0000"  >&lt;p&gt;attaching patch&lt;/p&gt;</comment>
                            <comment id="13779914" author="bdelacretaz" created="Fri, 27 Sep 2013 13:22:24 +0000"  >&lt;p&gt;Thanks for your contribution! I have applied your patch in &lt;a href=&quot;http://svn.apache.org/r1526891&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1526891&lt;/a&gt; and added logging of the filter pattern in &lt;a href=&quot;http://svn.apache.org/r1526893&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1526893&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Please cross-check and mark this issue resolved if ok.&lt;/p&gt;</comment>
                            <comment id="13779923" author="bdelacretaz" created="Fri, 27 Sep 2013 13:28:53 +0000"  >&lt;p&gt;On the dev list, Felix notes that the regexp pattern might not be compatible with future versions of the HTTP service, so please don&apos;t mark this issue resolved for now. &lt;/p&gt;

&lt;p&gt;The current code should work but we probably need to handle the /system/console exception inside the doFilter(...) call. Performance is not an issue as this filter is meant to be active during system startup only.&lt;/p&gt;</comment>
                            <comment id="13779948" author="bdelacretaz" created="Fri, 27 Sep 2013 14:04:35 +0000"  >&lt;p&gt;I have removed the regexp in &lt;a href=&quot;http://svn.apache.org/r1526908&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1526908&lt;/a&gt; , replaced by string matching in the doFilter() method.&lt;/p&gt;

&lt;p&gt;Ben, please check if this works for you and if yes you can mark this issue resolved.&lt;/p&gt;</comment>
                            <comment id="13780096" author="benpeter" created="Fri, 27 Sep 2013 17:02:32 +0000"  >&lt;p&gt;Thank you, Bertrand!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12605052" name="SLING-3119.patch" size="3749" author="benpeter" created="Wed, 25 Sep 2013 17:41:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350356</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 5 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1oer3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350649</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3118] NPE during invocation of the SlingBundleWizard</title>
                <link>https://issues.apache.org/jira/browse/SLING-3118</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I get a NPE during calling File-&amp;gt;New-&amp;gt;New Sling Bundle Project. That stacktrace is as following&lt;br/&gt;
...&lt;br/&gt;
Root exception:&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
	at org.apache.sling.ide.eclipse.m2e.EmbeddedArchetypeInstaller.addResource(EmbeddedArchetypeInstaller.java:81)&lt;br/&gt;
	at org.apache.sling.ide.eclipse.ui.wizards.np.NewSlingBundleWizard.installArchetypes(NewSlingBundleWizard.java:48)&lt;br/&gt;
	at org.apache.sling.ide.eclipse.ui.wizards.np.ChooseArchetypeWizardPage$6.run(ChooseArchetypeWizardPage.java:192)&lt;br/&gt;
	at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:121)&lt;/p&gt;

&lt;p&gt;This is caused by referring to the archetype artifact with the filename &quot;target/archetypes/sling-bundle-archetype-1.0.1-SNAPSHOT.jar&quot; where in fact the filename (at least in my build) is &quot;/target/archetypes/sling-bundle-archetype-1.0.1-20121112.102907-462.jar&quot;&lt;/p&gt;

&lt;p&gt;A solution would be to strip the version from the filename after it has been downloaded by the maven-dependency-plugin (&lt;a href=&quot;http://maven.apache.org/plugins/maven-dependency-plugin/copy-mojo.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://maven.apache.org/plugins/maven-dependency-plugin/copy-mojo.html&lt;/a&gt;) by leveraging the &quot;stripVersion&quot; flag and referring only to the artifactId as filename.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12670461">SLING-3118</key>
            <summary>NPE during invocation of the SlingBundleWizard</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Sep 2013 10:48:03 +0000</created>
                <updated>Thu, 12 Nov 2015 11:28:55 +0000</updated>
                            <resolved>Thu, 26 Sep 2013 16:04:44 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.0.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13777363" author="egli" created="Wed, 25 Sep 2013 11:16:50 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; for the debugging. I&apos;ll have a look at this. We&apos;re anyway trying to get rid of the EmbeddedArchetypeInstaller, as it seems to cause more problems than that it helps.. (see &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3102&quot; title=&quot;Inconsistent behaviour when loading archetypes in new Sling bundle project wizard&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3102&quot;&gt;&lt;del&gt;SLING-3102&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="13778670" author="rombert" created="Thu, 26 Sep 2013 11:27:45 +0000"  >&lt;p&gt;At any rate, I guess this applies to bundles that we wrap as well, such as the installation support bundle. I have an idea on how to best approach this, but I&apos;ll open a separate bug report and link it here.&lt;/p&gt;</comment>
                            <comment id="13778680" author="egli" created="Thu, 26 Sep 2013 11:37:15 +0000"  >&lt;p&gt;Yep - ideally we will not have to wrap those bundles since we should be able to rely on released bundles and retrieve them from public repos. But for example the install support bundle is not yet released (hence embedded in slingclipse atm), but as soon as it will be, we should remove it from slingclipse.&lt;/p&gt;</comment>
                            <comment id="13778682" author="rombert" created="Thu, 26 Sep 2013 11:43:18 +0000"  >&lt;blockquote&gt;&lt;p&gt; I&apos;ll open a separate bug report and link it here.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That would be &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3125&quot; title=&quot;Centralize and improve embedded artifact handling&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3125&quot;&gt;&lt;del&gt;SLING-3125&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13778931" author="rombert" created="Thu, 26 Sep 2013 16:04:40 +0000"  >&lt;p&gt;Thanks for reporting and the suggested fix!&lt;/p&gt;

&lt;p&gt;This was fixed as a side-effect of &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1526588&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1526588&lt;/a&gt; using your idea of stripping the version.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350290</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 5 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1oecf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350583</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3117] Node order changes made in .content.xml files are not persisted</title>
                <link>https://issues.apache.org/jira/browse/SLING-3117</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If the node supports orderable child nodes we should reoder the child nodes to follow the order in the .content.xml file.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12670458">SLING-3117</key>
            <summary>Node order changes made in .content.xml files are not persisted</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Sep 2013 10:28:02 +0000</created>
                <updated>Thu, 12 Nov 2015 11:28:54 +0000</updated>
                            <resolved>Mon, 12 May 2014 15:37:15 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.0.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13995177" author="rombert" created="Mon, 12 May 2014 15:37:15 +0000"  >&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1594002&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1594002&lt;/a&gt; added ChildrenNameMatcher&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1594004&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1594004&lt;/a&gt; persist node order changes&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350287</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 25 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1oebr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350580</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3116] Node structures serialized to a .content.xml file do not propagate deletions</title>
                <link>https://issues.apache.org/jira/browse/SLING-3116</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Assume that a .content.xml file like the one below changes by&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;removing the parent-1 node OR&lt;/li&gt;
	&lt;li&gt;removing the child-1-2 node&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;We need to persist these deletions into the repository.&lt;/p&gt;

&lt;p&gt;However, we need to be careful to propagate these only for full coverage nodes.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;?&amp;gt;
&amp;lt;jcr:root xmlns:sling=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//sling.apache.org/jcr/sling/1.0&quot;&lt;/span&gt; xmlns:vlt=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.day.com/jcr/vault/1.0&quot;&lt;/span&gt; xmlns:jcr=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.jcp.org/jcr/1.0&quot;&lt;/span&gt;
&lt;/span&gt;    jcr:mixinTypes=&lt;span class=&quot;code-quote&quot;&gt;&quot;[vlt:FullCoverage]&quot;&lt;/span&gt;
    jcr:primaryType=&lt;span class=&quot;code-quote&quot;&gt;&quot;sling:Folder&quot;&lt;/span&gt;
    jcr:title=&lt;span class=&quot;code-quote&quot;&gt;&quot;Full coverage parent&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;parent-1
        jcr:primaryType=&lt;span class=&quot;code-quote&quot;&gt;&quot;sling:Folder&quot;&lt;/span&gt;
        jcr:title=&lt;span class=&quot;code-quote&quot;&gt;&quot;Parent 1&quot;&lt;/span&gt;&amp;gt;
        &amp;lt;child-1-1
            jcr:primaryType=&lt;span class=&quot;code-quote&quot;&gt;&quot;sling:Folder&quot;&lt;/span&gt;
            jcr:title=&lt;span class=&quot;code-quote&quot;&gt;&quot;Child 1-1&quot;&lt;/span&gt;/&amp;gt;
        &amp;lt;child-1-2
            jcr:primaryType=&lt;span class=&quot;code-quote&quot;&gt;&quot;sling:Folder&quot;&lt;/span&gt;
            jcr:title=&lt;span class=&quot;code-quote&quot;&gt;&quot;Child 1-2&quot;&lt;/span&gt;/&amp;gt;
    &amp;lt;/parent-1&amp;gt;
    &amp;lt;parent-2
        jcr:primaryType=&lt;span class=&quot;code-quote&quot;&gt;&quot;sling:Folder&quot;&lt;/span&gt;
        jcr:title=&lt;span class=&quot;code-quote&quot;&gt;&quot;Parent 2&quot;&lt;/span&gt;&amp;gt;
        &amp;lt;child-2-1
            jcr:primaryType=&lt;span class=&quot;code-quote&quot;&gt;&quot;sling:Folder&quot;&lt;/span&gt;
            jcr:title=&lt;span class=&quot;code-quote&quot;&gt;&quot;Child 2-1&quot;&lt;/span&gt;/&amp;gt;
        &amp;lt;child-2-2
            jcr:primaryType=&lt;span class=&quot;code-quote&quot;&gt;&quot;sling:Folder&quot;&lt;/span&gt;
            jcr:title=&lt;span class=&quot;code-quote&quot;&gt;&quot;Child 2-2&quot;&lt;/span&gt;/&amp;gt;
    &amp;lt;/parent-2&amp;gt;
&amp;lt;/jcr:root&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12670457">SLING-3116</key>
            <summary>Node structures serialized to a .content.xml file do not propagate deletions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Sep 2013 10:24:26 +0000</created>
                <updated>Thu, 12 Nov 2015 11:29:02 +0000</updated>
                            <resolved>Mon, 12 May 2014 13:13:18 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.0.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13995062" author="rombert" created="Mon, 12 May 2014 13:13:18 +0000"  >&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1593959&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1593959&lt;/a&gt; implemented + added IT&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1593960&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1593960&lt;/a&gt; improved generics usage in Poller&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13995180" author="rombert" created="Mon, 12 May 2014 15:38:01 +0000"  >&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1594005&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1594005&lt;/a&gt; fixed regression when deploying file-like or folder-like nodes&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350286</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 25 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1oebj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350579</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3115] Deleting files and folders does not work on Windows</title>
                <link>https://issues.apache.org/jira/browse/SLING-3115</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;September 25, 2013 12:07:23 PM EEST&amp;#93;&lt;/span&gt; AddOrUpdateNodeCommand -&amp;gt; /var/my-folder : JcrResult[ success:true] (78 ms)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;September 25, 2013 12:07:23 PM EEST&amp;#93;&lt;/span&gt; AddOrUpdateNodeCommand -&amp;gt; /var/my-folder/some-file.txt : JcrResult[ success:true] (110 ms)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;September 25, 2013 12:07:34 PM EEST&amp;#93;&lt;/span&gt; DeleteNodeCommand -&amp;gt; /var/my-folder : JcrResult[ success:true] (78 ms)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;September 25, 2013 12:07:34 PM EEST&amp;#93;&lt;/span&gt; DeleteNodeCommand -&amp;gt; /var\my-folder/some-file.txt : JcrResult[ success:true] (47 ms)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12670444">SLING-3115</key>
            <summary>Deleting files and folders does not work on Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Sep 2013 09:31:17 +0000</created>
                <updated>Thu, 12 Nov 2015 11:28:56 +0000</updated>
                            <resolved>Wed, 25 Sep 2013 09:37:12 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.0.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13777307" author="rombert" created="Wed, 25 Sep 2013 09:37:12 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1526145&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1526145&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350273</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 6 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1oe8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350566</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3114] DefaultContentImporter should guard against a closed InputStream on system view imports</title>
                <link>https://issues.apache.org/jira/browse/SLING-3114</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;For the special case of system view imports the null check &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; fails to take into account the fact that the input stream is now closed (twice even &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;, &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;).&lt;/p&gt;

&lt;p&gt;This means that if something happened and the import did not go throught (hence the &lt;em&gt;null&lt;/em&gt; node), the code will continue and fail later (line 99) with a cryptic message: &lt;em&gt;java.io.IOException: Stream Closed&lt;/em&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;My proposal (no patch) is to add an else clause with a warn log and a return statement.&lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://svn.apache.org/viewvc/sling/trunk/bundles/jcr/contentloader/src/main/java/org/apache/sling/jcr/contentloader/internal/DefaultContentImporter.java?view=markup#l77&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/sling/trunk/bundles/jcr/contentloader/src/main/java/org/apache/sling/jcr/contentloader/internal/DefaultContentImporter.java?view=markup#l77&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://svn.apache.org/viewvc/sling/trunk/bundles/jcr/contentloader/src/main/java/org/apache/sling/jcr/contentloader/internal/DefaultContentImporter.java?view=markup#l201&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/sling/trunk/bundles/jcr/contentloader/src/main/java/org/apache/sling/jcr/contentloader/internal/DefaultContentImporter.java?view=markup#l201&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://svn.apache.org/viewvc/jackrabbit/trunk/jackrabbit-jcr-commons/src/main/java/org/apache/jackrabbit/commons/AbstractSession.java?view=markup#l357&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/jackrabbit/trunk/jackrabbit-jcr-commons/src/main/java/org/apache/jackrabbit/commons/AbstractSession.java?view=markup#l357&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Caused by: java.io.IOException: Stream Closed
	at java.io.FileInputStream.available(Native Method)
	at java.io.BufferedInputStream.available(BufferedInputStream.java:399)
	at org.apache.sling.jcr.contentloader.internal.readers.XmlReader.parseInternal(XmlReader.java:205)
	at org.apache.sling.jcr.contentloader.internal.readers.XmlReader.parse(XmlReader.java:189)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12670443">SLING-3114</key>
            <summary>DefaultContentImporter should guard against a closed InputStream on system view imports</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="olli">Oliver Lietz</assignee>
                                    <reporter username="stillalex">Alex Deparvu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Sep 2013 09:29:53 +0000</created>
                <updated>Fri, 30 May 2014 13:22:20 +0000</updated>
                            <resolved>Fri, 2 May 2014 11:58:10 +0000</resolved>
                                    <version>JCR ContentLoader 2.1.6</version>
                                    <fixVersion>JCR ContentLoader 2.1.8</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13777549" author="alex.parvulescu" created="Wed, 25 Sep 2013 14:24:55 +0000"  >&lt;p&gt;fyi. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jukkaz&quot; class=&quot;user-hover&quot; rel=&quot;jukkaz&quot;&gt;jukkaz&lt;/a&gt; found out that this is triggered in the cases where the file size is above 256000 bytes &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;More on the failed import case: &lt;br/&gt;
It can be that the node name parameter passed in is not the same as the node from system view export file. &lt;br/&gt;
For example I can export /content/page, and the name I pass in is &apos;jcr:content&apos;, and I ask to be imported under &apos;/content&apos;. this will affect how the system view import verifies if the import was successful: &apos;content&apos;.hasChild(&apos;jcr:content&apos;).&lt;br/&gt;
So I&apos;m guessing that the importer could be a bit smarter about this check, as failing it means another import will happen with a fallback on the default importer.&lt;/p&gt;



&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://svn.apache.org/viewvc/sling/trunk/bundles/engine/src/main/java/org/apache/sling/engine/impl/parameters/ParameterSupport.java?view=markup#l187&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/sling/trunk/bundles/engine/src/main/java/org/apache/sling/engine/impl/parameters/ParameterSupport.java?view=markup#l187&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13984419" author="olli" created="Tue, 29 Apr 2014 15:42:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alex.parvulescu&quot; class=&quot;user-hover&quot; rel=&quot;alex.parvulescu&quot;&gt;alex.parvulescu&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jukkaz&quot; class=&quot;user-hover&quot; rel=&quot;jukkaz&quot;&gt;jukkaz&lt;/a&gt; shouldn&apos;t we simply remove fallback to &lt;tt&gt;DefaultContentCreator&lt;/tt&gt; when extension &lt;tt&gt;.jcr.xml&lt;/tt&gt; is used? (by moving &lt;tt&gt;return&lt;/tt&gt; to the end of the &lt;em&gt;system view imports&lt;/em&gt; block)&lt;/p&gt;

&lt;p&gt;The name and error handling in &lt;em&gt;contentloader&lt;/em&gt; should be improved indeed - and there are some more glitches which could be fixed.&lt;/p&gt;</comment>
                            <comment id="13987617" author="olli" created="Fri, 2 May 2014 11:57:34 +0000"  >&lt;p&gt;Fixed in r1591877 as described above (same behavior as in &lt;tt&gt;org.apache.sling.jcr.contentloader.internal.Loader&lt;/tt&gt;).&lt;/p&gt;

&lt;p&gt;Other issues are tracked in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3533&quot; title=&quot;improve error handling and logging in content loader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3533&quot;&gt;&lt;del&gt;SLING-3533&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3534&quot; title=&quot;separate node name and content type in content loader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3534&quot;&gt;&lt;del&gt;SLING-3534&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3535&quot; title=&quot;reduce duplicated code in content loader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3535&quot;&gt;&lt;del&gt;SLING-3535&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13987619" author="olli" created="Fri, 2 May 2014 11:59:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/oliverlietz/sling-tests/tree/master/org.apache.sling.tests/SLING-3114&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/oliverlietz/sling-tests/tree/master/org.apache.sling.tests/SLING-3114&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350272</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 26 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1oe8f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350565</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3108] JUnit-based Health Checks</title>
                <link>https://issues.apache.org/jira/browse/SLING-3108</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The old JUnit-based health checks code should be re-added, in a separate bundle as discussed on list.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12670363">SLING-3108</key>
            <summary>JUnit-based Health Checks</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Sep 2013 21:19:53 +0000</created>
                <updated>Mon, 30 Sep 2013 14:02:49 +0000</updated>
                            <resolved>Mon, 30 Sep 2013 13:59:32 +0000</resolved>
                                                                    <component>Health Check</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13776772" author="bdelacretaz" created="Tue, 24 Sep 2013 21:25:58 +0000"  >&lt;p&gt;New org.apache.sling.junit.healthcheck bundle added in &lt;a href=&quot;http://svn.apache.org/r1526015&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1526015&lt;/a&gt;, with a sample test in the org.apache.sling.hc.samples bundle.&lt;/p&gt;

&lt;p&gt;Keeping this issue open to update the docs and include the new bundle in the main pom - cannot do that right now as it&apos;s using snapshots that are not part of the main build.&lt;/p&gt;</comment>
                            <comment id="13781824" author="bdelacretaz" created="Mon, 30 Sep 2013 13:59:32 +0000"  >&lt;p&gt;Hc tools moved to bundles tree, main pom updated.&lt;/p&gt;

&lt;p&gt;Health Check Tools initial release done in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3127&quot; title=&quot;Initial release of the Health Check tools&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3127&quot;&gt;&lt;del&gt;SLING-3127&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13781826" author="bdelacretaz" created="Mon, 30 Sep 2013 14:02:49 +0000"  >&lt;p&gt;Health Check Tools initial release done in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3127&quot; title=&quot;Initial release of the Health Check tools&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3127&quot;&gt;&lt;del&gt;SLING-3127&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12642253">SLING-2822</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350192</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 5 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1odqv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350486</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3107] initial-content archetype does not reflect current practices</title>
                <link>https://issues.apache.org/jira/browse/SLING-3107</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The initial content archetype has a number of deficiencies:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;it uses xml rather than the more modern json format for content&lt;/li&gt;
	&lt;li&gt;the layout of initial projects doesn&apos;t match the most recent sample apps&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12670353">SLING-3107</key>
            <summary>initial-content archetype does not reflect current practices</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="asavory">Andrew Savory</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Sep 2013 20:32:12 +0000</created>
                <updated>Thu, 4 May 2023 09:22:17 +0000</updated>
                            <resolved>Thu, 4 May 2023 09:22:17 +0000</resolved>
                                    <version>Initial Content Archetype 1.0.4</version>
                                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13776717" author="asavory" created="Tue, 24 Sep 2013 20:36:06 +0000"  >&lt;p&gt;This patch attempts to rectify some of the main issues with the archetype:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;move SLING-INF to SLING-CONTENT to match e.g. slingbucks sample&lt;/li&gt;
	&lt;li&gt;switches from xml to json content&lt;/li&gt;
	&lt;li&gt;creates an apps directory and a subdirectory based on the artifactId&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This patch does not yet:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;provide a sample component for page rendering (for some reason, mvn refuses to copy html.esp into new projects)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13800594" author="rombert" created="Mon, 21 Oct 2013 12:20:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=asavory&quot; class=&quot;user-hover&quot; rel=&quot;asavory&quot;&gt;asavory&lt;/a&gt; - I can&apos;t apply this patch:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;$ patch -p0 &amp;lt; SLING-3107.diff 
patching file tooling/maven/archetypes/initial-content/src/main/resources/META-INF/maven/archetype-metadata.xml
patching file tooling/maven/archetypes/initial-content/src/main/resources/META-INF/maven/archetype.xml
can&apos;t find file to patch at input line 47
Perhaps you used the wrong -p or --strip option?
The text leading up to &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; was:
--------------------------
|Index: tooling/maven/archetypes/initial-content/src/main/resources/archetype-resources/src/main/resources/SLING-CONTENT/apps/html.esp
|===================================================================
|--- tooling/maven/archetypes/initial-content/src/main/resources/archetype-resources/src/main/resources/SLING-CONTENT/apps/html.esp     (revision 1522061)
|+++ tooling/maven/archetypes/initial-content/src/main/resources/archetype-resources/src/main/resources/SLING-CONTENT/apps/html.esp     (working copy)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Am I doing something wrong?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12604872" name="SLING-3107.diff" size="14111" author="asavory" created="Tue, 24 Sep 2013 20:36:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350182</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 2 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1odon:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350476</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3106] Do not try to sync version control files</title>
                <link>https://issues.apache.org/jira/browse/SLING-3106</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If I create a sling content module which contains version control-private files like .svn, these are synced to the repository. Instead, we should ignore these files.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12670329">SLING-3106</key>
            <summary>Do not try to sync version control files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Sep 2013 18:23:03 +0000</created>
                <updated>Thu, 12 Nov 2015 11:28:51 +0000</updated>
                            <resolved>Thu, 10 Oct 2013 09:20:48 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.0.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13776796" author="rombert" created="Tue, 24 Sep 2013 21:45:56 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1526021&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1526021&lt;/a&gt; by taking into account the team private status of a resource. Note that I haven&apos;t been able to reproduce it since I need to use an older version of SVN that the one I have installed, and Git doesn&apos;t exhibit this problem.&lt;/p&gt;

&lt;p&gt;But the change doesn&apos;t break anything and seems correct, so resolving until proven otherwise.&lt;/p&gt;</comment>
                            <comment id="13777379" author="rombert" created="Wed, 25 Sep 2013 12:05:06 +0000"  >&lt;p&gt;Reopened since I&apos;ve seen that his does not work - tried with Subversive 1.0.0.I20130122-1700 .&lt;/p&gt;</comment>
                            <comment id="13779952" author="rombert" created="Fri, 27 Sep 2013 14:09:07 +0000"  >&lt;p&gt;Unassigning and lowering priority until I get more feedback about how to reproduce.&lt;/p&gt;</comment>
                            <comment id="13791346" author="rombert" created="Thu, 10 Oct 2013 09:20:48 +0000"  >&lt;p&gt;Reported fixed&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350158</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1odjb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350452</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3105] Unable to publish content on Windows installations</title>
                <link>https://issues.apache.org/jira/browse/SLING-3105</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Need to track down why checking out content works but checking in does not.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12670317">SLING-3105</key>
            <summary>Unable to publish content on Windows installations</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Sep 2013 17:20:27 +0000</created>
                <updated>Thu, 12 Nov 2015 11:29:04 +0000</updated>
                            <resolved>Tue, 24 Sep 2013 18:13:04 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.0.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13776580" author="rombert" created="Tue, 24 Sep 2013 18:13:04 +0000"  >&lt;p&gt;Fixed ( and verified on Linux ) in &lt;a href=&quot;http://svn.apache.org/r1525951&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1525951&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350146</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 6 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1odgn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350440</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3104] Create bundle wizard project should protect against invalid package names</title>
                <link>https://issues.apache.org/jira/browse/SLING-3104</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I just ran into this a couple of times without realising the root cause. If I enter an artifactId with dashes, e.g. &apos;my-super-bundle&apos;, the package name will contain &apos;my-super-bundle&apos;, which is invalid. IIRC the Maven wizard replaces dashes with underscores.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12670281">SLING-3104</key>
            <summary>Create bundle wizard project should protect against invalid package names</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Sep 2013 14:14:21 +0000</created>
                <updated>Thu, 12 Nov 2015 11:28:51 +0000</updated>
                            <resolved>Fri, 27 Sep 2013 13:31:39 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.0.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13779933" author="egli" created="Fri, 27 Sep 2013 13:31:39 +0000"  >&lt;p&gt;fixed. ensuring proper java package name is calculated out of groupdId/artifactId&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350110</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 5 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1od8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350404</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3102] Inconsistent behaviour when loading archetypes in new Sling bundle project wizard</title>
                <link>https://issues.apache.org/jira/browse/SLING-3102</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The archetype selection wizard has an inconsistent behaviour&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;sometimes only the &apos;embedded&apos; archetype is shown&lt;/li&gt;
	&lt;li&gt;sometimes the &apos;embedded&apos; archetype and the 1.0 versions are shown&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;However, I can&apos;t get the 1.0.1-SNAPSHOT archetype version, which is supposedly installed by us, to show.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12670255">SLING-3102</key>
            <summary>Inconsistent behaviour when loading archetypes in new Sling bundle project wizard</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Sep 2013 11:39:31 +0000</created>
                <updated>Thu, 12 Nov 2015 11:29:02 +0000</updated>
                            <resolved>Thu, 24 Apr 2014 12:13:11 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.0.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13776794" author="rombert" created="Tue, 24 Sep 2013 21:44:34 +0000"  >&lt;p&gt;Improved error reporting in &lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1525867&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1525867&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1526019&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1526019&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13777293" author="egli" created="Wed, 25 Sep 2013 09:05:05 +0000"  >&lt;p&gt;I think we won&apos;t get around without adding some support for archetype discovery here - it seems like m2eclipse (or for that matter maven)&apos;s handling of archetypes is slightly non intuitive. From what I understand:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;m2eclipse maintains a list of archetype catalogs. By default the list contains three entries: internal, local and remote. The user can add additional ones.&lt;/li&gt;
	&lt;li&gt;without any further ado, m2eclipse doesn&apos;t notice new archetypes being generated in public repositories (someone correct me if I&apos;m wrong).&lt;/li&gt;
	&lt;li&gt;hence it seems like we need to kick maven/m2eclipse to update the archetype catalogs to find new published archetypes (like the one we have in granite)&lt;/li&gt;
	&lt;li&gt;the current way to deal with this fact in slingclipse is to install an embedded version of the archetype in the local repository - this is probably not what we want in the final version..&lt;/li&gt;
	&lt;li&gt;another way would be to trigger a &apos;crawl&apos; using the following maven command:&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;mvn archetype:crawl -Dcatalog=/home/&amp;lt;me&amp;gt;/.m2/archetype-catalog.xml&lt;/p&gt;

&lt;p&gt;(see &lt;a href=&quot;http://stackoverflow.com/questions/635543/what-are-the-urls-of-all-the-maven-archetype-catalogs-that-you-know-about&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://stackoverflow.com/questions/635543/what-are-the-urls-of-all-the-maven-archetype-catalogs-that-you-know-about&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;this regenerates the local (ie ~/.m2/archetype-catalog.xml) and should learn from any configured repository.&lt;/p&gt;

&lt;p&gt;I doubt that there is an API in m2eclipse which allows an archetype:crawl command - so it&apos;s probably up to issuing a &apos;raw&apos; maven command here.. &lt;/p&gt;

&lt;p&gt;The whole thing could be an optional step in the &apos;new sling project&apos; wizard, in case the archetype does not show up properly as expected.&lt;/p&gt;

&lt;p&gt;wdyt?&lt;/p&gt;</comment>
                            <comment id="13777305" author="egli" created="Wed, 25 Sep 2013 09:20:11 +0000"  >&lt;p&gt;or: if the desired archetype cannot be found, we could allow to optionally look for it in a set of well-known archetype-catalogs (which slingclipse config would ship). that list eg could contain the public apache one: &lt;a href=&quot;https://repository.apache.org/content/repositories/releases/archetype-catalog.xml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/repositories/releases/archetype-catalog.xml&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13777314" author="egli" created="Wed, 25 Sep 2013 09:53:10 +0000"  >&lt;p&gt;we need the sling-bundle-archetype released first though, to get the changes of &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1521475&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1521475&lt;/a&gt; incorporated (those are needed for the archetype to correctly work with m2eclipse, 1.0.0 doesn&apos;t work ootb)&lt;/p&gt;</comment>
                            <comment id="13979628" author="rombert" created="Thu, 24 Apr 2014 12:13:11 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1589686&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1589686&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350084</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 27 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1od2v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350378</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3099] Support launching the request analyzer Swing GUI from the Web Console</title>
                <link>https://issues.apache.org/jira/browse/SLING-3099</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The Request Analyzer filter currently only records a single file and embeds a standalone Java Application to analyze the recorded log.&lt;/p&gt;

&lt;p&gt;There is no hook to (a) download the recorded log or to (b) launch the GUI from within the Sling application for in-situ analysis.&lt;/p&gt;

&lt;p&gt;A simple Web Console plugin is to be written to allow downloading the file and &amp;#8211; if Sling is launched in non-headless mode &amp;#8211; to launch the Swing GUI for in-situ analysis.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12670223">SLING-3099</key>
            <summary>Support launching the request analyzer Swing GUI from the Web Console</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Sep 2013 07:22:40 +0000</created>
                <updated>Thu, 4 May 2023 09:21:58 +0000</updated>
                            <resolved>Thu, 4 May 2023 09:21:58 +0000</resolved>
                                                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13776101" author="fmeschbe" created="Tue, 24 Sep 2013 08:00:07 +0000"  >&lt;p&gt;Implemented the Web Console plugin in Rev. 1525810&lt;/p&gt;

&lt;p&gt;The plugins supports the following functionality:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Download the log as text file or zip&lt;/li&gt;
	&lt;li&gt;Launch the Swing GUI to analyze the log&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The Swing GUI cannot be launched if Sling is launched in headless mode because the GUI is launched in Sling&apos;s JVM.&lt;/p&gt;

&lt;p&gt;This plugin is not currently an Inventory Printer with attachement provider.&lt;/p&gt;</comment>
                            <comment id="13776375" author="fmeschbe" created="Tue, 24 Sep 2013 15:09:50 +0000"  >&lt;p&gt;Another improvement in Rev. 1525918:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Only support and open the Swing GUI if accessed from localhost. When accessing from remote, opening the window would open it on the Sling host, which is definitely not desired. Thus remote access web console will not have the option to open the GUI at all.&lt;/li&gt;
	&lt;li&gt;Only ever open a single window. If the Swing GUI window is already opened, that one will be reused. Only if the window is closed a new one will be opened again.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350052</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 6 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ocvr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350346</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3096] New Sling bundle wizard does not detect archetype - drop-down is stuck with &apos;loading, please wait...&apos;</title>
                <link>https://issues.apache.org/jira/browse/SLING-3096</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;java.lang.reflect.InvocationTargetException&lt;br/&gt;
        at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:421)&lt;br/&gt;
        at org.eclipse.jface.dialogs.ProgressMonitorDialog.run(ProgressMonitorDialog.java:507)&lt;br/&gt;
        at org.eclipse.ui.internal.progress.ProgressMonitorJobsDialog.run(ProgressMonitorJobsDialog.java:275)&lt;br/&gt;
        at org.eclipse.ui.internal.progress.ProgressManager.run(ProgressManager.java:1162)&lt;br/&gt;
        at org.apache.sling.ide.eclipse.ui.wizards.np.ChooseArchetypeWizardPage.initialize(ChooseArchetypeWizardPage.java:179)&lt;br/&gt;
        at org.apache.sling.ide.eclipse.ui.wizards.np.ChooseArchetypeWizardPage.createControl(ChooseArchetypeWizardPage.java:159)&lt;br/&gt;
        at org.eclipse.jface.wizard.Wizard.createPageControls(Wizard.java:174)&lt;br/&gt;
        at org.eclipse.jface.wizard.WizardDialog.createPageControls(WizardDialog.java:736)&lt;br/&gt;
        at org.eclipse.jface.wizard.WizardDialog.createContents(WizardDialog.java:608)&lt;br/&gt;
        at org.eclipse.jface.window.Window.create(Window.java:432)&lt;br/&gt;
        at org.eclipse.jface.dialogs.Dialog.create(Dialog.java:1104)&lt;br/&gt;
        at org.eclipse.ui.internal.actions.NewWizardShortcutAction.run(NewWizardShortcutAction.java:122)&lt;br/&gt;
        at org.eclipse.ui.internal.quickaccess.WizardElement.execute(WizardElement.java:41)&lt;br/&gt;
        at org.eclipse.ui.internal.quickaccess.SearchField$2.handleElementSelected(SearchField.java:164)&lt;br/&gt;
        at org.eclipse.ui.internal.quickaccess.QuickAccessContents.handleSelection(QuickAccessContents.java:438)&lt;br/&gt;
        at org.eclipse.ui.internal.quickaccess.QuickAccessContents.access$0(QuickAccessContents.java:428)&lt;br/&gt;
        at org.eclipse.ui.internal.quickaccess.QuickAccessContents$1.keyPressed(QuickAccessContents.java:472)&lt;br/&gt;
        at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:167)&lt;br/&gt;
        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)&lt;br/&gt;
        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1392)&lt;br/&gt;
        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1416)&lt;br/&gt;
        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1401)&lt;br/&gt;
        at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:1428)&lt;br/&gt;
        at org.eclipse.swt.widgets.Widget.gtk_key_press_event(Widget.java:829)&lt;br/&gt;
        at org.eclipse.swt.widgets.Control.gtk_key_press_event(Control.java:3236)&lt;br/&gt;
        at org.eclipse.swt.widgets.Text.gtk_key_press_event(Text.java:1763)&lt;br/&gt;
        at org.eclipse.swt.widgets.Widget.windowProc(Widget.java:2096)&lt;br/&gt;
        at org.eclipse.swt.widgets.Control.windowProc(Control.java:5467)&lt;br/&gt;
        at org.eclipse.swt.widgets.Text.windowProc(Text.java:2702)&lt;br/&gt;
        at org.eclipse.swt.widgets.Display.windowProc(Display.java:4569)&lt;br/&gt;
        at org.eclipse.swt.internal.gtk.OS._gtk_main_do_event(Native Method)&lt;br/&gt;
        at org.eclipse.swt.internal.gtk.OS.gtk_main_do_event(OS.java:8707)&lt;br/&gt;
        at org.eclipse.swt.widgets.Display.eventProc(Display.java:1243)&lt;br/&gt;
        at org.eclipse.swt.internal.gtk.OS._g_main_context_iteration(Native Method)&lt;br/&gt;
        at org.eclipse.swt.internal.gtk.OS.g_main_context_iteration(OS.java:2287)&lt;br/&gt;
        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3361)&lt;br/&gt;
        at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:1113)&lt;br/&gt;
        at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)&lt;br/&gt;
        at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:997)&lt;br/&gt;
        at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:138)&lt;br/&gt;
        at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:610)&lt;br/&gt;
        at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)&lt;br/&gt;
        at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:567)&lt;br/&gt;
        at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:150)&lt;br/&gt;
        at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:124)&lt;br/&gt;
        at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)&lt;br/&gt;
        at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)&lt;br/&gt;
        at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)&lt;br/&gt;
        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:354)&lt;br/&gt;
        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:181)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:606)&lt;br/&gt;
        at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:636)&lt;br/&gt;
        at org.eclipse.equinox.launcher.Main.basicRun(Main.java:591)&lt;br/&gt;
        at org.eclipse.equinox.launcher.Main.run(Main.java:1450)&lt;br/&gt;
        at org.eclipse.equinox.launcher.Main.main(Main.java:1426)&lt;br/&gt;
Caused by: java.lang.NullPointerException&lt;br/&gt;
        at org.apache.sling.ide.eclipse.m2e.EmbeddedArchetypeInstaller.addResource(EmbeddedArchetypeInstaller.java:81)&lt;br/&gt;
        at org.apache.sling.ide.eclipse.ui.wizards.np.NewSlingBundleWizard.installArchetypes(NewSlingBundleWizard.java:48)&lt;br/&gt;
        at org.apache.sling.ide.eclipse.ui.wizards.np.ChooseArchetypeWizardPage$6.run(ChooseArchetypeWizardPage.java:189)&lt;br/&gt;
        at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:121)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12670064">SLING-3096</key>
            <summary>New Sling bundle wizard does not detect archetype - drop-down is stuck with &apos;loading, please wait...&apos;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Sep 2013 14:14:09 +0000</created>
                <updated>Thu, 12 Nov 2015 11:29:01 +0000</updated>
                            <resolved>Mon, 23 Sep 2013 14:30:46 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.0.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13774574" author="rombert" created="Mon, 23 Sep 2013 14:30:46 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;improved error logging in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1525602&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1525602&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;fixed archetype inclusion in resulting jar in  &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1525603&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1525603&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349894</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 6 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1obxj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350192</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3095] StringIndexOutOfBoundsException within ContentXmlHandler.java:210</title>
                <link>https://issues.apache.org/jira/browse/SLING-3095</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I get the following exception during the publication of a sling-content-module:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.StringIndexOutOfBoundsException: &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; index out of range: 0
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.charAt(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.java:658)
	at org.apache.sling.ide.impl.vlt.serialization.ContentXmlHandler$TypeHint.parsePossiblyTypedValue(ContentXmlHandler.java:210)
	at org.apache.sling.ide.impl.vlt.serialization.ContentXmlHandler.startElement(ContentXmlHandler.java:67)
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:506)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:376)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl$NSContentDriver.scanRootElementHook(XMLNSDocumentScannerImpl.java:602)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:3065)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:881)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:607)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:116)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:489)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:835)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:764)
	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:123)
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1210)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:568)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(SAXParserImpl.java:302)
	at javax.xml.parsers.SAXParser.parse(SAXParser.java:195)
	at org.apache.sling.ide.impl.vlt.serialization.VltSerializationManager.readSerializationData(VltSerializationManager.java:212)
	at org.apache.sling.ide.eclipse.core.internal.SlingLaunchpadBehaviour.addFileCommand(SlingLaunchpadBehaviour.java:509)
	at org.apache.sling.ide.eclipse.core.internal.SlingLaunchpadBehaviour.publishContentModule(SlingLaunchpadBehaviour.java:331)
	at org.apache.sling.ide.eclipse.core.internal.SlingLaunchpadBehaviour.publishModule(SlingLaunchpadBehaviour.java:196)
	at org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publishModule(ServerBehaviourDelegate.java:1091)
	at org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publishModules(ServerBehaviourDelegate.java:1183)
	at org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publish(ServerBehaviourDelegate.java:987)
	at org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publish(ServerBehaviourDelegate.java:774)
	at org.eclipse.wst.server.core.internal.Server.publishImpl(Server.java:3153)
	at org.eclipse.wst.server.core.internal.Server$PublishJob.run(Server.java:345)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:53)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To me it seems that the ContentXmlHandler does not deal with attributes having an empty string as a value. Also for the future it would be great to encapsulate all those exceptions within the VltSerializationManager to include the filename in the exception as well.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12670031">SLING-3095</key>
            <summary>StringIndexOutOfBoundsException within ContentXmlHandler.java:210</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Sep 2013 11:31:02 +0000</created>
                <updated>Thu, 12 Nov 2015 11:28:57 +0000</updated>
                            <resolved>Mon, 23 Sep 2013 13:22:26 +0000</resolved>
                                    <version>Sling Eclipse IDE 1.0.0</version>
                                    <fixVersion>Sling Eclipse IDE 1.0.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13774503" author="kwin" created="Mon, 23 Sep 2013 12:22:51 +0000"  >&lt;p&gt;I have attached a simple patch, which is fixing that and is also extending the test method to cover the case with an empty attribute value.&lt;/p&gt;</comment>
                            <comment id="13774526" author="rombert" created="Mon, 23 Sep 2013 13:16:30 +0000"  >&lt;p&gt;Patch applied in &lt;a href=&quot;http://svn.apache.org/r1525583&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1525583&lt;/a&gt;. Thank you for your contribution!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12604577" name="SLING-3095-v1.patch" size="2753" author="kwin" created="Mon, 23 Sep 2013 12:22:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349861</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 6 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1obq7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350159</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3094] Unresolved compilation exception when opening a JSP file from a sling-content-module</title>
                <link>https://issues.apache.org/jira/browse/SLING-3094</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I get the following exception when opening a JSP file from a Maven project being converted to a &quot;sling-content-module&quot;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.Error: Unresolved compilation problems: 
	The &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.jackrabbit cannot be resolved
	ISO9075 cannot be resolved
	ISO9075 cannot be resolved
	ISO9075 cannot be resolved

	at org.apache.sling.ide.eclipse.ui.nav.model.JcrNode.&amp;lt;init&amp;gt;(JcrNode.java:33)
	at org.apache.sling.ide.eclipse.ui.nav.model.SyncDir.&amp;lt;init&amp;gt;(SyncDir.java:29)
	at org.apache.sling.ide.eclipse.ui.nav.model.LinkHelper.createSelectionNode(LinkHelper.java:77)
	at org.apache.sling.ide.eclipse.ui.nav.model.LinkHelper.createSelectionNode(LinkHelper.java:82)
	at org.apache.sling.ide.eclipse.ui.nav.model.LinkHelper.createSelectionNode(LinkHelper.java:82)
	at org.apache.sling.ide.eclipse.ui.nav.model.LinkHelper.createSelectionNode(LinkHelper.java:82)
	at org.apache.sling.ide.eclipse.ui.nav.model.LinkHelper.createSelectionNode(LinkHelper.java:82)
	at org.apache.sling.ide.eclipse.ui.nav.model.LinkHelper.findSelection(LinkHelper.java:59)
	at org.eclipse.ui.navigator.LinkHelperService.getSelectionFor(LinkHelperService.java:126)
	at org.eclipse.ui.internal.navigator.actions.LinkEditorAction$4.run(LinkEditorAction.java:106)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)
	at org.eclipse.ui.internal.navigator.actions.LinkEditorAction$3.runInUIThread(LinkEditorAction.java:97)
	at org.eclipse.ui.progress.UIJob$1.run(UIJob.java:95)
	at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
	at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:135)
	at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3976)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3653)
	at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:1113)
	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)
	at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:997)
	at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:138)
	at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:610)
	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:567)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:150)
	at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:124)
	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:354)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:181)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:636)
	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:591)
	at org.eclipse.equinox.launcher.Main.run(Main.java:1450)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I compiled the P2 feature from &lt;a href=&quot;https://github.com/apache/sling/tree/tooling-ide-vlt/tooling/ide/p2update&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/tree/tooling-ide-vlt/tooling/ide/p2update&lt;/a&gt; and installed it locally.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12670017">SLING-3094</key>
            <summary>Unresolved compilation exception when opening a JSP file from a sling-content-module</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Sep 2013 10:19:06 +0000</created>
                <updated>Mon, 23 Sep 2013 11:20:50 +0000</updated>
                            <resolved>Mon, 23 Sep 2013 11:20:50 +0000</resolved>
                                    <version>Sling Eclipse IDE 1.0.0</version>
                                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13774439" author="kwin" created="Mon, 23 Sep 2013 10:27:55 +0000"  >&lt;p&gt;The weird thing is that the class ISO9075 is inside the package &quot;org.apache.jackrabbit.util&quot; and that package is exported by the bundle &quot;vlt-wrapper&quot; correctly which is also installed correctly within Eclipse. The error message indicated that obviously Eclipse is looking for the class in the wrong package.&lt;/p&gt;</comment>
                            <comment id="13774468" author="kwin" created="Mon, 23 Sep 2013 11:20:35 +0000"  >&lt;p&gt;Nevermind, it was obviously a broken build (colliding Eclipse Incremental Compilation and CLI Maven Build). After installing a new build, everything went fine.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349847</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 6 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1obn3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350145</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3093] All input fields within the server overview for &quot;External Sling Launchpad&quot; within the &quot;Connection&quot; section have right-to-left typing logic</title>
                <link>https://issues.apache.org/jira/browse/SLING-3093</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;It is currently hard to modify any parameters within the Connection area of the &quot;External Sling Launchpad&quot; server overview, because the text cursor is set to the beginning of the field after adding a new character to it.&lt;br/&gt;
E.g. if you try to enter the port &quot;4502&quot; you actually have to type &quot;2054&quot;. For password &quot;admin&quot; you have to type &quot;nimda&quot;. I don&apos;t know whether this is a property on the the input fields themselves or the cursor gets automatically reset to position 0 after each character (due to some validation). It works fine within the &quot;Timeouts&quot; section.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12670011">SLING-3093</key>
            <summary>All input fields within the server overview for &quot;External Sling Launchpad&quot; within the &quot;Connection&quot; section have right-to-left typing logic</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Sep 2013 09:33:58 +0000</created>
                <updated>Thu, 26 Sep 2019 12:38:46 +0000</updated>
                            <resolved>Tue, 24 Sep 2013 07:59:58 +0000</resolved>
                                    <version>Sling Eclipse IDE 1.0.0</version>
                                    <fixVersion>Sling Eclipse IDE 1.0.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13774590" author="rombert" created="Mon, 23 Sep 2013 14:42:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; - I can&apos;t reproduce this. What version of Eclipse and what operating system do you use?&lt;/p&gt;</comment>
                            <comment id="13774604" author="kwin" created="Mon, 23 Sep 2013 14:59:22 +0000"  >&lt;p&gt;I am on Mac OS X 10.8.5 with Eclipse Kepler (4.3.0) running on Java 1.7.0_25 (still).&lt;/p&gt;</comment>
                            <comment id="13774613" author="kwin" created="Mon, 23 Sep 2013 15:11:50 +0000"  >&lt;p&gt;I think the problem is a loop with  the modification listeners. You actually try to store the values whenever they are changed. This itself triggers the PropertyChangeListener, which sets the control value. This resets the cursor position. The key issue is that you try to persist the properties before a &quot;Save&quot; is issued on the ServerEditorSection.&lt;/p&gt;</comment>
                            <comment id="13774640" author="kwin" created="Mon, 23 Sep 2013 15:32:30 +0000"  >&lt;p&gt;Compare with this code: &lt;a href=&quot;https://anonsvn.springsource.org/svn/dm-server-tools/main-branches/jersey/com.springsource.server.ide.runtime.ui/src/com/springsource/server/ide/runtime/internal/ui/editor/StartupEditorSection.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://anonsvn.springsource.org/svn/dm-server-tools/main-branches/jersey/com.springsource.server.ide.runtime.ui/src/com/springsource/server/ide/runtime/internal/ui/editor/StartupEditorSection.java&lt;/a&gt;. The field &quot;updating&quot; is used as a guard, so that the PropertyChangeListener is not doing anything, if the update was triggered from the GUI itself (in that case updating is true).&lt;/p&gt;</comment>
                            <comment id="13775565" author="rombert" created="Mon, 23 Sep 2013 18:57:16 +0000"  >&lt;p&gt;Thanks for the reference, I&apos;ll look into it. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stefanegli&quot; class=&quot;user-hover&quot; rel=&quot;stefanegli&quot;&gt;stefanegli&lt;/a&gt; - can you reproduce? If you do, you&apos;d stand a better chance of making a proper fix...&lt;/p&gt;</comment>
                            <comment id="13776100" author="egli" created="Tue, 24 Sep 2013 07:59:58 +0000"  >&lt;p&gt;Fixed. Followed &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; hint re using an &apos;updated&apos; flag.&lt;/p&gt;</comment>
                            <comment id="13776144" author="kwin" created="Tue, 24 Sep 2013 09:26:29 +0000"  >&lt;p&gt;Thanks a lot. Just tried it out and now it works.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12604548" name="SlingIDEConnectionFieldsBug.png" size="203106" author="kwin" created="Mon, 23 Sep 2013 09:34:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349841</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 6 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1oblr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350139</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3092] sling.css references image from sling.apache.org</title>
                <link>https://issues.apache.org/jira/browse/SLING-3092</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;This makes the page load times unpredictable and is a bad experience when working/demoing offline.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12669735">SLING-3092</key>
            <summary>sling.css references image from sling.apache.org</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Sep 2013 20:52:21 +0000</created>
                <updated>Wed, 7 Oct 2015 19:17:46 +0000</updated>
                            <resolved>Fri, 20 Sep 2013 20:55:23 +0000</resolved>
                                                    <fixVersion>Launchpad Content 2.0.8</fixVersion>
                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <workratio workratioPercent="0"/>
                                                                    <timeoriginalestimate seconds="0">0h</timeoriginalestimate>
                            <timeestimate seconds="0">0h</timeestimate>
                                        <comments>
                            <comment id="13773411" author="rombert" created="Fri, 20 Sep 2013 20:55:23 +0000"  >&lt;p&gt;fixed in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1525146&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1525146&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12669731">SLING-3090</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12669732">SLING-3091</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349660</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1oahj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349958</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3091] sling.css references image from sling.apache.org</title>
                <link>https://issues.apache.org/jira/browse/SLING-3091</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;This makes the page load times unpredictable and is a bad experience when working/demoing offline.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12669732">SLING-3091</key>
            <summary>sling.css references image from sling.apache.org</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Sep 2013 20:50:21 +0000</created>
                <updated>Wed, 7 Oct 2015 19:17:46 +0000</updated>
                            <resolved>Wed, 7 Oct 2015 19:15:27 +0000</resolved>
                                                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12669735">SLING-3092</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>351458</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1olif:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>351747</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3090] sling.css references image from sling.apache.org</title>
                <link>https://issues.apache.org/jira/browse/SLING-3090</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;This makes the page load times unpredictable and is a bad experience when working/demoing offline.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12669731">SLING-3090</key>
            <summary>sling.css references image from sling.apache.org</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Sep 2013 20:47:31 +0000</created>
                <updated>Wed, 7 Oct 2015 19:17:46 +0000</updated>
                            <resolved>Wed, 7 Oct 2015 19:16:27 +0000</resolved>
                                                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12669735">SLING-3092</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349671</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1oajz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349969</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3088] Exception invoking extension ....navigatorJcrContent: java.lang.IllegalStateException: can only set resource once</title>
                <link>https://issues.apache.org/jira/browse/SLING-3088</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Not entirely sure how to reproduce, but saving it here so we don&apos;t forget about it.&lt;/p&gt;

&lt;p&gt;!ENTRY org.eclipse.ui.navigator 4 0 2013-09-20 16:48:26.374&lt;br/&gt;
!MESSAGE An exception occurred invoking extension: org.apache.sling.ide.eclipse-ui.navigatorJcrContent for object JcrNode[dom:&lt;span class=&quot;error&quot;&gt;&amp;#91;home2: null&amp;#93;&lt;/span&gt;, &lt;a href=&quot;file:F/sling-vlt-project-16/jcr_root/home2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:F/sling-vlt-project-16/jcr_root/home2&lt;/a&gt;, jcrPath:/home2]&lt;br/&gt;
!STACK 0&lt;br/&gt;
java.lang.IllegalStateException: can only set resource once&lt;br/&gt;
	at org.apache.sling.ide.eclipse.ui.nav.model.JcrNode.setResource(JcrNode.java:387)&lt;br/&gt;
	at org.apache.sling.ide.eclipse.ui.nav.model.GenericJcrRootFile.pickResources(GenericJcrRootFile.java:174)&lt;br/&gt;
	at org.apache.sling.ide.eclipse.ui.nav.model.JcrNode.initChildren(JcrNode.java:317)&lt;br/&gt;
	at org.apache.sling.ide.eclipse.ui.nav.model.JcrNode.getChildren(JcrNode.java:290)&lt;br/&gt;
	at org.apache.sling.ide.eclipse.ui.nav.JcrContentContentProvider.getChildren(JcrContentContentProvider.java:117)&lt;br/&gt;
	at org.eclipse.ui.internal.navigator.extensions.SafeDelegateTreeContentProvider.getChildren(SafeDelegateTreeContentProvider.java:96)&lt;br/&gt;
	at org.eclipse.ui.internal.navigator.extensions.SafeDelegateTreeContentProvider.getChildren(SafeDelegateTreeContentProvider.java:275)&lt;br/&gt;
	at org.eclipse.ui.internal.navigator.extensions.SafeDelegateTreeContentProvider.getChildren(SafeDelegateTreeContentProvider.java:94)&lt;br/&gt;
	at org.eclipse.ui.internal.navigator.NavigatorContentServiceContentProvider$1.run(NavigatorContentServiceContentProvider.java:152)&lt;br/&gt;
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)&lt;br/&gt;
	at org.eclipse.ui.internal.navigator.NavigatorContentServiceContentProvider.internalGetChildren(NavigatorContentServiceContentProvider.java:139)&lt;br/&gt;
	at org.eclipse.ui.internal.navigator.NavigatorContentServiceContentProvider.getChildren(NavigatorContentServiceContentProvider.java:125)&lt;br/&gt;
	at org.eclipse.jface.viewers.AbstractTreeViewer.getRawChildren(AbstractTreeViewer.java:1352)&lt;br/&gt;
	at org.eclipse.jface.viewers.TreeViewer.getRawChildren(TreeViewer.java:391)&lt;br/&gt;
	at org.eclipse.jface.viewers.StructuredViewer.getFilteredChildren(StructuredViewer.java:917)&lt;br/&gt;
	at org.eclipse.jface.viewers.AbstractTreeViewer.getSortedChildren(AbstractTreeViewer.java:605)&lt;br/&gt;
	at org.eclipse.jface.viewers.AbstractTreeViewer$1.run(AbstractTreeViewer.java:803)&lt;br/&gt;
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70)&lt;br/&gt;
	at org.eclipse.jface.viewers.AbstractTreeViewer.createChildren(AbstractTreeViewer.java:782)&lt;br/&gt;
	at org.eclipse.jface.viewers.TreeViewer.createChildren(TreeViewer.java:644)&lt;br/&gt;
	at org.eclipse.jface.viewers.AbstractTreeViewer.createChildren(AbstractTreeViewer.java:753)&lt;br/&gt;
	at org.eclipse.jface.viewers.AbstractTreeViewer.internalExpand(AbstractTreeViewer.java:1631)&lt;br/&gt;
	at org.eclipse.jface.viewers.AbstractTreeViewer.internalExpand(AbstractTreeViewer.java:1628)&lt;br/&gt;
	at org.eclipse.jface.viewers.AbstractTreeViewer.setSelectionToWidget(AbstractTreeViewer.java:2507)&lt;br/&gt;
	at org.eclipse.ui.navigator.CommonViewer.setSelectionToWidget(CommonViewer.java:446)&lt;br/&gt;
	at org.eclipse.jface.viewers.StructuredViewer.setSelectionToWidget(StructuredViewer.java:1767)&lt;br/&gt;
	at org.eclipse.jface.viewers.AbstractTreeViewer.setSelectionToWidget(AbstractTreeViewer.java:2947)&lt;br/&gt;
	at org.eclipse.jface.viewers.StructuredViewer.setSelection(StructuredViewer.java:1723)&lt;br/&gt;
	at org.eclipse.jface.viewers.TreeViewer.setSelection(TreeViewer.java:1139)&lt;br/&gt;
	at org.eclipse.ui.navigator.CommonViewer.setSelection(CommonViewer.java:377)&lt;br/&gt;
	at org.eclipse.ui.navigator.CommonNavigator.selectReveal(CommonNavigator.java:383)&lt;br/&gt;
	at org.eclipse.ui.internal.navigator.actions.LinkEditorAction$4.run(LinkEditorAction.java:108)&lt;br/&gt;
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)&lt;br/&gt;
	at org.eclipse.ui.internal.navigator.actions.LinkEditorAction$3.runInUIThread(LinkEditorAction.java:96)&lt;br/&gt;
	at org.eclipse.ui.progress.UIJob$1.run(UIJob.java:95)&lt;br/&gt;
	at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)&lt;br/&gt;
	at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:135)&lt;br/&gt;
	at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3563)&lt;br/&gt;
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3212)&lt;br/&gt;
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2701)&lt;br/&gt;
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2665)&lt;br/&gt;
	at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2499)&lt;br/&gt;
	at org.eclipse.ui.internal.Workbench$7.run(Workbench.java:679)&lt;br/&gt;
	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)&lt;br/&gt;
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:668)&lt;br/&gt;
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)&lt;br/&gt;
	at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:123)&lt;br/&gt;
	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)&lt;br/&gt;
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)&lt;br/&gt;
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)&lt;br/&gt;
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344)&lt;br/&gt;
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:606)&lt;br/&gt;
	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:622)&lt;br/&gt;
	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:577)&lt;br/&gt;
	at org.eclipse.equinox.launcher.Main.run(Main.java:1410)&lt;br/&gt;
	at org.eclipse.equinox.launcher.Main.main(Main.java:1386)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12669654">SLING-3088</key>
            <summary>Exception invoking extension ....navigatorJcrContent: java.lang.IllegalStateException: can only set resource once</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Sep 2013 13:49:49 +0000</created>
                <updated>Thu, 26 Sep 2019 12:40:36 +0000</updated>
                            <resolved>Tue, 22 Jul 2014 13:39:50 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14013461" author="rombert" created="Fri, 30 May 2014 09:39:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stefanegli&quot; class=&quot;user-hover&quot; rel=&quot;stefanegli&quot;&gt;stefanegli&lt;/a&gt; - unless we run into this again and get steps to reproduce, I suggest we postpone to 1.0.2 . WDYT?&lt;/p&gt;</comment>
                            <comment id="14015225" author="egli" created="Mon, 2 Jun 2014 07:22:42 +0000"  >&lt;p&gt;Yes, agreed. I haven&apos;t seen this lately. We&apos;d need to know how to reproduce.&lt;/p&gt;</comment>
                            <comment id="14070263" author="rombert" created="Tue, 22 Jul 2014 13:39:50 +0000"  >&lt;p&gt;Haven&apos;t seen this in quite some time so resolving.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349586</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 15 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1oa13:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349884</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3087] Oak: ServerSideScriptsTest integration test fails semi-randomly with 404 errors</title>
                <link>https://issues.apache.org/jira/browse/SLING-3087</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Running the test against my experimental Oak launchpad, with a single JSP file under src/main/resources/scripts/sling-it (installer-duplicate.jsp or resourceresolver-api.jsp) works all the time, but when running with these two files present I get 404s about 50% of the time, details below.&lt;/p&gt;

&lt;p&gt;I haven&apos;t found the root cause yet. The 404 is set by the ResourceNotFoundException catch in SlingRequestProcessorImpl.processRequest(...)&lt;/p&gt;

&lt;p&gt;Failed tests:   runScripts&lt;span class=&quot;error&quot;&gt;&amp;#91;1 - resourceresolver-api.jsp&amp;#93;&lt;/span&gt;(org.apache.sling.launchpad.webapp.integrationtest.ServerSideScriptsTest): &lt;br/&gt;
Expected 0 failing tests but got 1 for /Users/bert/workspace/apache/sling/launchpad/integration-tests/target/classes/scripts/sling-it/resourceresolver-api.jsp: [verifyContent[0&lt;br/&gt;
(org.apache.sling.junit.scriptable.TestAllPaths): Expecting HTTP status 200 for path&lt;br/&gt;
/apps/testing/sling/scripted-tests/installer-duplicate.test.txt &lt;br/&gt;
expected:&amp;lt;200&amp;gt; but was:&amp;lt;404&amp;gt;]&lt;/p&gt;


</description>
                <environment></environment>
        <key id="12669473">SLING-3087</key>
            <summary>Oak: ServerSideScriptsTest integration test fails semi-randomly with 404 errors</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Sep 2013 15:06:00 +0000</created>
                <updated>Fri, 1 Nov 2013 14:03:11 +0000</updated>
                            <resolved>Fri, 1 Nov 2013 14:03:11 +0000</resolved>
                                                                    <component>Oak</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13811262" author="bdelacretaz" created="Fri, 1 Nov 2013 14:03:11 +0000"  >&lt;p&gt;&quot;Fixed&quot; in revision 1537938 by adding a client-side delay before running the current test, after deleting the previous test script and uploading the new one.&lt;/p&gt;

&lt;p&gt;The key finding, that I didn&apos;t notice earlier, is that in this issue&apos;s description we see we&apos;re trying to run the resourceresolver-api.jsp test, but the server-side TestAllPaths class still sees the old installer-duplicate.test.txt, and not the new test, based on a repository query. So it tries to run an old test script that&apos;s not there anymore.&lt;/p&gt;

&lt;p&gt;I&apos;ve tried different things like using Session.refresh and verifying that items returned by a query actually exist, but that didn&apos;t help. There&apos;s been a good number of changes in Oak since the version 0.9 that we&apos;re using, so for now this workaround is good enough - if similar problems reappear elsewhere we can investigate more.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12636606">SLING-2788</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349405</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1o8wv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349703</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3086] [Tooling] proper handle xml-encoded path-parts</title>
                <link>https://issues.apache.org/jira/browse/SLING-3086</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;when creating a .content.xml, vault needs to escape node names to be an xml-compliant element name. There is a class is jackrabbit which does that: ISO9075. We should check where exactly we need to escape/unescape paths, but for example one place which causes issues at the moment is UpdateNodePropertiesCommand.updatePath(), there the path contains escaped parts while the lookup with session.nodeExists() expects a unescaped path..&lt;/p&gt;</description>
                <environment></environment>
        <key id="12669455">SLING-3086</key>
            <summary>[Tooling] proper handle xml-encoded path-parts</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="stefanegli">Stefan Egli</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Sep 2013 13:19:38 +0000</created>
                <updated>Thu, 12 Nov 2015 11:28:54 +0000</updated>
                            <resolved>Thu, 19 Sep 2013 13:37:26 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.0.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13771889" author="rombert" created="Thu, 19 Sep 2013 13:37:10 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1524739&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1524739&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349387</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 6 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1o8sv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349685</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3085] [Tooling] support nt:resource/jcr:data serialization into a file</title>
                <link>https://issues.apache.org/jira/browse/SLING-3085</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently only the pattern nt:file with a child jcr:content/jcr:data is supported in the vlt import, and handled as a serialization type FILE.&lt;/p&gt;

&lt;p&gt;There is also the pattern nt:resource/jcr:data though, which should also be treated as a type FILE&lt;/p&gt;</description>
                <environment></environment>
        <key id="12669448">SLING-3085</key>
            <summary>[Tooling] support nt:resource/jcr:data serialization into a file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="stefanegli">Stefan Egli</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Sep 2013 12:37:15 +0000</created>
                <updated>Thu, 12 Nov 2015 11:28:50 +0000</updated>
                            <resolved>Thu, 26 Sep 2013 21:02:28 +0000</resolved>
                                    <version>Sling Eclipse IDE 1.0.0</version>
                                    <fixVersion>Sling Eclipse IDE 1.0.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13771841" author="egli" created="Thu, 19 Sep 2013 12:42:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;, I commited the nt:resource/jcr:data support and would appreciate if you could quickly review them. Thanks!&lt;/p&gt;</comment>
                            <comment id="13779230" author="rombert" created="Thu, 26 Sep 2013 21:02:28 +0000"  >&lt;p&gt;This works as expected, so resolving.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349380</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 5 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1o8rb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349678</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3084] Add forceReload option to JUnitServlet</title>
                <link>https://issues.apache.org/jira/browse/SLING-3084</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Some TestsProvider services use observation to find out when they must look for new tests, and with Oak that&apos;s more asynchronous that it used to be with Jackrabbit.&lt;/p&gt;

&lt;p&gt;As a result, tests might fail as the observation events aren&apos;t seen before the HTTP client executes the tests, right after uploading them.&lt;/p&gt;

&lt;p&gt;Adding a forceReload option to the JUnitServlet, which clears all the TestsProvider caches, looks like the best way to solve this - in general we don&apos;t need &quot;real-time&quot; detection of new tests, but for automated test suites that&apos;s problematic.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12669440">SLING-3084</key>
            <summary>Add forceReload option to JUnitServlet</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Sep 2013 11:59:15 +0000</created>
                <updated>Mon, 15 Dec 2014 14:26:36 +0000</updated>
                            <resolved>Thu, 19 Sep 2013 12:43:11 +0000</resolved>
                                    <version>JUnit Core 1.0.8</version>
                                    <fixVersion>JUnit Remote Tests Runners 1.0.10</fixVersion>
                    <fixVersion>JUnit Core 1.0.10</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13771842" author="bdelacretaz" created="Thu, 19 Sep 2013 12:43:11 +0000"  >&lt;p&gt;Implemented in revision 1524717, modified the launchpad integration tests to use it in revision 1524718&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12636606">SLING-2788</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349372</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 6 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1o8pj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349670</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3083] ScriptableTestsProvider should propagate exceptions</title>
                <link>https://issues.apache.org/jira/browse/SLING-3083</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When testing on Oak I get RepositoryException in that class, but the /system/sling/junit just says &quot;no scriptable tests found&quot;. The exception should be propagated so that clients see the problem.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12669424">SLING-3083</key>
            <summary>ScriptableTestsProvider should propagate exceptions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Sep 2013 09:45:26 +0000</created>
                <updated>Mon, 15 Dec 2014 14:28:26 +0000</updated>
                            <resolved>Thu, 19 Sep 2013 09:47:05 +0000</resolved>
                                    <version>JUnit Scriptable Tests Provider 1.0.8</version>
                                    <fixVersion>JUnit Scriptable Tests Provider 1.0.10</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13771745" author="bdelacretaz" created="Thu, 19 Sep 2013 09:47:05 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/r1524672&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1524672&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349356</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 6 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1o8lz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349654</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3082] NPE at startup in LinkHelper.findSelection</title>
                <link>https://issues.apache.org/jira/browse/SLING-3082</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;!ENTRY org.eclipse.ui.navigator 4 2 2013-09-19 12:34:09.438&lt;br/&gt;
!MESSAGE Problems occurred when invoking code from plug-in: &quot;org.eclipse.ui.navigator&quot;.&lt;br/&gt;
!STACK 0&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
	at org.apache.sling.ide.eclipse.ui.nav.model.LinkHelper.findSelection(LinkHelper.java:45)&lt;br/&gt;
	at org.eclipse.ui.navigator.LinkHelperService.getSelectionFor(LinkHelperService.java:126)&lt;br/&gt;
	at org.eclipse.ui.internal.navigator.actions.LinkEditorAction$4.run(LinkEditorAction.java:105)&lt;br/&gt;
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)&lt;br/&gt;
	at org.eclipse.ui.internal.navigator.actions.LinkEditorAction$3.runInUIThread(LinkEditorAction.java:96)&lt;br/&gt;
	at org.eclipse.ui.progress.UIJob$1.run(UIJob.java:95)&lt;br/&gt;
	at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)&lt;br/&gt;
	at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:135)&lt;br/&gt;
	at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3563)&lt;br/&gt;
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3212)&lt;br/&gt;
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2701)&lt;br/&gt;
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2665)&lt;br/&gt;
	at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2499)&lt;br/&gt;
	at org.eclipse.ui.internal.Workbench$7.run(Workbench.java:679)&lt;br/&gt;
	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)&lt;br/&gt;
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:668)&lt;br/&gt;
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)&lt;br/&gt;
	at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:123)&lt;br/&gt;
	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)&lt;br/&gt;
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)&lt;br/&gt;
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)&lt;br/&gt;
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344)&lt;br/&gt;
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:606)&lt;br/&gt;
	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:622)&lt;br/&gt;
	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:577)&lt;br/&gt;
	at org.eclipse.equinox.launcher.Main.run(Main.java:1410)&lt;br/&gt;
	at org.eclipse.equinox.launcher.Main.main(Main.java:1386)&lt;/p&gt;

&lt;p&gt;!ENTRY org.eclipse.ui.navigator 4 0 2013-09-19 12:34:09.603&lt;br/&gt;
!MESSAGE java.lang.NullPointerException&lt;br/&gt;
!STACK 0&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
	at org.apache.sling.ide.eclipse.ui.nav.model.LinkHelper.findSelection(LinkHelper.java:45)&lt;br/&gt;
	at org.eclipse.ui.navigator.LinkHelperService.getSelectionFor(LinkHelperService.java:126)&lt;br/&gt;
	at org.eclipse.ui.internal.navigator.actions.LinkEditorAction$4.run(LinkEditorAction.java:105)&lt;br/&gt;
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)&lt;br/&gt;
	at org.eclipse.ui.internal.navigator.actions.LinkEditorAction$3.runInUIThread(LinkEditorAction.java:96)&lt;br/&gt;
	at org.eclipse.ui.progress.UIJob$1.run(UIJob.java:95)&lt;br/&gt;
	at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)&lt;br/&gt;
	at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:135)&lt;br/&gt;
	at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3563)&lt;br/&gt;
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3212)&lt;br/&gt;
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2701)&lt;br/&gt;
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2665)&lt;br/&gt;
	at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2499)&lt;br/&gt;
	at org.eclipse.ui.internal.Workbench$7.run(Workbench.java:679)&lt;br/&gt;
	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)&lt;br/&gt;
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:668)&lt;br/&gt;
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)&lt;br/&gt;
	at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:123)&lt;br/&gt;
	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)&lt;br/&gt;
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)&lt;br/&gt;
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)&lt;br/&gt;
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344)&lt;br/&gt;
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:606)&lt;br/&gt;
	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:622)&lt;br/&gt;
	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:577)&lt;br/&gt;
	at org.eclipse.equinox.launcher.Main.run(Main.java:1410)&lt;br/&gt;
	at org.eclipse.equinox.launcher.Main.main(Main.java:1386)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12669423">SLING-3082</key>
            <summary>NPE at startup in LinkHelper.findSelection</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Sep 2013 09:35:16 +0000</created>
                <updated>Thu, 12 Nov 2015 11:28:45 +0000</updated>
                            <resolved>Thu, 19 Sep 2013 09:40:14 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.0.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13771741" author="rombert" created="Thu, 19 Sep 2013 09:40:14 +0000"  >&lt;p&gt;Added an null guard in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1524670&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1524670&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349355</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 6 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1o8lr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349653</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3081] Do not re-publish modules when starting the launchpad for the first time</title>
                <link>https://issues.apache.org/jira/browse/SLING-3081</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;This results in unnecessary publishing activity. The right way is to provide a manual action to sync a sub-tree to ( or the whole module ) to the Launchpad.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12669319">SLING-3081</key>
            <summary>Do not re-publish modules when starting the launchpad for the first time</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Sep 2013 19:46:18 +0000</created>
                <updated>Thu, 26 Sep 2019 12:39:57 +0000</updated>
                            <resolved>Mon, 26 May 2014 09:30:00 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.0.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13773006" author="rombert" created="Fri, 20 Sep 2013 13:39:14 +0000"  >&lt;p&gt;This only happens the first time the server is started and it&apos;s published as a full change:&lt;/p&gt;

&lt;p&gt;SlingLaunchpadBehaviour.publishModule(PUBLISH_FULL, CHANGED, [Module&lt;span class=&quot;error&quot;&gt;&amp;#91;sling-vlt-project-13,org.apache.sling.ide.contentModuleFactory:sling-vlt-project-13&amp;#93;&lt;/span&gt;])&lt;/p&gt;

&lt;p&gt;As such, this is not critical for the 1.0.0 release.&lt;/p&gt;</comment>
                            <comment id="13998100" author="rombert" created="Wed, 14 May 2014 21:43:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stefanegli&quot; class=&quot;user-hover&quot; rel=&quot;stefanegli&quot;&gt;stefanegli&lt;/a&gt; - When &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2651&quot; title=&quot;Manually trigger sync on files/directories&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2651&quot;&gt;&lt;del&gt;SLING-2651&lt;/del&gt;&lt;/a&gt; is fixed, I&apos;m tempted to fix this one for 1.0.0 as well. The reason is that for external servers it&apos;s confusing to connect it to the workspace and instantly publish all the assigned modules. This can even take a long time for large modules ( think vlt ci every time you start Eclipse ... ) .&lt;/p&gt;

&lt;p&gt;Thoughts?&lt;/p&gt;</comment>
                            <comment id="13998538" author="egli" created="Thu, 15 May 2014 07:36:55 +0000"  >&lt;p&gt;Agreed, might make it more light-weight to just &apos;connect&apos; instead of &apos;full publish&apos;. If the user knows that the &apos;connect to server&apos; button doesn&apos;t imply an initial publish, then all things are fine. If we get user feedback about this being odd we could still add a config parameter to the server about this. But having it off by default sounds good.&lt;/p&gt;

&lt;p&gt;The new-project-wizard will also start the server of course and up-till-now was assuming the publish would automatically start. That we can still trigger explicitly from the wizard though, so no issue there.&lt;/p&gt;</comment>
                            <comment id="13999758" author="rombert" created="Fri, 16 May 2014 11:53:41 +0000"  >&lt;blockquote&gt;&lt;p&gt;The new-project-wizard will also start the server of course and up-till-now was assuming the publish would automatically start. That we can still trigger explicitly from the wizard though, so no issue there.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sounds good&lt;/p&gt;</comment>
                            <comment id="14008698" author="rombert" created="Mon, 26 May 2014 09:30:00 +0000"  >&lt;p&gt;I&apos;ve updated the behaviour, but only for content modules. Therefore, the bundle creation wizard will not be affected&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1597534&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1597534&lt;/a&gt;  updated tests to create content after the module is deployed&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1597536&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1597536&lt;/a&gt; set the module publish state to none even when we ignore the publish request&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1597537&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1597537&lt;/a&gt; do not re-publish modules when starting the launchpad for the first time&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349251</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 23 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1o7yn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349549</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3080] [Tooling] (properly) include org.sonatype.tycho.m2e.feature in target-definition</title>
                <link>https://issues.apache.org/jira/browse/SLING-3080</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Although we&apos;ll be having two different sets of slingclipse versions - one with m2e and one without - for the one with m2e we should include org.sonatype.tycho.m2e.feature in the target-definition, so that the bundle:bundle gets included in the maven lifecycling mapping (tycho does that automatically) - which in turn builds the MANIFEST.MF - without which the bundle deploy mechanism doesn&apos;t work at all&lt;/p&gt;</description>
                <environment></environment>
        <key id="12669261">SLING-3080</key>
            <summary>[Tooling] (properly) include org.sonatype.tycho.m2e.feature in target-definition</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="stefanegli">Stefan Egli</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Sep 2013 14:57:48 +0000</created>
                <updated>Thu, 26 Sep 2019 12:38:35 +0000</updated>
                            <resolved>Fri, 27 Sep 2013 12:15:36 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.0.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13771728" author="rombert" created="Thu, 19 Sep 2013 09:28:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stefanegli&quot; class=&quot;user-hover&quot; rel=&quot;stefanegli&quot;&gt;stefanegli&lt;/a&gt; - is this for development purposes only or a requirement at build time?&lt;/p&gt;</comment>
                            <comment id="13771737" author="egli" created="Thu, 19 Sep 2013 09:35:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;, this is a requirement at build time. Without tycho, the build:build lifecycle-mapping does not exist, and the MANIFEST.MF does not get generated. Without the MANIFEST.MF the bundle install mechanism doesn&apos;t work. So either we need tycho included or we have to rely on the pom.xml doing the lifecycle-mapping explicitly - I opt for the first variant. wdyt?&lt;/p&gt;</comment>
                            <comment id="13771766" author="rombert" created="Thu, 19 Sep 2013 10:15:23 +0000"  >&lt;p&gt;Which  MANIFEST.MF are we talking about? If it&apos;s about projects with the Sling Bundle facet, then it&apos;s a devlopment-time concern. And if the bundle deployment works only with Maven projects, we should revisit that later.&lt;/p&gt;</comment>
                            <comment id="13771771" author="egli" created="Thu, 19 Sep 2013 10:19:11 +0000"  >&lt;p&gt;Yes, it&apos;s that one. I wouldn&apos;t think the bundle deployment only works with maven projects - but if you do have a Maven project, then you&apos;d want to use tycho..&lt;/p&gt;</comment>
                            <comment id="13771814" author="rombert" created="Thu, 19 Sep 2013 11:49:52 +0000"  >&lt;p&gt;Then we can leave this one as it is for now, and look into creating a dev-only target platform which includes more stuff we want to develop against, like JSP/XML/HTML/CSS editors.&lt;/p&gt;</comment>
                            <comment id="13779809" author="rombert" created="Fri, 27 Sep 2013 10:44:10 +0000"  >&lt;p&gt;Examples of dev-only target platforms: &lt;a href=&quot;https://git.eclipse.org/c/mylyn/org.eclipse.mylyn.git/tree/org.eclipse.mylyn-target&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git.eclipse.org/c/mylyn/org.eclipse.mylyn.git/tree/org.eclipse.mylyn-target&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13779866" author="rombert" created="Fri, 27 Sep 2013 12:15:32 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;added a -dev update site in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1526865&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1526865&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;added a shared launch config to make it easier to get started developing in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1526868&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1526868&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349193</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 5 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1o7lr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349491</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3076] Missing session.refresh() on long-lived Session in ScriptableTestsProvider</title>
                <link>https://issues.apache.org/jira/browse/SLING-3076</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The /jcr:root/apps//element(*, sling:Test) query in the ScriptableTestsProvider class returns nothing even though we have&lt;/p&gt;

&lt;p&gt;curl -u admin:admin &lt;a href=&quot;http://localhost:8080/apps/testing/sling/scripted-tests/resourceresolver-api.tidy.json&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/apps/testing/sling/scripted-tests/resourceresolver-api.tidy.json&lt;/a&gt;&lt;br/&gt;
{&lt;br/&gt;
  &quot;jcr:primaryType&quot;: &quot;sling:Folder&quot;,&lt;br/&gt;
  &quot;jcr:mixinTypes&quot;: &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;quot;sling:Test&amp;quot;&amp;#93;&lt;/span&gt;,&lt;br/&gt;
  &quot;jcr:createdBy&quot;: &quot;admin&quot;,&lt;br/&gt;
  &quot;jcr:created&quot;: &quot;Tue Sep 17 2013 17:20:55 GMT+0200&quot;,&lt;br/&gt;
  &quot;sling:resourceType&quot;: &quot;testing/sling/scripted-tests/resourceresolver-api&quot;&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;I have added a similar test to the &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2788&quot; title=&quot;Optionally run Sling on Apache OAK&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2788&quot;&gt;&lt;del&gt;SLING-2788&lt;/del&gt;&lt;/a&gt; SlingRepositoryITBase and it passes, but that&apos;s but using a builtin mixin (mix:title), I&apos;ll need to verify that with a custom mixin.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12669032">SLING-3076</key>
            <summary>Missing session.refresh() on long-lived Session in ScriptableTestsProvider</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Sep 2013 15:44:02 +0000</created>
                <updated>Mon, 15 Dec 2014 14:28:24 +0000</updated>
                            <resolved>Thu, 19 Sep 2013 11:55:41 +0000</resolved>
                                                    <fixVersion>JUnit Scriptable Tests Provider 1.0.10</fixVersion>
                                    <component>Oak</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13771816" author="bdelacretaz" created="Thu, 19 Sep 2013 11:55:41 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/r1524703&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1524703&lt;/a&gt; by refreshing the long-lived Session that ScriptableTestsProvider uses, before querying it.&lt;/p&gt;

&lt;p&gt;This wasn&apos;t a problem with Jackrabbit, but Oak handles that differently.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12636606">SLING-2788</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348964</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 6 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1o66v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349262</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3074] Repository, SerializationManager - make stateful based on RepositoryInfo</title>
                <link>https://issues.apache.org/jira/browse/SLING-3074</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently the Repository interface has a setRepositoryInfo method which is used to configure the repository in use. From a thread safety point of view, this is dangerous and will most likely result in problems when multiple repositories are used. The SerializationManager follows a similar pattern with the init/destroy methods.&lt;/p&gt;

&lt;p&gt;The DS components in use should rather be RepositoryFactory and SerializationManagerFactory, and implementations should invoke the factory methods on them, supplying the required arguments.&lt;/p&gt;

&lt;p&gt;Also, the SerializationManager is currently very slow since it has to mount a VaultFileSystem for  each operation. Making the Repository and SerializationManager stateful will help with this.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12669003">SLING-3074</key>
            <summary>Repository, SerializationManager - make stateful based on RepositoryInfo</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Sep 2013 12:35:12 +0000</created>
                <updated>Thu, 12 Nov 2015 11:28:50 +0000</updated>
                            <resolved>Mon, 5 May 2014 12:45:32 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.0.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13989469" author="rombert" created="Mon, 5 May 2014 12:45:32 +0000"  >&lt;ul&gt;
	&lt;li&gt;Introduced RepositoryFactory in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=r1592510&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=r1592510&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;Removed stale TODO in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1592513&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1592513&lt;/a&gt; - no need to change SerializationManager&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348935</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 26 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1o60n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349233</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3073] Do not create maven launch config for content-package packaging types</title>
                <link>https://issues.apache.org/jira/browse/SLING-3073</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Creating such a launch config will not be useful once we finish vlt integration ( see &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2989&quot; title=&quot;[Tooling] integrate with vlt once available&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2989&quot;&gt;&lt;del&gt;SLING-2989&lt;/del&gt;&lt;/a&gt; ) and will be removed afterwards.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12668997">SLING-3073</key>
            <summary>Do not create maven launch config for content-package packaging types</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Sep 2013 12:23:01 +0000</created>
                <updated>Thu, 26 Sep 2019 12:38:35 +0000</updated>
                            <resolved>Fri, 20 Sep 2013 13:58:44 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.0.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13771726" author="rombert" created="Thu, 19 Sep 2013 09:25:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stefanegli&quot; class=&quot;user-hover&quot; rel=&quot;stefanegli&quot;&gt;stefanegli&lt;/a&gt; - I see you&apos;ve commented out the code which does this in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1524370&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1524370&lt;/a&gt; . Shouldn&apos;t we rather remove all the code which supports this? We can always bring this back from SVN if needed.&lt;/p&gt;</comment>
                            <comment id="13771738" author="egli" created="Thu, 19 Sep 2013 09:36:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;, agreed, there is more to clean up. also, the &apos;mvn install&apos; which is done initially will not be necessary anymore. I planned to do this once the mechanism works &quot;smooth enough&quot;.&lt;/p&gt;</comment>
                            <comment id="13773018" author="egli" created="Fri, 20 Sep 2013 13:58:44 +0000"  >&lt;p&gt;Removed those comments, and also removed another usage of &apos;mvn install&apos; - which was needed initially before the vault-content-sync was implemented (due to a dependency between an archetype-generated project and another one). Now there is only one usage of the MavenLaunchHelper left: that&apos;s the one doing a sling:install for a bundle project, if the tooling.support.install bundle is not used/installed/configured.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348929</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1o5zb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349227</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3069] Allow attaching an Appender to a Logger without changing its existing Log level</title>
                <link>https://issues.apache.org/jira/browse/SLING-3069</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Commons Log now supports attaching Appenders as OSGi services. Current implementation while trying to attach appender also modifies the Log level to INFO if none specified. It should be possible to attach an appender without modifying the existing log level&lt;/p&gt;</description>
                <environment></environment>
        <key id="12668732">SLING-3069</key>
            <summary>Allow attaching an Appender to a Logger without changing its existing Log level</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chetanm">Chetan Mehrotra</assignee>
                                    <reporter username="chetanm">Chetan Mehrotra</reporter>
                        <labels>
                            <label>logback</label>
                    </labels>
                <created>Mon, 16 Sep 2013 06:45:17 +0000</created>
                <updated>Fri, 7 Mar 2014 06:16:20 +0000</updated>
                            <resolved>Tue, 5 Nov 2013 11:49:15 +0000</resolved>
                                    <version>Commons Log 4.0.0</version>
                                    <fixVersion>Commons Log 4.0.0</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13768153" author="cziegeler" created="Mon, 16 Sep 2013 08:22:17 +0000"  >&lt;p&gt;I suggest to create three different service registration properties:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;logger name&lt;/li&gt;
	&lt;li&gt;log level (optional) - defaults to empty value&lt;/li&gt;
	&lt;li&gt;additive (optional) - defaults to true&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;If no log level is set, the log level of the logger is not changed at all&lt;/p&gt;</comment>
                            <comment id="13768168" author="chetanm" created="Mon, 16 Sep 2013 08:44:12 +0000"  >&lt;p&gt;The problem is that I want &lt;tt&gt;loggers&lt;/tt&gt; to be an array property. I would ensure that apart from specifying the logger name other config details should be completely optional without causing any side effects&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[
 &quot;foo:INFO:true&quot;,
 &quot;foo.bar&quot;,
 &quot;foo.bar.baz:DEBUG&quot;
]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13768176" author="cziegeler" created="Mon, 16 Sep 2013 08:56:13 +0000"  >&lt;p&gt;Ah right - yeah, sorry I missed the array part - ok, so yes, a single string it is &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
I think the default for additive should be &quot;true&quot; - not false as this is the default logback behaviour&lt;/p&gt;</comment>
                            <comment id="13768179" author="fmeschbe" created="Mon, 16 Sep 2013 08:58:19 +0000"  >&lt;p&gt;Additivity and level are properties of the Logger instances and not of appenders. So adding this kind of attributes to the loggers properties is bound to create race conditions: Depending on which appender is first configured, the logger will be differently configured.&lt;/p&gt;

&lt;p&gt;I would take logging level and additivity completely out of the appender service registration picture.&lt;/p&gt;</comment>
                            <comment id="13768186" author="chetanm" created="Mon, 16 Sep 2013 09:05:44 +0000"  >&lt;blockquote&gt;&lt;p&gt;I would take logging level and additivity completely out of the appender service registration picture.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Makes sense ... keep things simple. You can manage logger level (additivity not supported currently) via creating config for pid &lt;tt&gt;org.apache.sling.commons.log.LogManager.factory.config&lt;/tt&gt;. Would remove support for configuring logger attributes while registering the appenders. In worst case the Appenders can configure the Logger via &lt;tt&gt;LoggerContext&lt;/tt&gt; in the start method&lt;/p&gt;</comment>
                            <comment id="13768189" author="fmeschbe" created="Mon, 16 Sep 2013 09:08:41 +0000"  >&lt;p&gt;&amp;gt;  In worst case the Appenders can configure the Logger via LoggerContext in the start method&lt;/p&gt;

&lt;p&gt;Yeah, even though I would not call that &quot;good practice&quot; because it violates the separation of concern principle. Appenders are just for appending log messages.&lt;/p&gt;</comment>
                            <comment id="13768262" author="cziegeler" created="Mon, 16 Sep 2013 12:01:10 +0000"  >&lt;p&gt;Good point, yes, log level and additivity are configurations of the loggers not the appenders&lt;/p&gt;</comment>
                            <comment id="13768289" author="cziegeler" created="Mon, 16 Sep 2013 12:48:42 +0000"  >&lt;p&gt;I removed the support for log level and additivity for appender registration&lt;/p&gt;</comment>
                            <comment id="13813873" author="chetanm" created="Tue, 5 Nov 2013 11:49:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; made the changes in rev 1523638. Resolving the issue for now&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348666</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1o4cn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348963</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3068] Do not publish modules which have not changed when a publish event is triggered</title>
                <link>https://issues.apache.org/jira/browse/SLING-3068</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a server has multiple modules deployed, and just one of them has a resource change, publish events are triggered for all deployed modules. We should only publish changes for the module which triggered the change.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12668652">SLING-3068</key>
            <summary>Do not publish modules which have not changed when a publish event is triggered</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Sat, 14 Sep 2013 20:42:43 +0000</created>
                <updated>Thu, 12 Nov 2015 11:28:47 +0000</updated>
                            <resolved>Sat, 14 Sep 2013 20:48:09 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.0.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13767576" author="rombert" created="Sat, 14 Sep 2013 20:48:09 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1523321&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1523321&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348586</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 7 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1o3uv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348883</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3067] Sling 6 WAR file and Standalone JAR file not working</title>
                <link>https://issues.apache.org/jira/browse/SLING-3067</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When installing the launchpad WAR file I get the following system bundle export error:&lt;/p&gt;

&lt;p&gt;SEVERE: ERROR: Error parsing system bundle export statement: org.osgi.framework; version=1.5, org.osgi.framework.hooks.service; version=1.0, org.osgi.framework.launch; version=1.0, org.osgi.service.packageadmin; version=1.2, org.osgi.service.startlevel; version=1.1, org.osgi.service.url; version=1.0, org.osgi.util.tracker;version=&quot;1.4&quot;, org.apache.sling.launchpad.api;version=1.0.0, ,javax.servlet;javax.servlet.http;javax.servlet.resources; version=2.5 (java.lang.IllegalArgumentException: No paths specified in header: )&lt;br/&gt;
java.lang.IllegalArgumentException: No paths specified in header:&lt;br/&gt;
        at org.apache.felix.framework.util.manifestparser.ManifestParser.parseStandardHeaderClause(ManifestParser.java:1432)&lt;br/&gt;
        at org.apache.felix.framework.util.manifestparser.ManifestParser.parseStandardHeader(ManifestParser.java:1400)&lt;br/&gt;
        at org.apache.felix.framework.util.manifestparser.ManifestParser.&amp;lt;init&amp;gt;(ManifestParser.java:162)&lt;br/&gt;
        at org.apache.felix.framework.ExtensionManager.&amp;lt;init&amp;gt;(ExtensionManager.java:193)&lt;br/&gt;
        at org.apache.felix.framework.Felix.&amp;lt;init&amp;gt;(Felix.java:374)&lt;br/&gt;
        at org.apache.sling.launchpad.base.impl.SlingFelix.&amp;lt;init&amp;gt;(SlingFelix.java:39)&lt;br/&gt;
        at org.apache.sling.launchpad.base.impl.Sling.&amp;lt;init&amp;gt;(Sling.java:235)&lt;br/&gt;
        at org.apache.sling.launchpad.base.webapp.SlingBridge.&amp;lt;init&amp;gt;(SlingBridge.java:41)&lt;br/&gt;
        at org.apache.sling.launchpad.base.webapp.SlingServletDelegate.init(SlingServletDelegate.java:203)&lt;br/&gt;
        at javax.servlet.GenericServlet.init(GenericServlet.java:212)&lt;br/&gt;
        at org.apache.sling.launchpad.webapp.SlingServlet.startSling(SlingServlet.java:358)&lt;br/&gt;
        at org.apache.sling.launchpad.webapp.SlingServlet.startSling(SlingServlet.java:300)&lt;br/&gt;
        at org.apache.sling.launchpad.webapp.SlingServlet.init(SlingServlet.java:111)&lt;br/&gt;
        at javax.servlet.GenericServlet.init(GenericServlet.java:212)&lt;br/&gt;
        at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1206)&lt;br/&gt;
        at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1026)&lt;br/&gt;
        at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4421)&lt;br/&gt;
        at org.apache.catalina.core.StandardContext.start(StandardContext.java:4734)&lt;br/&gt;
        at org.apache.catalina.manager.ManagerServlet.start(ManagerServlet.java:1276)&lt;br/&gt;
        at org.apache.catalina.manager.HTMLManagerServlet.start(HTMLManagerServlet.java:625)&lt;br/&gt;
        at org.apache.catalina.manager.HTMLManagerServlet.doGet(HTMLManagerServlet.java:136)&lt;br/&gt;
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:617)&lt;br/&gt;
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)&lt;br/&gt;
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)&lt;br/&gt;
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)&lt;br/&gt;
        at org.apache.catalina.filters.CsrfPreventionFilter.doFilter(CsrfPreventionFilter.java:186)&lt;br/&gt;
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)&lt;br/&gt;
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)&lt;br/&gt;
        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)&lt;br/&gt;
        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)&lt;br/&gt;
        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:563)&lt;br/&gt;
        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)&lt;br/&gt;
        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)&lt;br/&gt;
        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)&lt;br/&gt;
        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)&lt;br/&gt;
        at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:859)&lt;br/&gt;
        at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:602)&lt;br/&gt;
        at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:722)&lt;/p&gt;



&lt;p&gt;SO, after many hours of messing with it, I decided to try the standalone app.  I used the following command line:&lt;/p&gt;

&lt;p&gt;java -jar ./org.apache.sling.launchpad-6-standalone.jar -p 8088&lt;/p&gt;

&lt;p&gt;which results in this:&lt;/p&gt;

&lt;p&gt;www-data@ip-10-28-86-173:/opt/sling$ java -jar ./org.apache.sling.launchpad-6-standalone.jar -p 8088&lt;br/&gt;
14.09.2013 12:37:58.215 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; Setting sling.home=sling (default)&lt;br/&gt;
14.09.2013 12:37:58.221 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; Starting Sling in sling (/opt/sling/sling)&lt;br/&gt;
14.09.2013 12:37:58.238 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; Checking launcher JAR in folder sling&lt;br/&gt;
14.09.2013 12:37:58.254 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; Existing launcher is up to date, using it: 2.3.0 (org.apache.sling.launchpad.base.jar)&lt;br/&gt;
14.09.2013 12:37:58.264 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; Loading launcher class org.apache.sling.launchpad.base.app.MainDelegate from org.apache.sling.launchpad.base.jar&lt;br/&gt;
14.09.2013 12:37:58.392 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; Starting launcher ...&lt;br/&gt;
14.09.2013 12:37:58.395 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; HTTP server port: 8088&lt;br/&gt;
14.09.2013 12:37:58.627 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; Failed to Start OSGi framework&lt;br/&gt;
org.osgi.framework.BundleException: Uncaught Instantiation Issue: java.lang.ArrayIndexOutOfBoundsException: -1&lt;br/&gt;
        at org.apache.sling.launchpad.base.impl.Sling.&amp;lt;init&amp;gt;(Sling.java:245)&lt;br/&gt;
        at org.apache.sling.launchpad.base.app.MainDelegate$1.&amp;lt;init&amp;gt;(MainDelegate.java:159)&lt;br/&gt;
        at org.apache.sling.launchpad.base.app.MainDelegate.start(MainDelegate.java:159)&lt;br/&gt;
        at org.apache.sling.launchpad.app.Main.startSling(Main.java:244)&lt;br/&gt;
        at org.apache.sling.launchpad.app.Main.&amp;lt;init&amp;gt;(Main.java:107)&lt;br/&gt;
        at org.apache.sling.launchpad.app.Main.main(Main.java:56)&lt;br/&gt;
Caused by: java.lang.ArrayIndexOutOfBoundsException: -1&lt;br/&gt;
        at java.util.ArrayList.elementData(ArrayList.java:371)&lt;br/&gt;
        at java.util.ArrayList.get(ArrayList.java:384)&lt;br/&gt;
        at org.apache.felix.framework.BundleImpl.getCurrentModule(BundleImpl.java:1046)&lt;br/&gt;
        at org.apache.felix.framework.BundleImpl.getSymbolicName(BundleImpl.java:863)&lt;br/&gt;
        at org.apache.sling.launchpad.base.impl.SlingFelix.getSymbolicName(SlingFelix.java:32)&lt;br/&gt;
        at org.apache.felix.framework.Felix.toString(Felix.java:1012)&lt;br/&gt;
        at org.apache.felix.framework.Logger.doLog(Logger.java:128)&lt;br/&gt;
        at org.apache.felix.framework.Logger._log(Logger.java:181)&lt;br/&gt;
        at org.apache.felix.framework.Logger.log(Logger.java:114)&lt;br/&gt;
        at org.apache.felix.framework.ExtensionManager.&amp;lt;init&amp;gt;(ExtensionManager.java:201)&lt;br/&gt;
        at org.apache.felix.framework.Felix.&amp;lt;init&amp;gt;(Felix.java:374)&lt;br/&gt;
        at org.apache.sling.launchpad.base.impl.SlingFelix.&amp;lt;init&amp;gt;(SlingFelix.java:39)&lt;br/&gt;
        at org.apache.sling.launchpad.base.impl.Sling.&amp;lt;init&amp;gt;(Sling.java:235)&lt;br/&gt;
        ... 5 more&lt;br/&gt;
14.09.2013 12:37:58.724 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; There was a problem launching Sling&lt;br/&gt;
14.09.2013 12:37:58.725 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Sling Terminator&amp;#93;&lt;/span&gt; Java VM is shutting down&lt;br/&gt;
www-data@ip-10-28-86-173:/opt/sling$&lt;/p&gt;
</description>
                <environment>AWS 32bit Ubuntu 12.04 Image, JDK 1.7.0_15 (NOT JRE), Apache Tomcat 6.0.35</environment>
        <key id="12668639">SLING-3067</key>
            <summary>Sling 6 WAR file and Standalone JAR file not working</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kellehmj">Michael J. Kelleher</reporter>
                        <labels>
                    </labels>
                <created>Sat, 14 Sep 2013 16:39:57 +0000</created>
                <updated>Sun, 15 Sep 2013 01:03:37 +0000</updated>
                            <resolved>Sun, 15 Sep 2013 01:03:37 +0000</resolved>
                                                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13767553" author="rombert" created="Sat, 14 Sep 2013 19:38:07 +0000"  >&lt;p&gt;The launchpad at version 6 does not support Java 7, see &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2348&quot; title=&quot;Running the Lauchpad throws an ArrayIndexOutOfBoundException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2348&quot;&gt;&lt;del&gt;SLING-2348&lt;/del&gt;&lt;/a&gt; . Do you have the same problems with Java 6?&lt;/p&gt;</comment>
                            <comment id="13767556" author="kellehmj" created="Sat, 14 Sep 2013 19:50:02 +0000"  >&lt;p&gt;Boooooo.  Just kidding.  Bummer.&lt;/p&gt;

&lt;p&gt;Give me like an hour or so and I will let you know.  I will test both Tomcat and command-line launchpad JAR with JDK 6 and report back.&lt;/p&gt;

&lt;p&gt;--mike&lt;/p&gt;</comment>
                            <comment id="13767637" author="kellehmj" created="Sun, 15 Sep 2013 01:03:37 +0000"  >&lt;p&gt;Yeah-buddy.  JDK 6 works fine and dandy.  I didn&apos;t bother checking tomcat, I have no doubt it works just fine with JDK 6.&lt;/p&gt;

&lt;p&gt;Thanks for the quick response to this ticket.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348573</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 7 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1o3rz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348870</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3065] Content import does not work when filters do not match content right below the root</title>
                <link>https://issues.apache.org/jira/browse/SLING-3065</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Assume that  a filter includes only cotent at /libs/sling/servlet/default . In this scenario we won&apos;t import nothing, since /libs is not directly matched by the filter.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12668584">SLING-3065</key>
            <summary>Content import does not work when filters do not match content right below the root</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Sep 2013 23:03:13 +0000</created>
                <updated>Thu, 12 Nov 2015 11:29:04 +0000</updated>
                            <resolved>Sat, 14 Sep 2013 20:40:57 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.0.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13767574" author="rombert" created="Sat, 14 Sep 2013 20:40:57 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1523319&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1523319&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348518</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 7 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1o3fr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348815</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3064] Disable content sync when importing content</title>
                <link>https://issues.apache.org/jira/browse/SLING-3064</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When importing content resource change events are fired and - at least in the default setting - resources are synchronized back to the repository. This generates unneeded load on the repository and makes the import action slow.&lt;/p&gt;

&lt;p&gt;Our current mechanism does not work, since the publishing is done asynchronously on a different thread, and therefore we can&apos;t affect it reliably.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12668583">SLING-3064</key>
            <summary>Disable content sync when importing content</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Sep 2013 22:59:42 +0000</created>
                <updated>Thu, 12 Nov 2015 11:29:00 +0000</updated>
                            <resolved>Thu, 26 Sep 2013 21:47:55 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.0.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13779209" author="rombert" created="Thu, 26 Sep 2013 20:47:05 +0000"  >&lt;p&gt;Setting as critical since it&apos;s really bad from a performance point of view when importing lots of content.&lt;/p&gt;</comment>
                            <comment id="13779287" author="rombert" created="Thu, 26 Sep 2013 21:47:55 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1526713&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1526713&lt;/a&gt; by setting a session property on imported resources which makes them skipped by the publish process exactly once.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348517</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 5 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1o3fj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348814</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3063] Anonymous user cannot read content on Oak</title>
                <link>https://issues.apache.org/jira/browse/SLING-3063</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Just added a test to SlingRepositoryITBase ( &lt;a href=&quot;http://svn.apache.org/r1522943&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1522943&lt;/a&gt; ) which works on Jackrabbit and fails on Oak:&lt;/p&gt;

&lt;p&gt;        final String path = assertCreateRetrieveNode(null); // returns path of a new node&lt;br/&gt;
        final Session s = repository.login();&lt;br/&gt;
        try &lt;/p&gt;
{
            assertTrue(&quot;Expecting anonymous to see &quot; + path, s.itemExists(path));
            final Node n = s.getNode(path);
            assertEquals(&quot;Expecting anonymous to see the foo property&quot;, path, n.getProperty(&quot;foo&quot;).getString());
        }
&lt;p&gt; finally &lt;/p&gt;
{
            s.logout();
        }

</description>
                <environment></environment>
        <key id="12668489">SLING-3063</key>
            <summary>Anonymous user cannot read content on Oak</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Sep 2013 14:39:30 +0000</created>
                <updated>Wed, 2 Oct 2013 09:17:52 +0000</updated>
                            <resolved>Wed, 2 Oct 2013 09:17:52 +0000</resolved>
                                                                    <component>Oak</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13766540" author="bdelacretaz" created="Fri, 13 Sep 2013 15:17:13 +0000"  >&lt;p&gt;The root cause is &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-1016&quot; title=&quot;Anonymous session doesn&amp;#39;t see node added by admin&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-1016&quot;&gt;&lt;del&gt;OAK-1016&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13766755" author="justinedelson" created="Fri, 13 Sep 2013 18:20:10 +0000"  >&lt;p&gt;assigned by accident&lt;/p&gt;</comment>
                            <comment id="13783760" author="bdelacretaz" created="Wed, 2 Oct 2013 09:17:52 +0000"  >&lt;p&gt;Fixed in revision 1528391 by granting anonymous read access on / as per &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-1016&quot; title=&quot;Anonymous session doesn&amp;#39;t see node added by admin&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-1016&quot;&gt;&lt;del&gt;OAK-1016&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12636606">SLING-2788</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12668498">OAK-1016</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348423</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 5 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1o2un:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348720</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3062] Removing a content module from a Sling launchpad should not unpublish all content</title>
                <link>https://issues.apache.org/jira/browse/SLING-3062</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description></description>
                <environment></environment>
        <key id="12668484">SLING-3062</key>
            <summary>Removing a content module from a Sling launchpad should not unpublish all content</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Sep 2013 13:48:59 +0000</created>
                <updated>Thu, 12 Nov 2015 11:28:48 +0000</updated>
                            <resolved>Sat, 14 Sep 2013 19:51:41 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.0.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13767557" author="rombert" created="Sat, 14 Sep 2013 19:51:41 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1523305&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1523305&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348418</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 7 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1o2tj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348715</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3061] Integration tests fail on Oak due to reaction time after uploading new scripts</title>
                <link>https://issues.apache.org/jira/browse/SLING-3061</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;A typical example isSlingResourceTypeRenderingTest.testEspHtmlInAppsFolder:&lt;/p&gt;

&lt;p&gt;  uploadTestScript(path,&quot;rendering-test.esp&quot;,&quot;html.esp&quot;);&lt;br/&gt;
  ..&lt;br/&gt;
  String content = getContent(displayUrl + &quot;.html&quot;, CONTENT_TYPE_HTML);&lt;br/&gt;
  assertContains(content, &quot;ESP template&quot;);&lt;/p&gt;

&lt;p&gt;Where the assert fails semi-randomly as the uploaded script isn&apos;t immediately used.&lt;/p&gt;

&lt;p&gt;Adding a 2 seconds sleep before getContent works around the problem, but of course we need something better than that.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12668470">SLING-3061</key>
            <summary>Integration tests fail on Oak due to reaction time after uploading new scripts</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Sep 2013 12:21:15 +0000</created>
                <updated>Mon, 28 Oct 2013 14:14:10 +0000</updated>
                            <resolved>Fri, 13 Sep 2013 12:33:18 +0000</resolved>
                                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13766437" author="bdelacretaz" created="Fri, 13 Sep 2013 12:33:18 +0000"  >&lt;p&gt;PEBKAC - I forgot to execute the code which disables the org.apache.sling.servlets.resolver.SlingServletResolver cache before testing, after doing that these tests work fine.&lt;/p&gt;</comment>
                            <comment id="13806788" author="bdelacretaz" created="Mon, 28 Oct 2013 14:14:10 +0000"  >&lt;p&gt;Added the required configuration to launchpad/testing in revision 1536359, along with a test that verifies the config.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12636606">SLING-2788</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348404</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 1 week, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1o2qf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348701</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3059] Log stack trace when ClassLoaderFacade detects inactive manager</title>
                <link>https://issues.apache.org/jira/browse/SLING-3059</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I&apos;ll make troubleshooting cases that cause ClassLoaderFacade to log its &quot;Dynamic class loader has already been deactivated.&quot; message easier by logging the stack trace that causes it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12668450">SLING-3059</key>
            <summary>Log stack trace when ClassLoaderFacade detects inactive manager</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Sep 2013 10:10:25 +0000</created>
                <updated>Tue, 22 Apr 2014 05:45:14 +0000</updated>
                            <resolved>Fri, 13 Sep 2013 11:22:50 +0000</resolved>
                                    <version>Commons ClassLoader 1.3.0</version>
                                    <fixVersion>Commons ClassLoader 1.3.2</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13766412" author="bdelacretaz" created="Fri, 13 Sep 2013 11:22:50 +0000"  >&lt;p&gt;Implemented in &lt;a href=&quot;http://svn.apache.org/r1522872&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1522872&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348384</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 7 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1o2lz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348681</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3058] [Tooling] tooling-ide-vlt&apos;s import from repository creates unnecessary jcr:content</title>
                <link>https://issues.apache.org/jira/browse/SLING-3058</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When importing content from the repository (in the tooling-ide-vlt branch, using slingclipse), there are directories created which the cq-package manager (and presumably a vlt co) do not create.&lt;/p&gt;

&lt;p&gt;Eg create the following structure in the repository:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;home
	&lt;ul&gt;
		&lt;li&gt;jcr:content
		&lt;ul&gt;
			&lt;li&gt;component1&lt;/li&gt;
			&lt;li&gt;component2&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;this should result in:&lt;br/&gt;
./.content.xml&lt;br/&gt;
./home/.content.xml &amp;lt;- containing the two child nodes component1 and component2&lt;/p&gt;

&lt;p&gt;but what&apos;s currently created is:&lt;br/&gt;
./content.xml&lt;br/&gt;
./home/.content.xml&lt;br/&gt;
./home/jcr:content  &amp;lt;- everything below here is probably superfluous&lt;br/&gt;
./home/jcr:content/component1&lt;br/&gt;
./home/jcr:content/component2&lt;/p&gt;</description>
                <environment></environment>
        <key id="12668445">SLING-3058</key>
            <summary>[Tooling] tooling-ide-vlt&apos;s import from repository creates unnecessary jcr:content</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="stefanegli">Stefan Egli</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Sep 2013 09:37:54 +0000</created>
                <updated>Thu, 26 Sep 2019 12:38:38 +0000</updated>
                            <resolved>Fri, 20 Sep 2013 13:33:23 +0000</resolved>
                                    <version>Sling Eclipse IDE 1.0.0</version>
                                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13766359" author="rombert" created="Fri, 13 Sep 2013 09:47:53 +0000"  >&lt;p&gt;Note - all nodes under jcr:content are nt:unstructured.&lt;/p&gt;</comment>
                            <comment id="13766370" author="rombert" created="Fri, 13 Sep 2013 09:58:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stefanegli&quot; class=&quot;user-hover&quot; rel=&quot;stefanegli&quot;&gt;stefanegli&lt;/a&gt; - when performing a vlt checkout, here&apos;s why I get ( .vlt files excluded )&lt;/p&gt;

&lt;p&gt;./.content.xml&lt;br/&gt;
./_jcr_content&lt;br/&gt;
./_jcr_content/.content.xml&lt;br/&gt;
./_jcr_content/component1&lt;br/&gt;
./_jcr_content/component1/.content.xml&lt;br/&gt;
./_jcr_content/component2&lt;br/&gt;
./_jcr_content/component2/.content.xml&lt;/p&gt;

&lt;p&gt;This seems natural since nt:unstructured is not a full coverage node type, so child nodes are serialized individually. The mistake here though is that the jcr content node is serialized under the repository name, and not the platform name.&lt;/p&gt;

&lt;p&gt;Can you please confirm that the analysis is correct? Or if not, I need to know&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the path of the node which gets serialized into a single .xml file&lt;/li&gt;
	&lt;li&gt;the jcr:primaryType property for the above node and all its parents&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13773002" author="rombert" created="Fri, 20 Sep 2013 13:33:23 +0000"  >&lt;p&gt;I wasn&apos;t able to reproduce so resolving as such. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stefanegli&quot; class=&quot;user-hover&quot; rel=&quot;stefanegli&quot;&gt;stefanegli&lt;/a&gt; - please reopen if you still find this a problem.&lt;/p&gt;</comment>
                            <comment id="13773007" author="egli" created="Fri, 20 Sep 2013 13:39:31 +0000"  >&lt;p&gt;Works fine now.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348379</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1o2kv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348676</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3057] Ghosted reference to dependent bundle after .java script compilation prevents complete uninstallation</title>
                <link>https://issues.apache.org/jira/browse/SLING-3057</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;It appears that a lock is established on the cache directory of any bundle which is imported by a compiled .java script that prevents complete uninstallation of the dependent bundle, even after reinstallation of the bundle. &lt;/p&gt;

&lt;p&gt;The reinstalled bundle creates a new distinct cache folder under launchpad/felix, while the uninstalled cache folder remains write protected.&lt;/p&gt;

&lt;p&gt;Subsequent recompilation of the .java script after reinstallation of the bundle fails due to missing .class files, with the message: &quot;&amp;lt;some class&amp;gt; resolves to a package.&quot;. &lt;/p&gt;

&lt;p&gt;Restarting the Dynamic ClassLoader Support bundle or the Scripting Java bundle fails to force a recompilation using the newly reinstalled bundle, however a complete application restart will force the old cache folder to be garbage collected, and the .java script will compile correctly.&lt;/p&gt;</description>
                <environment>RHEL 6, Adobe CQ 5.6.1</environment>
        <key id="12668390">SLING-3057</key>
            <summary>Ghosted reference to dependent bundle after .java script compilation prevents complete uninstallation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="madamcin">Mark Adamcin</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Sep 2013 00:26:12 +0000</created>
                <updated>Fri, 14 Apr 2023 07:51:18 +0000</updated>
                            <resolved>Fri, 14 Apr 2023 07:51:18 +0000</resolved>
                                    <version>Scripting Java 2.0.6</version>
                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13766260" author="fmeschbe" created="Fri, 13 Sep 2013 05:54:15 +0000"  >&lt;p&gt;I assume you are running on Windows ?&lt;/p&gt;

&lt;p&gt;Other than that: Did you refresh the bundles after uninstalling the old bundle ? Refreshing should also cause the ClassLoader support to refresh and thus be able to rewire to the new bundle for compilation.&lt;/p&gt;

&lt;p&gt;Side track: We do you uninstall and then reinstall the bundle instead of just updating it ?&lt;/p&gt;</comment>
                            <comment id="13766473" author="madamcin" created="Fri, 13 Sep 2013 13:32:04 +0000"  >&lt;p&gt;I&apos;ve added the details for the environment where this was observed. The uninstallation is occurring as part of CRX package deployments to staging and production environments, which involves uninstalling existing releases prior to installing new releases, in order to force the rebinding of OSGi configs when bundle locations change.&lt;/p&gt;</comment>
                            <comment id="13766481" author="madamcin" created="Fri, 13 Sep 2013 13:39:27 +0000"  >&lt;p&gt;...and I did attempt unsuccessfully to resolve by refreshing all packages, and by restarting classloader support, the reinstalled bundle, and the scripting.java bundle.&lt;/p&gt;</comment>
                            <comment id="14265307" author="kilobyte" created="Mon, 5 Jan 2015 23:14:37 +0000"  >&lt;p&gt;Yes, we are uninstalling and reinstalling the bundles.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348324</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 43 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1o28n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348620</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3055] initial-content archetype has invalid markup</title>
                <link>https://issues.apache.org/jira/browse/SLING-3055</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Content of html.esp is invalid, contains --!&amp;gt; instead of --&amp;gt; between html and head.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12668065">SLING-3055</key>
            <summary>initial-content archetype has invalid markup</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="asavory">Andrew Savory</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Sep 2013 15:21:26 +0000</created>
                <updated>Thu, 4 May 2023 09:21:41 +0000</updated>
                            <resolved>Thu, 4 May 2023 09:21:41 +0000</resolved>
                                    <version>Initial Content Archetype 1.0.0</version>
                                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348000</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 8 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1o093:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348296</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3054] Archetypes should use correct port </title>
                <link>https://issues.apache.org/jira/browse/SLING-3054</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Based on &lt;a href=&quot;http://sling.markmail.org/thread/pbgefv6kztbqxzt6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.markmail.org/thread/pbgefv6kztbqxzt6&lt;/a&gt; the preferred or expected port for Sling to run on is 8080. The archetypes by default set the port to 8888 which means that &apos;mvn -PautoInstallBundle install&apos; on an archetype-generated project will fail.&lt;/p&gt;

&lt;p&gt;The fix is to update the archetypes to use the correct port.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12668042">SLING-3054</key>
            <summary>Archetypes should use correct port </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="asavory">Andrew Savory</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Sep 2013 12:43:52 +0000</created>
                <updated>Fri, 2 May 2014 14:22:33 +0000</updated>
                            <resolved>Fri, 2 May 2014 14:22:33 +0000</resolved>
                                                                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13764259" author="asavory" created="Wed, 11 Sep 2013 12:46:00 +0000"  >&lt;p&gt;This patch corrects the port number in the explorer README and in the archetypes bundle-for-jcrinstall, initial-content, servlet, bundle.&lt;/p&gt;</comment>
                            <comment id="13987728" author="rombert" created="Fri, 2 May 2014 14:22:26 +0000"  >&lt;p&gt;Thanks for the patch! I&apos;ve applied it partially, as I have already made some changes as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3538&quot; title=&quot;Maven archetypes should use the same port as the default launchpad port&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3538&quot;&gt;&lt;del&gt;SLING-3538&lt;/del&gt;&lt;/a&gt;, before noticing your patch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12602585" name="SLING-3054.diff" size="6250" author="asavory" created="Wed, 11 Sep 2013 12:46:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>347977</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 26 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1o03z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348273</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3053] Scala integration tests failure: type Logger is not a member of package ch.qos.logback.classic</title>
                <link>https://issues.apache.org/jira/browse/SLING-3053</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The Scala integration tests have started failing consistently. The failures are probably related to the changes in the logging bundle.  &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mduerig&quot; class=&quot;user-hover&quot; rel=&quot;mduerig&quot;&gt;mduerig&lt;/a&gt; - you probably know the bundle best, so it would be good if you could take a look.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12668035">SLING-3053</key>
            <summary>Scala integration tests failure: type Logger is not a member of package ch.qos.logback.classic</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mduerig">Michael D&#252;rig</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Sep 2013 11:56:29 +0000</created>
                <updated>Wed, 11 Sep 2013 22:19:38 +0000</updated>
                            <resolved>Wed, 11 Sep 2013 21:49:41 +0000</resolved>
                                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13764265" author="mduerig" created="Wed, 11 Sep 2013 12:50:33 +0000"  >&lt;p&gt;Do you know when was the last time they passed or what changes caused the to start failing?&lt;/p&gt;</comment>
                            <comment id="13764370" author="rombert" created="Wed, 11 Sep 2013 14:44:12 +0000"  >&lt;p&gt;Most likely the changes to the logging bundle caused the failures. If I rebuild the sling launchpad( mvn clean install ) with the change below the ITs pass&lt;/p&gt;

&lt;p&gt;diff --git a/launchpad/builder/src/main/bundles/list.xml b/launchpad/builder/src/main/bundles/list.xml&lt;br/&gt;
index df0a8e0..52b0eff 100644&lt;br/&gt;
&amp;#8212; a/launchpad/builder/src/main/bundles/list.xml&lt;br/&gt;
+++ b/launchpad/builder/src/main/bundles/list.xml&lt;br/&gt;
@@ -270,7 +270,7 @@&lt;br/&gt;
         &amp;lt;bundle&amp;gt;&lt;br/&gt;
             &amp;lt;groupId&amp;gt;org.apache.sling&amp;lt;/groupId&amp;gt;&lt;br/&gt;
             &amp;lt;artifactId&amp;gt;org.apache.sling.commons.log&amp;lt;/artifactId&amp;gt;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&amp;lt;version&amp;gt;3.0.3-SNAPSHOT&amp;lt;/version&amp;gt;&lt;br/&gt;
+            &amp;lt;version&amp;gt;2.1.3-SNAPSHOT&amp;lt;/version&amp;gt;&lt;br/&gt;
         &amp;lt;/bundle&amp;gt;&lt;br/&gt;
         &amp;lt;bundle&amp;gt;&lt;br/&gt;
             &amp;lt;groupId&amp;gt;org.apache.sling&amp;lt;/groupId&amp;gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13764831" author="mduerig" created="Wed, 11 Sep 2013 21:46:37 +0000"  >&lt;p&gt;Some OSGi? classloader roguery prevents &lt;tt&gt;ch.qos.logback.classic.Logger&lt;/tt&gt; from being accessible when executing the script although the class is accessible when compiling the script. As a work around I&apos;ll hardcode a cast to &lt;tt&gt;org.slf4.Logger&lt;/tt&gt; instead.&lt;/p&gt;</comment>
                            <comment id="13764833" author="mduerig" created="Wed, 11 Sep 2013 21:49:41 +0000"  >&lt;p&gt;Fixed at &lt;a href=&quot;http://svn.apache.org/r1522060&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1522060&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13764836" author="fmeschbe" created="Wed, 11 Sep 2013 21:54:06 +0000"  >&lt;p&gt;Just wondering: Why would this cq.qos.logback.classic.Logger be used in the Scala script ? Shouldn&apos;t it just use SLF4J Logger ?&lt;/p&gt;</comment>
                            <comment id="13764849" author="mduerig" created="Wed, 11 Sep 2013 22:04:26 +0000"  >&lt;p&gt;This occurs with auto-generated code that aims to restore the type information of the bindings passed to the script &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;. That code finds &lt;tt&gt;cq.qos.logback.classic.Logger&lt;/tt&gt; as the type of the &lt;tt&gt;log&lt;/tt&gt; binding. This is where I hard-coded things to &lt;tt&gt;org.slf4j.Logger&lt;/tt&gt; for the time being. &lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&#160;&lt;a href=&quot;https://github.com/apache/sling/blob/trunk/contrib/scripting/scala/script/src/main/scala/org/apache/sling/scripting/scala/interpreter/Bindings.scala#L57&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/contrib/scripting/scala/script/src/main/scala/org/apache/sling/scripting/scala/interpreter/Bindings.scala#L57&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13764859" author="fmeschbe" created="Wed, 11 Sep 2013 22:15:28 +0000"  >&lt;p&gt;Hmm, ok.&lt;/p&gt;

&lt;p&gt;Could it be that the classloader used to inspect these views and the class loader used to laod the scripts for execution is not the same ? OTOH I see the scala script bundle have a DynamicImport-Package on the logback.class package. Strange.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12602577" name="scala-it-failure.txt" size="11208" author="rombert" created="Wed, 11 Sep 2013 11:57:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>347970</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 8 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1o02f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348266</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3052] RhinoScriptEngine attemps to convert null objects from Bindings to JS Object</title>
                <link>https://issues.apache.org/jira/browse/SLING-3052</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently, RhinoScriptEngine iterates through the Bindings object and wraps each object by calling `ScriptRuntime.toObject()`. This, however, fails when a null binding is created with this stack trace:&lt;/p&gt;

&lt;p&gt;Caused by: org.mozilla.javascript.EcmaError: TypeError: Cannot convert null to an object.&lt;br/&gt;
        at org.mozilla.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3350)&lt;br/&gt;
        at org.mozilla.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3340)&lt;br/&gt;
        at org.mozilla.javascript.ScriptRuntime.typeError(ScriptRuntime.java:3356)&lt;br/&gt;
        at org.mozilla.javascript.ScriptRuntime.typeError0(ScriptRuntime.java:3362)&lt;br/&gt;
        at org.mozilla.javascript.ScriptRuntime.toObject(ScriptRuntime.java:908)&lt;br/&gt;
        at org.mozilla.javascript.ScriptRuntime.toObject(ScriptRuntime.java:872)&lt;br/&gt;
        at org.apache.sling.scripting.javascript.internal.RhinoJavaScriptEngine.setBoundProperties(RhinoJavaScriptEngine.java:186)&lt;br/&gt;
        at org.apache.sling.scripting.javascript.internal.RhinoJavaScriptEngine.eval(RhinoJavaScriptEngine.java:109)&lt;br/&gt;
        at org.apache.sling.scripting.core.impl.DefaultSlingScript.call(DefaultSlingScript.java:361)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12667809">SLING-3052</key>
            <summary>RhinoScriptEngine attemps to convert null objects from Bindings to JS Object</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Sep 2013 14:09:16 +0000</created>
                <updated>Tue, 24 Jun 2014 13:05:38 +0000</updated>
                            <resolved>Tue, 10 Sep 2013 14:12:13 +0000</resolved>
                                    <version>Scripting JavaScript 2.0.12</version>
                                    <fixVersion>Scripting JavaScript 2.0.14</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13763054" author="justinedelson" created="Tue, 10 Sep 2013 14:12:13 +0000"  >&lt;p&gt;fixed in r1521496&lt;/p&gt;</comment>
                            <comment id="14042075" author="bdelacretaz" created="Tue, 24 Jun 2014 13:05:38 +0000"  >&lt;p&gt;Closing Apache Sling Scripting JavaScript Support 2.0.14 issues after releasing that module.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>347745</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 19 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1nyp3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348044</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3050] Minor typo in sling maven archetype page and clarification on usage</title>
                <link>https://issues.apache.org/jira/browse/SLING-3050</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The website has a typo on the archetype name, and does not provide usage details for archetypes.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12667782">SLING-3050</key>
            <summary>Minor typo in sling maven archetype page and clarification on usage</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="asavory">Andrew Savory</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Sep 2013 10:38:38 +0000</created>
                <updated>Fri, 14 Apr 2023 07:51:08 +0000</updated>
                            <resolved>Fri, 14 Apr 2023 07:51:08 +0000</resolved>
                                                                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13762934" author="asavory" created="Tue, 10 Sep 2013 10:41:17 +0000"  >&lt;p&gt;Fix for docs&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12602321" name="fix_archetype.diff" size="1836" author="asavory" created="Tue, 10 Sep 2013 10:41:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>347718</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 8 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1nyj3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348017</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3047] Log message from other loggers get added to error.log</title>
                <link>https://issues.apache.org/jira/browse/SLING-3047</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;With new Logback based Log the error message for other categories like &quot;log.request&quot; get added to error.log. This is happening because by default Logback Loggers have additivity &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; set to true. For compatibility purpose the additivity for Loggers configured vis OSGi config must be set to false&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://logback.qos.ch/manual/architecture.html#additivity&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://logback.qos.ch/manual/architecture.html#additivity&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12667548">SLING-3047</key>
            <summary>Log message from other loggers get added to error.log</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chetanm">Chetan Mehrotra</assignee>
                                    <reporter username="chetanm">Chetan Mehrotra</reporter>
                        <labels>
                            <label>logback</label>
                    </labels>
                <created>Mon, 9 Sep 2013 11:36:34 +0000</created>
                <updated>Fri, 7 Mar 2014 06:16:21 +0000</updated>
                            <resolved>Wed, 13 Nov 2013 09:07:30 +0000</resolved>
                                    <version>Commons Log 4.0.0</version>
                                    <fixVersion>Commons Log 4.0.0</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13761782" author="chetanm" created="Mon, 9 Sep 2013 11:39:24 +0000"  >&lt;p&gt;Patch which sets the additivity to false for loggers which have appenders explicitly defined&lt;/p&gt;</comment>
                            <comment id="13761813" author="amitgupt" created="Mon, 9 Sep 2013 12:57:34 +0000"  >&lt;p&gt;I have applied the patch At revision: 1521082.&lt;/p&gt;

&lt;p&gt;Thanks Chetan.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12602122" name="SLING-3047.patch" size="1113" author="chetanm" created="Mon, 9 Sep 2013 11:39:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>347485</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 8 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1nx3b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>347784</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3046] JSP script engine does not start: jasper JspFactoryImpl and JspApplicationContextImpl classes not found</title>
                <link>https://issues.apache.org/jira/browse/SLING-3046</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Activating the org.apache.sling.scripting.jsp bundle causes:&lt;/p&gt;

&lt;p&gt;org.apache.sling.scripting.jsp &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.scripting.jsp.JspScriptEngineFactory&amp;#93;&lt;/span&gt; &lt;br/&gt;
The activate method has thrown an exception &lt;br/&gt;
(java.lang.NoClassDefFoundError: org/apache/sling/scripting/jsp/jasper/runtime/JspFactoryImpl)&lt;/p&gt;

&lt;p&gt;and same for&lt;br/&gt;
org/apache/sling/scripting/jsp/jasper/runtime/JspApplicationContextImpl&lt;/p&gt;</description>
                <environment></environment>
        <key id="12667529">SLING-3046</key>
            <summary>JSP script engine does not start: jasper JspFactoryImpl and JspApplicationContextImpl classes not found</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Sep 2013 08:07:06 +0000</created>
                <updated>Mon, 9 Sep 2013 09:33:59 +0000</updated>
                            <resolved>Mon, 9 Sep 2013 09:33:59 +0000</resolved>
                                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13761725" author="bdelacretaz" created="Mon, 9 Sep 2013 09:33:59 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/r1521014&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1521014&lt;/a&gt; - the pom declared the org.apache.sling.scripting.jsp.jasper.runtime package as exported and !private, which maven-bundle-plugin 2.4.0 apparently interprets differently than previous versions.&lt;/p&gt;

&lt;p&gt;As a result, the classes from that package were missing from the bundle - I have removed the !private statement which is not useful anyway IMO.&lt;/p&gt;

&lt;p&gt;All integration tests pass now.&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>347466</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 8 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1nwz3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>347765</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3045] [logback]Warning logs logged for &apos;No appenders present in context [sling] for logger&apos;</title>
                <link>https://issues.apache.org/jira/browse/SLING-3045</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;During system startup at times following warning is seen&lt;/p&gt;

&lt;p&gt;&amp;#8212;&lt;br/&gt;
14:48:24,969 |-WARN in Logger&lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.installer.core.impl.OsgiInstallerImpl&amp;#93;&lt;/span&gt; - No appenders present in context &lt;span class=&quot;error&quot;&gt;&amp;#91;sling&amp;#93;&lt;/span&gt; for logger &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.installer.core.impl.OsgiInstallerImpl&amp;#93;&lt;/span&gt;.&lt;br/&gt;
&amp;#8212;&lt;/p&gt;

&lt;p&gt;Further some debug level logs are also seen during the startup&lt;/p&gt;</description>
                <environment></environment>
        <key id="12667519">SLING-3045</key>
            <summary>[logback]Warning logs logged for &apos;No appenders present in context [sling] for logger&apos;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chetanm">Chetan Mehrotra</assignee>
                                    <reporter username="chetanm">Chetan Mehrotra</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Sep 2013 06:27:15 +0000</created>
                <updated>Fri, 7 Mar 2014 06:16:21 +0000</updated>
                            <resolved>Tue, 25 Feb 2014 08:54:11 +0000</resolved>
                                    <version>Commons Log 4.0.0</version>
                                    <fixVersion>Commons Log 4.0.0</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13761650" author="chetanm" created="Mon, 9 Sep 2013 06:37:32 +0000"  >&lt;p&gt;Logback would log a warning if no appender is found when a log message is received. During reset there is a small window where no appenders would be present and such a warning is fine.&lt;/p&gt;

&lt;p&gt;LogbackManager accounts for such scenario by recording the time &apos;resetStartTime&apos; at which reset happened. By that time it ensures a default console appender is attached to root. It only logs the warning if such a message is found &lt;b&gt;after&lt;/b&gt; resetStartTime. However its possible that in same millisecond a log message arrives so suh filtering would fail.&lt;/p&gt;

&lt;p&gt;To account for that we now add a millisecond extra so as to ensure the &apos;resetStartTime&apos; reflects the time by which a console appender has been attached to the root logger. Any warn message after the resetStartTime would trigger log at console&lt;/p&gt;

&lt;p&gt;Also set the default log level for root logger to INFO&lt;/p&gt;</comment>
                            <comment id="13761674" author="amitgupt" created="Mon, 9 Sep 2013 07:31:36 +0000"  >&lt;p&gt;applied patch in revision: 1520970&lt;/p&gt;</comment>
                            <comment id="13813864" author="chetanm" created="Tue, 5 Nov 2013 11:36:14 +0000"  >&lt;p&gt;Issue not seen since patch has been applied in rev1520970. Resolving it as fixed&lt;/p&gt;</comment>
                            <comment id="13896436" author="chetanm" created="Mon, 10 Feb 2014 12:19:57 +0000"  >&lt;p&gt;Reopeing the issue as error message is seen in few cases&lt;/p&gt;</comment>
                            <comment id="13896459" author="chetanm" created="Mon, 10 Feb 2014 12:58:05 +0000"  >&lt;p&gt;Updated the logic in &lt;a href=&quot;http://svn.apache.org/r1566597&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1566597&lt;/a&gt; to be more robust&lt;/p&gt;</comment>
                            <comment id="13911399" author="chetanm" created="Tue, 25 Feb 2014 08:54:11 +0000"  >&lt;p&gt;In some cases such logs would be observed and cannot be avoided. These are handled in a better way with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3410&quot; title=&quot;Log the Logback initialization related logs to normal log for transient errors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3410&quot;&gt;&lt;del&gt;SLING-3410&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12602095" name="SLING-3045.patch" size="2061" author="chetanm" created="Mon, 9 Sep 2013 06:37:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>347456</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 36 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1nwwv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>347755</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3043] Allow white list filtering of vanity paths</title>
                <link>https://issues.apache.org/jira/browse/SLING-3043</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Right now a sling:vanityPath can appear anywhere in the resource tree and it can point to any other location in the tree. In some cases, it&apos;s helpful to limit the possibilities.&lt;br/&gt;
Therefore we should add regexps to exclude certain parts in the tree for scanning and another set of regexps for filtering the location&lt;/p&gt;</description>
                <environment></environment>
        <key id="12667282">SLING-3043</key>
            <summary>Allow white list filtering of vanity paths</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                            <label>vanity</label>
                    </labels>
                <created>Fri, 6 Sep 2013 09:32:20 +0000</created>
                <updated>Fri, 4 Apr 2014 09:05:51 +0000</updated>
                            <resolved>Thu, 27 Mar 2014 12:08:12 +0000</resolved>
                                                    <fixVersion>Resource Resolver 1.1.0</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13760625" author="fmeschbe" created="Fri, 6 Sep 2013 21:06:00 +0000"  >&lt;p&gt;-.7&lt;/p&gt;

&lt;p&gt;I am only lukewarm with such a feature for reasons of complexity to configure and building cruft for backwards compatibility.&lt;/p&gt;</comment>
                            <comment id="13949161" author="cziegeler" created="Thu, 27 Mar 2014 11:21:09 +0000"  >&lt;p&gt;In general, the idea is to get away with vanity paths stored in the resource tree but rely solely on /etc/maps.&lt;br/&gt;
However, to solve today&apos;s problems (until the above is in place), it makes sense to have a whitelist from where vanity paths are read. This can simply be prefixes&lt;/p&gt;</comment>
                            <comment id="13949203" author="cziegeler" created="Thu, 27 Mar 2014 12:08:12 +0000"  >&lt;p&gt;I&apos;ve added a configurable whitelist of prefixes from which vanity paths are loaded&lt;/p&gt;</comment>
                            <comment id="13950455" author="cziegeler" created="Fri, 28 Mar 2014 07:04:43 +0000"  >&lt;p&gt;I&apos;ve also added a configurable blacklist and a test case&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>347219</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 31 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1nvgf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>347518</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3042] org.apache.sling.scripting.api should not export javax.script anymore</title>
                <link>https://issues.apache.org/jira/browse/SLING-3042</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Installing the current org.apache.sling.scripting.api trunk bundle on a launchpad/testing instance causes this error:&lt;/p&gt;

&lt;p&gt;org.apache.sling.scripting.core.impl.ScriptEngineManagerFactory Cannot register ScriptEngineFactory org.codehaus.groovy.jsr223.GroovyScriptEngineFactory&lt;br/&gt;
java.lang.ClassCastException: org.codehaus.groovy.jsr223.GroovyScriptEngineFactory cannot be cast to javax.script.ScriptEngineFactory&lt;/p&gt;

&lt;p&gt;And .groovy scripts are not recognized anymore, though .gsp still works.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12667278">SLING-3042</key>
            <summary>org.apache.sling.scripting.api should not export javax.script anymore</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Sep 2013 09:14:56 +0000</created>
                <updated>Fri, 7 Mar 2014 08:52:08 +0000</updated>
                            <resolved>Fri, 6 Sep 2013 11:53:13 +0000</resolved>
                                    <version>Scripting API 2.1.4</version>
                                    <fixVersion>Scripting API 2.1.6</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13760155" author="bdelacretaz" created="Fri, 6 Sep 2013 11:50:08 +0000"  >&lt;p&gt;This is caused by org.apache.sling.scripting.api embedding and exporting the javax.script package, which is now also (rightly IMO) exported by org.apache.felix.framework 4.2.0.&lt;/p&gt;

&lt;p&gt;As a result, some javax.script classes are loaded from the framework bundle and others from org.apache.sling.scripting.api, which causes errors like the above one and maybe others depending on the order of bundles activation.&lt;/p&gt;</comment>
                            <comment id="13760157" author="bdelacretaz" created="Fri, 6 Sep 2013 11:53:13 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/r1520551&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1520551&lt;/a&gt; by having the scripting.api bundle just import the javax.script package, without embedding or exporting it.&lt;/p&gt;

&lt;p&gt;All integration tests pass after this change, with JDK 1.6. This might break compatibility with JDK 1.5 but I don&apos;t think we really care about that anymore.&lt;/p&gt;

&lt;p&gt;I have left the custom javax.script.ScriptEngineManager implementation in the bundle for now, removing it would need more analysis.&lt;/p&gt;</comment>
                            <comment id="13760606" author="fmeschbe" created="Fri, 6 Sep 2013 20:52:34 +0000"  >&lt;p&gt;That change makes sense to me (nowadays). But then we should mark the bundle as requiring Java 6 using the appropriate Bundle-RequiredExecutionEvibronment header (or simple declare build for Java 6 in the pom)&lt;/p&gt;</comment>
                            <comment id="13761685" author="bdelacretaz" created="Mon, 9 Sep 2013 08:04:17 +0000"  >&lt;p&gt;Done already, org.apache.sling.scripting.api now has Bundle-RequiredExecutionEnvironment: JavaSE-1.6&lt;/p&gt;</comment>
                            <comment id="13761914" author="fmeschbe" created="Mon, 9 Sep 2013 15:10:33 +0000"  >&lt;p&gt;Cool. Thanks.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12666892">SLING-3038</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>347215</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 8 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1nvfj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>347514</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3038] Take &quot;context&quot; service property into account when using BindingsValuesProvider</title>
                <link>https://issues.apache.org/jira/browse/SLING-3038</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;As discussed at &lt;a href=&quot;http://sling.markmail.org/thread/dzdgfx3n6i5ftkjw&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.markmail.org/thread/dzdgfx3n6i5ftkjw&lt;/a&gt; , being able to restrict BindingsValuesProvider (BVP) services to specific contexts (request processing, health checks, workflow etc) would be useful.&lt;/p&gt;

&lt;p&gt;The first step is to modify the scripting setup in DefaultSlingScript so that any BVP which has a &quot;context&quot; service property which doesn&apos;t include a &quot;request&quot; value is ignored.&lt;/p&gt;

&lt;p&gt;Other components which use BVPs can then select then based on the value of their &quot;context&quot; service property.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12666892">SLING-3038</key>
            <summary>Take &quot;context&quot; service property into account when using BindingsValuesProvider</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Sep 2013 14:42:22 +0000</created>
                <updated>Fri, 7 Mar 2014 08:52:41 +0000</updated>
                            <resolved>Fri, 6 Sep 2013 13:00:55 +0000</resolved>
                                    <version>Scripting Core 2.0.24</version>
                                    <fixVersion>Scripting Core 2.0.26</fixVersion>
                                    <component>Health Check</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13759212" author="bdelacretaz" created="Thu, 5 Sep 2013 16:41:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3038&quot; title=&quot;Take &amp;quot;context&amp;quot; service property into account when using BindingsValuesProvider&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3038&quot;&gt;&lt;del&gt;SLING-3038&lt;/del&gt;&lt;/a&gt;.patch should work but if I use the latest script.api snapshot in the launchpad, two integration tests fail (JSONGroovyBuilderTest, ScriptBindingsValuesProviderTest), apparently because the .groovy script engine is disabled. Looks like the issue is not caused by my code, I&apos;ll investigate further.&lt;/p&gt;</comment>
                            <comment id="13760078" author="bdelacretaz" created="Fri, 6 Sep 2013 09:15:27 +0000"  >&lt;p&gt;The Groovy issued is indeed not related to this patch, it&apos;s &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3042&quot; title=&quot;org.apache.sling.scripting.api should not export javax.script anymore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3042&quot;&gt;&lt;del&gt;SLING-3042&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13760188" author="bdelacretaz" created="Fri, 6 Sep 2013 13:00:55 +0000"  >&lt;p&gt;Implemented in &lt;a href=&quot;http://svn.apache.org/r1520565&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1520565&lt;/a&gt; , the SlingScriptAdapterFactory now takes the context service property into account, tested in BindingsValuesProvidersByContextIT.&lt;/p&gt;

&lt;p&gt;The new BindingsValuesProvidersByContext service can be used for other code that wants context-specific BindingsValuesProviders, and the implementation also takes the scripting language into account to include BVPs or not, and to provide them in the appropriate order.&lt;/p&gt;

&lt;p&gt;One can also just select BindingsValuesProviders based on their context service property, which avoids depending on the latest scripting.api bundle version, but you won&apos;t get the language-specific selection when doing that.&lt;/p&gt;

&lt;p&gt;All integration tests pass after this change.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12666281">SLING-3034</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12667278">SLING-3042</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12601632" name="SLING-3038.patch" size="44144" author="bdelacretaz" created="Thu, 5 Sep 2013 16:41:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>346829</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 8 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1nt1z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>347129</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>