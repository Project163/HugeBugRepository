diff --git a/johnzon-mapper/src/main/java/org/apache/johnzon/mapper/DynamicMappingGenerator.java b/johnzon-mapper/src/main/java/org/apache/johnzon/mapper/DynamicMappingGenerator.java
index bbbb8f06..35c6c2e9 100644
--- a/johnzon-mapper/src/main/java/org/apache/johnzon/mapper/DynamicMappingGenerator.java
+++ b/johnzon-mapper/src/main/java/org/apache/johnzon/mapper/DynamicMappingGenerator.java
@@ -113,10 +113,10 @@ public class DynamicMappingGenerator implements MappingGenerator {
 
         @Override
         public JsonGenerator writeStartObject(final String name) {
-            if (state != WritingState.NONE) {
-                nested++;
+            if (state == WritingState.NONE) {
+                ensureStart();
             }
-            ensureStart();
+            nested++;
             delegate.writeStartObject(name);
             return this;
         }
