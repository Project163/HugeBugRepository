diff --git a/src/main/java/org/apache/commons/fileupload/portlet/PortletRequestContext.java b/src/main/java/org/apache/commons/fileupload/portlet/PortletRequestContext.java
index 23d298bb..75099908 100644
--- a/src/main/java/org/apache/commons/fileupload/portlet/PortletRequestContext.java
+++ b/src/main/java/org/apache/commons/fileupload/portlet/PortletRequestContext.java
@@ -97,7 +97,7 @@ public class PortletRequestContext implements RequestContext {
         try {
             size = Long.parseLong(request.getProperty(FileUploadBase.CONTENT_LENGTH));
         } catch (NumberFormatException e) {
-            size = -1;
+            size = request.getContentLength();
         }
         return size;
     }
diff --git a/src/main/java/org/apache/commons/fileupload/servlet/ServletRequestContext.java b/src/main/java/org/apache/commons/fileupload/servlet/ServletRequestContext.java
index cb738f2c..894a3851 100644
--- a/src/main/java/org/apache/commons/fileupload/servlet/ServletRequestContext.java
+++ b/src/main/java/org/apache/commons/fileupload/servlet/ServletRequestContext.java
@@ -96,7 +96,7 @@ public class ServletRequestContext implements RequestContext {
         try {
             size = Long.parseLong(request.getHeader(FileUploadBase.CONTENT_LENGTH));
         } catch (NumberFormatException e) {
-            size = -1;
+            size = request.getContentLength();
         }
         return size;
     }
