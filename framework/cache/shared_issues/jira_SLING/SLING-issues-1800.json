<!--
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Thu Oct 23 09:38:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+%22SLING%22+AND+issuetype+%3D+Bug+ORDER+BY+key+DESC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="1800" end="2000" total="4707"/>
                <build-info>
            <version>8.20.10</version>
            <build-number>820010</build-number>
            <build-date>22-06-2022</build-date>
        </build-info>

<item>
            <title>[SLING-6957] Failing tests when updating version of org.apache.sling.serviceusermapper to 1.3.2</title>
                <link>https://issues.apache.org/jira/browse/SLING-6957</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;when updating the version of &lt;tt&gt;org.apache.sling.serviceusermapper&lt;/tt&gt; from &lt;em&gt;1.0.0&lt;/em&gt; to &lt;em&gt;1.3.2&lt;/em&gt; within the pom.xml of &lt;tt&gt;org.apache.sling.jcr.base&lt;/tt&gt;, the build of this module fails the following tests:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Running org.apache.sling.jcr.base.RepositoryInitializersTest
Tests run: 4, Failures: 0, Errors: 4, Skipped: 0, Time elapsed: 0.155 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.sling.jcr.base.RepositoryInitializersTest
inOrderInitializers(org.apache.sling.jcr.base.RepositoryInitializersTest)  Time elapsed: 0.121 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.lang.RuntimeException: Unable to initialize JCR_MOCK resource resolver factory: No matching activation method with name &lt;span class=&quot;code-quote&quot;&gt;&apos;configure&apos;&lt;/span&gt;  found in &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.sling.serviceusermapping.impl.ServiceUserMapperImpl
	at org.apache.sling.testing.mock.sling.context.ContextResourceResolverFactory.get(ContextResourceResolverFactory.java:69)
	at org.apache.sling.testing.mock.sling.context.SlingContextImpl.newResourceResolverFactory(SlingContextImpl.java:107)
	at org.apache.sling.testing.mock.sling.context.SlingContextImpl.setUp(SlingContextImpl.java:98)
	at org.apache.sling.testing.mock.sling.junit.SlingContext.access$000(SlingContext.java:32)
	at org.apache.sling.testing.mock.sling.junit.SlingContext$1.before(SlingContext.java:113)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:46)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: java.lang.RuntimeException: No matching activation method with name &lt;span class=&quot;code-quote&quot;&gt;&apos;configure&apos;&lt;/span&gt;  found in &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.sling.serviceusermapping.impl.ServiceUserMapperImpl
	at org.apache.sling.testing.mock.osgi.OsgiServiceUtil.activateDeactivate(OsgiServiceUtil.java:157)
	at org.apache.sling.testing.mock.osgi.MockOsgi.activate(MockOsgi.java:190)
	at org.apache.sling.testing.mock.sling.ResourceResolverFactoryInitializer.registerServiceIfNotPresent(ResourceResolverFactoryInitializer.java:160)
	at org.apache.sling.testing.mock.sling.ResourceResolverFactoryInitializer.ensureResourceResolverFactoryActivatorDependencies(ResourceResolverFactoryInitializer.java:117)
	at org.apache.sling.testing.mock.sling.ResourceResolverFactoryInitializer.setUp(ResourceResolverFactoryInitializer.java:74)
	at org.apache.sling.testing.mock.sling.MockSling.newResourceResolverFactory(MockSling.java:88)
	at org.apache.sling.testing.mock.sling.context.ContextResourceResolverFactory.get(ContextResourceResolverFactory.java:45)
	at org.apache.sling.testing.mock.sling.context.SlingContextImpl.newResourceResolverFactory(SlingContextImpl.java:107)
	at org.apache.sling.testing.mock.sling.context.SlingContextImpl.setUp(SlingContextImpl.java:98)
	at org.apache.sling.testing.mock.sling.junit.SlingContext.access$000(SlingContext.java:32)
	at org.apache.sling.testing.mock.sling.junit.SlingContext$1.before(SlingContext.java:113)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:46)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)

noRepositoryOnError(org.apache.sling.jcr.base.RepositoryInitializersTest)  Time elapsed: 0.013 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.lang.RuntimeException: Unable to initialize JCR_MOCK resource resolver factory: No matching activation method with name &lt;span class=&quot;code-quote&quot;&gt;&apos;configure&apos;&lt;/span&gt;  found in &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.sling.serviceusermapping.impl.ServiceUserMapperImpl
	at org.apache.sling.testing.mock.sling.context.ContextResourceResolverFactory.get(ContextResourceResolverFactory.java:69)
	at org.apache.sling.testing.mock.sling.context.SlingContextImpl.newResourceResolverFactory(SlingContextImpl.java:107)
	at org.apache.sling.testing.mock.sling.context.SlingContextImpl.setUp(SlingContextImpl.java:98)
	at org.apache.sling.testing.mock.sling.junit.SlingContext.access$000(SlingContext.java:32)
	at org.apache.sling.testing.mock.sling.junit.SlingContext$1.before(SlingContext.java:113)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:46)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: java.lang.RuntimeException: No matching activation method with name &lt;span class=&quot;code-quote&quot;&gt;&apos;configure&apos;&lt;/span&gt;  found in &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.sling.serviceusermapping.impl.ServiceUserMapperImpl
	at org.apache.sling.testing.mock.osgi.OsgiServiceUtil.activateDeactivate(OsgiServiceUtil.java:157)
	at org.apache.sling.testing.mock.osgi.MockOsgi.activate(MockOsgi.java:190)
	at org.apache.sling.testing.mock.sling.ResourceResolverFactoryInitializer.registerServiceIfNotPresent(ResourceResolverFactoryInitializer.java:160)
	at org.apache.sling.testing.mock.sling.ResourceResolverFactoryInitializer.ensureResourceResolverFactoryActivatorDependencies(ResourceResolverFactoryInitializer.java:117)
	at org.apache.sling.testing.mock.sling.ResourceResolverFactoryInitializer.setUp(ResourceResolverFactoryInitializer.java:74)
	at org.apache.sling.testing.mock.sling.MockSling.newResourceResolverFactory(MockSling.java:88)
	at org.apache.sling.testing.mock.sling.context.ContextResourceResolverFactory.get(ContextResourceResolverFactory.java:45)
	at org.apache.sling.testing.mock.sling.context.SlingContextImpl.newResourceResolverFactory(SlingContextImpl.java:107)
	at org.apache.sling.testing.mock.sling.context.SlingContextImpl.setUp(SlingContextImpl.java:98)
	at org.apache.sling.testing.mock.sling.junit.SlingContext.access$000(SlingContext.java:32)
	at org.apache.sling.testing.mock.sling.junit.SlingContext$1.before(SlingContext.java:113)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:46)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)

noRepositoryOnException(org.apache.sling.jcr.base.RepositoryInitializersTest)  Time elapsed: 0.005 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.lang.RuntimeException: Unable to initialize JCR_MOCK resource resolver factory: No matching activation method with name &lt;span class=&quot;code-quote&quot;&gt;&apos;configure&apos;&lt;/span&gt;  found in &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.sling.serviceusermapping.impl.ServiceUserMapperImpl
	at org.apache.sling.testing.mock.sling.context.ContextResourceResolverFactory.get(ContextResourceResolverFactory.java:69)
	at org.apache.sling.testing.mock.sling.context.SlingContextImpl.newResourceResolverFactory(SlingContextImpl.java:107)
	at org.apache.sling.testing.mock.sling.context.SlingContextImpl.setUp(SlingContextImpl.java:98)
	at org.apache.sling.testing.mock.sling.junit.SlingContext.access$000(SlingContext.java:32)
	at org.apache.sling.testing.mock.sling.junit.SlingContext$1.before(SlingContext.java:113)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:46)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: java.lang.RuntimeException: No matching activation method with name &lt;span class=&quot;code-quote&quot;&gt;&apos;configure&apos;&lt;/span&gt;  found in &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.sling.serviceusermapping.impl.ServiceUserMapperImpl
	at org.apache.sling.testing.mock.osgi.OsgiServiceUtil.activateDeactivate(OsgiServiceUtil.java:157)
	at org.apache.sling.testing.mock.osgi.MockOsgi.activate(MockOsgi.java:190)
	at org.apache.sling.testing.mock.sling.ResourceResolverFactoryInitializer.registerServiceIfNotPresent(ResourceResolverFactoryInitializer.java:160)
	at org.apache.sling.testing.mock.sling.ResourceResolverFactoryInitializer.ensureResourceResolverFactoryActivatorDependencies(ResourceResolverFactoryInitializer.java:117)
	at org.apache.sling.testing.mock.sling.ResourceResolverFactoryInitializer.setUp(ResourceResolverFactoryInitializer.java:74)
	at org.apache.sling.testing.mock.sling.MockSling.newResourceResolverFactory(MockSling.java:88)
	at org.apache.sling.testing.mock.sling.context.ContextResourceResolverFactory.get(ContextResourceResolverFactory.java:45)
	at org.apache.sling.testing.mock.sling.context.SlingContextImpl.newResourceResolverFactory(SlingContextImpl.java:107)
	at org.apache.sling.testing.mock.sling.context.SlingContextImpl.setUp(SlingContextImpl.java:98)
	at org.apache.sling.testing.mock.sling.junit.SlingContext.access$000(SlingContext.java:32)
	at org.apache.sling.testing.mock.sling.junit.SlingContext$1.before(SlingContext.java:113)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:46)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)

reverseOrderInitializers(org.apache.sling.jcr.base.RepositoryInitializersTest)  Time elapsed: 0.005 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.lang.RuntimeException: Unable to initialize JCR_MOCK resource resolver factory: No matching activation method with name &lt;span class=&quot;code-quote&quot;&gt;&apos;configure&apos;&lt;/span&gt;  found in &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.sling.serviceusermapping.impl.ServiceUserMapperImpl
	at org.apache.sling.testing.mock.sling.context.ContextResourceResolverFactory.get(ContextResourceResolverFactory.java:69)
	at org.apache.sling.testing.mock.sling.context.SlingContextImpl.newResourceResolverFactory(SlingContextImpl.java:107)
	at org.apache.sling.testing.mock.sling.context.SlingContextImpl.setUp(SlingContextImpl.java:98)
	at org.apache.sling.testing.mock.sling.junit.SlingContext.access$000(SlingContext.java:32)
	at org.apache.sling.testing.mock.sling.junit.SlingContext$1.before(SlingContext.java:113)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:46)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: java.lang.RuntimeException: No matching activation method with name &lt;span class=&quot;code-quote&quot;&gt;&apos;configure&apos;&lt;/span&gt;  found in &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.sling.serviceusermapping.impl.ServiceUserMapperImpl
	at org.apache.sling.testing.mock.osgi.OsgiServiceUtil.activateDeactivate(OsgiServiceUtil.java:157)
	at org.apache.sling.testing.mock.osgi.MockOsgi.activate(MockOsgi.java:190)
	at org.apache.sling.testing.mock.sling.ResourceResolverFactoryInitializer.registerServiceIfNotPresent(ResourceResolverFactoryInitializer.java:160)
	at org.apache.sling.testing.mock.sling.ResourceResolverFactoryInitializer.ensureResourceResolverFactoryActivatorDependencies(ResourceResolverFactoryInitializer.java:117)
	at org.apache.sling.testing.mock.sling.ResourceResolverFactoryInitializer.setUp(ResourceResolverFactoryInitializer.java:74)
	at org.apache.sling.testing.mock.sling.MockSling.newResourceResolverFactory(MockSling.java:88)
	at org.apache.sling.testing.mock.sling.context.ContextResourceResolverFactory.get(ContextResourceResolverFactory.java:45)
	at org.apache.sling.testing.mock.sling.context.SlingContextImpl.newResourceResolverFactory(SlingContextImpl.java:107)
	at org.apache.sling.testing.mock.sling.context.SlingContextImpl.setUp(SlingContextImpl.java:98)
	at org.apache.sling.testing.mock.sling.junit.SlingContext.access$000(SlingContext.java:32)
	at org.apache.sling.testing.mock.sling.junit.SlingContext$1.before(SlingContext.java:113)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:46)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)

Running org.apache.sling.jcr.base.util.AccessControlUtilTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in org.apache.sling.jcr.base.util.AccessControlUtilTest

Results :

Tests in error: 
  RepositoryInitializersTest.inOrderInitializers &#187; &lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt; Unable to initialize ...
  RepositoryInitializersTest.noRepositoryOnError &#187; &lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt; Unable to initialize ...
  RepositoryInitializersTest.noRepositoryOnException &#187; &lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt; Unable to initial...
  RepositoryInitializersTest.reverseOrderInitializers &#187; &lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt; Unable to initia...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I spottet the error when introducing an extension to  the &lt;tt&gt;org.apache.sling.serviceusermapper&lt;/tt&gt; and tried to update &lt;tt&gt;org.apache.sling.jcr.base&lt;/tt&gt;. &lt;/p&gt;

&lt;p&gt;Revering my changes and just updating the version to the latest stable release, showed the exact same problem and I concluded that the problem is located elsewhere.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=asanso&quot; class=&quot;user-hover&quot; rel=&quot;asanso&quot;&gt;asanso&lt;/a&gt;, as discuss i would be glad if you take a close look at this.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13079766">SLING-6957</key>
            <summary>Failing tests when updating version of org.apache.sling.serviceusermapper to 1.3.2</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="asanso">Antonio Sanso</assignee>
                                    <reporter username="angela">Angela Schreiber</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Jun 2017 13:31:19 +0000</created>
                <updated>Fri, 21 Jul 2017 12:36:40 +0000</updated>
                            <resolved>Thu, 29 Jun 2017 06:31:42 +0000</resolved>
                                                    <fixVersion>JCR Base 3.0.4</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16049199" author="anchela" created="Wed, 14 Jun 2017 13:56:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=asanso&quot; class=&quot;user-hover&quot; rel=&quot;asanso&quot;&gt;asanso&lt;/a&gt;, i tried a few more things with different versions of the various testing-mocking modules referenced in &lt;em&gt;org.apache.sling.jcr.base&lt;/em&gt; =&amp;gt; always different errors but not a single one that worked. &lt;/p&gt;</comment>
                            <comment id="16057085" author="asanso" created="Wed, 21 Jun 2017 07:19:31 +0000"  >&lt;p&gt;related mailing thread &lt;a href=&quot;http://www.mail-archive.com/dev@sling.apache.org/msg68743.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.mail-archive.com/dev@sling.apache.org/msg68743.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16067836" author="asanso" created="Thu, 29 Jun 2017 06:31:08 +0000"  >&lt;p&gt;fixed in r1800232&lt;/p&gt;</comment>
                            <comment id="16067838" author="asanso" created="Thu, 29 Jun 2017 06:32:50 +0000"  >&lt;p&gt;see also &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-5667&quot; title=&quot;MockBundleContext.getServiceReference(...) does not return service reference with highest ranking&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-5667&quot;&gt;&lt;del&gt;SLING-5667&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="13081334">SLING-6973</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12959177">SLING-5667</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3g9hb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6956] Sling Resource Merger: Resources being overlaid are always listed at the end of the list</title>
                <link>https://issues.apache.org/jira/browse/SLING-6956</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Due to the change in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4915&quot; title=&quot;Order of sub-nodes is not maintained in case of a merge&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4915&quot;&gt;&lt;del&gt;SLING-4915&lt;/del&gt;&lt;/a&gt;, all overlaid resources are now always listed last!&lt;br/&gt;
This is also not desired. Only in case some resources have been added which were not defined by the underlying resource, the order should be changed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13079730">SLING-6956</key>
            <summary>Sling Resource Merger: Resources being overlaid are always listed at the end of the list</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Jun 2017 11:23:52 +0000</created>
                <updated>Tue, 20 Jun 2017 11:36:01 +0000</updated>
                            <resolved>Fri, 16 Jun 2017 13:49:49 +0000</resolved>
                                    <version>Resource Merger 1.3.2</version>
                                    <fixVersion>Resource Merger 1.3.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16049076" author="kwin" created="Wed, 14 Jun 2017 11:29:36 +0000"  >&lt;p&gt;Some more examples&lt;br/&gt;
Child resource being added by the overlaid resource&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;/libs/p1/components/c1
  node1
  node2
  node3
/libs/p2/components/c1 (sling:resourceSuperType=/libs/p1/components/c1)
  node4
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; should lead to the new items being added at the end of the list&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  node1
  node2
  node3
  node4
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Only one underlying resources being modified &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;/libs/p1/components/c1
  node1
  node2
  node3
/libs/p2/components/c1 (sling:resourceSuperType=/libs/p1/components/c1)
  node2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; should not change the order&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  node1
  node2
  node3
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Some underlying resource being overlaid in a different order&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;/libs/p1/components/c1
  node1
  node3
  node5
/libs/p2/components/c1 (sling:resourceSuperType=/libs/p1/components/c1)
  node2
  node3
  node4
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; should lead to the order from the overlaid resources being kept after the non-overlaid resources&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  node1
  node5
  node2
  node3
  node4
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16051921" author="kwin" created="Fri, 16 Jun 2017 13:48:13 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1798927&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1798927&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12849890">SLING-4915</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 19 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3g99b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6955] Convert Sling website to JBake and gitpubsub</title>
                <link>https://issues.apache.org/jira/browse/SLING-6955</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I&apos;ve started experimenting with JBake to generate the Sling website. If that works well we might switch to that + gitpubsub to have a more flexible way to generate the site.&lt;/p&gt;

&lt;p&gt;My current experiment is at &lt;a href=&quot;https://github.com/bdelacretaz/sling-jbake&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/bdelacretaz/sling-jbake&lt;/a&gt;, at this point the site starts looking like the current one and many pages work well.&lt;/p&gt;

&lt;p&gt;Update: it&apos;s now at &lt;a href=&quot;https://github.com/apache/sling-site&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-site&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Internal links will need to be converted, all *.md files need a more complete &quot;front matter&quot; section, currently I have a stub for that, and I think images need to move under the assets folder.&lt;/p&gt;

&lt;p&gt;To play with that, generate the site with the bake.sh script (setup shamelessly copied from &lt;a href=&quot;https://github.com/apache/incubator-tamaya-site&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-tamaya-site&lt;/a&gt;)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13079694">SLING-6955</key>
            <summary>Convert Sling website to JBake and gitpubsub</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Jun 2017 08:33:22 +0000</created>
                <updated>Wed, 5 Aug 2020 10:19:57 +0000</updated>
                            <resolved>Fri, 29 Sep 2017 08:24:06 +0000</resolved>
                                                                    <component>Site</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="16048873" author="bdelacretaz" created="Wed, 14 Jun 2017 08:38:01 +0000"  >&lt;p&gt;Contributions are welcome of course, for now I&apos;m aiming to recreate the website without any layout changes, to be able to validate the conversion.&lt;/p&gt;</comment>
                            <comment id="16049772" author="bdelacretaz" created="Wed, 14 Jun 2017 22:53:57 +0000"  >&lt;p&gt;The site looks pretty good now but there&apos;s a number of &quot;small&quot; things to fix, I have added a TODO list in the README.&lt;/p&gt;</comment>
                            <comment id="16050071" author="rombert" created="Thu, 15 Jun 2017 06:50:26 +0000"  >&lt;p&gt;Being able to build the website locally for various tests would be great. Also, moving it to git would be an interesting first step in our git transition.&lt;/p&gt;</comment>
                            <comment id="16050124" author="kwin" created="Thu, 15 Jun 2017 08:00:21 +0000"  >&lt;p&gt;Could someone list here quickly the drawbacks of the Apache CMS (&lt;a href=&quot;https://www.apache.org/dev/cms.html)?&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.apache.org/dev/cms.html)?&lt;/a&gt; Currently I am not clearly seeing what problems we try to solve with the new website. Let me start the list here with things I see&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Local builds are hard to achieve&lt;/li&gt;
	&lt;li&gt;Based in SVN instead of Git&lt;/li&gt;
	&lt;li&gt;It seems that the Apache CMS is basically no longer maintained/developed&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;But migrating the website again seems quite some effort, given the fact that even the last migration is not 100% finished yet...&lt;/p&gt;</comment>
                            <comment id="16050127" author="rombert" created="Thu, 15 Jun 2017 08:07:37 +0000"  >&lt;p&gt;Those seem to be the drawbacks that I see. The first 2 are also factors in discouraging external contributors. If we move to a more standard stack it should be simpler for casual contributors.&lt;/p&gt;</comment>
                            <comment id="16050274" author="bdelacretaz" created="Thu, 15 Jun 2017 10:11:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; I agree with your list. I think making local builds + staging easier is a big plus, and the fact that the Apache CMS development stopped is a major problem going forward.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;...even the last migration is not 100% finished yet...&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Do you see concrete points which we wouldn&apos;t be able to solve with JBake? I agree that a new migration will probably bring a few new differences with existing content, and that&apos;s not ideal, but breaking things earlier than later (i.e. when the Apache CMS is eventually retired) is probably better.&lt;/p&gt;

&lt;p&gt;I have categorized the TODOs at &lt;a href=&quot;https://github.com/bdelacretaz/sling-jbake&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/bdelacretaz/sling-jbake&lt;/a&gt; and it doesn&apos;t look dramatic.&lt;/p&gt;

&lt;p&gt;I&apos;m traveling these days and this is a good project to work on in the intervals, so I&apos;m hoping to make more progress in the next few days. &lt;/p&gt;
</comment>
                            <comment id="16050277" author="kwin" created="Thu, 15 Jun 2017 10:13:53 +0000"  >&lt;p&gt;Is there anywhere an official statement from Apache about the CMS no longer being maintained? Is there a replacement recommendation from Apache INFRA maybe?&lt;/p&gt;</comment>
                            <comment id="16050356" author="rombert" created="Thu, 15 Jun 2017 11:26:14 +0000"  >&lt;p&gt;The closest that I found was &lt;a href=&quot;https://issues.apache.org/jira/browse/INFRA-13644?focusedCommentId=16035309&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16035309&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/INFRA-13644?focusedCommentId=16035309&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16035309&lt;/a&gt; &lt;/p&gt;</comment>
                            <comment id="16050376" author="bdelacretaz" created="Thu, 15 Jun 2017 11:57:41 +0000"  >&lt;blockquote&gt;&lt;p&gt;Is there anywhere an official statement from Apache about the CMS no longer being maintained? &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I don&apos;t have references right now but the Apache CMS being deprecated and not maintained anymore has been mentioned several times by our infra team, including the example that Robert mentions&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Is there a replacement recommendation from Apache INFRA maybe?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The recommendation is to use whatever we want to generate the website, and gitpubsub to sync the generated pages, which matches this effort.&lt;/p&gt;</comment>
                            <comment id="16053890" author="bdelacretaz" created="Mon, 19 Jun 2017 12:20:24 +0000"  >&lt;p&gt;Note that JBake is moving from the pegdown Markdown parser to flexmark-java, probably in the next version, see &lt;a href=&quot;https://github.com/jbake-org/jbake/pull/376&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jbake-org/jbake/pull/376&lt;/a&gt; and &lt;a href=&quot;https://github.com/vsch/flexmark-java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/vsch/flexmark-java&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16053960" author="bdelacretaz" created="Mon, 19 Jun 2017 13:12:03 +0000"  >&lt;p&gt;I have moved the repository to &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=sling-site.git&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=sling-site.git&lt;/a&gt; and asked for a temporary live setup to test the results before switching, INFRA-14390&lt;/p&gt;</comment>
                            <comment id="16055279" author="rombert" created="Tue, 20 Jun 2017 07:29:51 +0000"  >&lt;p&gt;My notes after some quick tests:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;tables still seem to be broken, see &lt;a href=&quot;http://localhost:8820/documentation/development/slingstart.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8820/documentation/development/slingstart.html&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;code formatting does not work properly, see &lt;a href=&quot;http://localhost:8820/documentation/development/slingstart.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8820/documentation/development/slingstart.html&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;HTML output as-is ( maybe due to code formatting not working ) , see &lt;a href=&quot;http://localhost:8820/documentation/bundles/manipulating-content-the-slingpostservlet-servlets-post.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8820/documentation/bundles/manipulating-content-the-slingpostservlet-servlets-post.html&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;warning icon not visible , see &lt;a href=&quot;http://localhost:8820/documentation/bundles/manipulating-content-the-slingpostservlet-servlets-post.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8820/documentation/bundles/manipulating-content-the-slingpostservlet-servlets-post.html&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;favicon is the jetty one not the sling one. Maybe due to the local Jetty server?&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16055844" author="bdelacretaz" created="Tue, 20 Jun 2017 14:27:13 +0000"  >&lt;p&gt;Thanks for testing!&lt;/p&gt;

&lt;p&gt;Commits 825c0f9 and f1fa804 fixed the problematic tables - a single minus sign in a cell causes them to break, I have replaced that with a minus sign in brackets as a workaround (those entries mean &quot;no default value&quot;).&lt;/p&gt;

&lt;p&gt;Preformatted text and code was broken by a previous mass modification, I have reverted that, should be ok now.&lt;/p&gt;

&lt;p&gt;I think &lt;a href=&quot;http://localhost:8820/documentation/bundles/manipulating-content-the-slingpostservlet-servlets-post.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8820/documentation/bundles/manipulating-content-the-slingpostservlet-servlets-post.html&lt;/a&gt; is also ok as a result.&lt;/p&gt;

&lt;p&gt;All the icons were missing, should be fixed by commit 081c292&lt;/p&gt;

&lt;p&gt;Favicon should be fixed by commit 08947a4&lt;/p&gt;

&lt;p&gt;Can you cross-check? And feel free to dig deeper for other issues which are not in the README todo list &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;
</comment>
                            <comment id="16055927" author="bdelacretaz" created="Tue, 20 Jun 2017 15:22:55 +0000"  >&lt;p&gt;There are still a few pages with broken tables, I have listed them in the README, will fix them later.&lt;/p&gt;</comment>
                            <comment id="16059195" author="rombert" created="Thu, 22 Jun 2017 11:25:30 +0000"  >&lt;p&gt;Thanks, it&apos;s starting to look good &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Some more notes besides what is listed in the README&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;breadcrumbs are missing ; contrast &lt;a href=&quot;http://localhost:8820/project-information/project-team.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8820/project-information/project-team.html&lt;/a&gt; with &lt;a href=&quot;http://sling.apache.org/documentation/the-sling-engine.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/documentation/the-sling-engine.html&lt;/a&gt; .&lt;/li&gt;
	&lt;li&gt;the sidebar design differs quite a bit. I think the old one was better. We don&apos;t have to keep it but I think we should improve what we have before going live&lt;/li&gt;
	&lt;li&gt;the preformat area does not have any padding ( fixed with 6931ba4fedd014824ecb643c31fede0b4e8826d9 )&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;A minor thing, but I think it would be good to get code highlighting back. It makes both java and HTML code much easier to read.&lt;/p&gt;</comment>
                            <comment id="16063101" author="bdelacretaz" created="Mon, 26 Jun 2017 13:45:29 +0000"  >&lt;p&gt;At commit acf7a37 I have fixed the sidebar layout as well as a number of other things, see &lt;a href=&quot;https://github.com/apache/sling-site&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-site&lt;/a&gt; for details.&lt;/p&gt;

&lt;p&gt;I have quickly skimmed all pages and didn&apos;t spot any ugly things.&lt;/p&gt;

&lt;p&gt;The live downloads page at &lt;a href=&quot;https://sling.apache.org/ng/downloads.cgi&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/downloads.cgi&lt;/a&gt; works on the /ng/ publication of this, but beware: the new site uses absolute links in places, so from the /ng/ tree it&apos;s easy to be back on the current site. I&apos;ve asked for a test setup at the root of a test domain, but no reply yet at INFRA-14390 - however the rest of the site can be tested outside of that live setup.&lt;/p&gt;

&lt;p&gt;There are still a few TODOs but I think we might go live, after fixing the page titles, resynchronizing the content with svn changes since revision 1798604 and confirming with the Sling team, do you agree? Or do you see any blockers?&lt;/p&gt;</comment>
                            <comment id="16064562" author="rombert" created="Tue, 27 Jun 2017 09:47:48 +0000"  >&lt;p&gt;The conversion looks good overall to me, no major issues found. Some minor things I noticed:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;http://localhost:8820/documentation/development/maven-launchpad-plugin.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8820/documentation/development/maven-launchpad-plugin.html&lt;/a&gt; has a &lt;tt&gt;translation_pending: true&lt;/tt&gt; attribute included &quot;as-is&quot;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;http://localhost:8820/documentation/development/maventipsandtricks.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8820/documentation/development/maventipsandtricks.html&lt;/a&gt; -  the MAVEN_OPTS header looks weird&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;http://localhost:8820/documentation/tutorials-how-tos/installing-and-upgrading-bundles.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8820/documentation/tutorials-how-tos/installing-and-upgrading-bundles.html&lt;/a&gt; has an &lt;tt&gt;Excerpt: ...&lt;/tt&gt; attribute included &quot;as-is&quot; . Note also the &lt;tt&gt;:::html&lt;/tt&gt; preamble for the markup, I never saw that one until now &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;A random thought - is it possible (and easy) with JBake to simply redirect the &lt;tt&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;TOC&amp;#93;&lt;/span&gt;&lt;/tt&gt; macro to generate nothing? It might make the transition smoother and the site would look less broken.&lt;/p&gt;

&lt;p&gt;And yes, I think it&apos;s a good time to resync and discuss on the dev list ( not necessarily in that order ).&lt;/p&gt;</comment>
                            <comment id="16064570" author="rombert" created="Tue, 27 Jun 2017 09:53:56 +0000"  >&lt;p&gt;Forgot - is there an easy way to keep the JBake binaries out of our git repository? It&apos;s not a show-stopper, but would make cloning the repo faster and not be retained in the history as we switch to newer versions of JBake.&lt;/p&gt;</comment>
                            <comment id="16065192" author="bdelacretaz" created="Tue, 27 Jun 2017 17:45:05 +0000"  >&lt;p&gt;Thanks for the feedback, I have fixed all the issues that you mention, and replaced the &lt;span class=&quot;error&quot;&gt;&amp;#91;TOC&amp;#93;&lt;/span&gt; with an HTML comment for now.&lt;/p&gt;

&lt;p&gt;The current conversion is at &lt;a href=&quot;https://sling.apache.org/ng&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng&lt;/a&gt; - as mentioned earlier links within pages might lead to sling.apache.org instead of this /ng/ variant as they are absolute. But links from the left menu as well as &lt;a href=&quot;https://sling.apache.org/ng/sitemap.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/sitemap.html&lt;/a&gt; are correct, and the download page (which uses a CGI script from apache.org) looks good at &lt;a href=&quot;https://sling.apache.org/ng/downloads.cgi&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/downloads.cgi&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I&apos;ll discuss the next steps on our dev list.&lt;/p&gt;</comment>
                            <comment id="16066136" author="bdelacretaz" created="Wed, 28 Jun 2017 08:31:05 +0000"  >&lt;blockquote&gt;&lt;p&gt;is there an easy way to keep the JBake binaries out of our git repository? I&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Turns our there&apos;s a JBake Maven plugin, &lt;a href=&quot;https://github.com/apache/opennlp-site&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/opennlp-site&lt;/a&gt; uses it. &lt;del&gt;I haven&apos;t tested it so far.&lt;/del&gt; Moving to that was easy, see updated site generation instructions in the README.&lt;/p&gt;</comment>
                            <comment id="16066536" author="rombert" created="Wed, 28 Jun 2017 14:13:36 +0000"  >&lt;p&gt;That was fast &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I see that the javadocs links from the right sidebar are broken. Seems they were all deleted with fefc359f3968758de1cce75090417e4437cf0003, was that intentional?&lt;/p&gt;</comment>
                            <comment id="16066579" author="bdelacretaz" created="Wed, 28 Jun 2017 14:27:18 +0000"  >&lt;p&gt;I removed the javadocs to make the website leaner &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Or rather removed them by mistake, thanks for spotting this! Re-added in commit cb7c744.&lt;/p&gt;</comment>
                            <comment id="16067940" author="bdelacretaz" created="Thu, 29 Jun 2017 07:50:26 +0000"  >&lt;p&gt;I have added some basic syntax highlighting in commit f67993d&lt;/p&gt;</comment>
                            <comment id="16072103" author="sseifert@pro-vision.de" created="Mon, 3 Jul 2017 08:15:44 +0000"  >&lt;p&gt;i&apos;ve spotted some issues when browsing through the generated site (and making sure to insert back /ng/ in the URL on some of the links):&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;there is not &quot;changed last by&quot; information on the bottom right side - was quite useful to see how old the information is&lt;/li&gt;
	&lt;li&gt;anchor links to individual headlines/sections do not work - e.g. &lt;a href=&quot;https://sling.apache.org/ng/documentation/the-sling-engine/architecture.html#request-processing&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/documentation/the-sling-engine/architecture.html#request-processing&lt;/a&gt;. the anchor name for &quot;request-processing&quot; is not generated.&lt;/li&gt;
	&lt;li&gt;on the old website when hovering over a section headline a paragraph symbol was displayed with a link to this headline - this was useful to get a direct link to this section.&lt;/li&gt;
	&lt;li&gt;some glitches e.g. on &lt;a href=&quot;https://sling.apache.org/ng/documentation/bundles/models.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/documentation/bundles/models.html&lt;/a&gt; compared with &lt;a href=&quot;https://sling.apache.org/ng/documentation/bundles/models.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/documentation/bundles/models.html&lt;/a&gt;
	&lt;ol&gt;
		&lt;li&gt;the TOC is missing (useful for very long documentation pages)&lt;/li&gt;
		&lt;li&gt;some code snippts have a &lt;tt&gt;::java&lt;/tt&gt; (or other) formatting hint. this hint is displayed and not interpreted.&lt;/li&gt;
		&lt;li&gt;there is broken link showing &lt;tt&gt;*See also &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4161&quot; title=&quot;Support Sling Validation through a new field of the Model annotation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4161&quot;&gt;&lt;del&gt;SLING-4161&lt;/del&gt;&lt;/a&gt;(&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4161)*&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SLING-4161)*&lt;/a&gt;&lt;/tt&gt;&lt;/li&gt;
		&lt;li&gt;in the chapter &quot;Annotation Reference&quot; formatting of a code snipped is broken altogether&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
	&lt;li&gt;on &lt;a href=&quot;https://sling.apache.org/ng/documentation/bundles/context-aware-configuration/context-aware-configuration.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/documentation/bundles/context-aware-configuration/context-aware-configuration.html&lt;/a&gt; the code snippet formatting is broken as well in some chapters, e.g. &quot;Describe configurations via annotation classes&quot;&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="16082165" author="bdelacretaz" created="Tue, 11 Jul 2017 13:01:46 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert%40pro-vision.de&quot; class=&quot;user-hover&quot; rel=&quot;sseifert@pro-vision.de&quot;&gt;sseifert@pro-vision.de&lt;/a&gt; for your feedback!&lt;/p&gt;

&lt;p&gt;The following commits should have fixed all this, the /ng/ pages are updated:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;55a9a87 Hide syntax markers which are not implemented so far
4c87326 Fix SLING-4161 link
2d5d2f3 Fix code blocks which used tabs instead of spaces
337229c Also ignore html code block marker
05478cf Reactivate anchor links to sections
8d63c07 Update TODO in README
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The code blocks and broken link issues required tweaking the content, due to slight differences in the markdown parsers and slightly incorrect content.&lt;/p&gt;

&lt;p&gt;The section headers do not display a paragraph sign (not sure how that was implemented) but they point to the section links.&lt;/p&gt;

&lt;p&gt;The only thing that I didn&apos;t fix so far is the &quot;last changed by&quot; information, I&apos;m not sure how to get a reliable last changed date in a simple way. Maybe generating a &quot;page history&quot; link to the Git source of the content would be more useful? For now I have added that to the TODOs at &lt;a href=&quot;https://github.com/apache/sling-site/blob/master/README.md&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-site/blob/master/README.md&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16093323" author="sseifert@pro-vision.de" created="Wed, 19 Jul 2017 16:04:06 +0000"  >&lt;p&gt;looks good to me.&lt;/p&gt;

&lt;p&gt;what is still missing - but important - is the possibility to have a toc for a single page. example from live website:&lt;br/&gt;
&lt;a href=&quot;https://sling.apache.org/documentation/bundles/models.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/bundles/models.html&lt;/a&gt;&lt;br/&gt;
toc is missing:&lt;br/&gt;
&lt;a href=&quot;https://sling.apache.org/ng/documentation/bundles/models.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/documentation/bundles/models.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16094477" author="bdelacretaz" created="Thu, 20 Jul 2017 10:16:54 +0000"  >&lt;p&gt;As mentioned at &lt;a href=&quot;https://github.com/apache/sling-site/blob/master/README.md&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-site/blob/master/README.md&lt;/a&gt; the ToC functionality should be available in the next version of JBake, so my idea was to forfeit the ToCs for now and re-enable them as soon as we upgrade to that new version. Would that work for you?&lt;/p&gt;</comment>
                            <comment id="16094481" author="sseifert@pro-vision.de" created="Thu, 20 Jul 2017 10:18:45 +0000"  >&lt;p&gt;yes, ok!&lt;/p&gt;</comment>
                            <comment id="16179323" author="rombert" created="Mon, 25 Sep 2017 17:00:04 +0000"  >&lt;p&gt;Are we stuck on something particular with the migration? I could not find something particular in this Jira issue or dev@sling. And this might give me a chance to test a script for automating creation of git repos &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16179768" author="bdelacretaz" created="Mon, 25 Sep 2017 21:02:19 +0000"  >&lt;p&gt;Nothing in particular, I just need to find time to resync with the current content - that might happen later this week.&lt;/p&gt;</comment>
                            <comment id="16180848" author="bdelacretaz" created="Tue, 26 Sep 2017 14:31:05 +0000"  >&lt;p&gt;I have now resynced the content and the staged &lt;a href=&quot;https://sling.apache.org/ng/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/&lt;/a&gt; website with revision 1809724 of our svn content.&lt;/p&gt;

&lt;p&gt;Note that the links inside pages of that staged website still point to the existing website, the safest way to navigate to the new pages to check them is using &lt;a href=&quot;https://sling.apache.org/ng/sitemap.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/sitemap.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This affected the following pages:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://sling.apache.org/ng/documentation/bundles/content-distribution.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/documentation/bundles/content-distribution.html&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://sling.apache.org/ng/documentation/bundles/content-loading-jcr-contentloader.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/documentation/bundles/content-loading-jcr-contentloader.html&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://sling.apache.org/ng/documentation/bundles/discovery-api-and-impl.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/documentation/bundles/discovery-api-and-impl.html&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://sling.apache.org/ng/documentation/bundles/jcr-installer-provider.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/documentation/bundles/jcr-installer-provider.html&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://sling.apache.org/ng/documentation/bundles/models.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/documentation/bundles/models.html&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://sling.apache.org/ng/documentation/bundles/org-apache-sling-junit-bundles.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/documentation/bundles/org-apache-sling-junit-bundles.html&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://sling.apache.org/ng/documentation/bundles/repository-initialization.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/documentation/bundles/repository-initialization.html&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://sling.apache.org/ng/documentation/bundles/resource-merger.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/documentation/bundles/resource-merger.html&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://sling.apache.org/ng/documentation/bundles/scheduler-service-commons-scheduler.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/documentation/bundles/scheduler-service-commons-scheduler.html&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://sling.apache.org/ng/documentation/bundles/sling-pipes.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/documentation/bundles/sling-pipes.html&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://sling.apache.org/ng/documentation/bundles/sling-query.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/documentation/bundles/sling-query.html&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://sling.apache.org/ng/documentation/bundles/sling-query/basic-ideas.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/documentation/bundles/sling-query/basic-ideas.html&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://sling.apache.org/ng/documentation/bundles/sling-query/examples.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/documentation/bundles/sling-query/examples.html&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://sling.apache.org/ng/documentation/bundles/sling-query/hierarchy-operators.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/documentation/bundles/sling-query/hierarchy-operators.html&lt;/a&gt;&lt;br/&gt;
*&lt;a href=&quot;https://sling.apache.org/ng/documentation/bundles/sling-query/methods.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/documentation/bundles/sling-query/methods.html&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://sling.apache.org/ng/documentation/bundles/sling-query/modifiers.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/documentation/bundles/sling-query/modifiers.html&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://sling.apache.org/ng/documentation/bundles/sling-query/operators.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/documentation/bundles/sling-query/operators.html&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://sling.apache.org/ng/documentation/bundles/sling-query/selectors.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/documentation/bundles/sling-query/selectors.html&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://sling.apache.org/ng/documentation/bundles/sling-query/vs-jcr.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/documentation/bundles/sling-query/vs-jcr.html&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://sling.apache.org/ng/documentation/development/jsr-305.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/documentation/development/jsr-305.html&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://sling.apache.org/ng/documentation/development/release-management.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/documentation/development/release-management.html&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://sling.apache.org/ng/documentation/the-sling-engine/architecture.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/documentation/the-sling-engine/architecture.html&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://sling.apache.org/ng/documentation/the-sling-engine/service-authentication.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/documentation/the-sling-engine/service-authentication.html&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://sling.apache.org/ng/documentation/tutorials-how-tos/46-line-blog.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/documentation/tutorials-how-tos/46-line-blog.html&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://sling.apache.org/ng/news.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/news.html&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://sling.apache.org/ng/old-stuff/scriptengineintegration/groovy-support.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/old-stuff/scriptengineintegration/groovy-support.html&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://sling.apache.org/ng/old-stuff/scriptengineintegration/xslt-processing-pipeline.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/old-stuff/scriptengineintegration/xslt-processing-pipeline.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16180873" author="kwin" created="Tue, 26 Sep 2017 14:46:22 +0000"  >&lt;p&gt;I am wondering why on &lt;a href=&quot;https://sling.apache.org/ng/documentation/bundles/models.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/documentation/bundles/models.html&lt;/a&gt; only some code snippets have syntax highlighting with colouring and others only with bold/regular fonts. The MD source for the different snippets looks more or less the same format (&lt;a href=&quot;https://github.com/apache/sling-site/blob/master/src/main/jbake/content/documentation/bundles/models.md&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-site/blob/master/src/main/jbake/content/documentation/bundles/models.md&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="16180983" author="bdelacretaz" created="Tue, 26 Sep 2017 15:55:20 +0000"  >&lt;p&gt;I have just suggested making the new site live on our dev list, &quot;Ok to replace sling.apache.org with the new JBake-generated site ?&quot;&lt;/p&gt;</comment>
                            <comment id="16181404" author="rombert" created="Tue, 26 Sep 2017 19:34:39 +0000"  >&lt;p&gt;&amp;gt; I am wondering why on &lt;a href=&quot;https://sling.apache.org/ng/documentation/bundles/models.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/ng/documentation/bundles/models.html&lt;/a&gt; only some code snippets have syntax highlighting with colouring and others only with bold/regular fonts.&lt;/p&gt;

&lt;p&gt;It seems that the code is incorrectly detected as css instead of java. The snippets highlighted correctly are wrapped in &lt;tt&gt;&amp;lt;code class=&quot;hljs java&quot;&amp;gt;&lt;/tt&gt; tags and the other ones are wrapped in &lt;tt&gt;&amp;lt;code class=&quot;hljs css&quot;&amp;gt;&lt;/tt&gt;. Not sure whether that&apos;s the case, the snippets are all marked as &lt;tt&gt;::java&lt;/tt&gt; in the source code.&lt;/p&gt;</comment>
                            <comment id="16181463" author="rombert" created="Tue, 26 Sep 2017 20:00:20 +0000"  >&lt;p&gt;So syntax markers are disabled at &lt;a href=&quot;https://github.com/apache/sling-site/blob/master/src/main/jbake/templates/page.tpl#L7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-site/blob/master/src/main/jbake/templates/page.tpl#L7&lt;/a&gt; . Instead of outputting plain &lt;tt&gt;code&lt;/tt&gt; tags and relying on highlight.js autodetection we should set the language directly, e.g. generate &lt;tt&gt;&amp;lt;code class=&quot;java&quot;&amp;gt;&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="16182488" author="bdelacretaz" created="Wed, 27 Sep 2017 12:36:27 +0000"  >&lt;p&gt;I have added client-side automatic table of contents generation for pages of type &quot;page&quot;, see &lt;a href=&quot;https://sling.apache.org/documentation/bundles/manipulating-content-the-slingpostservlet-servlets-post.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/bundles/manipulating-content-the-slingpostservlet-servlets-post.html&lt;/a&gt; for example. Based on Robert&apos;s &lt;a href=&quot;https://github.com/nghuuphuoc/tocjs&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/nghuuphuoc/tocjs&lt;/a&gt; suggestion, thanks!&lt;/p&gt;

&lt;p&gt;For now, all such pages get a ToC, we might want to refine later.&lt;/p&gt;</comment>
                            <comment id="16184221" author="bdelacretaz" created="Thu, 28 Sep 2017 14:06:53 +0000"  >&lt;p&gt;I have asked for the new website to be activated in INFRA-15186 and saved the contents of the current website (except apidocs and components which are static) at &lt;a href=&quot;https://svn.apache.org/repos/asf/sling/site/trunk/site-backup-2017-09-28.zip&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/sling/site/trunk/site-backup-2017-09-28.zip&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16185494" author="bdelacretaz" created="Fri, 29 Sep 2017 08:24:06 +0000"  >&lt;p&gt;&lt;a href=&quot;http://sling.apache.org/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/&lt;/a&gt; is now generated from &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=sling-site.git&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=sling-site.git&lt;/a&gt; , marking this resolved. We&apos;ll create more specific tickets if needed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 4 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3g91b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6951] Sling Resource Merger: hideChildren=&quot;*&quot; incorrectly hides nested local children</title>
                <link>https://issues.apache.org/jira/browse/SLING-6951</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;It seems that the changes to the wildcard handling of the ResourceMerger being done in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-5468&quot; title=&quot;Resource Merger: Provide a way to completely replace the underlying resources&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-5468&quot;&gt;&lt;del&gt;SLING-5468&lt;/del&gt;&lt;/a&gt; only work correctly on the first level. Any deeper nested local nodes are also not displayed when using &lt;tt&gt;sling:hideChildren=&quot;*&quot;&lt;/tt&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13079438">SLING-6951</key>
            <summary>Sling Resource Merger: hideChildren=&quot;*&quot; incorrectly hides nested local children</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Jun 2017 09:56:53 +0000</created>
                <updated>Tue, 20 Jun 2017 11:36:01 +0000</updated>
                            <resolved>Tue, 13 Jun 2017 11:38:07 +0000</resolved>
                                    <version>Resource Merger 1.3.2</version>
                                    <fixVersion>Resource Merger 1.3.4</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16047763" author="kwin" created="Tue, 13 Jun 2017 11:38:07 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1798579&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1798579&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16047831" author="kwin" created="Tue, 13 Jun 2017 12:46:58 +0000"  >&lt;p&gt;After applying this fix, there was another edge case unveiled with underlying grandchildren not correctly hidden. This is fixed with &lt;a href=&quot;https://svn.apache.org/r1798594&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1798594&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12935096">SLING-5468</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 20 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3g7gf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6948] HttpServletResponse.getOutput() and getOutputAsString() return different information</title>
                <link>https://issues.apache.org/jira/browse/SLING-6948</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;HttpServletResponse.getOutput and getOutputAsString are backed by ResponseBodySupport. That class holds both a ServletOutputStream and a PrintWriter, which are not kept in sync. getOutput uses the ServletOutputStream and getOutputAsString uses the PrintWriter.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13078602">SLING-6948</key>
            <summary>HttpServletResponse.getOutput() and getOutputAsString() return different information</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Jun 2017 13:05:58 +0000</created>
                <updated>Tue, 17 Oct 2017 12:51:57 +0000</updated>
                            <resolved>Thu, 15 Jun 2017 19:54:08 +0000</resolved>
                                    <version>Servlet Helpers 1.1.0</version>
                                    <fixVersion>Servlet Helpers 1.0.2</fixVersion>
                    <fixVersion>Servlet Helpers 1.1.2</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16050211" author="sseifert@pro-vision.de" created="Thu, 15 Jun 2017 09:17:11 +0000"  >&lt;p&gt;do you have a unit test to prove this problem?&lt;/p&gt;

&lt;p&gt;the print writer is backed by the same ByteArrayOutputStream ad used by getOutputStream, and both methods getOutput and getOutputAsString use the same source of information for it&apos;s output.&lt;/p&gt;</comment>
                            <comment id="16050372" author="rombert" created="Thu, 15 Jun 2017 11:55:05 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;diff --git a/bundles/extensions/servlet-helpers/src/test/java/org/apache/sling/servlethelpers/MockSlingHttpServletResponseTest.java b/bundles/extensions/servlet-helpers/src/test/java/org/apache/sling/servlethelpers/MockSlingHttpServletResponseTest.java
index 3f72e15f0d..4e1ab73f6e 100644
--- a/bundles/extensions/servlet-helpers/src/test/java/org/apache/sling/servlethelpers/MockSlingHttpServletResponseTest.java
+++ b/bundles/extensions/servlet-helpers/src/test/java/org/apache/sling/servlethelpers/MockSlingHttpServletResponseTest.java
@@ -133,6 +133,7 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;MockSlingHttpServletResponseTest {
         &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; TEST_CONTENT = &lt;span class=&quot;code-quote&quot;&gt;&quot;Der Jodelkaiser &#228;&#246;&#252;&#223;&#8364; &#5792;&#5831;&#5819;&quot;&lt;/span&gt;;
         response.setCharacterEncoding(CharEncoding.UTF_8);
         response.getWriter().write(TEST_CONTENT);
+        assertEquals(TEST_CONTENT, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;(response.getOutput(), CharEncoding.UTF_8));
         assertEquals(TEST_CONTENT, response.getOutputAsString());
 
         response.resetBuffer();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Note that ordering is important, adding the line after the existing &lt;tt&gt;assertEquals&lt;/tt&gt; call does not trigger the error.&lt;/p&gt;</comment>
                            <comment id="16050992" author="sseifert@pro-vision.de" created="Thu, 15 Jun 2017 19:54:08 +0000"  >&lt;p&gt;Completed: At revision: 1798871  (1.1.x)&lt;br/&gt;
Completed: At revision: 1798872  (1.0.x)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 19 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3g35j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6947] MockHttpServletRequest incorrectly calculates pathInfo for path-bound servlets</title>
                <link>https://issues.apache.org/jira/browse/SLING-6947</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I have a servlet bound at /foo/bar . When invoked with the path /foor/bar/baz the path info is expected to be /baz.&lt;/p&gt;

&lt;p&gt;Instead, &lt;tt&gt;org.apache.sling.servlethelpers.MockSlingHttpServletRequest#getPathInfo()&lt;/tt&gt; seems to construct the full request path, including:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the resource path&lt;/li&gt;
	&lt;li&gt;the selector string&lt;/li&gt;
	&lt;li&gt;the extension&lt;/li&gt;
	&lt;li&gt;the suffix&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="13078599">SLING-6947</key>
            <summary>MockHttpServletRequest incorrectly calculates pathInfo for path-bound servlets</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Jun 2017 12:47:42 +0000</created>
                <updated>Tue, 17 Oct 2017 12:51:57 +0000</updated>
                            <resolved>Thu, 15 Jun 2017 10:20:48 +0000</resolved>
                                    <version>Servlet Helpers 1.1.0</version>
                                    <fixVersion>Servlet Helpers 1.0.2</fixVersion>
                    <fixVersion>Servlet Helpers 1.1.2</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16050287" author="sseifert@pro-vision.de" created="Thu, 15 Jun 2017 10:20:49 +0000"  >&lt;p&gt;Completed: At revision: 1798814   (1.1.x)&lt;br/&gt;
Completed: At revision: 1798816  (1.0.x)&lt;/p&gt;

&lt;p&gt;i&apos;ve added a setPathInfo to MockSlingHttpServletRequest.&lt;br/&gt;
in case that is set to a non-null value in the unit test this value is returned, instead of the calculated value (which still makes sense for resourcetype-based servlets).&lt;/p&gt;

&lt;p&gt;it&apos;s a bit difficult to automatically detect the type of registration or way of calling the servlet, because the whole sling engine is not involved in the unit test - the servlet&apos;s methods are usually called directly bypassing everything else.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12994865">SLING-5947</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 19 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3g34v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6944] hours are missing in the healthcheck output</title>
                <link>https://issues.apache.org/jira/browse/SLING-6944</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When executing a healthcheck via the Felix console, the following output is given.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Finished: 2017-06-08 29:32 after 2sec
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As you can see the hours are missing.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13078256">SLING-6944</key>
            <summary>hours are missing in the healthcheck output</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="henzlerg">Georg Henzler</assignee>
                                    <reporter username="fvisser">Feike Visser</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 Jun 2017 09:33:28 +0000</created>
                <updated>Fri, 9 Jun 2017 09:55:46 +0000</updated>
                            <resolved>Fri, 9 Jun 2017 09:55:46 +0000</resolved>
                                                    <fixVersion>Health Check webconsole 1.1.4</fixVersion>
                                    <component>Health Check</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16044236" author="henzlerg" created="Fri, 9 Jun 2017 09:55:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fvisser&quot; class=&quot;user-hover&quot; rel=&quot;fvisser&quot;&gt;fvisser&lt;/a&gt; Thanks for spotting, fixed in &lt;a href=&quot;http://svn.apache.org/r1798181&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1798181&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12872032" name="Screen Shot 2017-06-08 at 11.29.45 AM.png" size="36150" author="fvisser" created="Thu, 8 Jun 2017 09:33:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 20 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3g10n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6942] DistributionUtils#getResourceResolver should use the user session</title>
                <link>https://issues.apache.org/jira/browse/SLING-6942</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;According to &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-5281&quot; title=&quot;Allow execution of distribution requests using calling user session&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-5281&quot;&gt;&lt;del&gt;SLING-5281&lt;/del&gt;&lt;/a&gt;, the resource resolver should use the user session when no subservice user is configured. Currently, this is not the case. See also &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6939&quot; title=&quot;sling distribution leaks jcr sessions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6939&quot;&gt;&lt;del&gt;SLING-6939&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=teofili&quot; class=&quot;user-hover&quot; rel=&quot;teofili&quot;&gt;teofili&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13078030">SLING-6942</key>
            <summary>DistributionUtils#getResourceResolver should use the user session</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="marett">Timothee Maret</assignee>
                                    <reporter username="marett">Timothee Maret</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 Jun 2017 15:18:45 +0000</created>
                <updated>Wed, 21 Jun 2017 13:08:01 +0000</updated>
                                            <version>Content Distribution Core 0.1.12</version>
                                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16041065" author="marett" created="Wed, 7 Jun 2017 15:36:28 +0000"  >&lt;p&gt;The cause seems to be that &lt;tt&gt;ResourceResolverFactory#getServiceResourceResolver&lt;/tt&gt; rightfully (per API &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;) does not honour the &lt;tt&gt;user.jcr.session&lt;/tt&gt; parameter.&lt;/p&gt;

&lt;p&gt;Attaching a patch to solve the issue.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling/blob/trunk/bundles/api/src/main/java/org/apache/sling/api/resource/ResourceResolverFactory.java#L162-L189&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/bundles/api/src/main/java/org/apache/sling/api/resource/ResourceResolverFactory.java#L162-L189&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16042394" author="teofili" created="Thu, 8 Jun 2017 08:13:38 +0000"  >&lt;p&gt;+1 thanks Tim!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13077854">SLING-6939</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12911533">SLING-5281</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12871848" name="SLING-6942.patch" size="3139" author="marett" created="Wed, 7 Jun 2017 15:36:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3fzmf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6940] JSPC plugin violates Maven naming convention</title>
                <link>https://issues.apache.org/jira/browse/SLING-6940</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;the current plugin name &lt;tt&gt;maven-jspc-plugin&lt;/tt&gt; violates the maven plugin convention, as it starts with &quot;maven-&quot;:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] --- maven-plugin-plugin:3.4:helpmojo (help-goal) @ maven-jspc-plugin ---
[ERROR]

Artifact Ids of the format maven-___-plugin are reserved for
plugins in the Group Id org.apache.maven.plugins
Please change your artifactId to the format ___-maven-plugin
In the future this error will break the build.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Suggest to rename it to: &lt;tt&gt;sling-jspc-maven-plugin&lt;/tt&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13077864">SLING-6940</key>
            <summary>JSPC plugin violates Maven naming convention</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="tripod">Tobias Bocanegra</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 Jun 2017 02:57:21 +0000</created>
                <updated>Thu, 15 Jun 2017 14:05:52 +0000</updated>
                            <resolved>Mon, 12 Jun 2017 12:37:39 +0000</resolved>
                                    <version>Maven JSPC Plugin 2.0.8</version>
                                    <fixVersion>Maven JSPC Plugin 2.1.0</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16046507" author="cziegeler" created="Mon, 12 Jun 2017 12:37:39 +0000"  >&lt;p&gt;Renamed to jspc-maven-plugin in rev 1798449 (Sling is already part of the group id)&lt;/p&gt;</comment>
                            <comment id="16050529" author="tripod" created="Thu, 15 Jun 2017 14:05:52 +0000"  >&lt;p&gt;new maven coordinates:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;lt;groupId&amp;gt;org.apache.sling&amp;lt;/groupId&amp;gt;
&amp;lt;artifactId&amp;gt;jspc-maven-plugin&amp;lt;/artifactId&amp;gt;
&amp;lt;version&amp;gt;2.1.0&amp;lt;/version&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 19 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3fylj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6939] sling distribution leaks jcr sessions</title>
                <link>https://issues.apache.org/jira/browse/SLING-6939</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The code for acquiring a ResourceResolver in sling distribution core leaks a JCR Session.  In tests I was running 50,000 sessions were leaked.&lt;/p&gt;

&lt;p&gt;The code in DistributionUtils.getResourceResolver() creates a Session, then passes it to the ResourceResolver.getServiceResolver in the map with the key &quot;user.jcr.credentials&quot;.  This means the Session passed in is ignored (the correct key would have been &quot;user.jcr.session&quot;), and a new session is created for the service user configured - resulting in a new session.  When the Resource Resolver is cleaned up the associated session is not the same as the abandoned session, meaning the original session (created on line number 89 of DistributionUtils) is never closed.&lt;/p&gt;

&lt;p&gt;Please see attached patch for a possible solution which specifies the session in the ResourceResolverFactory correctly.  I have tested this locally and it appears to work correctly, however it does change the behaviour because a different user is not used (the caller).  I did not run any automated tests.&lt;/p&gt;

&lt;p&gt;Also please be aware that it appears that the method &quot;process&quot; of the class ImportingDistributionPackageProcessor appears to never close the ResourceResolver acquired from the DistributionUtils.getResourceResolver() utility, please have a look.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13077854">SLING-6939</key>
            <summary>sling distribution leaks jcr sessions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marett">Timothee Maret</assignee>
                                    <reporter username="wmcgaule">Will McGauley</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 Jun 2017 01:26:22 +0000</created>
                <updated>Wed, 7 Jun 2017 19:36:08 +0000</updated>
                            <resolved>Wed, 7 Jun 2017 19:36:08 +0000</resolved>
                                    <version>Content Distribution Core 0.2.6</version>
                                    <fixVersion>Content Distribution Core 0.2.10</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16041033" author="marett" created="Wed, 7 Jun 2017 15:19:55 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=wmcgaule&quot; class=&quot;user-hover&quot; rel=&quot;wmcgaule&quot;&gt;wmcgaule&lt;/a&gt; for your patch. It does indeed fix the leaking user session obtained via &lt;tt&gt;#impersonateFromService&lt;/tt&gt;. &lt;/p&gt;

&lt;p&gt;However, it seems there is another issue in &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;. Indeed, the resource resolver returned is attached to a session belonging to either &lt;tt&gt;defaultAgentService&lt;/tt&gt; sub service user or the &lt;tt&gt;subServiceName&lt;/tt&gt; sub service user, but never to the user session.&lt;/p&gt;

&lt;p&gt;According to &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-5281&quot; title=&quot;Allow execution of distribution requests using calling user session&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-5281&quot;&gt;&lt;del&gt;SLING-5281&lt;/del&gt;&lt;/a&gt;, the user session should be used when no &lt;tt&gt;subServiceName&lt;/tt&gt; is not configured.&lt;br/&gt;
I have opened &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6942&quot; title=&quot;DistributionUtils#getResourceResolver should use the user session&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6942&quot;&gt;SLING-6942&lt;/a&gt; to track that issue.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling/blob/trunk/contrib/extensions/distribution/core/src/main/java/org/apache/sling/distribution/util/impl/DistributionUtils.java#L79&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/contrib/extensions/distribution/core/src/main/java/org/apache/sling/distribution/util/impl/DistributionUtils.java#L79&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16041356" author="marett" created="Wed, 7 Jun 2017 18:14:58 +0000"  >&lt;p&gt;Fixed in r1797982 (&lt;tt&gt;DistributionUtils&lt;/tt&gt;)  &amp;amp; r1797988 (&lt;tt&gt;ImportingDistributionPackageProcessor&lt;/tt&gt;)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13078030">SLING-6942</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12911533">SLING-5281</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12871737" name="SLING_6939.patch" size="1083" author="wmcgaule" created="Wed, 7 Jun 2017 01:28:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3fyjb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6935] Context-Aware web console default experience difficult</title>
                <link>https://issues.apache.org/jira/browse/SLING-6935</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;A resolve with the default values doesn&apos;t give anything. Default values should be:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Content Path &quot;/content&quot;&lt;/li&gt;
	&lt;li&gt;other config name &quot;.&quot;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Which should on a typical system give you something, such as &quot;/conf/global/settings&quot; for example. This makes exploring the UI much simpler.&lt;/p&gt;

&lt;p&gt;If no config name is set, one gets a 500 error &quot;Invalid configuration name: null&quot;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13076984">SLING-6935</key>
            <summary>Context-Aware web console default experience difficult</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="alexander.klimetschek">Alexander Klimetschek</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 Jun 2017 20:43:24 +0000</created>
                <updated>Fri, 22 Sep 2017 20:51:38 +0000</updated>
                            <resolved>Tue, 19 Sep 2017 13:10:12 +0000</resolved>
                                    <version>Context-Aware Configuration Impl 1.4.2</version>
                                    <fixVersion>Context-Aware Configuration Impl 1.4.4</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16035391" author="alexander.klimetschek" created="Fri, 2 Jun 2017 20:44:55 +0000"  >&lt;p&gt;BTW, instead of a service user it could use the webconsole&apos;s resource resolver (i.e. the current logged in user) available via&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ResourceResolver resolver = (ResourceResolver) request.getAttribute(&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.sling.auth.core.ResourceResolver&quot;&lt;/span&gt;);&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and offer impersonation if one wants to try the resolution for different users.&lt;/p&gt;</comment>
                            <comment id="16171652" author="sseifert@pro-vision.de" created="Tue, 19 Sep 2017 13:10:12 +0000"  >&lt;p&gt;Completed: At revision: 1808876  &lt;/p&gt;

&lt;p&gt;changes&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;fix NPE when no config name is given&lt;/li&gt;
	&lt;li&gt;default content path to /content&lt;/li&gt;
	&lt;li&gt;fallback to web console resource resolver if no valid system user mapping is configured&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;producing any useful result if no config name is given is more difficult - and should be handled in a separate ticket. given &quot;.&quot; as config name does work.&lt;/p&gt;</comment>
                            <comment id="16177100" author="alexander.klimetschek" created="Fri, 22 Sep 2017 20:51:38 +0000"  >&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 5 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3fty7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6916] JCR Content Parser: Tick parsing fails when string contains escaped escaped character</title>
                <link>https://issues.apache.org/jira/browse/SLING-6916</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;when a JSON string with tickt parsing contains &quot;&lt;br class=&quot;atl-forced-newline&quot; /&gt;&quot; (escaped backslash) this is replaced with &quot;\&quot; which leads to invalid JSON.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13075650">SLING-6916</key>
            <summary>JCR Content Parser: Tick parsing fails when string contains escaped escaped character</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 May 2017 15:23:52 +0000</created>
                <updated>Fri, 2 Jun 2017 09:46:57 +0000</updated>
                            <resolved>Mon, 29 May 2017 15:24:52 +0000</resolved>
                                    <version>JCR Content Parser 1.2.0</version>
                                    <fixVersion>JCR Content Parser 1.2.2</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="16028463" author="sseifert@pro-vision.de" created="Mon, 29 May 2017 15:24:52 +0000"  >&lt;p&gt;Completed: At revision: 1796649  &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 22 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3flpz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6915] JCR Content Parser: Tick parsing fails when comment contains tick character</title>
                <link>https://issues.apache.org/jira/browse/SLING-6915</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;when both non-standard JSON options (support comments, support tick symbols in JSON) are activated parsing may fail when the comment text contains a tick.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13075576">SLING-6915</key>
            <summary>JCR Content Parser: Tick parsing fails when comment contains tick character</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 May 2017 10:17:27 +0000</created>
                <updated>Fri, 2 Jun 2017 09:46:58 +0000</updated>
                            <resolved>Mon, 29 May 2017 10:29:37 +0000</resolved>
                                    <version>JCR Content Parser 1.2.0</version>
                                    <fixVersion>JCR Content Parser 1.2.2</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="16028207" author="sseifert@pro-vision.de" created="Mon, 29 May 2017 10:29:37 +0000"  >&lt;p&gt;Completed: At revision: 1796611  &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 22 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3fl9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6901] Remove commons.json from org.apache.sling.jcr.js.nodetypes</title>
                <link>https://issues.apache.org/jira/browse/SLING-6901</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description></description>
                <environment></environment>
        <key id="13075556">SLING-6901</key>
            <summary>Remove commons.json from org.apache.sling.jcr.js.nodetypes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="sandro">Sandro Boehme</assignee>
                                    <reporter username="karlpauls">Karl Pauls</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 May 2017 09:41:34 +0000</created>
                <updated>Mon, 9 Oct 2017 20:31:55 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16035502" author="karlpauls" created="Fri, 2 Jun 2017 22:02:11 +0000"  >&lt;p&gt;Not sure about this one. It basically is mostly commons.json with some wrapper code. Furthermore, it looks like it is not necessarily actively developed anymore. Maybe we can retire it?&lt;/p&gt;

&lt;p&gt;I&apos;ll ask on the dev list.&lt;/p&gt;</comment>
                            <comment id="16048355" author="sandro" created="Tue, 13 Jun 2017 20:17:50 +0000"  >&lt;p&gt;I&apos;am the maintainer for sling.jcr.js.nodetypes. It is needed for the Sling Resource Editor. I&apos;ll take the task and care about it as soon as I have the time to do it. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 20 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3fl53:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6886] JcrListenerBaseConfig sets external flag incorrectly</title>
                <link>https://issues.apache.org/jira/browse/SLING-6886</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;o.a.s.j.r.i.JcrListenerBaseConfig.java sets the NoExternal flag incorrectly.&lt;/p&gt;

&lt;p&gt;See&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc/sling/trunk/bundles/jcr/resource/src/main/java/org/apache/sling/jcr/resource/internal/JcrListenerBaseConfig.java?view=markup#l125&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/sling/trunk/bundles/jcr/resource/src/main/java/org/apache/sling/jcr/resource/internal/JcrListenerBaseConfig.java?view=markup#l125&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This impacts JcrResourceListener and OsgiObservationBridge which does not convert JCR observation events to OSGi events which are not local to the Sling instance.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13075161">SLING-6886</key>
            <summary>JcrListenerBaseConfig sets external flag incorrectly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="vnagpal">Varun Nagpal</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 May 2017 12:28:03 +0000</created>
                <updated>Wed, 31 May 2017 15:24:05 +0000</updated>
                            <resolved>Sun, 28 May 2017 14:17:31 +0000</resolved>
                                    <version>JCR Resource 2.9.2</version>
                                    <fixVersion>JCR Resource 3.0.2</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16026236" author="vnagpal" created="Fri, 26 May 2017 12:50:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; Please review and apply as necessary. Thanks.&lt;/p&gt;</comment>
                            <comment id="16027832" author="cziegeler" created="Sun, 28 May 2017 14:17:31 +0000"  >&lt;p&gt;Thanks for your patch. It&apos;s applied in rev 1796496&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12870064" name="SLING-6886.patch" size="470" author="vnagpal" created="Fri, 26 May 2017 12:50:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 22 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3fipb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6885] Tooling support bundles no longer work due to dependency on org.apache.sling.commons.json</title>
                <link>https://issues.apache.org/jira/browse/SLING-6885</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When deployed, both of these bundles fail to resolve due to importing:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.sling.commons.json,version=[2.0,3)
org.apache.sling.commons.json.io,version=[2.0,3)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Without thinking too much about it, I would venture to say the simplest way to support both all versions of the Sling launchpad and other variants such as AEM is to embed a JSON parser in the bundles and use that.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13075105">SLING-6885</key>
            <summary>Tooling support bundles no longer work due to dependency on org.apache.sling.commons.json</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="karlpauls">Karl Pauls</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 May 2017 08:09:48 +0000</created>
                <updated>Wed, 7 Jun 2017 21:38:11 +0000</updated>
                            <resolved>Fri, 2 Jun 2017 21:36:30 +0000</resolved>
                                    <version>Tooling Support Install 1.0.2</version>
                    <version>Tooling Support Source 1.0.2</version>
                                    <fixVersion>Tooling Support Install 1.0.4</fixVersion>
                    <fixVersion>Tooling Support Source 1.0.4</fixVersion>
                                    <component>Tooling</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16025959" author="rombert" created="Fri, 26 May 2017 08:10:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; - any thoughts about the issue and the proposed solution?&lt;/p&gt;</comment>
                            <comment id="16025977" author="cziegeler" created="Fri, 26 May 2017 08:25:37 +0000"  >&lt;p&gt;Looking at the usage of json in the install bundle, it comes down to InstallationResult&lt;br/&gt;
which creates a one line json response. Either using println or embedding for example the JSONWriter from the Felix utils bundle should do the trick&lt;br/&gt;
The json generated by the source bundle is more complicated, so embedding above writer does the trick&lt;/p&gt;</comment>
                            <comment id="16025980" author="rombert" created="Fri, 26 May 2017 08:28:57 +0000"  >&lt;p&gt;That&apos;s a good point &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; - I&apos;ll take a look at embedding the felix-utils JSONWriter.&lt;/p&gt;</comment>
                            <comment id="16035460" author="karlpauls" created="Fri, 2 Jun 2017 21:36:30 +0000"  >&lt;p&gt;Sorry, didn&apos;t see this issue early enough. This work is done already (using the JSONWriter). &lt;/p&gt;</comment>
                            <comment id="16038362" author="rombert" created="Tue, 6 Jun 2017 08:26:25 +0000"  >&lt;p&gt;No issue from me &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, thanks for the fix &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=karlpauls&quot; class=&quot;user-hover&quot; rel=&quot;karlpauls&quot;&gt;karlpauls&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="13075564">SLING-6907</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13075566">SLING-6908</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ficv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6884] Sling Servlet get is lowering case html markup required by angular 2 binding</title>
                <link>https://issues.apache.org/jira/browse/SLING-6884</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Sling Servlet get is lowering case (parsing?) angular 2 bindings on response payload markup&lt;/p&gt;

&lt;p&gt;Sample code:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@SlingServlet(paths = { &lt;span class=&quot;code-quote&quot;&gt;&quot;/bin/test&quot;&lt;/span&gt; }, methods = { &lt;span class=&quot;code-quote&quot;&gt;&quot;GET&quot;&lt;/span&gt; })
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;SimpleServlet &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; SlingSafeMethodsServlet {

    @Override
    &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void doGet(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; SlingHttpServletRequest req,
            &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; SlingHttpServletResponse resp) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; ServletException, IOException {
        resp.setContentType(&lt;span class=&quot;code-quote&quot;&gt;&quot;text/html&quot;&lt;/span&gt;);
        PrintWriter out = resp.getWriter();
        out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;html&amp;gt;&quot;&lt;/span&gt;);
        out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;body&amp;gt;&quot;&lt;/span&gt;);
        out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;nav&amp;gt;&quot;&lt;/span&gt;);
        out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;a [routerLink]=\&quot;&lt;/span&gt;[&lt;span class=&quot;code-quote&quot;&gt;&apos;/Home&apos;&lt;/span&gt;]\&lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;gt;Home&amp;lt;/a&amp;gt;&quot;&lt;/span&gt;);
        out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;/nav&amp;gt;&quot;&lt;/span&gt;);
        out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;/body&amp;gt;&quot;&lt;/span&gt;);
        out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;/html&amp;gt;&quot;&lt;/span&gt;);
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The response payload:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;lt;html&amp;gt;
&amp;lt;body&amp;gt;
&amp;lt;nav&amp;gt;
&amp;lt;a [routerlink]=&quot;[&apos;/Home&apos;]&quot;&amp;gt;Home&amp;lt;/a&amp;gt;
&amp;lt;/nav&amp;gt;
&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Please note the lower case &quot;l&quot; on &quot;routerLink&quot;.&lt;/p&gt;

&lt;p&gt;I have the same results on: &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Chrome&lt;/li&gt;
	&lt;li&gt;FF&lt;/li&gt;
	&lt;li&gt;IE&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="13075061">SLING-6884</key>
            <summary>Sling Servlet get is lowering case html markup required by angular 2 binding</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="gustavo.doriguetto@gmail.com">Gustavo Doriguetto</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 May 2017 03:53:59 +0000</created>
                <updated>Sat, 27 May 2017 07:28:57 +0000</updated>
                            <resolved>Sat, 27 May 2017 07:28:57 +0000</resolved>
                                                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16025961" author="rombert" created="Fri, 26 May 2017 08:12:52 +0000"  >&lt;p&gt;Thanks for the report &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gustavo.doriguetto%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;gustavo.doriguetto@gmail.com&quot;&gt;gustavo.doriguetto@gmail.com&lt;/a&gt; . I deployed the servlet you pasted above in the latest Sling launchpad and I don&apos;t get the same response.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ curl http://localhost:8080/bin/test
&amp;lt;html&amp;gt;
&amp;lt;body&amp;gt;
&amp;lt;nav&amp;gt;
&amp;lt;a [routerLink]=&quot;[&apos;/Home&apos;]&quot;&amp;gt;Home&amp;lt;/a&amp;gt;
&amp;lt;/nav&amp;gt;
&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;There must be something else in your deployment affecting the result.&lt;/p&gt;</comment>
                            <comment id="16026260" author="gustavo.doriguetto@gmail.com" created="Fri, 26 May 2017 13:03:34 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; for the prompt reply! Could you please confirm you have the same outcome using &apos;sling servlet get&apos; version 2.1.14.&lt;br/&gt;
I am using a third part system using this version and i would like to isolate the problem.&lt;/p&gt;
</comment>
                            <comment id="16026278" author="rombert" created="Fri, 26 May 2017 13:25:27 +0000"  >&lt;p&gt;Yes, same result using 2.1.14 . I performed the following changes to my Sling checkout as of r1796149 , in cause you want to try it out yourself:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;diff --git a/launchpad/builder/src/main/provisioning/sling.txt b/launchpad/builder/src/main/provisioning/sling.txt
index f3ab6c8c39..b3dd2880cf 100644
--- a/launchpad/builder/src/main/provisioning/sling.txt
+++ b/launchpad/builder/src/main/provisioning/sling.txt
@@ -61,13 +61,14 @@
     org.apache.sling/org.apache.sling.models.impl/1.4.2
     org.apache.sling/org.apache.sling.resourceresolver/1.5.24
     org.apache.sling/org.apache.sling.serviceusermapper/1.3.2
-    org.apache.sling/org.apache.sling.servlets.get/2.1.26
+    org.apache.sling/org.apache.sling.servlets.get/2.1.14
     org.apache.sling/org.apache.sling.servlets.post/2.3.16
     org.apache.sling/org.apache.sling.servlets.resolver/2.4.12
     org.apache.sling/org.apache.sling.xss/2.0.0
     javax.mail/mail/1.4.7
     org.apache.geronimo.bundles/jstl/1.2_1
     org.apache.felix/org.apache.felix.http.whiteboard/3.0.0
+    org.apache.sling/org.apache.sling.commons.json/2.0.20
 
 [artifacts startLevel=5]
     org.apache.sling/org.apache.sling.extensions.webconsolebranding/1.0.2&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16027265" author="gustavo.doriguetto@gmail.com" created="Sat, 27 May 2017 05:42:02 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;, i started debugging the issue i&apos;m facing and apparently the problem lies in a html parser implementation wrapped within SlingHttpServletResponse.&lt;br/&gt;
Since the problem have no relation with Servlets Get 2.1.14 (as you demonstrated) i will close the issue.&lt;br/&gt;
Thank you for the support.&lt;/p&gt;</comment>
                            <comment id="16027318" author="rombert" created="Sat, 27 May 2017 07:28:57 +0000"  >&lt;p&gt;Great, thanks for the confirmation.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 22 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3fi33:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6879] [Rewriter] mvn clean install generates empty files under empty files under target/classes/OSGI-INF</title>
                <link>https://issues.apache.org/jira/browse/SLING-6879</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Building the &lt;tt&gt;org.apache.sling.rewriter&lt;/tt&gt; module using mvn clean install (Maven 3.5.0 and Java 8) generates empty files under &lt;tt&gt;target/classes/OSGI-INF&lt;/tt&gt; eg the generated file&lt;br/&gt;
org.apache.sling.rewriter.impl.components.HtmlGeneratorFactory.xml is empty&lt;/p&gt;

&lt;p&gt;If I change the annotations on those components to osgi annotations instead of felix scr annotations eg &lt;tt&gt;org.osgi.service.component.annotations.Component&lt;/tt&gt; instead of &lt;tt&gt;org.apache.felix.scr.annotations.Component&lt;/tt&gt;, the files are generated properly.&lt;/p&gt;</description>
                <environment>Windows 10, Ubuntu 16.04, Java 8, Maven 3.5.0</environment>
        <key id="13074431">SLING-6879</key>
            <summary>[Rewriter] mvn clean install generates empty files under empty files under target/classes/OSGI-INF</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="amrverma">Amrit Verma</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 May 2017 08:06:00 +0000</created>
                <updated>Thu, 25 May 2017 12:47:39 +0000</updated>
                            <resolved>Thu, 25 May 2017 12:47:39 +0000</resolved>
                                                    <fixVersion>Rewriter 1.2.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16022558" author="rombert" created="Wed, 24 May 2017 08:53:56 +0000"  >&lt;p&gt;Thanks for the report &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=amrverma&quot; class=&quot;user-hover&quot; rel=&quot;amrverma&quot;&gt;amrverma&lt;/a&gt; . Would you be willing to submit a patch or a pull request?&lt;/p&gt;</comment>
                            <comment id="16022814" author="amrverma" created="Wed, 24 May 2017 12:34:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;, Yes, I am willing to do that &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
I was just wondering if moving to new annotations is fine or should the old annotations generate proper results as well?&lt;/p&gt;</comment>
                            <comment id="16022859" author="rombert" created="Wed, 24 May 2017 13:09:00 +0000"  >&lt;p&gt;Moving to the new annotations is fine, we&apos;re gradually doing that for all modules.&lt;/p&gt;</comment>
                            <comment id="16024474" author="amrverma" created="Thu, 25 May 2017 10:10:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; I have attached the patch. Please have a look.&lt;/p&gt;</comment>
                            <comment id="16024692" author="rombert" created="Thu, 25 May 2017 12:47:39 +0000"  >&lt;p&gt;Applied in &lt;a href=&quot;https://svn.apache.org/r1796149&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1796149&lt;/a&gt; with a minor change made to ensure that the service.ranking property is an Integer.&lt;/p&gt;

&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=amrverma&quot; class=&quot;user-hover&quot; rel=&quot;amrverma&quot;&gt;amrverma&lt;/a&gt; for the contribution!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12869837" name="SLING-6879.patch" size="11027" author="amrverma" created="Thu, 25 May 2017 10:10:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 22 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3fe73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6877] FSResource: Allow to adapt to Node from FileResource</title>
                <link>https://issues.apache.org/jira/browse/SLING-6877</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;since &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6829&quot; title=&quot;FSResource: Support node descriptor files for folders and binary files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6829&quot;&gt;&lt;del&gt;SLING-6829&lt;/del&gt;&lt;/a&gt; FileResource has precedence over FileContentResource. for files and folders with node descriptor files adapting to a JCR node should still be supported.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13074359">SLING-6877</key>
            <summary>FSResource: Allow to adapt to Node from FileResource</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 May 2017 23:26:04 +0000</created>
                <updated>Mon, 29 May 2017 07:14:20 +0000</updated>
                            <resolved>Tue, 23 May 2017 23:27:18 +0000</resolved>
                                    <version>File System Resource Provider 1.4.0</version>
                    <version>File System Resource Provider 2.1.0</version>
                                    <fixVersion>File System Resource Provider 1.4.2</fixVersion>
                    <fixVersion>File System Resource Provider 2.1.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="16022071" author="sseifert@pro-vision.de" created="Tue, 23 May 2017 23:27:18 +0000"  >&lt;p&gt;Completed: At revision: 1795980  (2.x)&lt;br/&gt;
Completed: At revision: 1795979  (1.x)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13068946">SLING-6829</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 23 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3fdr3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6876] Improve tick handling by using the JsonTicksConverter from JCR Content Parser</title>
                <link>https://issues.apache.org/jira/browse/SLING-6876</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;We should inline the JsonTicksConverter from the JCR Content Parser and use it instead of the solution in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6871&quot; title=&quot;JsonReader should allow tick as well as double quotes on import.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6871&quot;&gt;&lt;del&gt;SLING-6871&lt;/del&gt;&lt;/a&gt; as it is even more permissive.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13074345">SLING-6876</key>
            <summary>Improve tick handling by using the JsonTicksConverter from JCR Content Parser</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="karlpauls">Karl Pauls</assignee>
                                    <reporter username="karlpauls">Karl Pauls</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 May 2017 22:22:34 +0000</created>
                <updated>Fri, 2 Jun 2017 09:47:33 +0000</updated>
                            <resolved>Tue, 23 May 2017 23:14:33 +0000</resolved>
                                    <version>JCR ContentLoader 2.2.2</version>
                                    <fixVersion>JCR ContentLoader 2.2.4</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16022047" author="karlpauls" created="Tue, 23 May 2017 23:14:33 +0000"  >&lt;p&gt;Done in r1795978.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                            <outwardlinks description="supercedes">
                                        <issuelink>
            <issuekey id="13074224">SLING-6871</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 23 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3fdnz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6871] JsonReader should allow tick as well as double quotes on import.</title>
                <link>https://issues.apache.org/jira/browse/SLING-6871</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I think we have to relax the json parsing at least for the contentloader import case. It&apos;s just to likely that people will use ticks instead of double quotes.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13074224">SLING-6871</key>
            <summary>JsonReader should allow tick as well as double quotes on import.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="karlpauls">Karl Pauls</assignee>
                                    <reporter username="karlpauls">Karl Pauls</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 May 2017 15:08:29 +0000</created>
                <updated>Mon, 29 May 2017 07:22:47 +0000</updated>
                            <resolved>Tue, 23 May 2017 15:11:40 +0000</resolved>
                                    <version>JCR ContentLoader 2.2.0</version>
                                    <fixVersion>JCR ContentLoader 2.2.2</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16021305" author="karlpauls" created="Tue, 23 May 2017 15:11:40 +0000"  >&lt;p&gt;I commited support for this in r1795918. Basically, all it does is to preprocess the input string and replace ticks with double quotes.&lt;/p&gt;</comment>
                            <comment id="16021307" author="sseifert@pro-vision.de" created="Tue, 23 May 2017 15:12:25 +0000"  >&lt;p&gt;then we need to change maven-sling-plugin (json validation) and fsresource (json mounting) as well.&lt;br/&gt;
using ticks is not standard-conformant (we already allowed comments which is not conformant as well).&lt;br/&gt;
is there built-in support for ticks in johnzon which we can enable? (for comments, there is)&lt;/p&gt;</comment>
                            <comment id="16021311" author="karlpauls" created="Tue, 23 May 2017 15:16:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert%40pro-vision.de&quot; class=&quot;user-hover&quot; rel=&quot;sseifert@pro-vision.de&quot;&gt;sseifert@pro-vision.de&lt;/a&gt;, unfortunately, no there isn&apos;t. I&apos;m not sure about the places you mention but I think allowing it in here is important because it is used by the post servlet. It just seems too likely that people will use ticks when they send stuff by hand (already had one case on the mailing list) - even our own documentation did make that mistake.    &lt;/p&gt;</comment>
                            <comment id="16021869" author="sseifert@pro-vision.de" created="Tue, 23 May 2017 21:09:18 +0000"  >&lt;p&gt;in my pov the implementation of the ticks conversion is incomplete. it&apos;s not possible to put &apos; or &quot; in strings quoted in ticks.&lt;br/&gt;
in context of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6872&quot; title=&quot;JCR Content Parser: Support tick as well as double quote when parsing JSON files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6872&quot;&gt;&lt;del&gt;SLING-6872&lt;/del&gt;&lt;/a&gt; i&apos;ve refactored your code and added additional unit tests to cover this as well:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling/blob/trunk/bundles/jcr/contentparser/src/main/java/org/apache/sling/jcr/contentparser/impl/JsonTicksConverter.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/bundles/jcr/contentparser/src/main/java/org/apache/sling/jcr/contentparser/impl/JsonTicksConverter.java&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;(in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6634&quot; title=&quot;Use new Content Parser module in ContentLoader to support FileVault XML format (enhanced DocView)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6634&quot;&gt;SLING-6634&lt;/a&gt; it was planned to migrate JCR content loader to use JCR content parser as well, but this is a non-trivial task - even for JSON - and would required a good deal of refactoring in JCR content loader; so we cannot just do it here to reuse the logic directly)&lt;/p&gt;</comment>
                            <comment id="16021922" author="karlpauls" created="Tue, 23 May 2017 21:42:39 +0000"  >&lt;p&gt;Nice. Certainly would be another improvement in our quest to support even more none standard json &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. &lt;/p&gt;

&lt;p&gt;I guess if we think it is important we could just inline the JsonTicksConverter and use it until &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6634&quot; title=&quot;Use new Content Parser module in ContentLoader to support FileVault XML format (enhanced DocView)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6634&quot;&gt;SLING-6634&lt;/a&gt; is done. However, I personally don&apos;t think it is that urgent - wdyt?&lt;/p&gt;</comment>
                            <comment id="16021950" author="sseifert@pro-vision.de" created="Tue, 23 May 2017 22:01:41 +0000"  >&lt;p&gt;inlining the class is a good idea.&lt;br/&gt;
discussion about the 2.2.2 release on the dev list.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13074320">SLING-6872</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                                                <inwardlinks description="is superceded by">
                                        <issuelink>
            <issuekey id="13074345">SLING-6876</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 23 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3fcx3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6870] ImportOperation is created to late</title>
                <link>https://issues.apache.org/jira/browse/SLING-6870</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The latest jcr dependency removal makes it so that the ImportOperation is created in the @activate. That is too late, because the dependencies get set before the @activate which causes the ImportOperation to have missing dependencies.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13074192">SLING-6870</key>
            <summary>ImportOperation is created to late</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="karlpauls">Karl Pauls</assignee>
                                    <reporter username="karlpauls">Karl Pauls</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 May 2017 12:57:39 +0000</created>
                <updated>Mon, 29 May 2017 07:22:48 +0000</updated>
                            <resolved>Tue, 23 May 2017 12:59:28 +0000</resolved>
                                    <version>Servlets Post 2.3.18</version>
                                    <fixVersion>Servlets Post 2.3.20</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16021160" author="karlpauls" created="Tue, 23 May 2017 12:59:28 +0000"  >&lt;p&gt;Fix in r1795909 by creating it in the constructor instead.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 23 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3fcpz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6869] fsresource: Avoid NPE when content fragment file contains invalid JSON</title>
                <link>https://issues.apache.org/jira/browse/SLING-6869</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;a NPE in &lt;tt&gt;org.apache.sling.fsprovider.internal.mapper.ContentFile#getContent()&lt;/tt&gt; my be thrown when the underlying JSON content fragment file contains invalid JSON that leads to a parsing error.&lt;br/&gt;
this should be handled gently (an warning to the log is already written).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13073999">SLING-6869</key>
            <summary>fsresource: Avoid NPE when content fragment file contains invalid JSON</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 May 2017 20:40:35 +0000</created>
                <updated>Mon, 29 May 2017 07:14:20 +0000</updated>
                            <resolved>Mon, 22 May 2017 20:41:55 +0000</resolved>
                                    <version>File System Resource Provider 1.4.0</version>
                    <version>File System Resource Provider 2.1.0</version>
                                    <fixVersion>File System Resource Provider 1.4.2</fixVersion>
                    <fixVersion>File System Resource Provider 2.1.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="16020160" author="sseifert@pro-vision.de" created="Mon, 22 May 2017 20:41:55 +0000"  >&lt;p&gt;Completed: At revision: 1795848   (1.x)&lt;br/&gt;
Completed: At revision: 1795847  (2.x)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 23 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3fbj3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6868] Initial content should be migrated to bundle resources</title>
                <link>https://issues.apache.org/jira/browse/SLING-6868</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently the initial content in the hapi bundle does not specify a path, which means it is using &quot;/&quot;.&lt;br/&gt;
When applied at the wrong time, it potentially could wipe the whole repository. In addition initial content should always be specified with the most specific path (the tree the bundle is owning)&lt;br/&gt;
So the path is something like /libs/sling/hapi&lt;br/&gt;
or even&lt;br/&gt;
/libs/sling/hapi/components&lt;/p&gt;</description>
                <environment></environment>
        <key id="13073791">SLING-6868</key>
            <summary>Initial content should be migrated to bundle resources</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="andrei.dulvac">Andrei Dulvac</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 May 2017 09:00:04 +0000</created>
                <updated>Fri, 6 Oct 2017 12:28:24 +0000</updated>
                            <resolved>Fri, 6 Oct 2017 12:28:24 +0000</resolved>
                                    <version>HApi 1.0.0</version>
                                    <fixVersion>HApi 1.1.0</fixVersion>
                                    <component>HApi</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16019339" author="cziegeler" created="Mon, 22 May 2017 09:16:03 +0000"  >&lt;p&gt;As these resources are static, I think it is even better to use bundle resources (using the Sling-Bundle-Resources) header. This way the resources are served directly from within the bundle and no content needs to be installed&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andrei.dulvac&quot; class=&quot;user-hover&quot; rel=&quot;andrei.dulvac&quot;&gt;andrei.dulvac&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16020804" author="andrei.dulvac" created="Tue, 23 May 2017 08:29:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, the two sightly resource types would work with the Sing-Bundle-Resources header, but I&apos;m not sure the &lt;a href=&quot;https://github.com/apache/sling/blob/trunk/contrib/extensions/hapi/core/src/main/resources/SLING-INF/libs/sling/hapi/types.json&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;OOTB types&lt;/a&gt; would. Am I missing something? Is there a way to create nodes with arbitrary primary types and properties?&lt;/p&gt;</comment>
                            <comment id="16024426" author="andrei.dulvac" created="Thu, 25 May 2017 09:02:18 +0000"  >&lt;p&gt;I&apos;ve gone for the simpler approach in r1796138, as the Sing-Bundle-Resources code doesn&apos;t know how to install structures defined as sling initial content json.&lt;/p&gt;</comment>
                            <comment id="16024427" author="andrei.dulvac" created="Thu, 25 May 2017 09:02:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, from our talk offline - you&apos;re ok with this, right?&lt;/p&gt;</comment>
                            <comment id="16143373" author="cziegeler" created="Mon, 28 Aug 2017 05:08:03 +0000"  >&lt;p&gt;Reopening this as the bundle resource provider now supports JSON files (in the latest snapshot version).&lt;br/&gt;
In addition to switching to bundle resources, this bundle should require the appropriate extender capability:&lt;br/&gt;
Require-Capability                       osgi.extender;filter:=&quot;(&amp;amp;(osgi.extender=org.apache.sling.bundleresource)(version&amp;gt;=1.0.0)(!(version&amp;gt;=2.0.0)))&quot;&lt;/p&gt;</comment>
                            <comment id="16156967" author="andrei.dulvac" created="Thu, 7 Sep 2017 13:46:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, Thanks! Can we have a release of bundleresource  first? I&apos;d let you initiate it if you agree we should. Or should I make hapi depend on the snapshot version for now and validate it works?&lt;/p&gt;

&lt;p&gt;Also, shouldn&apos;t the filter in Require-Capability be higher than 2.2.0?&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;osgi.extender;filter:=&quot;(&amp;amp;(osgi.extender=org.apache.sling.bundleresource)(version&amp;gt;2.2.0)(!(version&amp;gt;=3.0.0)))&quot;&lt;/tt&gt; ?&lt;/p&gt;</comment>
                            <comment id="16157110" author="cziegeler" created="Thu, 7 Sep 2017 15:46:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andrei.dulvac&quot; class=&quot;user-hover&quot; rel=&quot;andrei.dulvac&quot;&gt;andrei.dulvac&lt;/a&gt; I think it would be good to validate the current implementation of bundleresource by using it here first &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; If we think it works as required, I&apos;m happy to release it.&lt;br/&gt;
This is the first time we define the capability, therefore that&apos;s why we start with version 1.0; we can argue whether it should be 1.0 or 2.0 (and assume 1.0 was the old version), but this has no direct relation with the bundle version. Its the version of the feature implementation by the bundle (so I think 2.0 is the better one)&lt;/p&gt;</comment>
                            <comment id="16157144" author="andrei.dulvac" created="Thu, 7 Sep 2017 16:07:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;I now see why you wrote the filter the way it is.&lt;br/&gt;
Because bundleresource provides:&lt;br/&gt;
&lt;tt&gt;Provide-Capability: osgi.extender; osgi.extender=&quot;org.apache.sling.bundleresource&quot;; version:Version=&quot;1.0&quot;&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;Btw, isn&apos;t that following some semantic versioning? &lt;/p&gt;

&lt;p&gt;How can I signal consumers that they need the new bundleresource bundle once it&apos;s released?&lt;/p&gt;</comment>
                            <comment id="16158122" author="cziegeler" created="Fri, 8 Sep 2017 04:51:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andrei.dulvac&quot; class=&quot;user-hover&quot; rel=&quot;andrei.dulvac&quot;&gt;andrei.dulvac&lt;/a&gt; The currently released version of bundleresource does not have this provide capability at all. So right now a bundle can&apos;t indicate that it needs the bundleresource implementation at all.&lt;br/&gt;
With the new provided capability, bundles can indiate this -and then they just need to require whatever version we use in the bundleresource capability.&lt;br/&gt;
The versioning should follow semantic versioning, therefore I changed the provided version now to &quot;1.1&quot; which I believe is correct. The currently released bundle provides version &quot;1.0&quot; (not supporting JSON), the new one is compatible but adds JSON support on top. Therefore 1.1 is the correct version&lt;/p&gt;</comment>
                            <comment id="16158137" author="cziegeler" created="Fri, 8 Sep 2017 05:05:39 +0000"  >&lt;p&gt;With the new bundle resource implementation, you can use the following header in the manifest:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;SLING-INF/libs/sling/hapi/; path:=/libs/sling/hapi; overwrite:=true; uninstall:=false;propsJSON:=json
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;With the &quot;propsJSON&quot; directive you tell the bundleresource implementation to treat all files having the extension &quot;json&quot; (this is the value of propsJSON) as JSON files containing a resource structure. Then your *.json files simply contain the resource tree. Looking at the current &quot;types.json&quot; I think it will work out of the box. You don&apos;t need the jcr.PrimaryType property anymore as this is not stored in JCR.&lt;/p&gt;</comment>
                            <comment id="16158307" author="andrei.dulvac" created="Fri, 8 Sep 2017 08:41:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, This doesn&apos;t seem to work, whatever I try.&lt;/p&gt;

&lt;p&gt;I added the following instructions to the maven bundle plugin (changed path and removed what I think are Sling-Initial-Content-only &lt;tt&gt;overwrite&lt;/tt&gt; and &lt;tt&gt;uninstall&lt;/tt&gt; ? ):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;                    &amp;lt;instructions&amp;gt;
                        &amp;lt;Bundle-Category&amp;gt;sling&amp;lt;/Bundle-Category&amp;gt;
                        &amp;lt;Sling-Bundle-Resources&amp;gt;
                            /libs/sling/hapi/;path:=SLING-INF/libs/sling/hapi;propsJSON:=json
                        &amp;lt;/Sling-Bundle-Resources&amp;gt;
                        &amp;lt;Require-Capability&amp;gt;osgi.extender;filter:=&lt;span class=&quot;code-quote&quot;&gt;&quot;(&amp;amp;amp;(osgi.extender=org.apache.sling.bundleresource)(version&amp;amp;gt;=1.1.0)(!(version&amp;amp;gt;=2.0.0)))&quot;&lt;/span&gt;&amp;lt;/Require-Capability&amp;gt;
                    &amp;lt;/instructions&amp;gt;
                &amp;lt;/configuration&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Any GET call under &lt;tt&gt;/libs/sling/hapi&lt;/tt&gt; results in a NPE on the serverside,:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;08.09.2017 10:36:20.040 *ERROR* [0:0:0:0:0:0:0:1 [1504859780040] GET /libs/sling/hapi/types.json HTTP/1.1] org.apache.sling.engine.impl.SlingRequestProcessorImpl service: Uncaught SlingException
java.lang.NullPointerException: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
	at org.apache.felix.framework.BundleRevisionImpl.getEntry(BundleRevisionImpl.java:559)
	at org.apache.felix.framework.Felix.getBundleEntry(Felix.java:1745)
	at org.apache.felix.framework.BundleImpl.getEntry(BundleImpl.java:291)
	at org.apache.sling.bundleresource.impl.BundleResourceCache.getEntry(BundleResourceCache.java:137)
	at org.apache.sling.bundleresource.impl.BundleResource.&amp;lt;init&amp;gt;(BundleResource.java:126)
	at org.apache.sling.bundleresource.impl.BundleResourceProvider.getResource(BundleResourceProvider.java:124)
	at org.apache.sling.bundleresource.impl.BundleResourceProvider.getResource(BundleResourceProvider.java:139)
	at org.apache.sling.resourceresolver.impl.providers.stateful.AuthenticatedResourceProvider.getResource(AuthenticatedResourceProvider.java:135)
	at org.apache.sling.resourceresolver.impl.helper.ResourceResolverControl.getResource(ResourceResolverControl.java:224)
	at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.getAbsoluteResourceInternal(ResourceResolverImpl.java:1045)
	at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.resolveInternal(ResourceResolverImpl.java:877)
	at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.resolveInternal(ResourceResolverImpl.java:354)
	at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.resolve(ResourceResolverImpl.java:250)
	at org.apache.sling.engine.impl.request.RequestData.initResource(RequestData.java:252)
	at org.apache.sling.engine.impl.SlingRequestProcessorImpl.doProcessRequest(SlingRequestProcessorImpl.java:140)
	at org.apache.sling.engine.impl.SlingMainServlet.service(SlingMainServlet.java:234)
	at org.apache.felix.http.base.internal.handler.ServletHandler.handle(ServletHandler.java:85)
	at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:79)
	at org.apache.sling.security.impl.ReferrerFilter.doFilter(ReferrerFilter.java:328)
	at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:135)
	at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:74)
	at com.adobe.granite.license.impl.LicenseCheckFilter.doFilter(LicenseCheckFilter.java:308)
	at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:135)
	at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:74)
	at org.apache.felix.http.sslfilter.internal.SslFilter.doFilter(SslFilter.java:96)
	at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:135)
	at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:74)
	at org.apache.sling.i18n.impl.I18NFilter.doFilter(I18NFilter.java:138)
	at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:135)
	at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:74)
	at org.apache.sling.featureflags.impl.FeatureManager.doFilter(FeatureManager.java:116)
	at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:135)
	at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:74)
	at org.apache.sling.engine.impl.log.RequestLoggerFilter.doFilter(RequestLoggerFilter.java:72)
	at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:135)
	at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:74)
	at org.apache.felix.http.base.internal.dispatch.Dispatcher.dispatch(Dispatcher.java:128)
	at org.apache.felix.http.base.internal.dispatch.DispatcherServlet.service(DispatcherServlet.java:49)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:848)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:584)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:224)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1180)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:512)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1112)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:213)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:134)
	at org.eclipse.jetty.server.Server.handle(Server.java:534)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:320)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:251)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:283)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:108)
	at org.eclipse.jetty.io.SelectChannelEndPoint$2.run(SelectChannelEndPoint.java:93)
	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.executeProduceConsume(ExecuteProduceConsume.java:303)
	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceConsume(ExecuteProduceConsume.java:148)
	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:136)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:671)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:589)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
08.09.2017 10:36:20.041 *ERROR* [0:0:0:0:0:0:0:1 [1504859780040] GET /libs/sling/hapi/types.json HTTP/1.1] org.apache.sling.servlets.resolver.internal.SlingServletResolver Calling the error handler resulted in an error
org.apache.sling.api.SlingException: Cannot get DefaultSlingScript: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
	at org.apache.sling.scripting.core.impl.DefaultSlingScript.service(DefaultSlingScript.java:510)
	at org.apache.sling.servlets.resolver.internal.SlingServletResolver.handleError(SlingServletResolver.java:783)
	at org.apache.sling.servlets.resolver.internal.SlingServletResolver.handleError(SlingServletResolver.java:519)
	at org.apache.sling.engine.impl.DefaultErrorHandler.handleError(DefaultErrorHandler.java:133)
	at org.apache.sling.engine.impl.SlingRequestProcessorImpl$2.render(SlingRequestProcessorImpl.java:377)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:77)
	at org.apache.sling.rewriter.impl.RewriterFilter.doFilter(RewriterFilter.java:87)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at org.apache.sling.i18n.impl.I18NFilter.doFilter(I18NFilter.java:138)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at org.apache.sling.engine.impl.SlingRequestProcessorImpl.handleError(SlingRequestProcessorImpl.java:384)
	at org.apache.sling.engine.impl.SlingRequestProcessorImpl.doProcessRequest(SlingRequestProcessorImpl.java:186)
	at org.apache.sling.engine.impl.SlingMainServlet.service(SlingMainServlet.java:234)
	at org.apache.felix.http.base.internal.handler.ServletHandler.handle(ServletHandler.java:85)
	at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:79)
	at org.apache.sling.security.impl.ReferrerFilter.doFilter(ReferrerFilter.java:328)
	at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:135)
	at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:74)
	at com.adobe.granite.license.impl.LicenseCheckFilter.doFilter(LicenseCheckFilter.java:308)
	at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:135)
	at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:74)
	at org.apache.felix.http.sslfilter.internal.SslFilter.doFilter(SslFilter.java:96)
	at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:135)
	at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:74)
	at org.apache.sling.i18n.impl.I18NFilter.doFilter(I18NFilter.java:138)
	at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:135)
	at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:74)
	at org.apache.sling.featureflags.impl.FeatureManager.doFilter(FeatureManager.java:116)
	at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:135)
	at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:74)
	at org.apache.sling.engine.impl.log.RequestLoggerFilter.doFilter(RequestLoggerFilter.java:72)
	at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:135)
	at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:74)
	at org.apache.felix.http.base.internal.dispatch.Dispatcher.dispatch(Dispatcher.java:128)
	at org.apache.felix.http.base.internal.dispatch.DispatcherServlet.service(DispatcherServlet.java:49)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:848)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:584)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:224)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1180)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:512)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1112)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:213)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:134)
	at org.eclipse.jetty.server.Server.handle(Server.java:534)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:320)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:251)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:283)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:108)
	at org.eclipse.jetty.io.SelectChannelEndPoint$2.run(SelectChannelEndPoint.java:93)
	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.executeProduceConsume(ExecuteProduceConsume.java:303)
	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceConsume(ExecuteProduceConsume.java:148)
	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:136)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:671)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:589)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
Caused by: java.lang.NullPointerException: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
	at org.apache.sling.engine.impl.SlingHttpServletRequestImpl.getResponseContentType(SlingHttpServletRequestImpl.java:265)
	at org.apache.sling.api.wrappers.SlingHttpServletRequestWrapper.getResponseContentType(SlingHttpServletRequestWrapper.java:138)
	at org.apache.sling.scripting.core.impl.DefaultSlingScript.service(DefaultSlingScript.java:474)
	... 57 common frames omitted
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;(I built and installed the bundleresource extension from r1807679.)&lt;/p&gt;

&lt;p&gt;Any leads?&lt;/p&gt;</comment>
                            <comment id="16158755" author="cziegeler" created="Fri, 8 Sep 2017 14:59:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andrei.dulvac&quot; class=&quot;user-hover&quot; rel=&quot;andrei.dulvac&quot;&gt;andrei.dulvac&lt;/a&gt; I fixed the first major problem and the contained html and the properties of the resources are now returned correctly. But it seems there is a bug in the child resource handling&lt;/p&gt;</comment>
                            <comment id="16159932" author="cziegeler" created="Sat, 9 Sep 2017 13:03:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andrei.dulvac&quot; class=&quot;user-hover&quot; rel=&quot;andrei.dulvac&quot;&gt;andrei.dulvac&lt;/a&gt; I think i&apos;ve fixed now the child handling as well. There might still be some bugs though&lt;/p&gt;</comment>
                            <comment id="16166198" author="cziegeler" created="Thu, 14 Sep 2017 12:51:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andrei.dulvac&quot; class=&quot;user-hover&quot; rel=&quot;andrei.dulvac&quot;&gt;andrei.dulvac&lt;/a&gt; Did you already have time to give it a try?&lt;/p&gt;</comment>
                            <comment id="16191611" author="andrei.dulvac" created="Wed, 4 Oct 2017 17:22:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, after using latest bundledresource and hapi with it, the urls give me the static html component and the jsons:&lt;br/&gt;
&lt;a href=&quot;http://localhost:4502/libs/sling/hapi/types/date.json&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:4502/libs/sling/hapi/types/date.json&lt;/a&gt; works&lt;br/&gt;
BUT&lt;br/&gt;
&lt;a href=&quot;http://localhost:4502/libs/sling/hapi/types/date.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:4502/libs/sling/hapi/types/date.html&lt;/a&gt; is a 404. I was under the impression that was supposed to work. It&apos;d be sad if it didn&apos;t &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Looks like the problem is that nodes (in general) using the resourceType serverd by the bundle don&apos;t work. &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://localhost:4502/libs/sling/hapi/components/type/type.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:4502/libs/sling/hapi/components/type/type.html&lt;/a&gt; renders as a HTL template static HTML, but it can&apos;t be used as a resourceType.&lt;/p&gt;</comment>
                            <comment id="16192679" author="cziegeler" created="Thu, 5 Oct 2017 09:52:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andrei.dulvac&quot; class=&quot;user-hover&quot; rel=&quot;andrei.dulvac&quot;&gt;andrei.dulvac&lt;/a&gt; Right, that should work.&lt;br/&gt;
I&apos;ve commited two fixes now and the script is now correctly picked up I think. However now I get:&lt;br/&gt;
org.apache.sling.hapi.HApiException: Property hapi_name does not exist for type null&lt;/p&gt;

&lt;p&gt;Any idea on what could be going wrong?&lt;/p&gt;</comment>
                            <comment id="16193065" author="andrei.dulvac" created="Thu, 5 Oct 2017 15:39:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, That&apos;s because I&apos;m making a jcr query to get the resource from the fqdn property in a subtree of the repo:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling/blob/trunk/contrib/extensions/hapi/core/src/main/java/org/apache/sling/hapi/impl/HApiUtilImpl.java#L173-L190&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/contrib/extensions/hapi/core/src/main/java/org/apache/sling/hapi/impl/HApiUtilImpl.java#L173-L190&lt;/a&gt; &lt;br/&gt;
This obviously doesn&apos;t work. I don&apos;t really know how to proceed...&lt;/p&gt;

&lt;p&gt;I had a look at &lt;a href=&quot;https://sling.apache.org/documentation/bundles/sling-query.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/bundles/sling-query.html&lt;/a&gt; but that&apos;s not much of a query, just trivial traversal - no indices, etc.&lt;br/&gt;
Any ideas?&lt;/p&gt;</comment>
                            <comment id="16193205" author="andrei.dulvac" created="Thu, 5 Oct 2017 17:08:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, i went ahead and removed the query altogether as there&apos;s a types cache. And now it just looks at the direct descendants of the search paths. &lt;br/&gt;
Long story short, everything seems to work, yay &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Thanks for the help!&lt;/p&gt;</comment>
                            <comment id="16194203" author="cziegeler" created="Fri, 6 Oct 2017 06:25:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andrei.dulvac&quot; class=&quot;user-hover&quot; rel=&quot;andrei.dulvac&quot;&gt;andrei.dulvac&lt;/a&gt; Great, thanks - I&apos;ll start the release process of the bundle resource&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 3 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3fa8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6867] Repoinit ACL handler should take aggregate privilege into account</title>
                <link>https://issues.apache.org/jira/browse/SLING-6867</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Repoinit ACLUtil &quot;contains privileges&quot; method does not take aggregation into account&lt;/p&gt;</description>
                <environment></environment>
        <key id="13073454">SLING-6867</key>
            <summary>Repoinit ACL handler should take aggregate privilege into account</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="nitin.nizhawan">Nitin Nizhawan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 19 May 2017 14:52:37 +0000</created>
                <updated>Sun, 24 Sep 2017 18:47:12 +0000</updated>
                            <resolved>Tue, 6 Jun 2017 15:00:01 +0000</resolved>
                                    <version>Repoinit JCR 1.1.4</version>
                                    <fixVersion>Repoinit JCR 1.1.6</fixVersion>
                                    <component>Repoinit</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16030996" author="githubbot" created="Wed, 31 May 2017 11:17:13 +0000"  >&lt;p&gt;GitHub user nitin-nizhawan opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/239&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/239&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6867&quot; title=&quot;Repoinit ACL handler should take aggregate privilege into account&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6867&quot;&gt;&lt;del&gt;SLING-6867&lt;/del&gt;&lt;/a&gt;, Repoinit ACL handler should take aggregate privilege into&#8230;&lt;/p&gt;

&lt;p&gt;    &#8230; account&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/nitin-nizhawan/sling&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/nitin-nizhawan/sling&lt;/a&gt; nnizhawa/aggregateprivilegehandling2&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/239.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/239.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #239&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 90fca96bc975a6f8d70126f64c04fb0de76756de&lt;br/&gt;
Author: Nitin Nizhawan &amp;lt;nitin.nizhawan@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-05-31T11:11:01Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6867&quot; title=&quot;Repoinit ACL handler should take aggregate privilege into account&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6867&quot;&gt;&lt;del&gt;SLING-6867&lt;/del&gt;&lt;/a&gt;, Repoinit ACL handler should take aggregate privilege into account&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16031005" author="nitin.nizhawan" created="Wed, 31 May 2017 11:25:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anchela&quot; class=&quot;user-hover&quot; rel=&quot;anchela&quot;&gt;anchela&lt;/a&gt; Attached patch for taking care of aggregate privileges in contains check.  please review and merge.&lt;/p&gt;</comment>
                            <comment id="16039037" author="bdelacretaz" created="Tue, 6 Jun 2017 15:00:01 +0000"  >&lt;p&gt;Thanks for your contribution! Your patch looks good to me, I have applied it in &lt;a href=&quot;http://svn.apache.org/r1797793&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1797793&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12870564" name="SLING_6867.patch" size="4041" author="nitin.nizhawan" created="Wed, 31 May 2017 11:23:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3f85z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6866] HTL doesn&apos;t allow to overwrite the context for data-sly-text</title>
                <link>https://issues.apache.org/jira/browse/SLING-6866</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When using the following expression&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-html&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;div data-sly-text=&lt;span class=&quot;code-quote&quot;&gt;&quot;${properties.desc @ context=&lt;span class=&quot;code-quote&quot;&gt;&apos;html&apos;&lt;/span&gt;}&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;the output is escaped using the &lt;tt&gt;text&lt;/tt&gt; display context.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13073402">SLING-6866</key>
            <summary>HTL doesn&apos;t allow to overwrite the context for data-sly-text</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 19 May 2017 11:49:08 +0000</created>
                <updated>Wed, 14 Mar 2018 12:56:30 +0000</updated>
                            <resolved>Tue, 6 Jun 2017 14:16:37 +0000</resolved>
                                    <version>Scripting Sightly Engine 1.0.18</version>
                    <version>Scripting HTL Compiler 1.0.0</version>
                                    <fixVersion>Scripting HTL Compiler 1.0.10</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16038954" author="radu.cotescu" created="Tue, 6 Jun 2017 14:16:37 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1797789&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1797789&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="12945297">SLING-5568</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12994515">SLING-5944</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13091141">SLING-7024</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3f7uf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6865] Default Config sling/xss/config.xml and XSSFilterImpl is not the same</title>
                <link>https://issues.apache.org/jira/browse/SLING-6865</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;There is a different default config for XSSFilterImpl .href &lt;br/&gt;
In XSSFilter.java the pattern looks like&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;(\\s)*((ht|f)tp(s?):&lt;span class=&quot;code-comment&quot;&gt;//|mailto:)[\\p{L}\\p{N}]+[\\p{L}\\p{N}\\p{Zs}\\.\\#@\\$%\\+&amp;amp;;:\\-_~,\\?=/!\\*\\(\\)]*(\\s)*&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;in the /libs/sling/xss/config.xml itself it looks like&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;(\s)*((ht|f)tp(s?):&lt;span class=&quot;code-comment&quot;&gt;//|mailto:)[\p{L}\p{N}]+[\p{L}\p{N}\p{Zs}\.\#@\$%\+&amp;amp;amp;;:\-_~,\?=/!\*\(\)]*(\s)*&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In the config file there is a missing &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;(\\)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Also the SLING-INF.content/config.xml has the wrong Pattern.&lt;/p&gt;

&lt;p&gt;Can you fix this?&lt;/p&gt;

&lt;p&gt;Problem is in package: com.adobe.granite.xssprotection-5.5.68 and com.adobe.granite.xssprotection-5.5.72&lt;/p&gt;</description>
                <environment></environment>
        <key id="13073360">SLING-6865</key>
            <summary>Default Config sling/xss/config.xml and XSSFilterImpl is not the same</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="stejan">Jan Stettler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 19 May 2017 08:57:26 +0000</created>
                <updated>Fri, 19 Apr 2019 09:59:55 +0000</updated>
                            <resolved>Fri, 19 Apr 2019 09:59:50 +0000</resolved>
                                                                    <component>XSS Protection API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16821817" author="radu.cotescu" created="Fri, 19 Apr 2019 09:59:33 +0000"  >&lt;p&gt;This issue seems to refer to private code and not to Sling&apos;s bundle. If this is still a problem please try to address this issue to Adobe.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 27 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3f7l3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6864] Service User Mapping: webconsole.configurationFactory.nameHint Property has to be part of OCD</title>
                <link>https://issues.apache.org/jira/browse/SLING-6864</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;via the service property &lt;tt&gt;webconsole.configurationFactory.nameHint&lt;/tt&gt; a name hint pattern can be defined to produce nice names for factory config items in web console.&lt;/p&gt;

&lt;p&gt;this only works if this property definition is part of the OCD - so when migrating from felix to osgi annotations it has to be part of the configuration annotation class.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13073118">SLING-6864</key>
            <summary>Service User Mapping: webconsole.configurationFactory.nameHint Property has to be part of OCD</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 May 2017 12:27:04 +0000</created>
                <updated>Wed, 20 Sep 2017 12:02:05 +0000</updated>
                            <resolved>Thu, 18 May 2017 12:28:23 +0000</resolved>
                                    <version>Service User Mapper 1.3.0</version>
                                    <fixVersion>Service User Mapper 1.3.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="16015675" author="sseifert@pro-vision.de" created="Thu, 18 May 2017 12:28:23 +0000"  >&lt;p&gt;Completed: At revision: 1795509  &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3f63b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6863] Event: webconsole.configurationFactory.nameHint Property has to be part of OCD</title>
                <link>https://issues.apache.org/jira/browse/SLING-6863</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;via the service property &lt;tt&gt;webconsole.configurationFactory.nameHint&lt;/tt&gt; a name hint pattern can be defined to produce nice names for factory config items in web console.&lt;/p&gt;

&lt;p&gt;this only works if this property definition is part of the OCD - so when migrating from felix to osgi annotations it has to be part of the configuration annotation class.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13073117">SLING-6863</key>
            <summary>Event: webconsole.configurationFactory.nameHint Property has to be part of OCD</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 May 2017 12:27:02 +0000</created>
                <updated>Wed, 20 Sep 2017 11:17:14 +0000</updated>
                            <resolved>Thu, 18 May 2017 12:27:43 +0000</resolved>
                                                    <fixVersion>Event 4.2.4</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="16015671" author="sseifert@pro-vision.de" created="Thu, 18 May 2017 12:27:43 +0000"  >&lt;p&gt;Completed: At revision: 1795508  &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3f633:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6860] Sling pipes has a dependency on unstable Jackrabbit release (2.7.5)</title>
                <link>https://issues.apache.org/jira/browse/SLING-6860</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;(FWIW, it also uses the unmaintained HTTPClient 3.*)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13072488">SLING-6860</key>
            <summary>Sling pipes has a dependency on unstable Jackrabbit release (2.7.5)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="reschke">Julian Reschke</reporter>
                        <labels>
                    </labels>
                <created>Tue, 16 May 2017 15:10:11 +0000</created>
                <updated>Wed, 20 Sep 2017 11:15:06 +0000</updated>
                            <resolved>Wed, 24 May 2017 07:25:51 +0000</resolved>
                                    <version>Pipes 0.0.10</version>
                                    <fixVersion>Pipes 1.0.4</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16014207" author="githubbot" created="Wed, 17 May 2017 15:25:53 +0000"  >&lt;p&gt;GitHub user npeltier opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/230&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/230&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6860&quot; title=&quot;Sling pipes has a dependency on unstable Jackrabbit release (2.7.5)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6860&quot;&gt;&lt;del&gt;SLING-6860&lt;/del&gt;&lt;/a&gt; bump jackrabbit api version&lt;/p&gt;

&lt;p&gt;    also did for distribution api&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/npeltier/sling&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/npeltier/sling&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6860&quot; title=&quot;Sling pipes has a dependency on unstable Jackrabbit release (2.7.5)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6860&quot;&gt;&lt;del&gt;SLING-6860&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/230.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/230.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #230&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 63e4bf1d7cd82cf777d90ace347c89d26a82aba1&lt;br/&gt;
Author: Nicolas Peltier &amp;lt;peltier.nicolas@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-05-17T15:25:09Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6860&quot; title=&quot;Sling pipes has a dependency on unstable Jackrabbit release (2.7.5)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6860&quot;&gt;&lt;del&gt;SLING-6860&lt;/del&gt;&lt;/a&gt; bump jackrabbit api version&lt;/p&gt;

&lt;p&gt;    also did for distribution api&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16014211" author="npeltier" created="Wed, 17 May 2017 15:27:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=julian.reschke%40gmx.de&quot; class=&quot;user-hover&quot; rel=&quot;julian.reschke@gmx.de&quot;&gt;julian.reschke@gmx.de&lt;/a&gt; thanks for this. Attached PR fixes it (also bumps distribution api). For commons-httpclient however i don&apos;t dare to downgrade it. Feel free to shoot any suggestions about it&lt;/p&gt;</comment>
                            <comment id="16014289" author="reschke" created="Wed, 17 May 2017 15:51:06 +0000"  >&lt;p&gt;commons-httpclient actually should be &lt;b&gt;upgraded&lt;/b&gt; to a 4.x version, but that&apos;ll require code changes..&lt;/p&gt;</comment>
                            <comment id="16014319" author="npeltier" created="Wed, 17 May 2017 16:08:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=julian.reschke%40gmx.de&quot; class=&quot;user-hover&quot; rel=&quot;julian.reschke@gmx.de&quot;&gt;julian.reschke@gmx.de&lt;/a&gt; and that would remove AEM 6.3 from potential users, right?&lt;/p&gt;</comment>
                            <comment id="16014361" author="reschke" created="Wed, 17 May 2017 16:37:15 +0000"  >&lt;p&gt;Hmm, why? (it depends on whether the sling bundle exposes an API based on httpclient, does it?)&lt;/p&gt;</comment>
                            <comment id="16022442" author="rombert" created="Wed, 24 May 2017 07:25:51 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1796006&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1796006&lt;/a&gt;, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=npeltier&quot; class=&quot;user-hover&quot; rel=&quot;npeltier&quot;&gt;npeltier&lt;/a&gt; for the patch!&lt;/p&gt;</comment>
                            <comment id="16022443" author="githubbot" created="Wed, 24 May 2017 07:26:08 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/230&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/230&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 23 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3f28n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6859] Make dependency to javax.jcr optional</title>
                <link>https://issues.apache.org/jira/browse/SLING-6859</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;This is a follow up of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6723&quot; title=&quot;Make dependency to javax.jcr, jcr.contentloader and jcr.api optional&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6723&quot;&gt;&lt;del&gt;SLING-6723&lt;/del&gt;&lt;/a&gt;. The importer is currently still tying the post servlet to JCR&lt;/p&gt;</description>
                <environment></environment>
        <key id="13072074">SLING-6859</key>
            <summary>Make dependency to javax.jcr optional</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 15 May 2017 16:57:38 +0000</created>
                <updated>Fri, 19 May 2017 04:55:44 +0000</updated>
                            <resolved>Mon, 15 May 2017 16:58:08 +0000</resolved>
                                                    <fixVersion>Servlets Post 2.3.18</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16010905" author="cziegeler" created="Mon, 15 May 2017 16:58:08 +0000"  >&lt;p&gt;Fixed in rev 1795224&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 24 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ezov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6856] NPE in scheduler whiteboard handler</title>
                <link>https://issues.apache.org/jira/browse/SLING-6856</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Unfortunately  the whiteboard handler for scheduled jobs in 2.6.0 has a severe bug when jobs arrive before the component is activated. A job reference might be set before the scheduler is set, resulting in an NPE&lt;/p&gt;</description>
                <environment></environment>
        <key id="13071968">SLING-6856</key>
            <summary>NPE in scheduler whiteboard handler</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 15 May 2017 11:54:12 +0000</created>
                <updated>Mon, 20 Aug 2018 04:00:34 +0000</updated>
                            <resolved>Mon, 20 Aug 2018 04:00:34 +0000</resolved>
                                    <version>Commons Scheduler 2.6.0</version>
                                    <fixVersion>Commons Scheduler 2.6.2</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16010391" author="cziegeler" created="Mon, 15 May 2017 12:04:49 +0000"  >&lt;p&gt;Fixed in rev 1795171 - unfortunately the name of the scheduler reference was missing&lt;/p&gt;</comment>
                            <comment id="16585393" author="ipv6guru" created="Mon, 20 Aug 2018 04:00:08 +0000"  >&lt;p&gt;re-open temporary&lt;/p&gt;</comment>
                            <comment id="16585394" author="ipv6guru" created="Mon, 20 Aug 2018 04:00:34 +0000"  >&lt;p&gt;Closing as Resolution &apos;Fixed&apos;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 10 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ez1b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6851] Karaf sling-extension-healthcheck feature doesn&apos;t start without healthcheck-api</title>
                <link>https://issues.apache.org/jira/browse/SLING-6851</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The sling-extension-healthcheck feature doesn&apos;t start unless you install the healthcheck-api.&lt;/p&gt;

&lt;p&gt;Suggest adding the api to the karaf feature.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13071428">SLING-6851</key>
            <summary>Karaf sling-extension-healthcheck feature doesn&apos;t start without healthcheck-api</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="olli">Oliver Lietz</assignee>
                                    <reporter username="bobpaulin">Bob Paulin</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 May 2017 03:25:07 +0000</created>
                <updated>Fri, 12 May 2017 12:06:17 +0000</updated>
                            <resolved>Fri, 12 May 2017 12:06:17 +0000</resolved>
                                                    <fixVersion>Karaf Integration Tests 1.0.0</fixVersion>
                    <fixVersion>Karaf Features 1.0.0</fixVersion>
                                    <component>Karaf</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16007586" author="githubbot" created="Fri, 12 May 2017 03:30:49 +0000"  >&lt;p&gt;GitHub user bobpaulin opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/226&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/226&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6851&quot; title=&quot;Karaf sling-extension-healthcheck feature doesn&amp;#39;t start without healthcheck-api&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6851&quot;&gt;&lt;del&gt;SLING-6851&lt;/del&gt;&lt;/a&gt; - Add Healthcheck Api to healthcheck karaf feature.&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/bobpaulin/sling&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/bobpaulin/sling&lt;/a&gt; bug/&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6851&quot; title=&quot;Karaf sling-extension-healthcheck feature doesn&amp;#39;t start without healthcheck-api&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6851&quot;&gt;&lt;del&gt;SLING-6851&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/226.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/226.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #226&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit b23d398b788313395322b1b2d89720dd4ef83ce9&lt;br/&gt;
Author: Bob Paulin &amp;lt;bob@bobpaulin.com&amp;gt;&lt;br/&gt;
Date:   2017-05-12T03:30:14Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6851&quot; title=&quot;Karaf sling-extension-healthcheck feature doesn&amp;#39;t start without healthcheck-api&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6851&quot;&gt;&lt;del&gt;SLING-6851&lt;/del&gt;&lt;/a&gt; - Add Healthcheck Api to healthcheck karaf feature.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16008024" author="olli" created="Fri, 12 May 2017 12:06:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://svn.apache.org/r1794960&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1794960&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 24 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3evpb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6847] JcrResource is not adaptable to PersistableValueMap</title>
                <link>https://issues.apache.org/jira/browse/SLING-6847</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;JcrNodeResource still mentions that it is adaptable to PersistableValueMap as part of the Adaptable annotation. As this is not true anymore, we should remove it&lt;/p&gt;</description>
                <environment></environment>
        <key id="13070743">SLING-6847</key>
            <summary>JcrResource is not adaptable to PersistableValueMap</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 May 2017 09:55:48 +0000</created>
                <updated>Wed, 31 May 2017 15:23:57 +0000</updated>
                            <resolved>Wed, 10 May 2017 10:04:11 +0000</resolved>
                                    <version>JCR Resource 3.0.0</version>
                                    <fixVersion>JCR Resource 3.0.2</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16004426" author="cziegeler" created="Wed, 10 May 2017 10:04:11 +0000"  >&lt;p&gt;Removed in rev 1794698&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 25 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3erh3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6846] Sling Models Impl: Avoid exceptions when resource has no resource type</title>
                <link>https://issues.apache.org/jira/browse/SLING-6846</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;when resources are adapted that have no resource type the code checking for resource type registrations may throw exceptions because it always expect a resource type.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13070404">SLING-6846</key>
            <summary>Sling Models Impl: Avoid exceptions when resource has no resource type</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                            <label>models</label>
                    </labels>
                <created>Tue, 9 May 2017 13:01:11 +0000</created>
                <updated>Mon, 15 May 2017 08:52:07 +0000</updated>
                            <resolved>Tue, 9 May 2017 13:01:44 +0000</resolved>
                                    <version>Sling Models Impl 1.4.0</version>
                                    <fixVersion>Models Impl 1.4.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="16002636" author="sseifert@pro-vision.de" created="Tue, 9 May 2017 13:01:44 +0000"  >&lt;p&gt;Completed: At revision: 1794571  &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 25 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3epen:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6844] Update to xss 1.0.18</title>
                <link>https://issues.apache.org/jira/browse/SLING-6844</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;We need to update the xss.compat bundle to the latest released xss 1.0.18 tag  - the released version 1.0.0 wasn&apos;t on the latest tag by accident. &lt;/p&gt;</description>
                <environment></environment>
        <key id="13070023">SLING-6844</key>
            <summary>Update to xss 1.0.18</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="karlpauls">Karl Pauls</assignee>
                                    <reporter username="karlpauls">Karl Pauls</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 May 2017 14:34:04 +0000</created>
                <updated>Thu, 11 May 2017 21:08:00 +0000</updated>
                            <resolved>Mon, 8 May 2017 14:34:46 +0000</resolved>
                                                    <fixVersion>XSS Protection API Compat 1.1.0</fixVersion>
                                    <component>XSS Protection API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16000835" author="karlpauls" created="Mon, 8 May 2017 14:34:46 +0000"  >&lt;p&gt;Done. I will do a release directly.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 25 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3en1z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6841] Sling Mocks should inject ResourceResolverFactory by default</title>
                <link>https://issues.apache.org/jira/browse/SLING-6841</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;SlingContextImpl doesn&apos;t register a ResourceResolverFactory by default. This should be one of the default services.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13069998">SLING-6841</key>
            <summary>Sling Mocks should inject ResourceResolverFactory by default</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 May 2017 13:12:46 +0000</created>
                <updated>Mon, 15 May 2017 08:53:19 +0000</updated>
                            <resolved>Mon, 8 May 2017 14:49:39 +0000</resolved>
                                    <version>Testing Sling Mock 2.2.8</version>
                                    <fixVersion>Testing Sling Mock 2.2.10</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16000741" author="sseifert@pro-vision.de" created="Mon, 8 May 2017 13:39:26 +0000"  >&lt;p&gt;the behavior has changed here in last sling mock release - &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6812&quot; title=&quot;sling-mock: Lazy initialization of ResourceResolverFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6812&quot;&gt;&lt;del&gt;SLING-6812&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;the ResourceResolverFactory is registered by ResourceResolverFactoryActivator, and since one of the latest versions of resourceresolver this is only done when any resource provider is found.&lt;/p&gt;

&lt;p&gt;to test custom resource providers sling-mock also provides a &quot;NONE&quot; mode for ResourceResolver type - and this failed when registering the ResourceResolverFactory via the activator for each unit test automatically.&lt;/p&gt;

&lt;p&gt;we might change the behavior from &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6812&quot; title=&quot;sling-mock: Lazy initialization of ResourceResolverFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6812&quot;&gt;&lt;del&gt;SLING-6812&lt;/del&gt;&lt;/a&gt; to do this lazy initialization only when ResourceReolverType = NONE. &lt;/p&gt;</comment>
                            <comment id="16000771" author="justinedelson" created="Mon, 8 May 2017 14:05:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert%40pro-vision.de&quot; class=&quot;user-hover&quot; rel=&quot;sseifert@pro-vision.de&quot;&gt;sseifert@pro-vision.de&lt;/a&gt; possibly I&apos;m doing something wrong.&lt;/p&gt;

&lt;p&gt;This test fails with the latest trunk:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;ResourceResolverFactoryTest {

    @Rule
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; SlingContext context = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; SlingContext(ResourceResolverType.RESOURCERESOLVER_MOCK);

    @Test
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void test() {
        Assert.assertNotNull(context.getService(ResourceResolverFactory.class));
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Is that expected?&lt;/p&gt;</comment>
                            <comment id="16000780" author="sseifert@pro-vision.de" created="Mon, 8 May 2017 14:08:40 +0000"  >&lt;p&gt;since &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6812&quot; title=&quot;sling-mock: Lazy initialization of ResourceResolverFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6812&quot;&gt;&lt;del&gt;SLING-6812&lt;/del&gt;&lt;/a&gt; this happens unfortunately. if you call context.resourceResolver() before it should work, but this is perhaps a bit unexpected.&lt;/p&gt;

&lt;p&gt;when we apply this laziness only for &quot;NONE&quot; resource resolver type your code would work again. this would be my proposal.&lt;/p&gt;</comment>
                            <comment id="16000793" author="justinedelson" created="Mon, 8 May 2017 14:17:40 +0000"  >&lt;p&gt;Yeah, IMO it is unexpected to need to do this in the test class.&lt;/p&gt;</comment>
                            <comment id="16000853" author="sseifert@pro-vision.de" created="Mon, 8 May 2017 14:49:39 +0000"  >&lt;p&gt;Completed: At revision: 1794387  &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13067921">SLING-6812</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 25 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3emwf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6840] Updates to the Sling Rewriter pipeline configuration have no effect</title>
                <link>https://issues.apache.org/jira/browse/SLING-6840</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Any updates to the rewriter pipeline configuration are not taken into account until the service is restarted. &lt;/p&gt;</description>
                <environment></environment>
        <key id="13069982">SLING-6840</key>
            <summary>Updates to the Sling Rewriter pipeline configuration have no effect</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dplaton">Daniel Platon</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 May 2017 12:22:05 +0000</created>
                <updated>Mon, 8 May 2017 12:22:05 +0000</updated>
                                            <version>Rewriter 1.2.0</version>
                                                    <component>General</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 25 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3emsv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6833] Sling Pipes should explicitly set exported package versions</title>
                <link>https://issues.apache.org/jira/browse/SLING-6833</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When building Sling Pipes 0.0.11-SNAPSHOT the basline plugin reports an unwarranted version increase of the &lt;tt&gt;org.apache.sling.pipes&lt;/tt&gt; package from 0.0.10 to 0.0.11 . Since there is no &lt;tt&gt;package-info.java&lt;/tt&gt; file for that package the picked up version is the one from the bundle, which is not desirable.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13069408">SLING-6833</key>
            <summary>Sling Pipes should explicitly set exported package versions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 5 May 2017 10:22:31 +0000</created>
                <updated>Wed, 20 Sep 2017 11:15:07 +0000</updated>
                            <resolved>Fri, 5 May 2017 10:29:17 +0000</resolved>
                                                    <fixVersion>Pipes 1.0.4</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15998051" author="rombert" created="Fri, 5 May 2017 10:29:17 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1794005&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1794005&lt;/a&gt; &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 25 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ej9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6832] osgi-mock: Support parsing SCR metadata when multiple definition XML files exists with the same name</title>
                <link>https://issues.apache.org/jira/browse/SLING-6832</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;under certain circumstances it may happen that in a test classpath multiple JAR files are loaded, and they contain the SCR metadata XML files with the same name.&lt;/p&gt;

&lt;p&gt;the metadata parsing logic of osgi-mock should still find all instances and parse them individually - they may contain different information.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13069391">SLING-6832</key>
            <summary>osgi-mock: Support parsing SCR metadata when multiple definition XML files exists with the same name</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                            <label>mocks</label>
                    </labels>
                <created>Fri, 5 May 2017 09:43:10 +0000</created>
                <updated>Mon, 15 May 2017 08:52:46 +0000</updated>
                            <resolved>Fri, 5 May 2017 09:46:04 +0000</resolved>
                                    <version>Testing OSGi Mock 1.9.4</version>
                    <version>Testing OSGi Mock 2.3.0</version>
                                    <fixVersion>Testing OSGi Mock 1.9.6</fixVersion>
                    <fixVersion>Testing OSGi Mock 2.3.2</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="15998005" author="sseifert@pro-vision.de" created="Fri, 5 May 2017 09:46:04 +0000"  >&lt;p&gt;Completed: At revision: 1793994  (2.x)&lt;br/&gt;
Completed: At revision: 1793995  (1.x)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 25 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ej5j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6831] ConcurrentModificationException in OSGi Installer</title>
                <link>https://issues.apache.org/jira/browse/SLING-6831</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Under certain scenarios I&apos;m getting: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.util.ConcurrentModificationException: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
	at java.util.HashMap$HashIterator.nextNode(HashMap.java:1437)
	at java.util.HashMap$KeyIterator.next(HashMap.java:1461)
	at org.apache.sling.installer.core.impl.OsgiInstallerImpl.getInstallationState(OsgiInstallerImpl.java:1390)
...&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;To me this seems caused by the fact that the Map datastructure in the PersistentResourceList is non-concurrent.&lt;/p&gt;

&lt;p&gt;PersistentResourceList.getEntityIds() returns the map&apos;s values directly. This is what is used in OsgiInstallerImpl line 1390:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Collection&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; getEntityIds() {
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.data.keySet();
    }&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;And the client code iterates over that, causing the exception.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13069128">SLING-6831</key>
            <summary>ConcurrentModificationException in OSGi Installer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="bosschaert">David Bosschaert</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 May 2017 12:49:42 +0000</created>
                <updated>Mon, 8 May 2017 10:08:01 +0000</updated>
                            <resolved>Fri, 5 May 2017 10:01:03 +0000</resolved>
                                    <version>Installer Core 3.8.6</version>
                                    <fixVersion>Installer Core 3.8.8</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15996674" author="bosschaert" created="Thu, 4 May 2017 12:51:02 +0000"  >&lt;p&gt;The attached patch should fix this issue.&lt;/p&gt;</comment>
                            <comment id="15997973" author="cziegeler" created="Fri, 5 May 2017 09:13:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bosschaert&quot; class=&quot;user-hover&quot; rel=&quot;bosschaert&quot;&gt;bosschaert&lt;/a&gt; Thanks for the patch - actually I think it&apos;s not that easy. While your patch might remove the occurence of the exception, the code in question runs inside a synchronized block and all modifications to the PersistentResourceList should be guarded by this. Apparently this is not the case, so we have to find this place&lt;/p&gt;</comment>
                            <comment id="15997978" author="cziegeler" created="Fri, 5 May 2017 09:16:59 +0000"  >&lt;p&gt;It seems OsgiInstallerImpl.transformResources is one of such places where the sync is missing, but it seems there are more places, like compact() is sometimes called outside of synchronization&lt;/p&gt;</comment>
                            <comment id="15997980" author="bosschaert" created="Fri, 5 May 2017 09:17:23 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, thanks for looking into it.&lt;/p&gt;

&lt;p&gt;I think the problem is that &lt;tt&gt;getEntityIds()&lt;/tt&gt; returns the valueset that is backed by the same object to the client (in this case the OSGiInstallerImpl). That client will iterate over that set outside of synchronization. Then at the same time some other code might modify the collection, but whether or not that&apos;s synchronized doesn&apos;t have an effect on the client as it doesn&apos;t do the synchronization.&lt;/p&gt;

&lt;p&gt;Maybe another option might be to return a copy to the client in &lt;tt&gt;getEntityIds()&lt;/tt&gt;? &lt;/p&gt;</comment>
                            <comment id="15997991" author="cziegeler" created="Fri, 5 May 2017 09:30:12 +0000"  >&lt;p&gt;I&apos;ve now added the missing sync in two places, I hope that will fix the problem (rev 1793992)&lt;br/&gt;
The only client of PersistentResourceList is OSGiInstallerImpl - so we can add locking in the relevant places and have full control.&lt;br/&gt;
Now, the whole installer core code has grown over time and is not really that maintainable anymore. Therefore I don&apos;t want to add new behaviour in the internal classes&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12866393" name="SLING-6831.patch" size="1495" author="bosschaert" created="Thu, 4 May 2017 12:51:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 25 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ehjb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6825] JCR Content Loader: Restore Node Descriptor Functionality</title>
                <link>https://issues.apache.org/jira/browse/SLING-6825</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-579&quot; title=&quot;Allow additional node information for files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-579&quot;&gt;&lt;del&gt;SLING-579&lt;/del&gt;&lt;/a&gt; a feature was introduced which allowed to add &quot;node descriptor files&quot; for content loading process, e.g. adding some additional JCR mixins or properties to a file imported via sling content loader.&lt;/p&gt;

&lt;p&gt;this feature was broken by rev. 1528790 since JCR content loader 2.1.8.&lt;/p&gt;

&lt;p&gt;we should also add unit test for this feature and some documentation.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13068812">SLING-6825</key>
            <summary>JCR Content Loader: Restore Node Descriptor Functionality</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 May 2017 15:54:19 +0000</created>
                <updated>Mon, 8 May 2017 07:56:19 +0000</updated>
                            <resolved>Wed, 3 May 2017 16:56:35 +0000</resolved>
                                    <version>JCR ContentLoader 2.1.8</version>
                    <version>JCR ContentLoader 2.1.10</version>
                                    <fixVersion>JCR ContentLoader 2.2.0</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="15995126" author="sseifert@pro-vision.de" created="Wed, 3 May 2017 15:57:07 +0000"  >&lt;p&gt;Completed: At revision: 1793667  &lt;/p&gt;

&lt;p&gt;fixed the issue&lt;/p&gt;</comment>
                            <comment id="15995179" author="sseifert@pro-vision.de" created="Wed, 3 May 2017 16:34:19 +0000"  >&lt;p&gt;Completed: At revision: 1793674  &lt;/p&gt;

&lt;p&gt;added integration tests for files and folders with additional node descriptors&lt;/p&gt;</comment>
                            <comment id="15995205" author="sseifert@pro-vision.de" created="Wed, 3 May 2017 16:56:35 +0000"  >&lt;p&gt;i&apos;ve also updated the docs and added an example for loading i18n JSON files with content loader:&lt;br/&gt;
&lt;a href=&quot;http://sling.apache.org/documentation/bundles/content-loading-jcr-contentloader.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/documentation/bundles/content-loading-jcr-contentloader.html&lt;/a&gt;&lt;br/&gt;
(changes not yet visible live)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12400793">SLING-579</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12652004">SLING-2917</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 26 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3efl3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6822] Health Check HTML Output puts &quot;Finished At&quot; under &quot;Execution Time&quot; column</title>
                <link>https://issues.apache.org/jira/browse/SLING-6822</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The HTML table includes both &quot;Finished At&quot; and &quot;Execution Time&quot; under the &quot;Execution Time&quot; table header. There should be a separate header for &quot;Finished At&quot;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13068462">SLING-6822</key>
            <summary>Health Check HTML Output puts &quot;Finished At&quot; under &quot;Execution Time&quot; column</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 May 2017 15:26:49 +0000</created>
                <updated>Thu, 11 May 2017 16:05:37 +0000</updated>
                            <resolved>Tue, 2 May 2017 16:14:56 +0000</resolved>
                                                    <fixVersion>Health Check Core 1.2.8</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15993186" author="justinedelson" created="Tue, 2 May 2017 16:14:56 +0000"  >&lt;p&gt;fixed in r1793558 &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 26 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3edfb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6819] Includes are removed from attached model</title>
                <link>https://issues.apache.org/jira/browse/SLING-6819</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In 1.7.4 the references to included models are unfortunately removed from the attached artifact.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13068432">SLING-6819</key>
            <summary>Includes are removed from attached model</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 May 2017 13:55:12 +0000</created>
                <updated>Fri, 5 May 2017 14:40:26 +0000</updated>
                            <resolved>Tue, 2 May 2017 13:55:54 +0000</resolved>
                                    <version>Slingstart Maven Plugin 1.7.4</version>
                                    <fixVersion>Slingstart Maven Plugin 1.7.6</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15992936" author="cziegeler" created="Tue, 2 May 2017 13:55:54 +0000"  >&lt;p&gt;Resolved in rev 1793494&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 26 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ed8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6818] Sling Models Impl build tries to deploy sources jar twice</title>
                <link>https://issues.apache.org/jira/browse/SLING-6818</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;This appears to be caused by the use of the shade plugin which attaches its own sources JAR.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13068428">SLING-6818</key>
            <summary>Sling Models Impl build tries to deploy sources jar twice</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 May 2017 13:38:41 +0000</created>
                <updated>Mon, 15 May 2017 08:52:07 +0000</updated>
                            <resolved>Tue, 2 May 2017 13:40:18 +0000</resolved>
                                                    <fixVersion>Models Impl 1.4.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15992911" author="justinedelson" created="Tue, 2 May 2017 13:40:18 +0000"  >&lt;p&gt;fixed in r1793493&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 26 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ed7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6816] Model validation should handle :remove sections correctly</title>
                <link>https://issues.apache.org/jira/browse/SLING-6816</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a model is validated and contains a :remove section (which is valid) and this section removes configurations, then validation fails as the removed configurations do not have properties.&lt;br/&gt;
As such a section is valid, it should be accordingly handled in validate&lt;/p&gt;</description>
                <environment></environment>
        <key id="13068397">SLING-6816</key>
            <summary>Model validation should handle :remove sections correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 May 2017 11:49:43 +0000</created>
                <updated>Fri, 5 May 2017 14:40:41 +0000</updated>
                            <resolved>Tue, 2 May 2017 11:52:44 +0000</resolved>
                                    <version>Sling Provisioning Model 1.8.0</version>
                                    <fixVersion>Sling Provisioning Model 1.8.2</fixVersion>
                                    <component>Tooling</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15992766" author="cziegeler" created="Tue, 2 May 2017 11:52:44 +0000"  >&lt;p&gt;Corrected in rev 1793475&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 26 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ed0v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6803] Sling health check servlet does not respond to a query for .json or .html on it&apos;s root relative path</title>
                <link>https://issues.apache.org/jira/browse/SLING-6803</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;After binding the health check servlet to a URI, such as /system/health:&lt;/p&gt;

&lt;p&gt;Executing &lt;a href=&quot;http://localhost:4502/system/health/security.json&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:4502/system/health/security.json&lt;/a&gt; works as expected and returns json, however &lt;a href=&quot;http://localhost:4502/system/health.json&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:4502/system/health.json&lt;/a&gt; does not return json.&lt;/p&gt;

&lt;p&gt;In order to obtain the full list in json, you need to either query &lt;a href=&quot;http://localhost:4502/system/health/.json&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:4502/system/health/.json&lt;/a&gt; or &lt;a href=&quot;http://localhost:4502/system/health?format=json&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:4502/system/health?format=json&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I expect that /system/health.json should also work. &lt;/p&gt;</description>
                <environment></environment>
        <key id="13067455">SLING-6803</key>
            <summary>Sling health check servlet does not respond to a query for .json or .html on it&apos;s root relative path</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="cgoudie">Clinton H Goudie-Nice</reporter>
                        <labels>
                    </labels>
                <created>Thu, 27 Apr 2017 17:22:49 +0000</created>
                <updated>Thu, 11 May 2017 16:05:37 +0000</updated>
                            <resolved>Tue, 2 May 2017 16:15:12 +0000</resolved>
                                                    <fixVersion>Health Check Core 1.2.8</fixVersion>
                                    <component>Health Check</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15993187" author="justinedelson" created="Tue, 2 May 2017 16:15:12 +0000"  >&lt;p&gt;fixed in r1793559 &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 26 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3e77j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6802] XSSRuntimeExtension should not use adapter factory to get XSSAPI</title>
                <link>https://issues.apache.org/jira/browse/SLING-6802</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description></description>
                <environment></environment>
        <key id="13067349">SLING-6802</key>
            <summary>XSSRuntimeExtension should not use adapter factory to get XSSAPI</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 27 Apr 2017 12:28:54 +0000</created>
                <updated>Tue, 9 May 2017 12:03:32 +0000</updated>
                            <resolved>Thu, 27 Apr 2017 12:33:56 +0000</resolved>
                                                    <fixVersion>Scripting HTL Engine 1.0.34</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15986519" author="cziegeler" created="Thu, 27 Apr 2017 12:33:56 +0000"  >&lt;p&gt;Changed to a simple service reference in rev 1792875&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 26 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3e6jz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6794] Inconsistent handling of default configuration</title>
                <link>https://issues.apache.org/jira/browse/SLING-6794</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The XSSFilterImpl has currently an inconsistent handling of default configurations:&lt;br/&gt;
If a login exception for the service resource resolver occurs, there is no configuration at all - which I think is wrong. The default config should apply or an exception should be thrown, but I guess applying the default config is the better option&lt;br/&gt;
In addition we might want to reduce the log level from WARN to INFO or even DEBUG when there is no configuration in the resource tree but the embedded default is used.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13067005">SLING-6794</key>
            <summary>Inconsistent handling of default configuration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Apr 2017 09:38:35 +0000</created>
                <updated>Wed, 20 Sep 2017 11:28:48 +0000</updated>
                            <resolved>Wed, 26 Apr 2017 10:37:25 +0000</resolved>
                                                    <fixVersion>XSS Protection API 2.0.0</fixVersion>
                                    <component>XSS Protection API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15984558" author="cziegeler" created="Wed, 26 Apr 2017 10:37:25 +0000"  >&lt;p&gt;Fixed in rev 1792725&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 27 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3e4fj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6792] Attached provisioning model should be the raw model</title>
                <link>https://issues.apache.org/jira/browse/SLING-6792</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently the attached provisioning model is the processed model, which means that things like a :remove section are removed from the model when it is stored in the maven repository.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13066954">SLING-6792</key>
            <summary>Attached provisioning model should be the raw model</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Apr 2017 06:55:31 +0000</created>
                <updated>Mon, 1 May 2017 13:05:31 +0000</updated>
                            <resolved>Wed, 26 Apr 2017 06:56:28 +0000</resolved>
                                    <version>Slingstart Maven Plugin 1.7.2</version>
                                    <fixVersion>Slingstart Maven Plugin 1.7.4</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15984269" author="cziegeler" created="Wed, 26 Apr 2017 06:56:28 +0000"  >&lt;p&gt;Fixed in rev 1792698&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 27 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3e447:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6791] Servlet Resolver Test does no longer find scripts being referenced through resource type</title>
                <link>https://issues.apache.org/jira/browse/SLING-6791</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When using the latest launchpad (including Slingshot), going to /system/console/servletresolver?url=%2Fslingshot%2Fusers%2Fslingshot1.html&amp;amp;method=GET shows as candidates only&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;org.apache.sling.servlets.get.impl.DefaultGetServlet
org.apache.sling.jcr.webdav.impl.servlets.SlingWebDavServlet
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is wrong, the script for rendering this is actually at &lt;tt&gt;/libs/slingshot/User/html.jsp&lt;/tt&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13066712">SLING-6791</key>
            <summary>Servlet Resolver Test does no longer find scripts being referenced through resource type</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Tue, 25 Apr 2017 14:48:33 +0000</created>
                <updated>Tue, 9 May 2017 17:53:35 +0000</updated>
                            <resolved>Wed, 26 Apr 2017 11:45:23 +0000</resolved>
                                    <version>Servlets Resolver 2.4.10</version>
                                    <fixVersion>Servlets Resolver 2.4.12</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15983008" author="kwin" created="Tue, 25 Apr 2017 14:56:27 +0000"  >&lt;p&gt;The user mapping for service resource resolver being used in &lt;a href=&quot;https://github.com/apache/sling/blob/trunk/bundles/servlets/resolver/src/main/java/org/apache/sling/servlets/resolver/internal/SlingServletResolver.java#L1184&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/bundles/servlets/resolver/src/main/java/org/apache/sling/servlets/resolver/internal/SlingServletResolver.java#L1184&lt;/a&gt; namely &lt;tt&gt;org.apache.sling.servlets.resolver:scripts&lt;/tt&gt; is pointing towards the system user &lt;tt&gt;sling-scripting&lt;/tt&gt;. This user only has read access below &lt;tt&gt;/apps&lt;/tt&gt; and &lt;tt&gt;/libs&lt;/tt&gt;. This is obviously not enough, since the user is also being used to figure out the resource type e.g. in &lt;tt&gt;/content&lt;/tt&gt; (so this line here does not resolve the correct resource: &lt;a href=&quot;https://github.com/apache/sling/blob/trunk/bundles/servlets/resolver/src/main/java/org/apache/sling/servlets/resolver/internal/SlingServletResolver.java#L1264&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/bundles/servlets/resolver/src/main/java/org/apache/sling/servlets/resolver/internal/SlingServletResolver.java#L1264&lt;/a&gt;). So either we change the mapping to point to sling-readall or we extend the ACLs being granted to &lt;tt&gt;sling-scripting&lt;/tt&gt;. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; Can you have a look, since you implemented &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-5237&quot; title=&quot;Remove getAdministrativeResourceResolver() usage from org.apache.sling.servlets.resolver&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-5237&quot;&gt;&lt;del&gt;SLING-5237&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="15984629" author="cziegeler" created="Wed, 26 Apr 2017 11:41:50 +0000"  >&lt;p&gt;I think servlets resolver should use two different service users - like resource resolver does; one for reading/using scripts (the current one) and a new one which maps to the readall service user for the web console plugin&lt;/p&gt;</comment>
                            <comment id="15984630" author="cziegeler" created="Wed, 26 Apr 2017 11:45:23 +0000"  >&lt;p&gt;Fixed in rev 1792737 and rev 1792738&lt;/p&gt;</comment>
                            <comment id="15984676" author="kwin" created="Wed, 26 Apr 2017 12:08:25 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;. I would prefer though if both service resource resolver mappings would be configured in the same model file. Now they are distributed among &lt;a href=&quot;https://github.com/apache/sling/blob/f27441a09ccbea0cad8f4dfca04b13ffebbc1f67/launchpad/builder/src/main/provisioning/sling.txt#L186&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/f27441a09ccbea0cad8f4dfca04b13ffebbc1f67/launchpad/builder/src/main/provisioning/sling.txt#L186&lt;/a&gt; and &lt;a href=&quot;https://github.com/apache/sling/blob/f27441a09ccbea0cad8f4dfca04b13ffebbc1f67/launchpad/builder/src/main/provisioning/scripting.txt#L61&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/f27441a09ccbea0cad8f4dfca04b13ffebbc1f67/launchpad/builder/src/main/provisioning/scripting.txt#L61&lt;/a&gt;. Also the same mapping configuration should be used for both (and not two different ones).&lt;/p&gt;</comment>
                            <comment id="15984692" author="cziegeler" created="Wed, 26 Apr 2017 12:19:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; Feel free to improve it&lt;/p&gt;</comment>
                            <comment id="15984909" author="kwin" created="Wed, 26 Apr 2017 14:31:18 +0000"  >&lt;p&gt;Moved the service user mapping configuration of the resolver to the sling.txt in &lt;a href=&quot;https://svn.apache.org/r1792747&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1792747&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12603720">SLING-2562</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 27 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3e2mf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6786] JCR Installer Provider doesn&apos;t rescan if exception happens during scan.</title>
                <link>https://issues.apache.org/jira/browse/SLING-6786</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently, the JCR Installer Provider maintains a boolean flag needsScan which is set to true on start and when an event occurs in the JCR for a given watched folder. &lt;/p&gt;

&lt;p&gt;Subsequently, when a scan is requested because of that flag being true, it will set the flag to false at the beginning of the scan. In other words, the folder will not be rescanned until either the provider is restarted or something changes in the repository (indicated by an event), respectively.&lt;/p&gt;

&lt;p&gt;This is fine, however, it ignores the fact that an exception can occur during the scan (e.g., connection is gone, etc.). If that happens, it will not finish the scan but the needsScan will already be false - hence, until something changes, the folder will not be rescanned. &lt;/p&gt;

&lt;p&gt;The fix seems simple. The needsScan=false should be moved form the start of the scan method to the end of it. &lt;/p&gt;</description>
                <environment></environment>
        <key id="13066268">SLING-6786</key>
            <summary>JCR Installer Provider doesn&apos;t rescan if exception happens during scan.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="karlpauls">Karl Pauls</assignee>
                                    <reporter username="karlpauls">Karl Pauls</reporter>
                        <labels>
                    </labels>
                <created>Mon, 24 Apr 2017 08:39:44 +0000</created>
                <updated>Wed, 20 Sep 2017 11:25:17 +0000</updated>
                            <resolved>Tue, 25 Apr 2017 16:09:00 +0000</resolved>
                                    <version>JCR Installer 3.1.24</version>
                                    <fixVersion>JCR Installer 3.1.26</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15980877" author="karlpauls" created="Mon, 24 Apr 2017 08:41:53 +0000"  >&lt;p&gt;As I said, the fix seems simple - see &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12864725/12864725_SLING-6786.patch&quot; title=&quot;SLING-6786.patch attached to SLING-6786&quot;&gt;SLING-6786.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;. If nobody complains, I will apply it.&lt;/p&gt;</comment>
                            <comment id="15983124" author="karlpauls" created="Tue, 25 Apr 2017 16:09:00 +0000"  >&lt;p&gt;I commited the patch in r1792627.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12864725" name="SLING-6786.patch" size="803" author="karlpauls" created="Mon, 24 Apr 2017 08:41:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 27 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3dzvz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6781] VltUtils only keep the last filter for a given path</title>
                <link>https://issues.apache.org/jira/browse/SLING-6781</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The utility method VltUtils#parseFilters &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; does not merge the definitions for the same path. As an example providing the filters&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[]{&lt;span class=&quot;code-quote&quot;&gt;&quot;/home/users|-.*/.tokens&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;/home/users|-.*/.rep:cache&quot;&lt;/span&gt;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;will return a tree map with only one entry (&lt;tt&gt;.*/.rep:cache&lt;/tt&gt;) for the path &lt;tt&gt;/home/users&lt;/tt&gt;).&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling/blob/trunk/contrib/extensions/distribution/core/src/main/java/org/apache/sling/distribution/serialization/impl/vlt/VltUtils.java#L305-L338&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/contrib/extensions/distribution/core/src/main/java/org/apache/sling/distribution/serialization/impl/vlt/VltUtils.java#L305-L338&lt;/a&gt; &lt;/p&gt;</description>
                <environment></environment>
        <key id="13063822">SLING-6781</key>
            <summary>VltUtils only keep the last filter for a given path</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marett">Timothee Maret</assignee>
                                    <reporter username="marett">Timothee Maret</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Apr 2017 15:13:30 +0000</created>
                <updated>Wed, 7 Jun 2017 21:38:10 +0000</updated>
                            <resolved>Tue, 18 Apr 2017 09:26:56 +0000</resolved>
                                    <version>Content Distribution Core 0.2.6</version>
                                    <fixVersion>Content Distribution Core 0.2.8</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15972388" author="marett" created="Tue, 18 Apr 2017 09:26:56 +0000"  >&lt;p&gt;Fixed in &lt;tt&gt;r1791766&lt;/tt&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 28 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3dlef:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6780] org.apache.sling.scripting.sightly.js.provider does not declare a version range for the org.mozilla.javascript import</title>
                <link>https://issues.apache.org/jira/browse/SLING-6780</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The &lt;tt&gt;org.apache.sling.scripting.sightly.js.provider&lt;/tt&gt; bundle is not declaring a version range for the &lt;tt&gt;org.mozilla.javascript&lt;/tt&gt; import in its manifest. This can become a problem when someone installs an incompatible version. The solution is simple: make sure we declare a correct version range for &lt;tt&gt;org.mozilla.javascript&lt;/tt&gt; import.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13063520">SLING-6780</key>
            <summary>org.apache.sling.scripting.sightly.js.provider does not declare a version range for the org.mozilla.javascript import</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="vladb">Vlad Bailescu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Apr 2017 14:53:51 +0000</created>
                <updated>Tue, 9 May 2017 12:24:46 +0000</updated>
                            <resolved>Thu, 13 Apr 2017 09:37:24 +0000</resolved>
                                    <version>Scripting Sightly JS Use Provider 1.0.10</version>
                                    <fixVersion>Scripting HTL JS Use Provider 1.0.22</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15965997" author="githubbot" created="Wed, 12 Apr 2017 14:57:34 +0000"  >&lt;p&gt;GitHub user vladbailescu opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/213&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/213&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6780&quot; title=&quot;org.apache.sling.scripting.sightly.js.provider does not declare a version range for the org.mozilla.javascript import&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6780&quot;&gt;&lt;del&gt;SLING-6780&lt;/del&gt;&lt;/a&gt; - org.apache.sling.scripting.sightly.js.provider does not &#8230;&lt;/p&gt;

&lt;p&gt;    &#8230;declare an version range for org.mozilla.javascript import&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Added dependency to org.apache.sling.scripting.javascript&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/vladbailescu/sling&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/vladbailescu/sling&lt;/a&gt; issue/&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6780&quot; title=&quot;org.apache.sling.scripting.sightly.js.provider does not declare a version range for the org.mozilla.javascript import&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6780&quot;&gt;&lt;del&gt;SLING-6780&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/213.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/213.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #213&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 21891430ea2b3af8d860db44009a393bfa7de738&lt;br/&gt;
Author: vladbailescu &amp;lt;bailescu@adobe.com&amp;gt;&lt;br/&gt;
Date:   2017-04-12T14:56:54Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6780&quot; title=&quot;org.apache.sling.scripting.sightly.js.provider does not declare a version range for the org.mozilla.javascript import&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6780&quot;&gt;&lt;del&gt;SLING-6780&lt;/del&gt;&lt;/a&gt; - org.apache.sling.scripting.sightly.js.provider does not declare an version range for org.mozilla.javascript import&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Added dependency to org.apache.sling.scripting.javascript&lt;/li&gt;
&lt;/ul&gt;


&lt;hr /&gt;</comment>
                            <comment id="15966362" author="olli" created="Wed, 12 Apr 2017 18:31:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu.cotescu&quot; class=&quot;user-hover&quot; rel=&quot;radu.cotescu&quot;&gt;radu.cotescu&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vladb&quot; class=&quot;user-hover&quot; rel=&quot;vladb&quot;&gt;vladb&lt;/a&gt;: Do &lt;b&gt;not&lt;/b&gt; depend on &lt;tt&gt;org.apache.sling.scripting.javascript&lt;/tt&gt; when &lt;tt&gt;org.apache.sling.scripting.sightly.js.provider&lt;/tt&gt; depends in fact on &lt;tt&gt;org.mozilla.javascript&lt;/tt&gt;, see &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-5731&quot; title=&quot;Export the org.mozilla.javascript.tools package in org.apache.sling.scripting.javascript bundle&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-5731&quot;&gt;&lt;del&gt;SLING-5731&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6668&quot; title=&quot;Remove embedded Rhino from bundle&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6668&quot;&gt;&lt;del&gt;SLING-6668&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15967266" author="vladb" created="Thu, 13 Apr 2017 08:05:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt;, thanks for your input. Already discussed with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu.cotescu&quot; class=&quot;user-hover&quot; rel=&quot;radu.cotescu&quot;&gt;radu.cotescu&lt;/a&gt; and agreed we should add the version range manually and not rely on the dependency, please see the updated PR: &lt;a href=&quot;https://github.com/apache/sling/pull/213&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/213&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15967348" author="radu.cotescu" created="Thu, 13 Apr 2017 09:37:24 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1791224&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1791224&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15967354" author="githubbot" created="Thu, 13 Apr 2017 09:40:47 +0000"  >&lt;p&gt;Github user vladbailescu closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/213&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/213&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15967358" author="kwin" created="Thu, 13 Apr 2017 09:46:52 +0000"  >&lt;p&gt;As written in &lt;a href=&quot;https://github.com/apache/sling/pull/213#discussion_r111349248&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/213#discussion_r111349248&lt;/a&gt; I don&apos;t agree with the import range. This should IMHO be [1.7,2) and I would prefer to automatically generate through bnd, by exchanging the dependency Rhino in &lt;a href=&quot;https://github.com/vladbailescu/sling/blob/0ec63ac17191b8b2ad839924d39c11e32435192e/bundles/scripting/sightly/js-use-provider/pom.xml#L174&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/vladbailescu/sling/blob/0ec63ac17191b8b2ad839924d39c11e32435192e/bundles/scripting/sightly/js-use-provider/pom.xml#L174&lt;/a&gt; with the service mix bundle (added in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6668&quot; title=&quot;Remove embedded Rhino from bundle&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6668&quot;&gt;&lt;del&gt;SLING-6668&lt;/del&gt;&lt;/a&gt;). &lt;/p&gt;</comment>
                            <comment id="15967426" author="radu.cotescu" created="Thu, 13 Apr 2017 11:19:56 +0000"  >&lt;p&gt;Switched to depending on the &lt;tt&gt;org.apache.servicemix.bundles.rhino&lt;/tt&gt; bundle, so that &lt;tt&gt;bnd&lt;/tt&gt; defines the correct imports in &lt;a href=&quot;https://svn.apache.org/r1791227&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1791227&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13057332">SLING-6668</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 28 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3djjb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6777] ValidationServiceImpl breaks when hitting closed resolver for resource bundles (i18n)</title>
                <link>https://issues.apache.org/jira/browse/SLING-6777</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.IllegalStateException: Resource resolver is already closed.
	at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.checkClosed(ResourceResolverImpl.java:186)
	at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.findResources(ResourceResolverImpl.java:731)
	at org.apache.sling.i18n.impl.JcrResourceBundle.loadPotentialLanguageRoots(JcrResourceBundle.java:328)
	at org.apache.sling.i18n.impl.JcrResourceBundle.&amp;lt;init&amp;gt;(JcrResourceBundle.java:85)
	at org.apache.sling.i18n.impl.JcrResourceBundleProvider.createResourceBundle(JcrResourceBundleProvider.java:452)
	at org.apache.sling.i18n.impl.JcrResourceBundleProvider.getResourceBundleInternal(JcrResourceBundleProvider.java:411)
	at org.apache.sling.i18n.impl.JcrResourceBundleProvider.getResourceBundle(JcrResourceBundleProvider.java:180)
	at org.apache.sling.i18n.impl.JcrResourceBundleProvider.getResourceBundle(JcrResourceBundleProvider.java:171)
	at org.apache.sling.validation.impl.ValidationServiceImpl.getDefaultResourceBundle(ValidationServiceImpl.java:196)
	at org.apache.sling.validation.impl.ValidationServiceImpl.validate(ValidationServiceImpl.java:292)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13062843">SLING-6777</key>
            <summary>ValidationServiceImpl breaks when hitting closed resolver for resource bundles (i18n)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10101">Abandoned</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="olli">Oliver Lietz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 10 Apr 2017 09:50:01 +0000</created>
                <updated>Wed, 16 Mar 2022 15:06:53 +0000</updated>
                            <resolved>Wed, 16 Mar 2022 15:06:53 +0000</resolved>
                                    <version>i18n 2.5.8</version>
                    <version>Validation 1.0.0</version>
                                                    <component>Extensions</component>
                    <component>Validation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15965513" author="kwin" created="Wed, 12 Apr 2017 07:48:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt; The service resource resolver used by i18n is opened in the &lt;tt&gt;activate&lt;/tt&gt; and closed in the &lt;tt&gt;deactivate&lt;/tt&gt;. So how did you trigger this exception exactly? I wonder if this rather is a bug in Sling i18n.&lt;/p&gt;</comment>
                            <comment id="15965552" author="olli" created="Wed, 12 Apr 2017 08:32:12 +0000"  >&lt;p&gt;The error was reported by a client and I don&apos;t have much more information other than &lt;tt&gt;ValidationService&lt;/tt&gt; is used in a (Sling-) POST-Servlet.&lt;br/&gt;
Whatever the root issue is (suspecting &lt;em&gt;i18n&lt;/em&gt; also), we should handle closed resolvers in Validation gracefully.&lt;/p&gt;

&lt;p&gt;I never had good experience with long running resource resolvers and try to avoid whenever possible. Should we switch to short running resolver in &lt;em&gt;i18n&lt;/em&gt; (opening/closing when used or per thread)? WDYT, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="15965637" author="alexander.klimetschek" created="Wed, 12 Apr 2017 10:06:12 +0000"  >&lt;p&gt;At first, I can only see this happening on bundle restarts or component restarts due to configuration changes (i.e. the &lt;tt&gt;JcrResourceBundleProvider&lt;/tt&gt; restarting), while some request using the &lt;tt&gt;ValidationService&lt;/tt&gt; is still being processed and still has a reference on the closing provider. Where I don&apos;t think much can be done. It&apos;s a somewhat typical issue you often get during restarts.&lt;/p&gt;

&lt;p&gt;Is there any indication this is happening frequently instead of a one-off situation and persists after it has happened once?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;we should handle closed resolvers in Validation gracefully&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Note that Validation does not see the resolver here, so validation could not handle this directly.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Should we switch to short running resolver in i18n&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Seems possible. It is long running because it was originally used for JCR observation. But since &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4186&quot; title=&quot;Make org.apache.sling.i18n independent from JCR APIs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4186&quot;&gt;&lt;del&gt;SLING-4186&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://github.com/apache/sling/commit/a30af93968405819c1b607e89ff7b5371f74533d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this change&lt;/a&gt;, it leverages the Sling Resource Change stuff, which I believe has its own listener session(s).&lt;/p&gt;</comment>
                            <comment id="15965749" author="cziegeler" created="Wed, 12 Apr 2017 12:37:52 +0000"  >&lt;p&gt;I agree, we should in general avoid long running sessions/resource resolvers. I can&apos;t see any bug in wrt this behaviour in the current code; the resource resolver is only closed on deactivate. It would be good to know the i18n and validation version used. This could also be a bug in the validation service holding a stale ResourceBundleProvider&lt;/p&gt;</comment>
                            <comment id="15965825" author="kwin" created="Wed, 12 Apr 2017 13:20:22 +0000"  >&lt;blockquote&gt;&lt;p&gt;This could also be a bug in the validation service holding a stale ResourceBundleProvider&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Indeed it could be, but I currently fail to see how this can happen. The &lt;tt&gt;ValidationServiceImpl&lt;/tt&gt; holds a volatile dynamic reference to all &lt;tt&gt;ResourceBundleProviders&lt;/tt&gt; in &lt;a href=&quot;https://github.com/apache/sling/blob/trunk/bundles/extensions/validation/core/src/main/java/org/apache/sling/validation/impl/ValidationServiceImpl.java#L101&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/bundles/extensions/validation/core/src/main/java/org/apache/sling/validation/impl/ValidationServiceImpl.java#L101&lt;/a&gt;. This is used in &lt;tt&gt;getDefaultResourceBundle&lt;/tt&gt; to get a  resource bundle. This resource bundle is not cached and also the stack trace from this issue actually includes &lt;tt&gt;getDefaultResourceBundle&lt;/tt&gt; so I am wondering, how the &lt;tt&gt;ResourceBundleProvider&lt;/tt&gt; could have been deactivated here.&lt;/p&gt;</comment>
                            <comment id="15965900" author="cziegeler" created="Wed, 12 Apr 2017 13:51:51 +0000"  >&lt;p&gt;Is this version used? Clearly it&apos;s not the latest i18n version so it might be an different validation impl? I think we really need version info here first&lt;/p&gt;</comment>
                            <comment id="15966244" author="olli" created="Wed, 12 Apr 2017 17:21:00 +0000"  >&lt;blockquote&gt;&lt;p&gt;Is there any indication this is happening frequently instead of a one-off situation and persists after it has happened once?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The error was observed once (which doesn&apos;t mean much in this case).&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Note that Validation does not see the resolver here, so validation could not handle this directly.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We can at least surround &lt;tt&gt;resourceBundleProvider.getResourceBundle(locale)&lt;/tt&gt; with &lt;tt&gt;try&lt;/tt&gt;/&lt;tt&gt;catch&lt;/tt&gt; inside the loop and log an error.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 29 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3dfdj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6775] Commons Threads: Remove scr plugin from pom</title>
                <link>https://issues.apache.org/jira/browse/SLING-6775</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Commons Thread is using the parent 30 while still leveraging the Felix SCR Annotations together with the &lt;tt&gt;maven-scr-plugin&lt;/tt&gt;. This is known to cause issues. Either the parent dependency needs to be downgraded or Commons Threads needs to migrate to OSGi annotations and get rid of using the &lt;tt&gt;maven-scr-plugin&lt;/tt&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13062463">SLING-6775</key>
            <summary>Commons Threads: Remove scr plugin from pom</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Fri, 7 Apr 2017 15:21:49 +0000</created>
                <updated>Mon, 10 Apr 2017 05:32:33 +0000</updated>
                            <resolved>Mon, 10 Apr 2017 05:32:32 +0000</resolved>
                                                    <fixVersion>Commons Threads 3.2.10</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15962449" author="cziegeler" created="Mon, 10 Apr 2017 05:32:33 +0000"  >&lt;p&gt;Commons threads is not using the scr annotations, however the scr plugin is still defined in the pom&lt;br/&gt;
I removed this in rev 1790774&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13060010">SLING-6746</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 29 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3dd13:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6774] Allowed character set in repo init is too restrictive</title>
                <link>https://issues.apache.org/jira/browse/SLING-6774</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;As we found out in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6772&quot; title=&quot;Provide default mapping for service users&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6772&quot;&gt;&lt;del&gt;SLING-6772&lt;/del&gt;&lt;/a&gt;, the allowed character set of repoinit is too limited. We should at least add a plus and the @ sign.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6772&quot; title=&quot;Provide default mapping for service users&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6772&quot;&gt;&lt;del&gt;SLING-6772&lt;/del&gt;&lt;/a&gt; as two patches for handling the @ by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13062331">SLING-6774</key>
            <summary>Allowed character set in repo init is too restrictive</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marett">Timothee Maret</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 7 Apr 2017 05:54:49 +0000</created>
                <updated>Sun, 24 Sep 2017 18:48:13 +0000</updated>
                            <resolved>Tue, 19 Sep 2017 14:08:35 +0000</resolved>
                                    <version>Repoinit Parser 1.1.0</version>
                                    <fixVersion>Repoinit Parser 1.2.0</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15960474" author="olli" created="Fri, 7 Apr 2017 08:26:22 +0000"  >&lt;p&gt;Current definition in repoinit&apos;s grammar (&lt;tt&gt;RepoInitGrammar.jjt&lt;/tt&gt;):&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;|   &amp;lt; NAMESPACED_ITEM: ([&quot;a&quot;-&quot;z&quot;] | [&quot;A&quot;-&quot;Z&quot;])+ &quot;:&quot; ([&quot;a&quot;-&quot;z&quot;] | [&quot;A&quot;-&quot;Z&quot;])+ &amp;gt;
|   &amp;lt; PATH_STRING: &quot;/&quot; ([&quot;a&quot;-&quot;z&quot;] | [&quot;A&quot;-&quot;Z&quot;] | [&quot;0&quot;-&quot;9&quot;] | [&quot;-&quot;] | [&quot;_&quot;] | [&quot;.&quot;] | [&quot;/&quot;]) * &amp;gt;
|   &amp;lt; STRING: ([&quot;a&quot;-&quot;z&quot;] | [&quot;A&quot;-&quot;Z&quot;] | [&quot;0&quot;-&quot;9&quot;] | [&quot;-&quot;] | [&quot;_&quot;] | [&quot;.&quot;] | [&quot;/&quot;] | [&quot;:&quot;] | [&quot;*&quot;]) * &amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16067881" author="cziegeler" created="Thu, 29 Jun 2017 06:58:09 +0000"  >&lt;p&gt;PATH_STRING does not allow namespaces names, so something like&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;set ACL for fredWilmaService
  allow jcr:write on /jcr:foo
end
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;results in a parser exception&lt;/p&gt;</comment>
                            <comment id="16171449" author="marett" created="Tue, 19 Sep 2017 10:05:37 +0000"  >&lt;p&gt;IIUC, this issue is about extending the syntax of PATH_STRING with &lt;tt&gt;+&lt;/tt&gt;, &lt;tt&gt;@&lt;/tt&gt; and &lt;tt&gt;:&lt;/tt&gt;.&lt;br/&gt;
Allowing for &lt;tt&gt;+&lt;/tt&gt; and &lt;tt&gt;@&lt;/tt&gt;&#160;is trivial, however I think that &lt;tt&gt;:&lt;/tt&gt; is an illegal JCR character.&lt;/p&gt;

&lt;p&gt;Thus, we should escape the &lt;tt&gt;:&lt;/tt&gt; char in each path segment with&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Text.escapeIllegalJcrChars(name)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;as suggested in &lt;a href=&quot;https://wiki.apache.org/jackrabbit/EncodingAndEscaping#Escaping_paths&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://wiki.apache.org/jackrabbit/EncodingAndEscaping#Escaping_paths&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This means, that the bloc&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;set ACL &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; fredWilmaService
  allow jcr:write on /jcr:foo
end
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;would actually allow fredWilmaService to write under the path &lt;tt&gt;/jcr%3Afoo&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;Similarly, creating a path with &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;create path /jcr:foo
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;will create a path &lt;tt&gt;/jcr%3Afoo&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt; does the description above match your expectation ?&lt;/p&gt;

&lt;p&gt;The alternative would be to allow for the &lt;tt&gt;%&lt;/tt&gt;&#160;symbol instead of &lt;tt&gt;:&lt;/tt&gt; and expect the provisioning model to specify escaped characters.&lt;/p&gt;

&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16171470" author="olli" created="Tue, 19 Sep 2017 10:19:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt;, &lt;del&gt;AFAIR Oak is doing the escaping of &lt;tt&gt;:&lt;/tt&gt; itself. Can you give it a try?&lt;/del&gt; (Already done.)&lt;/p&gt;</comment>
                            <comment id="16171474" author="olli" created="Tue, 19 Sep 2017 10:20:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt;, see my comments in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6772&quot; title=&quot;Provide default mapping for service users&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6772&quot;&gt;&lt;del&gt;SLING-6772&lt;/del&gt;&lt;/a&gt; also.&lt;/p&gt;</comment>
                            <comment id="16171475" author="bdelacretaz" created="Tue, 19 Sep 2017 10:21:34 +0000"  >&lt;p&gt;Isn&apos;t it confusing for PATH_STRING should not accept characters that are not valid in JCR?&lt;/p&gt;

&lt;p&gt;Repoinit can in theory be used for non-JCR repositories, but I think there are many things that would not really work there, so for now I&apos;d be more comfortable about staying close to JCR limitations.&lt;/p&gt;</comment>
                            <comment id="16171502" author="olli" created="Tue, 19 Sep 2017 10:48:59 +0000"  >&lt;p&gt;&lt;tt&gt;/rep:policy&lt;/tt&gt; (&lt;a href=&quot;http://localhost:4502/rep:policy.3.json&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:4502/rep:policy.3.json&lt;/a&gt;) is valid path. Do we want support for namespaces in paths? See &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; comment regarding PATH_STRING.&lt;/p&gt;</comment>
                            <comment id="16171574" author="bdelacretaz" created="Tue, 19 Sep 2017 11:45:12 +0000"  >&lt;p&gt;Ah yes good point about &lt;tt&gt;rep:policy&lt;/tt&gt; ! But I don&apos;t think repoinit should silently escape invalid paths, those should cause an error.&lt;/p&gt;

&lt;p&gt;So it looks like we have agreement about supporting &lt;tt&gt;+ @ :&lt;/tt&gt; in PATH_STRING. I&apos;m fairly busy know but if someone has a patch with tests I&apos;m happy to review.&lt;/p&gt;</comment>
                            <comment id="16171661" author="marett" created="Tue, 19 Sep 2017 13:15:59 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt; &amp;amp; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt; for your inputs! I was not aware that Oak is able to handle &lt;tt&gt;:&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;I&apos;ll add a patch with tests for extending the PATH_STRING valid chars.&lt;/p&gt;</comment>
                            <comment id="16171673" author="marett" created="Tue, 19 Sep 2017 13:25:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt; I have attached a patch that adds support for &lt;tt&gt;+&lt;/tt&gt;, &lt;tt&gt;@&lt;/tt&gt; and &lt;tt&gt;:&lt;/tt&gt; symbols in &lt;tt&gt;PATH_STRING&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="16171724" author="bdelacretaz" created="Tue, 19 Sep 2017 13:50:21 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt; the patch looks good to me!&lt;/p&gt;</comment>
                            <comment id="16171768" author="marett" created="Tue, 19 Sep 2017 14:08:23 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt;! Applied the patch at &lt;a href=&quot;http://svn.apache.org/r1808879&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1808879&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16172044" author="olli" created="Tue, 19 Sep 2017 17:20:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt;, so now we allow 3 more characters &#8211; are we not able to exclude those characters we don&apos;t want to allow and fix this issue forever? What about Umlauts? They are totally valid in paths.&lt;/p&gt;</comment>
                            <comment id="16172121" author="marett" created="Tue, 19 Sep 2017 18:23:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt; I think you are right that the character set for paths could be set once for all, we should start by defining what we want to support.&lt;br/&gt;
Would you be ok to track that in a separate issue ?&lt;/p&gt;</comment>
                            <comment id="16174592" author="olli" created="Thu, 21 Sep 2017 11:26:17 +0000"  >&lt;p&gt;Sure, works for me. Thanks, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16174600" author="marett" created="Thu, 21 Sep 2017 11:30:01 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt;! &lt;/p&gt;

&lt;p&gt;For the record, I have opened &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-7143&quot; title=&quot;Support complete set of symbols for paths&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-7143&quot;&gt;SLING-7143&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13103839">SLING-7143</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12887892" name="SLING-6774.patch" size="4942" author="marett" created="Tue, 19 Sep 2017 13:24:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 5 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3dc7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6771] exception occurs when write pipe has binding expression in the path</title>
                <link>https://issues.apache.org/jira/browse/SLING-6771</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;when a write pipe has a binding expression in its path (meaning it&apos;s &lt;b&gt;not&lt;/b&gt; executed from scratch), it spits out an exception from build time moaning about binding variable not being instantiated.&lt;br/&gt;
There should not be any instantiation at that moment.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13061454">SLING-6771</key>
            <summary>exception occurs when write pipe has binding expression in the path</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="npeltier">Nicolas Peltier</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 Apr 2017 15:09:57 +0000</created>
                <updated>Tue, 24 Apr 2018 13:30:12 +0000</updated>
                            <resolved>Wed, 5 Jul 2017 11:40:03 +0000</resolved>
                                                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="13084578">SLING-6997</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 30 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3d6t3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6769] scripting.sightly.js.provider 1.0.21.SNAPSHOT fails to start</title>
                <link>https://issues.apache.org/jira/browse/SLING-6769</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The launchpad/builder tests have started to consistently fail&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;-------------------------------------------------------------------------------
Test set: org.apache.sling.launchpad.SmokeIT
-------------------------------------------------------------------------------
Tests run: 2, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 4.08 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.sling.launchpad.SmokeIT
verifyAllBundlesStarted(org.apache.sling.launchpad.SmokeIT)  Time elapsed: 0.105 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
java.lang.AssertionError: Expected all bundles to be active, but instead got 0 resolved bundles, 1 installed bundlles: 
- org.apache.sling.scripting.sightly.js.provider 1.0.21.SNAPSHOT is in state Installed
        at org.junit.Assert.fail(Assert.java:88)
        at org.apache.sling.launchpad.SmokeIT.verifyAllBundlesStarted(SmokeIT.java:119)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13061361">SLING-6769</key>
            <summary>scripting.sightly.js.provider 1.0.21.SNAPSHOT fails to start</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="olli">Oliver Lietz</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 Apr 2017 07:48:05 +0000</created>
                <updated>Wed, 5 Apr 2017 07:00:33 +0000</updated>
                            <resolved>Wed, 5 Apr 2017 07:00:33 +0000</resolved>
                                                    <fixVersion>Launchpad Builder 9</fixVersion>
                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15954735" author="rombert" created="Tue, 4 Apr 2017 07:48:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu.cotescu&quot; class=&quot;user-hover&quot; rel=&quot;radu.cotescu&quot;&gt;radu.cotescu&lt;/a&gt; - any idea about why this fails?&lt;/p&gt;</comment>
                            <comment id="15955615" author="olli" created="Tue, 4 Apr 2017 18:50:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;, see &lt;a href=&quot;https://lists.apache.org/thread.html/e6100d0a11207b9493a6ec422c7ed818ce00278cd0da137ee610c6d0@%3Cdev.sling.apache.org%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;em&gt;struggling with sling-9 build and sling model exporter&lt;/em&gt; on dev@&lt;/a&gt;. Jenkins built without errors after deploying snapshot of &lt;tt&gt;org.apache.sling.scripting.sightly.js.provider&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="15956402" author="rombert" created="Wed, 5 Apr 2017 07:00:33 +0000"  >&lt;p&gt;Great, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt; . For the record, the Sightly SNAPSHOT versions were updated in &lt;a href=&quot;https://svn.apache.org/r1790034&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1790034&lt;/a&gt; &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 30 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3d68f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6763] Remove org.apache.sling.commons.json dependency from esx engine</title>
                <link>https://issues.apache.org/jira/browse/SLING-6763</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;remove org.apache.sling.commons.json dependency from esx engine and replace with native build in nashorn JSON parser&lt;br/&gt;
+ minor updates in the demo package to showcase the usage of dynamically changing handlebars templates based on selector.&lt;br/&gt;
+ added experimental es6 transpiler as preperation for sandboxing the engine&lt;br/&gt;
+ updated demo with es6 classes and imports&lt;/p&gt;

&lt;p&gt;i created a pull request on github:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling/pull/209&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/209&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13060677">SLING-6763</key>
            <summary>Remove org.apache.sling.commons.json dependency from esx engine</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="labertasch">Senol Tas</reporter>
                        <labels>
                    </labels>
                <created>Fri, 31 Mar 2017 13:40:36 +0000</created>
                <updated>Thu, 20 Apr 2017 12:08:57 +0000</updated>
                            <resolved>Thu, 20 Apr 2017 12:08:57 +0000</resolved>
                                                    <fixVersion>Scripting ESX 0.2.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15962835" author="bdelacretaz" created="Mon, 10 Apr 2017 13:19:59 +0000"  >&lt;p&gt;Thanks for your contribution! &lt;/p&gt;

&lt;p&gt;The &lt;tt&gt;sling-babel.js&lt;/tt&gt; file is quite long and looks like it might have been generated, as opposed to handwritten code, could you briefly explain what it&apos;s about and if generated how that happens?&lt;/p&gt;

&lt;p&gt;Also, I don&apos;t see any changes under src/test which might indicate &quot;suboptimal&quot; test coverage, is there a way to test these new features? Does the demo package allows for doing that manually? If yes that&apos;s ok as a temporary state until there&apos;s stronger test coverage, which we should have before releasing this module.&lt;/p&gt;</comment>
                            <comment id="15962844" author="bdelacretaz" created="Mon, 10 Apr 2017 13:25:20 +0000"  >&lt;p&gt;Also, minor typo, &quot;decoreateScript&quot; should be &quot;decorateScript&quot;&lt;/p&gt;</comment>
                            <comment id="15963103" author="labertasch" created="Mon, 10 Apr 2017 16:17:46 +0000"  >&lt;p&gt;Thanks Bertrand for the Feedback.&lt;/p&gt;

&lt;p&gt;I bundled the sling-babel implementation with the code and extended the maven build script to automatically install node dependencies. also adapted the README as it is not required to do separate installation for the demo anymore.&lt;br/&gt;
to test it: &lt;br/&gt;
update the readme test example from:&lt;br/&gt;
```var output  = &quot;&amp;lt;h1&amp;gt;&quot; + currentNode.properties.title + &quot;&amp;lt;/h1&amp;gt;&quot;;````&lt;br/&gt;
 to ```var output  = `&amp;lt;h1&amp;gt;${currentNode.properties.title}&amp;lt;/h1&amp;gt;`;```&lt;br/&gt;
Which is the es6 template string, if this is getting rendered it is working.&lt;br/&gt;
as reference you can use: &lt;a href=&quot;https://babeljs.io/learn-es2015/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://babeljs.io/learn-es2015/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15963106" author="labertasch" created="Mon, 10 Apr 2017 16:21:11 +0000"  >&lt;p&gt;+ any help writing test-cases is appreciated. a blueprint which i could take up from would be also cool &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15963179" author="olli" created="Mon, 10 Apr 2017 16:55:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=labertasch&quot; class=&quot;user-hover&quot; rel=&quot;labertasch&quot;&gt;labertasch&lt;/a&gt;, have a look at Scripting Thymeleaf or Scripting FreeMarker for integration testing with Pax Exam.&lt;/p&gt;</comment>
                            <comment id="15964082" author="bdelacretaz" created="Tue, 11 Apr 2017 09:37:38 +0000"  >&lt;p&gt;I have committed your contribution, thank you very much!&lt;/p&gt;

&lt;p&gt;And also created a sibling org.apache.sling.fragment.nashorn fragment bundle which means you don&apos;t need to edit sling.properties anymore, just install that bundle to export the Nashorn API package.&lt;/p&gt;

&lt;p&gt;However at revision 1790948 the minimal example from the README does not work for me, it outputs &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;h1&amp;gt;${currentNode.properties.title}&amp;lt;/h1&amp;gt;Here&apos;s some example text
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Without interpreting the &lt;tt&gt;currentNode.properties.title&lt;/tt&gt; variable.&lt;/p&gt;

&lt;p&gt;What I did is:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Start a Sling trunk launchpad from scratch&lt;/li&gt;
	&lt;li&gt;Install the org.apache.sling.fragment.nashorn fragment and esx bundles, verify that esx is active&lt;/li&gt;
	&lt;li&gt;Run the minimal example from the README&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The ESX engine is activated, it&apos;s just the interpretation of the readme test example variable that does not happen.&lt;/p&gt;</comment>
                            <comment id="15964339" author="githubbot" created="Tue, 11 Apr 2017 13:09:55 +0000"  >&lt;p&gt;GitHub user labertasch opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/212&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/212&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6763&quot; title=&quot;Remove org.apache.sling.commons.json dependency from esx engine&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6763&quot;&gt;&lt;del&gt;SLING-6763&lt;/del&gt;&lt;/a&gt; |  fixed typo in readme for the test script foo.esx and up&#8230;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6763&quot; title=&quot;Remove org.apache.sling.commons.json dependency from esx engine&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6763&quot;&gt;&lt;del&gt;SLING-6763&lt;/del&gt;&lt;/a&gt; |  fixed typo in readme for the test script foo.esx and updated parent pom to 30&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/labertasch/sling&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/labertasch/sling&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6763&quot; title=&quot;Remove org.apache.sling.commons.json dependency from esx engine&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6763&quot;&gt;&lt;del&gt;SLING-6763&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/212.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/212.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #212&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit a553ad0172a0757273c027f522acdedfbf2cf22f&lt;br/&gt;
Author: labertasch &amp;lt;labertasch@googlemail.com&amp;gt;&lt;br/&gt;
Date:   2017-04-11T13:07:25Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6763&quot; title=&quot;Remove org.apache.sling.commons.json dependency from esx engine&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6763&quot;&gt;&lt;del&gt;SLING-6763&lt;/del&gt;&lt;/a&gt; |  fixed typo in readme for the test script foo.esx and updated parent pom to 30&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15976570" author="bdelacretaz" created="Thu, 20 Apr 2017 12:08:57 +0000"  >&lt;p&gt;I have committed your pull/212 tweaks, the example from the README works now, thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 27 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3d20f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6761] HTL: uri manipulator breaks query parameter encoding</title>
                <link>https://issues.apache.org/jira/browse/SLING-6761</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When I try to manipulate a href tag with HTL, and the href contains a query param with encoded percentage sign (%25), the HTL manipulator breaks the URI encoding, resulting in a invalid URI.&lt;/p&gt;

&lt;p&gt;For example when we have a &lt;b&gt;path&lt;/b&gt; property in the repository, containing the following value:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;/example/search?q=6%25-10%25
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and use the following HTL code:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;a href=&lt;span class=&quot;code-quote&quot;&gt;&quot;${properties.path @ extension = &lt;span class=&quot;code-quote&quot;&gt;&apos;html&apos;&lt;/span&gt;}&quot;&lt;/span&gt;&amp;gt;Test with @ HTL URI manipulator&amp;lt;/a&amp;gt;
&amp;lt;a href=&lt;span class=&quot;code-quote&quot;&gt;&quot;${properties.path}&quot;&lt;/span&gt;&amp;gt;Test without @ HTL URI manipulator&amp;lt;/a&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The result will be:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;a href=&lt;span class=&quot;code-quote&quot;&gt;&quot;/example/search.html?q=6%-10%&quot;&lt;/span&gt;&amp;gt;Test with @ HTL URI manipulator&amp;lt;/a&amp;gt;
&amp;lt;a href=&lt;span class=&quot;code-quote&quot;&gt;&quot;/example/search?q=6%25-10%25&quot;&lt;/span&gt;&amp;gt;Test without @ HTL URI manipulator&amp;lt;/a&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So the HTL URI manipulation removes the %25 encoding and replaces it with a single percentage sign. Without manipulation the encoding is preserved. Same holds for other HTL uri manipulators like  &lt;b&gt;@ prependPath&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Other signs like &lt;b&gt;%3A&lt;/b&gt; aren&apos;t affected.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13060620">SLING-6761</key>
            <summary>HTL: uri manipulator breaks query parameter encoding</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="robin.brouns@amplexor.com">Robin Brouns</reporter>
                        <labels>
                    </labels>
                <created>Fri, 31 Mar 2017 09:16:55 +0000</created>
                <updated>Tue, 9 May 2017 12:03:32 +0000</updated>
                            <resolved>Fri, 31 Mar 2017 15:02:06 +0000</resolved>
                                    <version>Scripting Sightly Engine 1.0.2</version>
                    <version>Scripting Sightly Engine 1.0.18</version>
                                    <fixVersion>Scripting HTL Engine 1.0.34</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15951082" author="radu.cotescu" created="Fri, 31 Mar 2017 15:02:06 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1789700&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1789700&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 30 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3d1nr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6754] The XSS bundle doesn&apos;t provide any services</title>
                <link>https://issues.apache.org/jira/browse/SLING-6754</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The changes from &lt;a href=&quot;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=1785622&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1785622&lt;/a&gt; and &lt;a href=&quot;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=1785733&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1785733&lt;/a&gt; have made the XSS bundle unusable, by removing the OSGi meta descriptions. The end effect was that the bundle was not exposing any services.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13060337">SLING-6754</key>
            <summary>The XSS bundle doesn&apos;t provide any services</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 30 Mar 2017 11:41:03 +0000</created>
                <updated>Wed, 20 Sep 2017 11:28:49 +0000</updated>
                            <resolved>Thu, 30 Mar 2017 12:11:17 +0000</resolved>
                                                    <fixVersion>XSS Protection API 2.0.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15948908" author="kwin" created="Thu, 30 Mar 2017 11:44:55 +0000"  >&lt;p&gt;The reason for this is described in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6746&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SLING-6746&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15948947" author="radu.cotescu" created="Thu, 30 Mar 2017 12:11:17 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1789508&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1789508&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15948953" author="radu.cotescu" created="Thu, 30 Mar 2017 12:19:32 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; for the link! Updated the &lt;tt&gt;maven-bundle-plugin&lt;/tt&gt; configuration in &lt;a href=&quot;https://svn.apache.org/r1789510&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1789510&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13060010">SLING-6746</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 30 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3czwv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6752] Remove ES6 checks from Q.js</title>
                <link>https://issues.apache.org/jira/browse/SLING-6752</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;tt&gt;Q.js&lt;/tt&gt;, embedded by the &lt;tt&gt;org.apache.sling.scripting.sightly.js.provider&lt;/tt&gt; bundle, performs some ES6 support checks. However, given that Rhino only provides support for ES 5.1, we should modify the embedded library to skip those checks, which throw handled exceptions in order to reduce the time it takes to load the Q promise library.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13060305">SLING-6752</key>
            <summary>Remove ES6 checks from Q.js</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 30 Mar 2017 09:13:21 +0000</created>
                <updated>Tue, 9 May 2017 12:24:46 +0000</updated>
                            <resolved>Thu, 30 Mar 2017 12:48:43 +0000</resolved>
                                    <version>Scripting Sightly JS Use Provider 1.0.0</version>
                                    <fixVersion>Scripting HTL JS Use Provider 1.0.22</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15948993" author="radu.cotescu" created="Thu, 30 Mar 2017 12:48:43 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1789518&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1789518&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 30 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3czpr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6750] NPE with TestContextRunListenerWrapper in WriteableResourcesTest</title>
                <link>https://issues.apache.org/jira/browse/SLING-6750</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;There is an NPE in the WriteableResourcesTest. It seems the field ResourceResolverFactory is not initialized when the test starts.&lt;/p&gt;

&lt;p&gt;0.03.2017 07:06:38.015 &lt;b&gt;WARN&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;qtp1706723350-50&amp;#93;&lt;/span&gt; org.apache.sling.junit.impl.TestContextRunListenerWrapper JUnit test execution failed: testSimpleCRUD(org.apache.sling.launchpad.testservices.serversidetests.WriteableResourcesTest): null&lt;br/&gt;
java.lang.NullPointerException: null&lt;br/&gt;
	at org.apache.sling.launchpad.testservices.serversidetests.WriteableResourcesTest.setup(WriteableResourcesTest.java:57)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13060246">SLING-6750</key>
            <summary>NPE with TestContextRunListenerWrapper in WriteableResourcesTest</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 30 Mar 2017 05:09:59 +0000</created>
                <updated>Tue, 4 Apr 2017 06:57:36 +0000</updated>
                            <resolved>Tue, 4 Apr 2017 06:57:36 +0000</resolved>
                                                                    <component>Launchpad</component>
                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15954674" author="cziegeler" created="Tue, 4 Apr 2017 06:57:36 +0000"  >&lt;p&gt;Seems to be gone now&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 30 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3czcn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6746] Remove and ban maven-scr-plugin</title>
                <link>https://issues.apache.org/jira/browse/SLING-6746</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The additional execution of maven-bundle-plugin:manifest being added with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6572&quot; title=&quot;Generate SCR metadata required for mock-based unit tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6572&quot;&gt;&lt;del&gt;SLING-6572&lt;/del&gt;&lt;/a&gt; is basically overwriting the service descriptors and metatype resources which are written with maven-scr-plugin with empty files. Those empty files finally end up in the bundle. This affects all modules still leveraging the maven-scr-plugin for generating the service descriptors/metatype resources.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13060010">SLING-6746</key>
            <summary>Remove and ban maven-scr-plugin</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Wed, 29 Mar 2017 12:07:37 +0000</created>
                <updated>Mon, 7 Jan 2019 08:22:26 +0000</updated>
                            <resolved>Wed, 29 Mar 2017 12:59:00 +0000</resolved>
                                    <version>Parent 30</version>
                                    <fixVersion>Parent 31</fixVersion>
                                    <component>General</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15946990" author="kwin" created="Wed, 29 Mar 2017 12:08:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert%40pro-vision.de&quot; class=&quot;user-hover&quot; rel=&quot;sseifert@pro-vision.de&quot;&gt;sseifert@pro-vision.de&lt;/a&gt; Can you have a look, since you introduced this regression in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6572&quot; title=&quot;Generate SCR metadata required for mock-based unit tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6572&quot;&gt;&lt;del&gt;SLING-6572&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="15947000" author="sseifert@pro-vision.de" created="Wed, 29 Mar 2017 12:13:49 +0000"  >&lt;p&gt;the solution should be to completely remove the maven-scr-plugin and instead add this bnd plugin to maven bundle plugin:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;lt;_plugin&amp;gt;org.apache.felix.scrplugin.bnd.SCRDescriptorBndPlugin;destdir=${project.build.outputDirectory}&amp;lt;/_plugin&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.felix&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;org.apache.felix.scr.bnd&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.7.2&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;as discussed in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6649&quot; title=&quot;Enable Felix SCR BndTools plugin&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6649&quot;&gt;&lt;del&gt;SLING-6649&lt;/del&gt;&lt;/a&gt; this should not go into sling parent, but has to be defined for those project poms still using scr annotations until they migrate to osgi annotations (or stick with an older version of sling parent).&lt;/p&gt;</comment>
                            <comment id="15947004" author="kwin" created="Wed, 29 Mar 2017 12:18:11 +0000"  >&lt;p&gt;This was kind of unexpected. Then we should IMHO completely remove the maven-scr-plugin from the parent if it is now incompatible with other plugin executions. That does not sound like a smooth migration path, therefore I would rather propose to make the maven-bundle-plugin behave more reluctant before it overwrites/blanks out those resources. Do you think this could be done in the maven-bundle-plugin, or does it require a fix from bnd?&lt;/p&gt;</comment>
                            <comment id="15947012" author="sseifert@pro-vision.de" created="Wed, 29 Mar 2017 12:20:48 +0000"  >&lt;p&gt;yes, we should remove maven-scr-plugin from parent - and it is not worth investing any effort in making it play together because the &lt;tt&gt;SCRDescriptorBndPlugin&lt;/tt&gt; is doing all that maven-scr-plugin was doing before.&lt;br/&gt;
we may even use maven enforcer to ban the maven-scr-plugin from projects updating to this parent pom - example:&lt;br/&gt;
&lt;a href=&quot;https://github.com/wcm-io/wcm-io-tooling/blob/develop/maven/aem-global-parent/pom.xml#L158&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/wcm-io/wcm-io-tooling/blob/develop/maven/aem-global-parent/pom.xml#L158&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15947020" author="kwin" created="Wed, 29 Mar 2017 12:27:00 +0000"  >&lt;p&gt;Agreed, can you make the according changes in parent?  The enforcer rule sounds useful in addition, I would just adjust the message so that it says something like:&lt;br/&gt;
&quot;maven-scr-plugin is incompatible with the manifest goal of the maven-bundle-plugin. Please either remove Felix SCR annotations completely (and migrate to OSGi annotations which are processed by the maven-bundle-plugin itself) or use the SCR bnd plugin from &lt;a href=&quot;http://felix.apache.org/documentation/subprojects/apache-felix-maven-scr-plugin/apache-felix-scr-bndtools-use.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://felix.apache.org/documentation/subprojects/apache-felix-maven-scr-plugin/apache-felix-scr-bndtools-use.html&lt;/a&gt;&quot;&lt;/p&gt;</comment>
                            <comment id="15947047" author="cziegeler" created="Wed, 29 Mar 2017 12:47:25 +0000"  >&lt;p&gt;We should not use the Felix SCR bnd plugin - we should really move away from the Felix SCR annotations. If a project is using these, it can stay with the existing older versions of the parent pom. We should migrate all projects, it really takes not a lot to migrate a project.&lt;br/&gt;
+1 for banning the scr plugin&lt;/p&gt;</comment>
                            <comment id="15947054" author="sseifert@pro-vision.de" created="Wed, 29 Mar 2017 12:53:25 +0000"  >&lt;p&gt;i&apos;ve changed the ticket title from &quot;Additional execution of maven-bundle-plugin:manifest is blanking out resources generated by maven-scr-plugin&quot; to &quot;Remove and ban maven-scr-plugin&quot;&lt;/p&gt;</comment>
                            <comment id="15947062" author="sseifert@pro-vision.de" created="Wed, 29 Mar 2017 12:59:00 +0000"  >&lt;p&gt;Completed: At revision: 1789357  &lt;/p&gt;

&lt;p&gt;i added this message to the ban: &quot;Felix SCR annotations and the maven-scr-plugin are no longer supported - please migrate to OSGi annotations or stick with Sling Parent 29.&quot;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13060337">SLING-6754</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13056269">SLING-6649</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13062463">SLING-6775</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13207544">SLING-8197</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13092428">SLING-7030</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13207968">SLING-8201</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="13046694">SLING-6572</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 31 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3cxw7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6742] Servlets post is broken with parent 30</title>
                <link>https://issues.apache.org/jira/browse/SLING-6742</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The issue is that the maven-scr-plugin doesn&apos;t get configured with sling 30. That makes it so that the service component xml files don&apos;t get generated properly. &lt;/p&gt;

&lt;p&gt;I switched to sling 29 for now. &lt;/p&gt;</description>
                <environment></environment>
        <key id="13059856">SLING-6742</key>
            <summary>Servlets post is broken with parent 30</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="karlpauls">Karl Pauls</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Mar 2017 21:34:23 +0000</created>
                <updated>Wed, 29 Mar 2017 06:01:32 +0000</updated>
                            <resolved>Wed, 29 Mar 2017 06:01:32 +0000</resolved>
                                                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15946574" author="cziegeler" created="Wed, 29 Mar 2017 06:01:32 +0000"  >&lt;p&gt;I switched to R6 annotations as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6721&quot; title=&quot;Migrate to R6 annotations, clean up dependencies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6721&quot;&gt;&lt;del&gt;SLING-6721&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 31 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3cwxz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6741] Migrate to R6 annotations, clean up dependencies</title>
                <link>https://issues.apache.org/jira/browse/SLING-6741</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The build works fine when switching to sling parent 29.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13059854">SLING-6741</key>
            <summary>Migrate to R6 annotations, clean up dependencies</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="karlpauls">Karl Pauls</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Mar 2017 21:30:37 +0000</created>
                <updated>Fri, 1 Dec 2017 14:44:43 +0000</updated>
                            <resolved>Wed, 29 Mar 2017 06:40:24 +0000</resolved>
                                                    <fixVersion>i18n 2.5.10</fixVersion>
                                    <component>i18n</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15945999" author="karlpauls" created="Tue, 28 Mar 2017 21:32:18 +0000"  >&lt;p&gt;I switched the parent to 29 in r1789245 for now.&lt;/p&gt;</comment>
                            <comment id="15946616" author="cziegeler" created="Wed, 29 Mar 2017 06:40:24 +0000"  >&lt;p&gt;Fixed by switching to R6 annotations, back to parent pom 30&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 31 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3cwxj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6728] sling-mock: Resource Resolver Type &quot;NONE&quot; does not work</title>
                <link>https://issues.apache.org/jira/browse/SLING-6728</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;support for the &quot;NONE&quot; resource resolver type is broken in sling mocks 2.x&lt;/p&gt;</description>
                <environment></environment>
        <key id="13059427">SLING-6728</key>
            <summary>sling-mock: Resource Resolver Type &quot;NONE&quot; does not work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                            <label>mocks</label>
                    </labels>
                <created>Mon, 27 Mar 2017 15:03:17 +0000</created>
                <updated>Thu, 30 Mar 2017 17:11:47 +0000</updated>
                            <resolved>Mon, 27 Mar 2017 15:04:47 +0000</resolved>
                                    <version>Testing Sling Mock 2.2.4</version>
                                    <fixVersion>Testing Sling Mock 2.2.6</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="15943418" author="sseifert@pro-vision.de" created="Mon, 27 Mar 2017 15:04:47 +0000"  >&lt;p&gt;Completed: At revision: 1788943  &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 31 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3cub3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6725] Building validation core fails with test errors</title>
                <link>https://issues.apache.org/jira/browse/SLING-6725</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Doing:&lt;/p&gt;

&lt;p&gt;cd bundles/extensions/validation/core &lt;br/&gt;
mvn clean install&lt;/p&gt;

&lt;p&gt;fails with test errors.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13059373">SLING-6725</key>
            <summary>Building validation core fails with test errors</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="olli">Oliver Lietz</assignee>
                                    <reporter username="karlpauls">Karl Pauls</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 Mar 2017 11:21:22 +0000</created>
                <updated>Wed, 20 Sep 2017 13:17:55 +0000</updated>
                            <resolved>Mon, 27 Mar 2017 13:30:18 +0000</resolved>
                                                    <fixVersion>Validation 1.0.0</fixVersion>
                                    <component>Validation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15943145" author="kwin" created="Mon, 27 Mar 2017 12:13:13 +0000"  >&lt;p&gt;Sorry, my fault, should be fixed with &lt;a href=&quot;https://svn.apache.org/r1788918&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1788918&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15943147" author="olli" created="Mon, 27 Mar 2017 12:16:11 +0000"  >&lt;p&gt;Broken by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;&apos; commit &lt;a href=&quot;https://svn.apache.org/r1788240&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1788240&lt;/a&gt;: missing colon for path directive.&lt;/p&gt;</comment>
                            <comment id="15943258" author="kwin" created="Mon, 27 Mar 2017 13:29:53 +0000"  >&lt;p&gt;Build no longer exposes any test errors: &lt;a href=&quot;https://builds.apache.org/job/sling-bundles-extensions-validation-core-1.8/77/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/sling-bundles-extensions-validation-core-1.8/77/&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 31 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ctz3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6724] Scripting core build fails with &quot;ServiceLookup gave up&quot; during tests</title>
                <link>https://issues.apache.org/jira/browse/SLING-6724</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Doing:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;cd bundles/scripting/core
mvn clean install
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;fails with test errors.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13059372">SLING-6724</key>
            <summary>Scripting core build fails with &quot;ServiceLookup gave up&quot; during tests</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="olli">Oliver Lietz</assignee>
                                    <reporter username="karlpauls">Karl Pauls</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 Mar 2017 11:20:01 +0000</created>
                <updated>Fri, 29 Sep 2017 07:10:14 +0000</updated>
                            <resolved>Tue, 28 Mar 2017 18:55:19 +0000</resolved>
                                                    <fixVersion>Scripting Core 2.0.48</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15943100" author="olli" created="Mon, 27 Mar 2017 11:39:13 +0000"  >&lt;p&gt;Build failure is related to Sling Parent 30. Switching to OSGi annotations and upgrading some dependencies to fix it.&lt;/p&gt;</comment>
                            <comment id="15945727" author="olli" created="Tue, 28 Mar 2017 18:55:19 +0000"  >&lt;p&gt;build is back to stable&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 31 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ctyv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6710] Vanity Path might get removed if a resource is updated</title>
                <link>https://issues.apache.org/jira/browse/SLING-6710</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Assume there is a resource at /libs/foo which has a child resource /libs/foo/jcr:content with a vanity path. If now /libs/foo is updated, the current implementation first removes the vanity path for /libs/foo (as defined in the child resource jcr:content) but then fails to re-add it as it does not take the jcr:content child resource into account.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13058927">SLING-6710</key>
            <summary>Vanity Path might get removed if a resource is updated</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Mar 2017 15:31:00 +0000</created>
                <updated>Thu, 30 Mar 2017 11:00:50 +0000</updated>
                            <resolved>Fri, 24 Mar 2017 16:28:10 +0000</resolved>
                                                    <fixVersion>Resource Resolver 1.5.22</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15940615" author="cziegeler" created="Fri, 24 Mar 2017 16:00:50 +0000"  >&lt;p&gt;Updated the implementation in rev 1788490 to check the updated resource and also check for a potential child resource named jcr:content&lt;br/&gt;
In addition improved the handling of update and discard invalid paths as quickly as possible&lt;/p&gt;</comment>
                            <comment id="15940666" author="cziegeler" created="Fri, 24 Mar 2017 16:28:05 +0000"  >&lt;p&gt;Added a test case in rev 1788498 which fails in 1.5.20 but passes with the above applied fix&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 31 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3cr7z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6709] The HAPI implementation doesn&apos;t provide the correct attribute type for &quot;itemscope&quot;</title>
                <link>https://issues.apache.org/jira/browse/SLING-6709</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The microdata specification defines the &lt;tt&gt;itemscope&lt;/tt&gt; attribute as boolean &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;. However, the current Sling implementation returns a string, leading to invalid HTML 5 markup.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; - &lt;a href=&quot;https://www.w3.org/TR/microdata/#attr-itemscope&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.w3.org/TR/microdata/#attr-itemscope&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13058900">SLING-6709</key>
            <summary>The HAPI implementation doesn&apos;t provide the correct attribute type for &quot;itemscope&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="andrei.dulvac">Andrei Dulvac</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Mar 2017 14:08:37 +0000</created>
                <updated>Mon, 27 Mar 2017 11:42:47 +0000</updated>
                            <resolved>Mon, 27 Mar 2017 09:53:51 +0000</resolved>
                                    <version>HApi 1.0.0</version>
                                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15942967" author="andrei.dulvac" created="Mon, 27 Mar 2017 09:53:51 +0000"  >&lt;p&gt;Resolved in r1788868&lt;/p&gt;</comment>
                            <comment id="15943107" author="andrei.dulvac" created="Mon, 27 Mar 2017 11:42:47 +0000"  >&lt;p&gt;Added unit test in r1788906&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 31 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3cr1z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6708] Sling Dynamic Include - Usage of nocache selector allows uncached access to everything</title>
                <link>https://issues.apache.org/jira/browse/SLING-6708</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The SDI module works with a nocache-selector (or a selector that we arbitrarily choose).&lt;/p&gt;

&lt;p&gt;However, we cannot guarantee that only SDI&apos;s requests come in through the nocache-selector. It can be any request.&lt;/p&gt;

&lt;p&gt;This document says &lt;a href=&quot;https://github.com/Cognifide/Sling-Dynamic-Include&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/Cognifide/Sling-Dynamic-Include&lt;/a&gt;&lt;br/&gt;
that we should configure the Dispatcher to not cache when &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;*.nocache.html*&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; can be applied to the request.&lt;/p&gt;

&lt;p&gt;This means that anyone can use the nocache-selector on any request to bypass Dispatcher caching for html files.&lt;/p&gt;

&lt;p&gt;It even means that &quot;.nocache.html&quot; can appear anywhere in the full request URL.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13058885">SLING-6708</key>
            <summary>Sling Dynamic Include - Usage of nocache selector allows uncached access to everything</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10004">Not A Bug</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="Henry Kuijpers">Henry Kuijpers</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Mar 2017 13:14:43 +0000</created>
                <updated>Fri, 31 Mar 2017 09:36:05 +0000</updated>
                            <resolved>Fri, 31 Mar 2017 09:36:05 +0000</resolved>
                                    <version>Dynamic Include 3.0.0</version>
                    <version>Dynamic Include 3.1.0</version>
                                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15940587" author="sseifert@pro-vision.de" created="Fri, 24 Mar 2017 15:43:44 +0000"  >&lt;p&gt;not sure what should be fixed inside sling or SDI for this issue.&lt;br/&gt;
you can always make the pattern more explicit in your webserver configuration and let only requests pass to URLs where you expect and allow it.&lt;/p&gt;</comment>
                            <comment id="15940614" author="royteeuwen" created="Fri, 24 Mar 2017 15:58:55 +0000"  >&lt;p&gt;Indeed, this is more of a problem related to the AEM dispatcher itself instead of this module&lt;/p&gt;</comment>
                            <comment id="15950602" author="henry kuijpers" created="Fri, 31 Mar 2017 09:36:05 +0000"  >&lt;p&gt;Indeed, this is not a Sling bug, however, maybe there is something needed inside Sling to allow a good solution. Will create another ticket for that if it&apos;s needed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 30 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3cqyn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6697] protected nodes show up as tenant in felix console</title>
                <link>https://issues.apache.org/jira/browse/SLING-6697</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Protected nodes for acl also show up as a tenant&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;navigate to /etc/tenants and apply acl and save it&lt;/li&gt;
	&lt;li&gt;rep:policy node was created on /etc/tenants node&lt;/li&gt;
	&lt;li&gt;access tenant console (&lt;a href=&quot;http://localhost:4502/system/console/tenants&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:4502/system/console/tenants&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Observed:&lt;br/&gt;
rep:Policy node also displayed as a tenant row on tenant console&lt;br/&gt;
Expected:&lt;br/&gt;
rep:policy node should be not displayed&lt;/p&gt;</description>
                <environment></environment>
        <key id="13058404">SLING-6697</key>
            <summary>protected nodes show up as tenant in felix console</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="amalhotr">Ankush Malhotra</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Mar 2017 21:41:35 +0000</created>
                <updated>Tue, 28 Mar 2017 05:51:02 +0000</updated>
                            <resolved>Tue, 28 Mar 2017 05:50:38 +0000</resolved>
                                    <version>Tenant 1.0.2</version>
                                    <fixVersion>Tenant 1.1.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15937203" author="amalhotr" created="Wed, 22 Mar 2017 21:43:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fmeschbe&quot; class=&quot;user-hover&quot; rel=&quot;fmeschbe&quot;&gt;fmeschbe&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt; since you guys are the primary contributors to &lt;a href=&quot;https://github.com/apache/sling/commits/trunk/contrib/extensions/tenant/src/main/java/org/apache/sling/tenant/internal/TenantProviderImpl.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;TenantProvider&lt;/a&gt; is it possible to take a look at this issue&lt;/p&gt;</comment>
                            <comment id="15937341" author="marett" created="Wed, 22 Mar 2017 23:09:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=amalhotr&quot; class=&quot;user-hover&quot; rel=&quot;amalhotr&quot;&gt;amalhotr&lt;/a&gt; AFAIK, reading &lt;tt&gt;rep:policy&lt;/tt&gt; nodes requires a session with &lt;tt&gt;jcr:readAccessControl&lt;/tt&gt;&#160;privilege.&lt;/p&gt;

&lt;p&gt;Thus, if the service user (e.g. &lt;tt&gt;sling-tenant&lt;/tt&gt; depending on your mapping) that computes the list of tenants does not have the &lt;tt&gt;jcr:readAccessControl&lt;/tt&gt;&#160;privilege under the &lt;tt&gt;tenant.root&lt;/tt&gt; path (&lt;tt&gt;/etc/tenants&lt;/tt&gt; by default), then the &lt;tt&gt;rep:policy&lt;/tt&gt; will not be listed as a tenant.&lt;/p&gt;

&lt;p&gt;Only granting &lt;tt&gt;jcr:read&lt;/tt&gt; and &lt;tt&gt;jcr:write&lt;/tt&gt; privileges under the tenant root to the service user should fix your issue.&lt;/p&gt;</comment>
                            <comment id="15944573" author="amalhotr" created="Tue, 28 Mar 2017 05:50:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt; thanks for your response, sorry this was reported on 1.0.2 I see it is fixed in 1.1.0 with the use of service user&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 31 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3cnzr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6696] Persistence Strategy: Ensure configName is never null</title>
                <link>https://issues.apache.org/jira/browse/SLING-6696</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;the SPI contract of ConfigurationPersistenceStrategy2 required that the configName parameter passed in is never null.&lt;/p&gt;

&lt;p&gt;there is one special case when creating the ConfigurationMetadata object for new a configuration collection item where this may happen.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13058383">SLING-6696</key>
            <summary>Persistence Strategy: Ensure configName is never null</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Mar 2017 20:33:22 +0000</created>
                <updated>Thu, 30 Mar 2017 17:12:59 +0000</updated>
                            <resolved>Wed, 22 Mar 2017 20:37:13 +0000</resolved>
                                    <version>Context-Aware Configuration Impl 1.3.0</version>
                                    <fixVersion>Context-Aware Configuration Impl 1.3.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="15937083" author="sseifert@pro-vision.de" created="Wed, 22 Mar 2017 20:37:13 +0000"  >&lt;p&gt;Completed: At revision: 1788159  &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 32 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3cnv3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6695] Persistence Strategy Adapter: Do not modify collection parent name</title>
                <link>https://issues.apache.org/jira/browse/SLING-6695</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;with CAConfig Impl 1.2.0 it was not possible to manipulate the collection parent name via configuration persistence strategy. this has to be in the adapter wich bridges old implementations to the new strategy interface.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13058382">SLING-6695</key>
            <summary>Persistence Strategy Adapter: Do not modify collection parent name</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                            <label>contextaware-config</label>
                    </labels>
                <created>Wed, 22 Mar 2017 20:31:04 +0000</created>
                <updated>Thu, 30 Mar 2017 17:12:59 +0000</updated>
                            <resolved>Wed, 22 Mar 2017 20:38:16 +0000</resolved>
                                    <version>Context-Aware Configuration Impl 1.3.0</version>
                                    <fixVersion>Context-Aware Configuration Impl 1.3.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="15937087" author="sseifert@pro-vision.de" created="Wed, 22 Mar 2017 20:38:16 +0000"  >&lt;p&gt;Completed: At revision: 1788160  &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 32 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3cnuv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6675] Sling parent pom 30 breaks o.a.s.engine bundle - empty SCR metadata</title>
                <link>https://issues.apache.org/jira/browse/SLING-6675</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;For now I&apos;ll revert the bundles/engine pom to use our parent pom 29 as with the current version 30 the generated &lt;tt&gt;org.apache.sling.engine.impl.SlingMainServlet.xml&lt;/tt&gt; is empty.&lt;/p&gt;

&lt;p&gt;The visible effects are Sling returning a 404 on all requests, as the SlingMainServlet is not registered and the default OSGi HTTP service gets the request.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13057553">SLING-6675</key>
            <summary>Sling parent pom 30 breaks o.a.s.engine bundle - empty SCR metadata</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Mar 2017 15:11:48 +0000</created>
                <updated>Mon, 27 Mar 2017 10:19:08 +0000</updated>
                            <resolved>Mon, 27 Mar 2017 10:19:08 +0000</resolved>
                                                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15932791" author="bdelacretaz" created="Mon, 20 Mar 2017 15:14:14 +0000"  >&lt;p&gt;Reverted to parent pom 29 in revision 1787792, and also changed launchpad/builder to use the o.a.s.engine snapshot to expose the issue.&lt;/p&gt;</comment>
                            <comment id="15932848" author="bdelacretaz" created="Mon, 20 Mar 2017 15:36:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6649&quot; title=&quot;Enable Felix SCR BndTools plugin&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6649&quot;&gt;&lt;del&gt;SLING-6649&lt;/del&gt;&lt;/a&gt; has a workaround but best would be to update the SlingMainServlet to the &lt;tt&gt;org.osgi&lt;/tt&gt; SCR annotations instead of the old &lt;tt&gt;org.apache.felix&lt;/tt&gt; ones.&lt;/p&gt;</comment>
                            <comment id="15933331" author="olli" created="Mon, 20 Mar 2017 19:11:38 +0000"  >&lt;p&gt;We should have at least one IT per bundle to check if its services come up. I did several full builds but didn&apos;t notice that Sling Engine was broken. Sorry for that.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="13058880">SLING-6706</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13056269">SLING-6649</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 32 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ciqv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6663] ResourceToValidationResultAdapterFactory fails adapting to ValidationResult</title>
                <link>https://issues.apache.org/jira/browse/SLING-6663</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description></description>
                <environment></environment>
        <key id="13057260">SLING-6663</key>
            <summary>ResourceToValidationResultAdapterFactory fails adapting to ValidationResult</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="olli">Oliver Lietz</assignee>
                                    <reporter username="olli">Oliver Lietz</reporter>
                        <labels>
                    </labels>
                <created>Sat, 18 Mar 2017 15:35:54 +0000</created>
                <updated>Wed, 20 Sep 2017 13:17:44 +0000</updated>
                            <resolved>Sat, 18 Mar 2017 15:38:22 +0000</resolved>
                                                    <fixVersion>Validation 1.0.0</fixVersion>
                                    <component>Extensions</component>
                    <component>Validation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15931252" author="olli" created="Sat, 18 Mar 2017 15:38:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://svn.apache.org/r1787569&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1787569&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 32 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3cgxj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6659] ValidationModelRetrieverImpl does not respect changes to Validator&apos;s service properties</title>
                <link>https://issues.apache.org/jira/browse/SLING-6659</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;tt&gt;ValidationModelRetrieverImpl&lt;/tt&gt; is using service properties of validators (service ranking and validator id) to set up a list (map) of known validators, but is agnostic to changes happening at runtime. The list is built only on validator activation/deactivation but not on modification.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13057251">SLING-6659</key>
            <summary>ValidationModelRetrieverImpl does not respect changes to Validator&apos;s service properties</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="olli">Oliver Lietz</reporter>
                        <labels>
                    </labels>
                <created>Sat, 18 Mar 2017 14:10:31 +0000</created>
                <updated>Wed, 20 Sep 2017 13:17:43 +0000</updated>
                            <resolved>Tue, 21 Mar 2017 12:05:23 +0000</resolved>
                                                    <fixVersion>Validation 1.0.0</fixVersion>
                                    <component>Extensions</component>
                    <component>Validation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15931883" author="olli" created="Sun, 19 Mar 2017 19:05:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;, you have removed your comments &#8211; can you confirm this behavior or should I provide a test case?&lt;/p&gt;</comment>
                            <comment id="15931908" author="kwin" created="Sun, 19 Mar 2017 19:37:39 +0000"  >&lt;p&gt;Sorry my comments from before just have been plain wrong. I will fix, but a test case would be great though.&lt;/p&gt;</comment>
                            <comment id="15932798" author="kwin" created="Mon, 20 Mar 2017 15:15:00 +0000"  >&lt;p&gt;This only happens if the validator defines a &quot;modified&quot; method (OSGi Comp R6, 112.5.13). Otherwise there is no issue because the &lt;tt&gt;ValidationModelRetrieverImpl&lt;/tt&gt; is restarted as well, when any of the registered &lt;tt&gt;Validators&lt;/tt&gt; are restarted.&lt;/p&gt;</comment>
                            <comment id="15934526" author="kwin" created="Tue, 21 Mar 2017 12:05:23 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1787945&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1787945&lt;/a&gt;. Did some major refactoring as well, to get rid of dealing with &lt;tt&gt;Validators&lt;/tt&gt; within the &lt;tt&gt;ValidationModelProvider&lt;/tt&gt; and &lt;tt&gt;ValidationModelRetriever&lt;/tt&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 32 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3cgvj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6656] Wrong language name in GSPScriptEngineFactory</title>
                <link>https://issues.apache.org/jira/browse/SLING-6656</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Should be &lt;em&gt;Groovy Server Pages&lt;/em&gt; instead of &lt;em&gt;Groovy Scripting Pages&lt;/em&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13056772">SLING-6656</key>
            <summary>Wrong language name in GSPScriptEngineFactory</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="olli">Oliver Lietz</assignee>
                                    <reporter username="olli">Oliver Lietz</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Mar 2017 19:34:51 +0000</created>
                <updated>Fri, 14 Sep 2018 15:22:08 +0000</updated>
                            <resolved>Thu, 16 Mar 2017 19:37:46 +0000</resolved>
                                    <version>Scripting Groovy 1.0.2</version>
                                    <fixVersion>Scripting Groovy 1.0.4</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15928703" author="olli" created="Thu, 16 Mar 2017 19:37:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://svn.apache.org/r1787233&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1787233&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 32 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3cdx3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6654] Test distribution has a wrong header</title>
                <link>https://issues.apache.org/jira/browse/SLING-6654</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;tt&gt;SimpleDistributionPackage&lt;/tt&gt; doesn&apos;t set the paths if they are empty and, most importantly, its delimiter, therefore &lt;tt&gt;ResourcePackageBuilder&lt;/tt&gt;&#160;may fail at persisting it because of the resulting wrong header in the package.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13056731">SLING-6654</key>
            <summary>Test distribution has a wrong header</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="teofili">Tommaso Teofili</assignee>
                                    <reporter username="teofili">Tommaso Teofili</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Mar 2017 17:12:13 +0000</created>
                <updated>Wed, 19 Jul 2017 13:47:14 +0000</updated>
                            <resolved>Wed, 19 Jul 2017 13:47:14 +0000</resolved>
                                    <version>Content Distribution Core 0.2.6</version>
                                    <fixVersion>Content Distribution Core 0.2.10</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 32 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3cdnz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6650] osgi-mock: Fallback to component name when service.pid property not set in SCR metadata</title>
                <link>https://issues.apache.org/jira/browse/SLING-6650</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;with ConfigAdmin it is possible to provide a configuration for a OSGi component registered in mock context via it&apos;s PID.&lt;/p&gt;

&lt;p&gt;depending on certain circumstances (e.g. bnd version) the SCR metadata contains a service.pid property or not. if it is not set we should use the component name instead for matching it when setting configuration via ConfigAdmin.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13056341">SLING-6650</key>
            <summary>osgi-mock: Fallback to component name when service.pid property not set in SCR metadata</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                            <label>mocks</label>
                    </labels>
                <created>Wed, 15 Mar 2017 16:22:05 +0000</created>
                <updated>Thu, 23 Mar 2017 13:11:12 +0000</updated>
                            <resolved>Wed, 15 Mar 2017 16:24:43 +0000</resolved>
                                    <version>Testing OSGi Mock 1.9.2</version>
                    <version>Testing OSGi Mock 2.2.2</version>
                                    <fixVersion>Testing OSGi Mock 1.9.4</fixVersion>
                    <fixVersion>Testing OSGi Mock 2.2.4</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="15926491" author="sseifert@pro-vision.de" created="Wed, 15 Mar 2017 16:24:43 +0000"  >&lt;p&gt;rev. 1787072 (2.x)&lt;br/&gt;
rev. 1787073 (1.x)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 33 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3cb9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6647] SightlyScriptEngineFactory returns outdated language version</title>
                <link>https://issues.apache.org/jira/browse/SLING-6647</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Should be &lt;tt&gt;1.3&lt;/tt&gt; instead of &lt;tt&gt;1.0&lt;/tt&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13056221">SLING-6647</key>
            <summary>SightlyScriptEngineFactory returns outdated language version</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="olli">Oliver Lietz</assignee>
                                    <reporter username="olli">Oliver Lietz</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Mar 2017 08:43:26 +0000</created>
                <updated>Tue, 9 May 2017 12:03:32 +0000</updated>
                            <resolved>Wed, 15 Mar 2017 08:53:36 +0000</resolved>
                                                    <fixVersion>Scripting HTL Engine 1.0.34</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15925766" author="olli" created="Wed, 15 Mar 2017 08:53:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://svn.apache.org/r1787000&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1787000&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 33 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3cain:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6640] Race condition in JCR Contentloader deactivate can cause NullPointerException.</title>
                <link>https://issues.apache.org/jira/browse/SLING-6640</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The ContentLoaderService registers itself as a SynchronousBundleListener with the framework on activate and unregisters in the deactivate method. After it unregistered it turns around and first calls:&lt;/p&gt;

&lt;p&gt;this.bundleContentLoader.dispose();&lt;/p&gt;

&lt;p&gt;and then the bundleContentLoader is set to null. The bundleContentLoader is used in the bundleChanged(BundleEvent) callback of the listener interface. &lt;/p&gt;

&lt;p&gt;There seems to be an assumption that there will be no more events received after the unregistering as a listener - however, that assumption doesn&apos;t hold. The framework gets a snapshot of listeners and calls them so there is a window where bundleChanged can be invoked after the call to bundleContentLoader.dispose() or after it is set to null. &lt;/p&gt;

&lt;p&gt;Both cases can lead to an NPE (either in the bundleChanged directly because the bundleContentLoader is null already or inside the bundleContentLoader itself as it has been disposed) when there is a race between the service being deactivated and a bundle changing state concurrently. &lt;/p&gt;</description>
                <environment></environment>
        <key id="13055906">SLING-6640</key>
            <summary>Race condition in JCR Contentloader deactivate can cause NullPointerException.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="karlpauls">Karl Pauls</assignee>
                                    <reporter username="karlpauls">Karl Pauls</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Mar 2017 10:56:04 +0000</created>
                <updated>Mon, 8 May 2017 07:56:18 +0000</updated>
                            <resolved>Wed, 3 May 2017 21:18:33 +0000</resolved>
                                    <version>JCR ContentLoader 2.1.10</version>
                                    <fixVersion>JCR ContentLoader 2.2.0</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15995699" author="karlpauls" created="Wed, 3 May 2017 21:18:33 +0000"  >&lt;p&gt;Fixed in r1793718.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 26 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3c8kn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6639] Avoid split packages in the HTL Engine and HTL Java Compiler bundles</title>
                <link>https://issues.apache.org/jira/browse/SLING-6639</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;tt&gt;ResourceResolution&lt;/tt&gt; and &lt;tt&gt;SightlyException&lt;/tt&gt; classes should be moved to the java-compiler bundle, as this is the one exporting &lt;tt&gt;org.apache.sling.scripting.sightly&lt;/tt&gt; package. Right now they are the part of the engine bundle, which doesn&apos;t export anything and it may lead to issues if some bundle tries to use these two classes.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13050544">SLING-6639</key>
            <summary>Avoid split packages in the HTL Engine and HTL Java Compiler bundles</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="tomek.rekawek">Tomek R&#281;kawek</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Mar 2017 12:15:01 +0000</created>
                <updated>Tue, 29 Aug 2017 07:46:11 +0000</updated>
                            <resolved>Fri, 31 Mar 2017 15:14:42 +0000</resolved>
                                                    <fixVersion>Scripting HTL JS Use Provider 1.0.22</fixVersion>
                    <fixVersion>Scripting HTL Engine 1.0.34</fixVersion>
                    <fixVersion>Scripting HTL Java Compiler 1.0.10</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15907583" author="radu.cotescu" created="Mon, 13 Mar 2017 14:41:06 +0000"  >&lt;p&gt;The engine bundle does export &lt;tt&gt;org.apache.sling.scripting.sightly&lt;/tt&gt;. See &lt;a href=&quot;https://github.com/apache/sling/tree/trunk/bundles/scripting/sightly/engine/src/main/java/org/apache/sling/scripting/sightly&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/tree/trunk/bundles/scripting/sightly/engine/src/main/java/org/apache/sling/scripting/sightly&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Moving those classes into the &lt;tt&gt;java-compiler&lt;/tt&gt; would make that module dependent of the Sling API, when it actually shouldn&apos;t.&lt;/p&gt;</comment>
                            <comment id="15922831" author="karlpauls" created="Mon, 13 Mar 2017 19:50:42 +0000"  >&lt;p&gt;Well, the real problem is that both, engine and java-compiler are exporting the org.apache.sling.scripting.sightly package! &lt;/p&gt;

&lt;p&gt;The package bundled and exported by the engine contains the following classes:&lt;/p&gt;

&lt;p&gt;ResourceResolution.java&lt;br/&gt;
SightlyException.java&lt;/p&gt;

&lt;p&gt;and the java-complier contains:&lt;/p&gt;

&lt;p&gt;Record.java&lt;/p&gt;

&lt;p&gt;As they are both importing and exporting the same package only one can win and both will see either the two classes bundled with the engine or the one class bundled with the java-compiler, respectively. There are no split-packages in OSGi - hence, that is clearly a mistake.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu.cotescu&quot; class=&quot;user-hover&quot; rel=&quot;radu.cotescu&quot;&gt;radu.cotescu&lt;/a&gt;, if you think the engine should be the one to provide the org.apache.sling.scripting.sightly package we have to remove the export from the java-compiler (I think all that is needed is to remove the package-info file for that to happen) and probably move the Record.java into the engine? &lt;/p&gt;

&lt;p&gt;At any rate, I think we should resolve this sooner rather than later as with this set-up sightly will only work by accident (i.e., if the resolution order favours the engine).&lt;/p&gt;</comment>
                            <comment id="15926570" author="radu.cotescu" created="Wed, 15 Mar 2017 16:58:39 +0000"  >&lt;p&gt;Pushed a potential fix in &lt;a href=&quot;https://svn.apache.org/r1787079&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1787079&lt;/a&gt;. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fmeschbe&quot; class=&quot;user-hover&quot; rel=&quot;fmeschbe&quot;&gt;fmeschbe&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=karlpauls&quot; class=&quot;user-hover&quot; rel=&quot;karlpauls&quot;&gt;karlpauls&lt;/a&gt;, do we actually have to bump the version from &lt;tt&gt;bundles/scripting/sightly/java-compiler/src/main/java/org/apache/sling/scripting/sightly/package-info.java&lt;/tt&gt; to 2.0.0?&lt;/p&gt;</comment>
                            <comment id="15926709" author="karlpauls" created="Wed, 15 Mar 2017 18:24:41 +0000"  >&lt;p&gt;I guess we pretty much have to.&lt;/p&gt;

&lt;p&gt;Obviously, it is an incompatible change but granted, as it wasn&apos;t intended to be this way in the first place, it might be possible that nobody else really used that package so from a versioning perspective one could argue it isn&apos;t a big deal. However, the problem is that in an update of the bundle if the bundle is still started it would probably rewire to the old version and be broken until a refresh occurs if the version doesn&apos;t get bumped to 2.0.0.&lt;/p&gt;

&lt;p&gt;Unless it is a big problem I would just bump the version to 2.0.0 and be done with it.&lt;/p&gt;</comment>
                            <comment id="15930256" author="karlpauls" created="Fri, 17 Mar 2017 16:30:41 +0000"  >&lt;p&gt;The good thing about this change too is that previously, we had a cycle between these two components which is now gone. &lt;/p&gt;</comment>
                            <comment id="15951101" author="radu.cotescu" created="Fri, 31 Mar 2017 15:14:42 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1789701&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1789701&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12857666" name="SLING-6639.patch" size="26008" author="tomek.rekawek" created="Mon, 13 Mar 2017 12:15:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 30 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3bbh3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6638] Vault Package Builder should not allow SHA1, MD5 digest algorithm</title>
                <link>https://issues.apache.org/jira/browse/SLING-6638</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The &lt;tt&gt;VaultDistributionPackageBuilderFactory&lt;/tt&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; proposes the MD5, MD2 and SHA-1 algorithms, for which collisions could realistically be forged.&lt;/p&gt;

&lt;p&gt;SCD makes use of those algorithm for error detection (like a CRC) and not for security. Despite that, we should deprecate the use of those algorithms IMO.&lt;/p&gt;

&lt;p&gt;I propose to remove the three algorithms form the list of proposals, and throw and exception if a non supported algorithm is used. The component end up not being activated unless the configuration is corrected. &lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&#160;&lt;a href=&quot;https://github.com/apache/sling/blob/trunk/contrib/extensions/distribution/core/src/main/java/org/apache/sling/distribution/serialization/impl/vlt/VaultDistributionPackageBuilderFactory.java#L191-L193&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/contrib/extensions/distribution/core/src/main/java/org/apache/sling/distribution/serialization/impl/vlt/VaultDistributionPackageBuilderFactory.java#L191-L193&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13050458">SLING-6638</key>
            <summary>Vault Package Builder should not allow SHA1, MD5 digest algorithm</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="marett">Timothee Maret</assignee>
                                    <reporter username="marett">Timothee Maret</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Mar 2017 10:43:59 +0000</created>
                <updated>Wed, 7 Jun 2017 21:38:12 +0000</updated>
                            <resolved>Fri, 2 Jun 2017 09:33:37 +0000</resolved>
                                    <version>Content Distribution Core 0.2.6</version>
                                    <fixVersion>Content Distribution Core 0.2.8</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16034385" author="marett" created="Fri, 2 Jun 2017 09:33:37 +0000"  >&lt;p&gt;After reviewing the use case again, the symmetric encryption algorithms are only used here as a mechanism to check the data integrity. There does not seem to be a security threat. I am resolving as &quot;won&apos;t fix&quot;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3bbd3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6637] [htl] data-sly-use should not raise an exception when resource doesn&apos;t exist</title>
                <link>https://issues.apache.org/jira/browse/SLING-6637</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Following code: &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;sly data-sly-use.x=&lt;span class=&quot;code-quote&quot;&gt;&quot;${ &lt;span class=&quot;code-quote&quot;&gt;&apos;x/y/z&apos;&lt;/span&gt; }&quot;&lt;/span&gt;/&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You get now the following exception:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;org.apache.sling.scripting.sightly.SightlyException: No use provider could resolve identifier x/y/z
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In practice you want to have a null-value assigned to x, now developers will make a lot of checks to make sure the resource does exist.&lt;/p&gt;

&lt;p&gt;In addition we can log warning message when this happens.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13050424">SLING-6637</key>
            <summary>[htl] data-sly-use should not raise an exception when resource doesn&apos;t exist</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="fvisser">Feike Visser</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Mar 2017 08:43:21 +0000</created>
                <updated>Tue, 29 Aug 2017 11:05:13 +0000</updated>
                            <resolved>Tue, 29 Aug 2017 11:05:05 +0000</resolved>
                                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15924147" author="radu.cotescu" created="Tue, 14 Mar 2017 13:15:38 +0000"  >&lt;p&gt;The behaviour is correct and in-line with how use providers should work - resolve the identifier successfully or fail, so that other providers with a lower priority have a chance to execute.&lt;/p&gt;</comment>
                            <comment id="15924181" author="fvisser" created="Tue, 14 Mar 2017 13:27:34 +0000"  >&lt;p&gt;thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu.cotescu&quot; class=&quot;user-hover&quot; rel=&quot;radu.cotescu&quot;&gt;radu.cotescu&lt;/a&gt; for your reply.&lt;br/&gt;
So in order to avoid this exception devs will need to check if the resource exists, what would be the best way for these use cases?&lt;/p&gt;</comment>
                            <comment id="15938066" author="fvisser" created="Thu, 23 Mar 2017 10:27:09 +0000"  >&lt;p&gt;I like to reopen this issue, and like to see if we can log these exceptions (warn or error).&lt;br/&gt;
Reason for this is that you have common use-cases where you are not 100% sure if the resource exist.&lt;/p&gt;</comment>
                            <comment id="15938101" author="rombert" created="Thu, 23 Mar 2017 10:58:38 +0000"  >&lt;p&gt;Out curiosity, what are these use cases? I am not a very heavy user of Sightly, but getting fast feedback about errors is a big plus for me. Hunting in logs when something goes wrong on a large page with dozens of components would not be very useful.&lt;/p&gt;</comment>
                            <comment id="15938106" author="fvisser" created="Thu, 23 Mar 2017 11:02:40 +0000"  >&lt;p&gt;Sure!&lt;br/&gt;
For example there is a productPath saved, and you want to print the name of the product.&lt;br/&gt;
The product might be moved or removed.&lt;/p&gt;

&lt;p&gt;Same is when a user specifies a path to another resource, however the user may have a typo or at some point the resource may be removed.&lt;/p&gt;</comment>
                            <comment id="15938112" author="rombert" created="Thu, 23 Mar 2017 11:06:24 +0000"  >&lt;p&gt;Shouldn&apos;t that be passed to a use bean as an argument, and then the use bean would do the checking?&lt;/p&gt;</comment>
                            <comment id="15938116" author="fvisser" created="Thu, 23 Mar 2017 11:08:07 +0000"  >&lt;p&gt;data-sly-use now also supports the resolving from a path to a resource.&lt;/p&gt;

&lt;p&gt;see &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-5813&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SLING-5813&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15938154" author="kwin" created="Thu, 23 Mar 2017 11:52:05 +0000"  >&lt;blockquote&gt;&lt;p&gt;I like to reopen this issue, and like to see if we can log these exceptions (warn or error).&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That should IMHO happen already. But the important part is that the exception thrown and therefore is by default visible in the script as well. You could for example also catch that exception in a servlet filter, if you don&apos;t want the exception to be exposed.&lt;/p&gt;</comment>
                            <comment id="15938181" author="radu.cotescu" created="Thu, 23 Mar 2017 12:18:06 +0000"  >&lt;p&gt;I tend to agree with Robert&apos;s view here: why do we want to move &lt;tt&gt;data-sly-use&lt;/tt&gt; errors in the log only? Given the construct, I think that &lt;tt&gt;data-sly-use&lt;/tt&gt; plays an important role in a script, therefore it shouldn&apos;t fail silently...&lt;/p&gt;</comment>
                            <comment id="15938206" author="fvisser" created="Thu, 23 Mar 2017 12:42:04 +0000"  >&lt;p&gt;There is a difference between resolving a Java-class or a resource. A Java-class is a static resource that must be available.&lt;br/&gt;
While resolving a resource is done at runtime, and a particular path may not exist anymore.&lt;/p&gt;

&lt;p&gt;What I want to avoid is that developers need to call/write code to check if a resource exists, before using data-sly-use.&lt;br/&gt;
From developer standpoint (not implementation standpoint) there is no difference between&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;data-sly-test.x=&lt;span class=&quot;code-quote&quot;&gt;&quot;${ wrongVar.wrongField}&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;data-sly-use.x=&lt;span class=&quot;code-quote&quot;&gt;&quot;${ properties.wrongPath }&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It should both return an empty response that can be checked later.&lt;/p&gt;</comment>
                            <comment id="15938233" author="kwin" created="Thu, 23 Mar 2017 12:57:38 +0000"  >&lt;p&gt;I am strongly opposed to the idea of hiding the exception: It makes developing a lot harder because you have no clue why &lt;tt&gt;data-sly-use&lt;/tt&gt; was not successful (if you don&apos;t look at the log). If you really have a case where a resource might either be there or not you should not use &lt;tt&gt;data-sly-use&lt;/tt&gt; or guard that with a test.&lt;/p&gt;</comment>
                            <comment id="15938241" author="fvisser" created="Thu, 23 Mar 2017 13:02:19 +0000"  >&lt;p&gt;But we are also not throwing exceptions when you access a non-existing property like &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;${ x.y }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Why is this use-case different?&lt;/p&gt;</comment>
                            <comment id="15938257" author="kwin" created="Thu, 23 Mar 2017 13:11:03 +0000"  >&lt;p&gt;Non existing properties used in EL don&apos;t throw exceptions because&lt;br/&gt;
a) that is explicitly defined like this for HTL EL&lt;br/&gt;
b) is in line with JSP EL&lt;br/&gt;
Also this is one of the fundamental differences between EL and block statements.&lt;/p&gt;

&lt;p&gt;If we wouldn&apos;t throw an explicit exception for &lt;tt&gt;data-sly-use&lt;/tt&gt; then a a developer&apos;s typo like &lt;tt&gt;data-sly-use.logo=org.apache.slign.MyModel&lt;/tt&gt; would be much harder to detect, because the HTL rendering would continue and you just would get back the empty result for every operation on &lt;tt&gt;logo&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="15938260" author="fvisser" created="Thu, 23 Mar 2017 13:16:06 +0000"  >&lt;p&gt;This is also a block statement:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;data-sly-test.x=&lt;span class=&quot;code-quote&quot;&gt;&quot;${ prop.x }&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Re-reading the comments etc, I see both sides of this story.&lt;br/&gt;
So why did we not introduce data-sly-resolve?&lt;br/&gt;
It looks to me we are mixing things here, I agree with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwindszus&quot; class=&quot;user-hover&quot; rel=&quot;kwindszus&quot;&gt;kwindszus&lt;/a&gt; on his example.&lt;/p&gt;</comment>
                            <comment id="15938280" author="kwin" created="Thu, 23 Mar 2017 13:20:39 +0000"  >&lt;p&gt;your example &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;sly data-sly-use.x=&lt;span class=&quot;code-quote&quot;&gt;&quot;${ &lt;span class=&quot;code-quote&quot;&gt;&apos;x/y/z&apos;&lt;/span&gt; }&quot;&lt;/span&gt;/&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;is equivalent to &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;sly data-sly-use.x=&lt;span class=&quot;code-quote&quot;&gt;&quot;x/y/z&quot;&lt;/span&gt;/&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;(You should not use EL for just literals, compare also with &lt;a href=&quot;https://github.com/Netcentric/aem-htl-style-guide#3.3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/Netcentric/aem-htl-style-guide#3.3&lt;/a&gt;)&lt;br/&gt;
So EL does not fail here at all.&lt;/p&gt;

&lt;p&gt;While for &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;data-sly-test.x=&lt;span class=&quot;code-quote&quot;&gt;&quot;${ prop.x }&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The EL will actually return the empty string (which will be converted then to a boolean). So the block statement is totally fine (and must not throw an exception)&lt;/p&gt;</comment>
                            <comment id="15938564" author="fvisser" created="Thu, 23 Mar 2017 15:24:28 +0000"  >&lt;p&gt;I see then the following pattern to avoid exceptions:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;sly data-sly-use.check=&lt;span class=&quot;code-quote&quot;&gt;&quot;${ &lt;span class=&quot;code-quote&quot;&gt;&apos;java class&apos;&lt;/span&gt; @ resourcepath = properties.pathToAResource}&quot;&lt;/span&gt;/&amp;gt;
&amp;lt;sly data-sly-test=&lt;span class=&quot;code-quote&quot;&gt;&quot;${ check.exists }&quot;&lt;/span&gt;&amp;gt;
  &amp;lt;sly data-sly-use.r=&lt;span class=&quot;code-quote&quot;&gt;&quot;${ properties.pathToAResource}&quot;&lt;/span&gt;/&amp;gt;
&amp;lt;/sly&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To me this defeats the purpose of data-sly-use to also supports resources, because in the Java-code we already do a getResource.&lt;/p&gt;</comment>
                            <comment id="15946950" author="fvisser" created="Wed, 29 Mar 2017 11:27:14 +0000"  >&lt;p&gt;I raised the following improvement JIRA on this subject: &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6744&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SLING-6744&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12983411">SLING-5813</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13060000">SLING-6744</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 31 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3bb5j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6632] [HTL] NumberFormat is printed when format is empty</title>
                <link>https://issues.apache.org/jira/browse/SLING-6632</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I have the following code:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;h2&amp;gt;${ &lt;span class=&quot;code-quote&quot;&gt;&apos;#.00&apos;&lt;/span&gt; @ format=linkPage[&lt;span class=&quot;code-quote&quot;&gt;&apos;root/product-grid-container/product-grid/childDepth&apos;&lt;/span&gt;]}&amp;lt;/h2&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Now #.00 is displayed when @ format is empty.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13050052">SLING-6632</key>
            <summary>[HTL] NumberFormat is printed when format is empty</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="fvisser">Feike Visser</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Mar 2017 14:10:06 +0000</created>
                <updated>Fri, 23 Oct 2020 13:14:42 +0000</updated>
                            <resolved>Mon, 13 Mar 2017 08:30:08 +0000</resolved>
                                    <version>Scripting HTL Engine 1.0.28</version>
                                    <fixVersion>Scripting HTL Engine 1.0.34</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15907005" author="radu.cotescu" created="Mon, 13 Mar 2017 08:30:08 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=1786638&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1786638&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="13336923">SLING-9854</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13030081">SLING-6428</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 33 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3b8uv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6629] UserUtil reports user is not existing when user is system user</title>
                <link>https://issues.apache.org/jira/browse/SLING-6629</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description></description>
                <environment></environment>
        <key id="13049667">SLING-6629</key>
            <summary>UserUtil reports user is not existing when user is system user</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="olli">Oliver Lietz</assignee>
                                    <reporter username="olli">Oliver Lietz</reporter>
                        <labels>
                    </labels>
                <created>Thu, 9 Mar 2017 17:10:58 +0000</created>
                <updated>Mon, 13 Mar 2017 14:48:00 +0000</updated>
                            <resolved>Thu, 9 Mar 2017 17:55:31 +0000</resolved>
                                    <version>Repoinit JCR 1.1.2</version>
                                    <fixVersion>Repoinit JCR 1.1.4</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15903487" author="olli" created="Thu, 9 Mar 2017 17:55:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://svn.apache.org/r1786208&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1786208&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 33 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3b6sf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6628] Switch launchpad to oak-segment-tar</title>
                <link>https://issues.apache.org/jira/browse/SLING-6628</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;oak-segment is deprecated with Oak 1.6 and oak-segment-tar is the replacement. See also &lt;a href=&quot;http://sling-dev.markmail.org/thread/hlbsrz5esulhivem&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dev@sling discussion - Moving to oak-segment-tar with Oak 1.6?&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13049632">SLING-6628</key>
            <summary>Switch launchpad to oak-segment-tar</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                            <label>Sling-9-ReleaseNotes</label>
                    </labels>
                <created>Thu, 9 Mar 2017 15:04:35 +0000</created>
                <updated>Thu, 9 Mar 2017 15:27:35 +0000</updated>
                            <resolved>Thu, 9 Mar 2017 15:27:35 +0000</resolved>
                                                    <fixVersion>Launchpad Builder 9</fixVersion>
                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 33 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3b6kn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6624] LogConfigManager reports incorrect config pid when duplicate categories are defined</title>
                <link>https://issues.apache.org/jira/browse/SLING-6624</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When a LogManager factory configuration that includes an already defined category name is processed, the LogConfigManager throws an exception, for instance:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Updating property org.apache.sling.commons.log.names of configuration org.apache.sling.commons.log.LogManager.factory.config.edfcfd90-27fa-4cfb-a276-b52247e3dc53 caused a problem: Category com.day.cq.compat.codeupgrade already defined by configuration org.apache.sling.commons.log.LogManager.factory.config.edfcfd90-27fa-4cfb-a276-b52247e3dc53 (org.osgi.service.cm.ConfigurationException: org.apache.sling.commons.log.names : Category com.day.cq.compat.codeupgrade already defined by configuration org.apache.sling.commons.log.LogManager.factory.config.edfcfd90-27fa-4cfb-a276-b52247e3dc53)
org.osgi.service.cm.ConfigurationException: org.apache.sling.commons.log.names : Category com.day.cq.compat.codeupgrade already defined by configuration org.apache.sling.commons.log.LogManager.factory.config.edfcfd90-27fa-4cfb-a276-b52247e3dc53&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;However, this does not include the pid of the existing configuration, but the new one, which makes debugging harder.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13049540">SLING-6624</key>
            <summary>LogConfigManager reports incorrect config pid when duplicate categories are defined</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 9 Mar 2017 09:11:46 +0000</created>
                <updated>Thu, 9 Mar 2017 09:23:36 +0000</updated>
                            <resolved>Thu, 9 Mar 2017 09:23:34 +0000</resolved>
                                    <version>Commons Log 5.0.0</version>
                                    <fixVersion>Commons Log 5.0.2</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15902759" author="rombert" created="Thu, 9 Mar 2017 09:23:36 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1786117&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1786117&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 34 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3b607:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6620] HTL integration tests do not honor locale format</title>
                <link>https://issues.apache.org/jira/browse/SLING-6620</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Failed tests: 
  TestBuilder$1.runTest:146 Expected value &apos;01 December &apos;18 12:00 AM; day in year: 335; week in year: 49&apos; for selector &apos;#format-date-11&apos;. Instead we got &apos;01 Dezember &apos;18 12:00 AM; day in year: 335; week in year: 48&apos;. Please check the expected markup from /testfiles/output/exprlang/filters.html.
  TestBuilder$1.runTest:146 Expected value &apos;December&apos; for selector &apos;#format-date-3&apos;. Instead we got &apos;Dezember&apos;. Please check the expected markup from /testfiles/output/exprlang/filters.html.
  TestBuilder$1.runTest:146 Expected value &apos;1,000.00&apos; for selector &apos;#format-number-6&apos;. Instead we got &apos;1.000,00&apos;. Please check the expected markup from /testfiles/output/exprlang/filters.html.
  TestBuilder$1.runTest:146 Expected value &apos;-3.14&apos; for selector &apos;#format-number-7&apos;. Instead we got &apos;-3,14&apos;. Please check the expected markup from /testfiles/output/exprlang/filters.html.
  TestBuilder$1.runTest:146 Expected value &apos;(3.14)&apos; for selector &apos;#format-number-8&apos;. Instead we got &apos;(3,14)&apos;. Please check the expected markup from /testfiles/output/exprlang/filters.html.
  TestBuilder$1.runTest:146 Expected value &apos;-.314E01&apos; for selector &apos;#format-number-9&apos;. Instead we got &apos;-,314E01&apos;. Please check the expected markup from /testfiles/output/exprlang/filters.html.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>user.country = US&lt;br/&gt;
user.country.format = DE&lt;br/&gt;
user.language = en&lt;br/&gt;
user.language.format = de</environment>
        <key id="13049208">SLING-6620</key>
            <summary>HTL integration tests do not honor locale format</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="olli">Oliver Lietz</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Mar 2017 09:32:38 +0000</created>
                <updated>Thu, 13 Apr 2017 15:27:35 +0000</updated>
                            <resolved>Thu, 13 Apr 2017 15:27:20 +0000</resolved>
                                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15967673" author="radu.cotescu" created="Thu, 13 Apr 2017 14:49:00 +0000"  >&lt;p&gt;This is actually an HTL TCK bug - see the linked issue.&lt;/p&gt;</comment>
                            <comment id="15967737" author="radu.cotescu" created="Thu, 13 Apr 2017 15:26:54 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=1791270&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1791270&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 28 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3b3yf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6618] Specify crx.default as workspace for AEM servers</title>
                <link>https://issues.apache.org/jira/browse/SLING-6618</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The current impl-vlt does try to connect to two different repository urls - one for sling and one for crx. In the case of the latter, it apparently needs to subsequently give the default workspace name (crx.default) to the login method - otherwise, trying to connect to the AEM server fails with &quot;precondition failed&quot; messages.&lt;br/&gt;
The full stack trace of the according &lt;tt&gt;RepositoryException&lt;/tt&gt; looks like this&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;javax.jcr.lock.LockException: Precondition Failed
	at org.apache.jackrabbit.spi2dav.ExceptionConverter.generate(ExceptionConverter.java:109)
	at org.apache.jackrabbit.spi2dav.ExceptionConverter.generate(ExceptionConverter.java:51)
	at org.apache.jackrabbit.spi2dav.ExceptionConverter.generate(ExceptionConverter.java:45)
	at org.apache.jackrabbit.spi2dav.RepositoryServiceImpl.obtain(RepositoryServiceImpl.java:809)
	at org.apache.jackrabbit.spi2dav.RepositoryServiceImpl.obtain(RepositoryServiceImpl.java:753)
	at org.apache.jackrabbit.spi2davex.RepositoryServiceImpl.obtain(RepositoryServiceImpl.java:307)
	at org.apache.jackrabbit.jcr2spi.RepositoryImpl.login(RepositoryImpl.java:151)
	at org.apache.jackrabbit.commons.AbstractRepository.login(AbstractRepository.java:144)
	at org.apache.sling.ide.jcr.RepositoryUtils.getRepositoryAddress(RepositoryUtils.java:84)
	at org.apache.sling.ide.jcr.RepositoryUtils.getRepository(RepositoryUtils.java:44)
	at org.apache.sling.ide.impl.vlt.VltRepository.connect(VltRepository.java:70)
	at org.apache.sling.ide.impl.vlt.VltRepositoryFactory.connectRepository(VltRepositoryFactory.java:69)
	at org.apache.sling.ide.eclipse.core.ServerUtil.connectRepository(ServerUtil.java:146)
	at org.apache.sling.ide.eclipse.core.internal.SlingLaunchpadBehaviour.start(SlingLaunchpadBehaviour.java:95)
	at org.apache.sling.ide.eclipse.core.internal.SlingLaunchpadLaunchConfigurationDelegate.launch(SlingLaunchpadLaunchConfigurationDelegate.java:45)
	at org.eclipse.debug.internal.core.LaunchConfiguration.launch(LaunchConfiguration.java:885)
	at org.eclipse.debug.internal.core.LaunchConfiguration.launch(LaunchConfiguration.java:739)
	at org.eclipse.debug.internal.core.LaunchConfiguration.launch(LaunchConfiguration.java:731)
	at org.eclipse.wst.server.core.internal.Server.startImpl2(Server.java:3541)
	at org.eclipse.wst.server.core.internal.Server.startImpl(Server.java:3477)
	at org.eclipse.wst.server.core.internal.Server$StartJob.run(Server.java:367)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)
Caused by: org.apache.jackrabbit.webdav.DavException: Precondition Failed
	at org.apache.jackrabbit.webdav.client.methods.DavMethodBase.getResponseException(DavMethodBase.java:162)
	at org.apache.jackrabbit.webdav.client.methods.DavMethodBase.getResponseBodyAsMultiStatus(DavMethodBase.java:91)
	at org.apache.jackrabbit.spi2dav.RepositoryServiceImpl.obtain(RepositoryServiceImpl.java:781)
	... 18 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13049060">SLING-6618</key>
            <summary>Specify crx.default as workspace for AEM servers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="karlpauls">Karl Pauls</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 Mar 2017 22:33:00 +0000</created>
                <updated>Sun, 21 Jan 2018 20:23:38 +0000</updated>
                            <resolved>Thu, 6 Apr 2017 10:52:19 +0000</resolved>
                                    <version>Sling Eclipse IDE 1.0.10</version>
                                    <fixVersion>Sling Eclipse IDE 1.2.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15900339" author="karlpauls" created="Tue, 7 Mar 2017 22:54:51 +0000"  >&lt;p&gt;I attached &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12856702/12856702_SLING-6618.patch&quot; title=&quot;SLING-6618.patch attached to SLING-6618&quot;&gt;SLING-6618.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; that makes impl-vlt use crx.default as workspace when connected to a crx server. There shouldn&apos;t be any downside doing it this way and it makes things work without problems with current AEM servers. &lt;/p&gt;

&lt;p&gt;However, I think it is somewhat strange that it isn&apos;t able to determine that this is the default server by itself. I found &lt;a href=&quot;https://issues.apache.org/jira/browse/JCRVLT-144&quot; title=&quot;Unable to perform checkout due to wrong default workspace handling&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JCRVLT-144&quot;&gt;&lt;del&gt;JCRVLT-144&lt;/del&gt;&lt;/a&gt; which sounded like it would address exactly this issue and I updated IDE to the latest jackrabbit svn version but it didn&apos;t fix the issue completely (stopped saying &quot;precondition failed&quot; but started saying unknown default workspace &apos;&apos;). &lt;/p&gt;

&lt;p&gt;Ultimately, this patch makes it work for now and it might be a start to later on provide a way to specify a workspace different from the default (if that is ever desired). &lt;/p&gt;

&lt;p&gt;I can commit the patch but I would like to get some feedback first if it makes sense (and obviously, whether I&apos;m just missing something) - hence, WDYT? &lt;/p&gt;</comment>
                            <comment id="15900817" author="kwin" created="Wed, 8 Mar 2017 07:06:21 +0000"  >&lt;p&gt;I think the relevant workaround from VLT was implemented in &lt;a href=&quot;https://fisheye.apache.org/browse/jackrabbit/commons/filevault/trunk/vault-davex/src/main/java/org/apache/jackrabbit/vault/davex/DAVExRepositoryFactory.java?u=-1&amp;amp;r1=1765204&amp;amp;r2=1775225&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://fisheye.apache.org/browse/jackrabbit/commons/filevault/trunk/vault-davex/src/main/java/org/apache/jackrabbit/vault/davex/DAVExRepositoryFactory.java?u=-1&amp;amp;r1=1765204&amp;amp;r2=1775225&lt;/a&gt;. Either that is not working or does not apply here. In case of the former, please reopen the &lt;a href=&quot;https://issues.apache.org/jira/browse/JCRVLT-144&quot; title=&quot;Unable to perform checkout due to wrong default workspace handling&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JCRVLT-144&quot;&gt;&lt;del&gt;JCRVLT-144&lt;/del&gt;&lt;/a&gt;. Just hardcoding the default workspace  doesn&apos;t sound like a good solution. &lt;/p&gt;

&lt;p&gt;The original cause for the issue seems to be in &lt;a href=&quot;https://github.com/apache/jackrabbit/blame/60f44f7d5c67c869ab4dbc7b620c5b7183a0423d/jackrabbit-spi2dav/src/main/java/org/apache/jackrabbit/spi2davex/Spi2davexRepositoryServiceFactory.java#L92&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit/blame/60f44f7d5c67c869ab4dbc7b620c5b7183a0423d/jackrabbit-spi2dav/src/main/java/org/apache/jackrabbit/spi2davex/Spi2davexRepositoryServiceFactory.java#L92&lt;/a&gt;. I think it would be worthwhile to debug a littlebit deeper (and set a breakpoint in Spi2davexRepositoryServiceFactory) to see what the real issue is.&lt;/p&gt;</comment>
                            <comment id="15900947" author="rombert" created="Wed, 8 Mar 2017 09:13:21 +0000"  >&lt;p&gt;I&apos;m not sure how VLT identifies the default workspace, but that would be interesting to know.&lt;/p&gt;</comment>
                            <comment id="15900953" author="kwin" created="Wed, 8 Mar 2017 09:18:21 +0000"  >&lt;p&gt;For Jackrabbit 2 it is IMHO defined in &lt;a href=&quot;http://jackrabbit.apache.org/jcr/jackrabbit-configuration.html#workspace-configuration&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jackrabbit.apache.org/jcr/jackrabbit-configuration.html#workspace-configuration&lt;/a&gt;.&lt;br/&gt;
Oak does not support workspaces at all (&lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-118&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/OAK-118&lt;/a&gt;).&lt;br/&gt;
Vlt itself does not define itself any default workspace IIUC.&lt;/p&gt;</comment>
                            <comment id="15900966" author="rombert" created="Wed, 8 Mar 2017 09:30:58 +0000"  >&lt;p&gt;Since Oak does not support any workspaces - and I don&apos;t expect it ever will - I don&apos;t think doing a mapping of &quot;/crx&quot; entry point &#8594; &quot;crx.default&quot; workspace is harmful. That being said, if there is a better solution I&apos;m all for it, but for the next release we should have it fixed.&lt;/p&gt;

&lt;p&gt;I tried to debug this earlier but failed to find out how to detect the default workspace.&lt;/p&gt;</comment>
                            <comment id="15901170" author="kwin" created="Wed, 8 Mar 2017 12:17:48 +0000"  >&lt;p&gt;The reason why in AEM the default workspace name is &lt;tt&gt;crx.default&lt;/tt&gt; is in com.adobe.granite.repository.impl.SlingRepositoryManager() which internally calls &lt;tt&gt;Jcr.with(&quot;crx.default&quot;)&lt;/tt&gt; (&lt;a href=&quot;http://static.javadoc.io/org.apache.jackrabbit/oak-jcr/1.6.0/org/apache/jackrabbit/oak/jcr/Jcr.html#with(java.lang.String&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://static.javadoc.io/org.apache.jackrabbit/oak-jcr/1.6.0/org/apache/jackrabbit/oak/jcr/Jcr.html#with(java.lang.String&lt;/a&gt;). But basically whenever the workspace name is &lt;tt&gt;null&lt;/tt&gt; for &lt;tt&gt;Repository.login(...)&lt;/tt&gt; calls it should act on the default workspace (compare with &lt;a href=&quot;https://docs.adobe.com/docs/en/spec/jsr170/javadocs/jcr-2.0/javax/jcr/Repository.html#login(javax.jcr.Credentials,%20java.lang.String&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.adobe.com/docs/en/spec/jsr170/javadocs/jcr-2.0/javax/jcr/Repository.html#login(javax.jcr.Credentials,%20java.lang.String&lt;/a&gt;)). This currently does not seem to be the case, while Sling IDE itself only calls &lt;tt&gt;org.apache.jackrabbit.vault.davex.DAVExRepositoryFactory&lt;/tt&gt; this does not seem to correctly resolve to the correct default workspace. Basically that should pass &lt;tt&gt;null&lt;/tt&gt; as &lt;tt&gt;workspaceName&lt;/tt&gt; in &lt;a href=&quot;https://github.com/apache/jackrabbit/blob/60f44f7d5c67c869ab4dbc7b620c5b7183a0423d/jackrabbit-spi2dav/src/main/java/org/apache/jackrabbit/spi2davex/Spi2davexRepositoryServiceFactory.java#L128&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit/blob/60f44f7d5c67c869ab4dbc7b620c5b7183a0423d/jackrabbit-spi2dav/src/main/java/org/apache/jackrabbit/spi2davex/Spi2davexRepositoryServiceFactory.java#L128&lt;/a&gt; which is currently not possible, because that is either any explicit String being set or just the empty string, but never null.&lt;/p&gt;</comment>
                            <comment id="15907111" author="kwin" created="Mon, 13 Mar 2017 10:10:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=karlpauls&quot; class=&quot;user-hover&quot; rel=&quot;karlpauls&quot;&gt;karlpauls&lt;/a&gt; The workaround is quite verbose as it requires to always use the workspace name with &lt;tt&gt;Repository.login&lt;/tt&gt; (although the default should be used everywhere). For the short-term I would rather like to rely on the workaround from &lt;a href=&quot;https://fisheye.apache.org/browse/jackrabbit/commons/filevault/trunk/vault-davex/src/main/java/org/apache/jackrabbit/vault/davex/DAVExRepositoryFactory.java?u=-1&amp;amp;r1=1765204&amp;amp;r2=1775225&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://fisheye.apache.org/browse/jackrabbit/commons/filevault/trunk/vault-davex/src/main/java/org/apache/jackrabbit/vault/davex/DAVExRepositoryFactory.java?u=-1&amp;amp;r1=1765204&amp;amp;r2=1775225&lt;/a&gt; which allows to pass in a default workspace name. That would be extracted from the URI. That way the fix would just be a one-liner in &lt;tt&gt;RepositoryUtils&lt;/tt&gt; for the constant &lt;tt&gt;WEBDAV_URL_LOCATIONS&lt;/tt&gt;:&lt;br/&gt;
&lt;tt&gt;crx/-/jcr:root&lt;/tt&gt; would just become &lt;tt&gt;crx/crx.default/jcr:root&lt;/tt&gt;.&lt;br/&gt;
So instead of applying the fix as is I would wait for the next FileVault release (Vote going on in &lt;a href=&quot;http://www.mail-archive.com/dev@jackrabbit.apache.org/msg37864.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.mail-archive.com/dev@jackrabbit.apache.org/msg37864.html&lt;/a&gt;) and then just modify the &lt;tt&gt;WEBDAV_URL_LOCATIONS&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;I think the right long-term fix would be &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-4120&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/JCR-4120&lt;/a&gt;. Maybe you can try to push for that a bit, so this is part of the next Jackrabbit release and can subsequently be integrated in Jackrabbit FileVault.&lt;/p&gt;</comment>
                            <comment id="15907392" author="rombert" created="Mon, 13 Mar 2017 12:46:40 +0000"  >&lt;blockquote&gt;&lt;p&gt;For the short-term I would rather like to rely on the workaround from &lt;a href=&quot;https://fisheye.apache.org/browse/jackrabbit/commons/filevault/trunk/vault-davex/src/main/java/org/apache/jackrabbit/vault/davex/DAVExRepositoryFactory.java?u=-1&amp;amp;r1=1765204&amp;amp;r2=1775225&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://fisheye.apache.org/browse/jackrabbit/commons/filevault/trunk/vault-davex/src/main/java/org/apache/jackrabbit/vault/davex/DAVExRepositoryFactory.java?u=-1&amp;amp;r1=1765204&amp;amp;r2=1775225&lt;/a&gt; which allows to pass in a default workspace name. That would be extracted from the URI. That way the fix would just be a one-liner in RepositoryUtils for the constant WEBDAV_URL_LOCATIONS:&lt;br/&gt;
crx/-/jcr:root would just become crx/crx.default/jcr:root.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That sounds good to me.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I think the right long-term fix would be &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-4120&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/JCR-4120&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;If we have stable Oak releases or AEM releases with this behavior we&apos;re going to have to keep the hardcoded workspace name in our code. Otherwise the IDE tooling will simply break for whoever is running those releases.&lt;/p&gt;</comment>
                            <comment id="15907398" author="kwin" created="Mon, 13 Mar 2017 12:49:04 +0000"  >&lt;blockquote&gt;
&lt;p&gt;If we have stable Oak releases or AEM releases with this behavior we&apos;re going to have to keep the hardcoded workspace name in our code. Otherwise the IDE tooling will simply break for whoever is running those releases.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;That is a misunderstanding. &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-4120&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/JCR-4120&lt;/a&gt; only contains fixes for the client-side (not the server side). So as soon as there is a release of FileVault including those fixes, we can benefit from those.&lt;/p&gt;</comment>
                            <comment id="15907401" author="rombert" created="Mon, 13 Mar 2017 12:50:38 +0000"  >&lt;p&gt;I see, then things are better than what I expected &lt;/p&gt;</comment>
                            <comment id="15907613" author="karlpauls" created="Mon, 13 Mar 2017 14:59:32 +0000"  >&lt;p&gt;Well, as I said in my initial comment, I think I did try the shortterm fix &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; points out and it didn&apos;t seem to work for me (i.e., I updated to the latest snapshot and provided the crx.default in the url) - hence, the workaround I provided.&lt;/p&gt;

&lt;p&gt;Yes, it is somewhat verbose and granted, it is entirely possible that I made some mistake trying to get the short term fix to work (maybe the snapshot didn&apos;t contain the fix after all) so just retry after the artefact is released and see if it works for you. &lt;/p&gt;

&lt;p&gt;Ultimately, I certainly agree that it would be best to have this fixed properly and have no requirement to provide the name of the default workspace at all.&lt;/p&gt;</comment>
                            <comment id="15907648" author="kwin" created="Mon, 13 Mar 2017 15:20:19 +0000"  >&lt;p&gt;I tried with the minimal approach against the 3.0.36 of FileVault which is currently under vote, and it works for me.&lt;/p&gt;</comment>
                            <comment id="15907744" author="karlpauls" created="Mon, 13 Mar 2017 16:10:51 +0000"  >&lt;p&gt;Great! Maybe it really wasn&apos;t I the snapshot I tried a while ago. I will wait until 3.0.36 is out and try again - Assuming it works, should I commit it?&lt;/p&gt;</comment>
                            <comment id="15924115" author="rombert" created="Tue, 14 Mar 2017 12:51:37 +0000"  >&lt;p&gt;If the option is to update to the latest FileVault and then update &lt;tt&gt;RepositoryUtils#WEBDAV_URL_LOCATIONS&lt;/tt&gt; as &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; suggested, I&apos;m all for it.&lt;/p&gt;</comment>
                            <comment id="15924160" author="karlpauls" created="Tue, 14 Mar 2017 13:19:37 +0000"  >&lt;p&gt;Ok, I will try again with the released artefacts and committed if it works for me. &lt;/p&gt;</comment>
                            <comment id="15924191" author="kwin" created="Tue, 14 Mar 2017 13:33:49 +0000"  >&lt;p&gt;There is not yet a release of FileVault containing the necessary workaround from &lt;a href=&quot;https://issues.apache.org/jira/browse/JCRVLT-144&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/JCRVLT-144&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15924212" author="karlpauls" created="Tue, 14 Mar 2017 13:44:24 +0000"  >&lt;p&gt;So 3.0.36 will not make it possible to use crx.default In the webdav url?&lt;/p&gt;</comment>
                            <comment id="15924214" author="kwin" created="Tue, 14 Mar 2017 13:45:32 +0000"  >&lt;p&gt;Yes, 3.0.36 makes that possible, but 3.0.36 is not yet released.&lt;/p&gt;</comment>
                            <comment id="15924227" author="karlpauls" created="Tue, 14 Mar 2017 13:52:51 +0000"  >&lt;p&gt;Hm, then I&apos;m not sure what you wanted to say with your comment before. Was it that you wanted to make sure I wait until the release is done (which is obviously what I am planning todo - hence, the &quot;released&quot;) or was there something else?&lt;/p&gt;</comment>
                            <comment id="15924528" author="rombert" created="Tue, 14 Mar 2017 16:35:33 +0000"  >&lt;p&gt;FileVault 3.0.36 will not be released, 3.0.38 will be after fixing &lt;a href=&quot;https://issues.apache.org/jira/browse/JCRVLT-168&quot; title=&quot;Update dependencies to stable versions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JCRVLT-168&quot;&gt;&lt;del&gt;JCRVLT-168&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15943381" author="kwin" created="Mon, 27 Mar 2017 14:42:11 +0000"  >&lt;p&gt;3.1.38 was finally successfully released: &lt;a href=&quot;http://search.maven.org/#artifactdetails%7Corg.apache.jackrabbit.vault%7Corg.apache.jackrabbit.vault%7C3.1.38%7Cbundle&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://search.maven.org/#artifactdetails%7Corg.apache.jackrabbit.vault%7Corg.apache.jackrabbit.vault%7C3.1.38%7Cbundle&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15958509" author="kwin" created="Thu, 6 Apr 2017 08:04:37 +0000"  >&lt;p&gt;Some dependency have been upgraded for FileVault 3.1.38&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;HttpClient 3.1 -&amp;gt; Http Components Client 4.5.3 (not yet in any Eclipse Orbit repository)&lt;/li&gt;
	&lt;li&gt;Commons Collections 3.2.1 -&amp;gt; Commons Collection 3.2.2 (&lt;a href=&quot;https://issues.apache.org/jira/browse/JCRVLT-167&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/JCRVLT-167&lt;/a&gt;), only available in Orbit &lt;a href=&quot;http://download.eclipse.org/tools/orbit/downloads/drops/R20151221205849/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://download.eclipse.org/tools/orbit/downloads/drops/R20151221205849/&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;Commons IO 2.2 -&amp;gt; Commons IO 2.5 (not available in any Eclipse Orbit repository yet)&lt;/li&gt;
	&lt;li&gt;new Http Components Mime 4.5.3 (not available in any Eclipse Orbit repository yet)&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;I would propose to proceed like this&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Use HttpComponents Client 4.2.6 from Eclipse Orbit instead&lt;/li&gt;
	&lt;li&gt;Stay with Commons Collections 3.2.0 (latest in the Eclipse Orbit for Eclipse Juno)&lt;/li&gt;
	&lt;li&gt;Stay with Commons IO 2.2  (latest in the Eclipse Orbit)&lt;/li&gt;
	&lt;li&gt;unclear how to deal with Http Components Mime, for now I would just embed as library in the vlt-wrapper&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;There is a slight risk that those versions suffer from some bugs or are even incompatible with FileVault, but we probably use only 10% of the FileVault library, so I consider this risk rather low.&lt;br/&gt;
The other alternative would be to embed those libraries in the vlt-wrapper&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; WDYT?&lt;/p&gt;</comment>
                            <comment id="15958712" author="kwin" created="Thu, 6 Apr 2017 10:33:59 +0000"  >&lt;p&gt;Turns out that Http Component Mime 4.5.3 needs at least Http Component Core 4.4 due to the usage of &lt;a href=&quot;https://hc.apache.org/httpcomponents-core-4.4.x/httpcore/apidocs/org/apache/http/entity/ContentType.html#create(java.lang.String,%20org.apache.http.NameValuePair&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hc.apache.org/httpcomponents-core-4.4.x/httpcore/apidocs/org/apache/http/entity/ContentType.html#create(java.lang.String,%20org.apache.http.NameValuePair&lt;/a&gt;...). Therefore I would rather propose to also embed the HttpComponents Client in the vlt-wrapper in exactly the version being requested by Jackrabbit.&lt;/p&gt;</comment>
                            <comment id="15958726" author="kwin" created="Thu, 6 Apr 2017 10:52:01 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/r1790374&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1790374&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="13050437">JCR-4120</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13026674">JCRVLT-144</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12856702" name="SLING-6618.patch" size="27953" author="karlpauls" created="Tue, 7 Mar 2017 22:54:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 29 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3b31j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6615] sling listener crashes - cannot reliably start sling</title>
                <link>https://issues.apache.org/jira/browse/SLING-6615</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In my production environment I use a script to upload contents to an instance of sling. Occasionally, I get &quot;Connection refused&quot; errors (I use curl for the uploads).&lt;/p&gt;

&lt;p&gt;Thinking of a problem with my own customizations, I wrote a shell script from scratch, using the discover-sling-in-15-minutes webpage as a reference. I&apos;m attaching the script for reference (careful: it will kill any existing sling.launchpad process).&lt;/p&gt;

&lt;p&gt;I may be doing something wrong here, but this is what I notice:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;During startup, sling produces a lot of spurious http errors (401,403,503); I believe this is expected, as sling is still booting up.&lt;/li&gt;
	&lt;li&gt;When I&apos;m finally able to upload some content, and I try to retrieve it back, I seem to hit some kind of race condition that shuts down the listener process.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The crash doesn&apos;t happen every time, but still fairly often (say 1 out of 5 or 10 runs). When it does, I can see that netstat reports no processes listening on port 8080, although the java PID is still alive. Seems like the listener has crashed, and I have to kill the PID and restart sling.&lt;/p&gt;

&lt;p&gt;Attached is a log of the output from a problematic run (./sling_test 2&amp;gt;&amp;amp;1 | tee log); as you can see towards the end of the file, the loop is stuck in a &quot;Connection refused&quot; error that will never recover.&lt;/p&gt;

&lt;p&gt;At the prompt, I can verify that the sling.launchpad process is still running, however it&apos;s no longer listening on port 8080:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;root@xxxxxxxx sl8&amp;#93;&lt;/span&gt;# ps axf | grep launchpad&lt;br/&gt;
 3486 pts/0 S+ 0:00 _ grep --color=auto launchpad&lt;br/&gt;
 3076 pts/0 Sl 0:21 java -jar org.apache.sling.launchpad-8.jar&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;root@xxxxxxxx sl8&amp;#93;&lt;/span&gt;# cat /proc/3076/cmdline&lt;br/&gt;
 java-jarorg.apache.sling.launchpad-8.jar&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;root@xxxxxxxx sl8&amp;#93;&lt;/span&gt;# netstat -lnp | grep 8080&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;root@xxxxxxxx sl8&amp;#93;&lt;/span&gt;#&lt;/p&gt;

&lt;p&gt;Am I doing something wrong or is this a known issue and if so - is there a workaround?&lt;/p&gt;</description>
                <environment>linux (centos 5.x / fedora 22)&lt;br/&gt;
java 8 update 111</environment>
        <key id="13048561">SLING-6615</key>
            <summary>sling listener crashes - cannot reliably start sling</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="shenick_ab">Andrea Biardi</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Mar 2017 15:49:09 +0000</created>
                <updated>Tue, 17 Jul 2018 15:07:44 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15897540" author="rombert" created="Mon, 6 Mar 2017 15:56:12 +0000"  >&lt;p&gt;Can you take a thread dump of the process and attach it here, together with the error.log file?&lt;/p&gt;</comment>
                            <comment id="15897588" author="shenick_ab" created="Mon, 6 Mar 2017 16:26:09 +0000"  >&lt;p&gt;attached &quot;log2&quot;: log containing thread dump obtained with kill -3&lt;/p&gt;</comment>
                            <comment id="16546575" author="rombert" created="Tue, 17 Jul 2018 13:02:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shenick_ab&quot; class=&quot;user-hover&quot; rel=&quot;shenick_ab&quot;&gt;shenick_ab&lt;/a&gt; - sorry for taking so long, I somehow missed this notification.&lt;/p&gt;

&lt;p&gt;The NPE you&apos;re seeing in the logs is &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4556&quot; title=&quot;NPE in DiscoveryServiceImpl#activate due to OakSlingRepositoryManager restart during startup&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4556&quot;&gt;&lt;del&gt;SLING-4556&lt;/del&gt;&lt;/a&gt; , and is fixed by more recent Sling releases. Can you please retry with Sling 10, available from &lt;a href=&quot;https://sling.apache.org/downloads.cgi&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/downloads.cgi&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="16546757" author="shenick_ab" created="Tue, 17 Jul 2018 15:05:29 +0000"  >&lt;p&gt;Robert - thanks for the followup!&lt;/p&gt;

&lt;p&gt;I&apos;ll do some testing shortly and report back.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12856300" name="log" size="71448" author="shenick_ab" created="Mon, 6 Mar 2017 15:49:09 +0000"/>
                            <attachment id="12856307" name="log2" size="181517" author="shenick_ab" created="Mon, 6 Mar 2017 16:26:09 +0000"/>
                            <attachment id="12856299" name="sling_test.sh" size="1325" author="shenick_ab" created="Mon, 6 Mar 2017 15:49:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 15 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3b047:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6613] ResourceResolverFactory not registered when legacy configuration references JcrResourceProviderFactory</title>
                <link>https://issues.apache.org/jira/browse/SLING-6613</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6469&quot; title=&quot;Resource Resolver Factory does not start if updating from an older version&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6469&quot;&gt;&lt;del&gt;SLING-6469&lt;/del&gt;&lt;/a&gt; references a legacy service pid of &lt;tt&gt;org.apache.sling.jcr.resource.internal.helper.jcr.JcrResourceProvider&lt;/tt&gt;. However, in my tests the actual pid is &lt;tt&gt;org.apache.sling.jcr.resource.internal.helper.jcr.JcrResourceProviderFactory&lt;/tt&gt; ( note the factory at the end ).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13048539">SLING-6613</key>
            <summary>ResourceResolverFactory not registered when legacy configuration references JcrResourceProviderFactory</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Mar 2017 14:25:59 +0000</created>
                <updated>Mon, 13 Mar 2017 12:00:13 +0000</updated>
                            <resolved>Tue, 7 Mar 2017 15:43:15 +0000</resolved>
                                                    <fixVersion>Resource Resolver 1.5.20</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15897392" author="rombert" created="Mon, 6 Mar 2017 14:27:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; - WDYT?&lt;/p&gt;</comment>
                            <comment id="15899613" author="rombert" created="Tue, 7 Mar 2017 15:41:50 +0000"  >&lt;p&gt;I&apos;ve double-checked a Sling 8 instance and indeed the actual service PID for the required provider is &lt;tt&gt;org.apache.sling.jcr.resource.internal.helper.jcr.JcrResourceProviderFactory&lt;/tt&gt;. I will commit the change as-is.&lt;/p&gt;</comment>
                            <comment id="15899617" author="rombert" created="Tue, 7 Mar 2017 15:43:15 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1785849&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1785849&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12856286" name="0001-SLING-6613-ResourceResolverFactory-not-registered-wh.patch" size="3330" author="rombert" created="Mon, 6 Mar 2017 14:27:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 34 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3azzb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6612] HTL/Sightly sometimes fails to recompile an updated Java POJO located in the repository</title>
                <link>https://issues.apache.org/jira/browse/SLING-6612</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;HTL/Sightly sometimes fails to recompile an updated Java POJO located in the repository because the current implementation of the &lt;tt&gt;JavaUseProvider&lt;/tt&gt; does not take into account the timestamps of the &lt;tt&gt;.java&lt;/tt&gt; and &lt;tt&gt;.class&lt;/tt&gt; files (and relies on &lt;tt&gt;ResourceChangeListener&lt;/tt&gt; to track updates to the Java classes in the repo).&lt;/p&gt;

&lt;p&gt;I have attached a patch with a test that reproduces the issue.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13048525">SLING-6612</key>
            <summary>HTL/Sightly sometimes fails to recompile an updated Java POJO located in the repository</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="vladb">Vlad Bailescu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Mar 2017 13:42:12 +0000</created>
                <updated>Tue, 9 May 2017 12:03:32 +0000</updated>
                            <resolved>Mon, 13 Mar 2017 08:29:16 +0000</resolved>
                                    <version>Scripting Sightly Engine 1.0.18</version>
                                    <fixVersion>Scripting HTL Engine 1.0.34</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15907004" author="radu.cotescu" created="Mon, 13 Mar 2017 08:29:16 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=1786637&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1786637&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12856279" name="SLING-6612-test.patch" size="3675" author="vladb" created="Mon, 6 Mar 2017 13:44:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 33 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3azw7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6609] Fix JSR305 annotations for ValueMap.get</title>
                <link>https://issues.apache.org/jira/browse/SLING-6609</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently &lt;tt&gt;&amp;lt;T&amp;gt; T get(@Nonnull String name, T defaultValue);&lt;/tt&gt; does neither define a JSR 305 annotation for the return value nor for the 2nd parameter. It makes sense to define them both as &lt;tt&gt;@Nonnull&lt;/tt&gt;, because if you intend to get &lt;tt&gt;null&lt;/tt&gt; as return value you are supposed to take the other get method (&lt;tt&gt;@CheckForNull &amp;lt;T&amp;gt; T get(@Nonnull String name, @Nonnull Class&amp;lt;T&amp;gt; type)&lt;/tt&gt;)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13048355">SLING-6609</key>
            <summary>Fix JSR305 annotations for ValueMap.get</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Sun, 5 Mar 2017 11:11:00 +0000</created>
                <updated>Thu, 2 Nov 2017 15:27:49 +0000</updated>
                            <resolved>Thu, 2 Nov 2017 15:27:49 +0000</resolved>
                                    <version>API 2.16.2</version>
                                    <fixVersion>API 2.16.4</fixVersion>
                                    <component>API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15896185" author="kwin" created="Sun, 5 Mar 2017 11:13:24 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/r1785543&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1785543&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15896981" author="fmeschbe" created="Mon, 6 Mar 2017 09:39:59 +0000"  >&lt;p&gt;Actually, I am not entirely sure, whether @Nonnull is technically entirely correct: The spec says, to return the named property or the &lt;tt&gt;defaultValue&lt;/tt&gt;. What if the &lt;tt&gt;defaultValue&lt;/tt&gt; is &lt;tt&gt;null&lt;/tt&gt; ?&lt;/p&gt;</comment>
                            <comment id="15896983" author="kwin" created="Mon, 6 Mar 2017 09:42:18 +0000"  >&lt;p&gt;The default value is also supposed to be not null (therefore carries the annotation @Nonnull as well).&lt;/p&gt;</comment>
                            <comment id="15897056" author="fmeschbe" created="Mon, 6 Mar 2017 10:27:50 +0000"  >&lt;p&gt;Ah, right, but historically, I am not sure, this really was the intent. Particularly if you look at the &lt;a href=&quot;https://github.com/apache/sling/blob/trunk/bundles/api/src/main/java/org/apache/sling/api/wrappers/ValueMapDecorator.java#L63&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ValueMapDecorator implementation&lt;/a&gt; where there is an explicit &lt;tt&gt;null&lt;/tt&gt; guard &lt;/p&gt;</comment>
                            <comment id="15897075" author="kwin" created="Mon, 6 Mar 2017 10:42:16 +0000"  >&lt;p&gt;Even if it was historically supported, I don&apos;t think it was useful with a 2nd parameter being &lt;tt&gt;null&lt;/tt&gt;. Also the annotations don&apos;t touch the implementation (so passing &lt;tt&gt;null&lt;/tt&gt; will still work). &lt;/p&gt;

&lt;p&gt;It is just that if you use findbugs or Eclipse with null analysis enabled this will emit a warning if you pass a &lt;tt&gt;null&lt;/tt&gt; parameter. The other alternative would be to annotate the return value to &lt;tt&gt;@CheckForNull&lt;/tt&gt; which is not true in 99% of the cases and therefore requires you to more often check for a null return value.&lt;/p&gt;</comment>
                            <comment id="15897088" author="jsedding" created="Mon, 6 Mar 2017 10:56:26 +0000"  >&lt;p&gt;I agree with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; on this one. Especially since we have explicit support for the &lt;tt&gt;null&lt;/tt&gt; default value (aka. no default value):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;// assuming &lt;span class=&quot;code-quote&quot;&gt;&quot;properties&quot;&lt;/span&gt; is a ValueMap instance and the property &lt;span class=&quot;code-quote&quot;&gt;&quot;nonExistant&quot;&lt;/span&gt; does not exist, then
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; == properties.get(&lt;span class=&quot;code-quote&quot;&gt;&quot;nonExistant&quot;&lt;/span&gt;, (&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;)&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
&lt;span class=&quot;code-comment&quot;&gt;// is equivalent to
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; == properties.get(&lt;span class=&quot;code-quote&quot;&gt;&quot;nonExistant&quot;&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.class);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Or am I missing something?&lt;/p&gt;</comment>
                            <comment id="15897208" author="fmeschbe" created="Mon, 6 Mar 2017 12:44:59 +0000"  >&lt;p&gt;Fully agreed with the safety net for compile time check as well as for documentation of adding this annotation.&lt;/p&gt;

&lt;p&gt;The question about historic and so is whether this change actually changes semantics and/or existing expectations of the API. The documentation is not very clear right now, unfortunately.&lt;/p&gt;

&lt;p&gt;For example, assume that historically we accepted null as can be seen from the ValueMapDecorator implementation. Now, we describe the API to not take null any longer. So a new implementation of course will not check for null and run into an NPE (which is fine because the API is not used according to the contract) while an old consumer who was assuming null to be ok as it has been so far might now run into that unexpected NPE.&lt;/p&gt;

&lt;p&gt;Maybe you could add the annotation plus add an implementation note, that implementations should treat being called with &lt;tt&gt;defaultValue==null&lt;/tt&gt; equivalent to &lt;tt&gt;get(String)&lt;/tt&gt; and thus to check for &lt;tt&gt;null&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Of course this is debatable and in hind sight we should have properly define the API such that defaultValue must not be null (with the respective runtime check on implementations). But we are where we are.&lt;/p&gt;</comment>
                            <comment id="15897451" author="jsedding" created="Mon, 6 Mar 2017 15:01:53 +0000"  >&lt;blockquote&gt;&lt;p&gt;Maybe you could add the annotation plus add an implementation note, that implementations should treat being called with &lt;tt&gt;defaultValue==null&lt;/tt&gt; equivalent to &lt;tt&gt;get(String)&lt;/tt&gt; and thus to check for &lt;tt&gt;null&lt;/tt&gt;.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That sounds reasonable and strikes a nice balance between backwards compatibility and clarification/evolution of the API contract.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Of course this is debatable and in hind sight we should have properly define the API such that defaultValue must not be null (with the respective runtime check on implementations). But we are where we are.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Indeed. Hind sight is a luxury we rarely have in the beginning &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15897456" author="kwin" created="Mon, 6 Mar 2017 15:05:26 +0000"  >&lt;p&gt;Extended the javadoc with &lt;a href=&quot;http://svn.apache.org/r1785659&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1785659&lt;/a&gt;. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fmeschbe&quot; class=&quot;user-hover&quot; rel=&quot;fmeschbe&quot;&gt;fmeschbe&lt;/a&gt; Could you quickly cross-check?&lt;/p&gt;</comment>
                            <comment id="15897939" author="fmeschbe" created="Mon, 6 Mar 2017 19:55:42 +0000"  >&lt;p&gt;Thanks, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;. Looks good except, I&apos;d defer to &lt;tt&gt;get(String)&lt;/tt&gt; instead of &lt;tt&gt;get(String, Class)&lt;/tt&gt; as with the &lt;tt&gt;defaultValue&lt;/tt&gt; being &lt;tt&gt;null&lt;/tt&gt; we don&apos;t know the desired type and would have to assume &lt;tt&gt;Object&lt;/tt&gt;, hence no conversion.&lt;/p&gt;</comment>
                            <comment id="15898919" author="kwin" created="Tue, 7 Mar 2017 08:11:05 +0000"  >&lt;p&gt;Right, did that in &lt;a href=&quot;http://svn.apache.org/r1785808&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1785808&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16235819" author="ianeboston" created="Thu, 2 Nov 2017 14:34:24 +0000"  >&lt;p&gt;mvn clean javadoc:javadoc fails, due to this commit blocking releasing the bundle.&lt;/p&gt;

&lt;p&gt;Could you fix please. &lt;br/&gt;
The JavaDoc didn&apos;t make sense as there is no get(String) method.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 13.165 s
[INFO] Finished at: 2017-11-02T14:32:34+00:00
[INFO] Final Memory: 27M/385M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-javadoc-plugin:2.10.3:javadoc (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-cli) on project org.apache.sling.api: An error has occurred in JavaDocs report generation:
[ERROR] Exit code: 1 - /Users/ieb/sling/sling-org-apache-sling-api/src/main/java/org/apache/sling/api/resource/ValueMap.java:77: error: reference not found
[ERROR] * Therefore all implementations should internally call {@link #get(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;)} when the 2nd parameter
[ERROR] ^
[ERROR] /Users/ieb/sling/sling-org-apache-sling-api/src/main/java/org/apache/sling/api/resource/ValueMap.java:90: warning - Tag @link: can&apos;t find get(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;) in org.apache.sling.api.resource.ValueMap
[ERROR] 
[ERROR] Command line was: /Library/Java/JavaVirtualMachines/jdk1.8.0_74.jdk/Contents/Home/jre/../bin/javadoc @options @packages
[ERROR] 

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16235909" author="kwin" created="Thu, 2 Nov 2017 15:27:42 +0000"  >&lt;p&gt;Fixed with &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=sling-org-apache-sling-api.git;a=commit;h=b35b5d1af152f0e28d87af6da8eba84df0e72a10&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=sling-org-apache-sling-api.git;a=commit;h=b35b5d1af152f0e28d87af6da8eba84df0e72a10&lt;/a&gt;. Sorry for that mistake.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12771675">SLING-4377</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 51 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ayuf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6596] Typo: &quot;guage&quot; instead of &quot;gauge&quot; in metrics module</title>
                <link>https://issues.apache.org/jira/browse/SLING-6596</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The JSON produced by the metrics module uses &quot;guage&quot; instead of &quot;gauge&quot;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13047943">SLING-6596</key>
            <summary>Typo: &quot;guage&quot; instead of &quot;gauge&quot; in metrics module</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Mar 2017 08:41:51 +0000</created>
                <updated>Wed, 7 Jun 2017 21:38:12 +0000</updated>
                            <resolved>Fri, 3 Mar 2017 14:13:48 +0000</resolved>
                                    <version>Commons Metrics 1.2.0</version>
                                    <fixVersion>Commons Metrics 1.2.2</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15893926" author="bdelacretaz" created="Fri, 3 Mar 2017 08:45:32 +0000"  >&lt;p&gt;Fixed in revision 1785238&lt;/p&gt;</comment>
                            <comment id="15894400" author="kwin" created="Fri, 3 Mar 2017 13:58:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt; Seems your search/replace command did some damage here: &lt;a href=&quot;https://github.com/apache/sling/commit/2c287b659a42272adc6b803bcf5a4c2efbdc12c5:&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/commit/2c287b659a42272adc6b803bcf5a4c2efbdc12c5:&lt;/a&gt; &lt;tt&gt;Language&lt;/tt&gt; became &lt;tt&gt;Langauge&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="15894431" author="bdelacretaz" created="Fri, 3 Mar 2017 14:13:48 +0000"  >&lt;p&gt;oops &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; good catch, sorry! I have fixed the fixes in revision 1785309&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 34 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3awcn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6590] Change events for resource providers are not send to listeners</title>
                <link>https://issues.apache.org/jira/browse/SLING-6590</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a resource change listener is interested in changes to resource providers, these events are currently never send out. They are filtered out in the BasicObservationReporter#matches method&lt;/p&gt;</description>
                <environment></environment>
        <key id="13047634">SLING-6590</key>
            <summary>Change events for resource providers are not send to listeners</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 2 Mar 2017 10:11:56 +0000</created>
                <updated>Tue, 7 Mar 2017 14:36:25 +0000</updated>
                            <resolved>Thu, 2 Mar 2017 10:33:26 +0000</resolved>
                                    <version>Resource Resolver 1.5.10</version>
                    <version>Resource Resolver 1.5.12</version>
                    <version>Resource Resolver 1.5.14</version>
                                    <fixVersion>Resource Resolver 1.5.18</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15892021" author="cziegeler" created="Thu, 2 Mar 2017 10:33:26 +0000"  >&lt;p&gt;Fixed in rev 1785099&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 34 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3aufz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6589] DistributionPackageUtils#disposable should handle hanging packages</title>
                <link>https://issues.apache.org/jira/browse/SLING-6589</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Before the fix &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6503&quot; title=&quot;Concurrency issue can prevent repository packages to be cleaned up   &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6503&quot;&gt;&lt;del&gt;SLING-6503&lt;/del&gt;&lt;/a&gt;, some package could have been left hanging without &lt;tt&gt;refs&lt;/tt&gt; node, thus causing the async package collection to log&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;01.03.2017 11:20:52.921 *ERROR* [sling-&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-102-Registered Service.3422] org.apache.sling.distribution.packaging.impl.ResourceDistributionPackage cannot check &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; is disposable
javax.jcr.PathNotFoundException: refs
	at org.apache.jackrabbit.oak.jcr.session.NodeImpl$7.perform(NodeImpl.java:542)
	at org.apache.jackrabbit.oak.jcr.session.NodeImpl$7.perform(NodeImpl.java:536)
	at org.apache.jackrabbit.oak.jcr.delegate.SessionDelegate.perform(SessionDelegate.java:208)
	at org.apache.jackrabbit.oak.jcr.session.ItemImpl.perform(ItemImpl.java:112)
	at org.apache.jackrabbit.oak.jcr.session.NodeImpl.getNode(NodeImpl.java:536)
	at org.apache.sling.distribution.packaging.impl.DistributionPackageUtils.disposable(DistributionPackageUtils.java:321)
	at org.apache.sling.distribution.packaging.impl.ResourceDistributionPackage.disposable(ResourceDistributionPackage.java:119)
	at org.apache.sling.distribution.packaging.impl.ResourceDistributionPackageCleanup.run(ResourceDistributionPackageCleanup.java:63)
	at org.apache.sling.commons.scheduler.impl.QuartzJobExecutor.execute(QuartzJobExecutor.java:118)
	at org.quartz.core.JobRunShell.run(JobRunShell.java:202)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Those hanging packages can&apos;t be produce thanks to &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6503&quot; title=&quot;Concurrency issue can prevent repository packages to be cleaned up   &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6503&quot;&gt;&lt;del&gt;SLING-6503&lt;/del&gt;&lt;/a&gt;, but the existing ones must be handled. In order to be on the safe side, the packages should be considered as non-collectable.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13047632">SLING-6589</key>
            <summary>DistributionPackageUtils#disposable should handle hanging packages</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marett">Timothee Maret</assignee>
                                    <reporter username="marett">Timothee Maret</reporter>
                        <labels>
                    </labels>
                <created>Thu, 2 Mar 2017 10:00:22 +0000</created>
                <updated>Mon, 6 Mar 2017 08:46:08 +0000</updated>
                            <resolved>Thu, 2 Mar 2017 10:40:41 +0000</resolved>
                                    <version>Content Distribution Core 0.2.0</version>
                                    <fixVersion>Content Distribution Core 0.2.6</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15892033" author="marett" created="Thu, 2 Mar 2017 10:40:29 +0000"  >&lt;p&gt;Fixed in &lt;tt&gt;r1785100&lt;/tt&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13039503">SLING-6503</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 34 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3aufj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6587] Resource Merger does not work correctly with content</title>
                <link>https://issues.apache.org/jira/browse/SLING-6587</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I tried to create the following resource picker in the hope I could merge content resources and render them as html:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@Component(label = &lt;span class=&quot;code-quote&quot;&gt;&quot;Content Resource Picker&quot;&lt;/span&gt;, description = &quot;&quot;, metatype = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;)
@Service(value = { MergedResourcePicker2.class })
@Properties({
        @Property(name = MergedResourcePicker2.MERGE_ROOT, value = WwwMergingResourcePicker.DEFAULT_ROOT, label = &lt;span class=&quot;code-quote&quot;&gt;&quot;Root&quot;&lt;/span&gt;, description = &lt;span class=&quot;code-quote&quot;&gt;&quot;The mount point of merged resources&quot;&lt;/span&gt;),
        @Property(name = MergedResourcePicker2.READ_ONLY, boolValue = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, label = &lt;span class=&quot;code-quote&quot;&gt;&quot;Read Only&quot;&lt;/span&gt;, description = &lt;span class=&quot;code-quote&quot;&gt;&quot;Specifies &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the resources are read-only or can be modified.&quot;&lt;/span&gt;)
})
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;WwwMergingResourcePicker &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; MergedResourcePicker2 {
    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Logger LOG = LoggerFactory.getLogger(WwwMergingResourcePicker.class);

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; DEFAULT_ROOT = &lt;span class=&quot;code-quote&quot;&gt;&quot;/mnt/contentwww&quot;&lt;/span&gt;;

    @Override
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; List&amp;lt;Resource&amp;gt; pickResources(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; ResourceResolver resolver, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; relativePath,
            &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Resource relatedResource) {

        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; resourcePath = StringUtils.substringBefore(relativePath, &lt;span class=&quot;code-quote&quot;&gt;&quot;.&quot;&lt;/span&gt;); &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; some reason path/to/page.html including &lt;span class=&quot;code-quote&quot;&gt;&quot;.html&quot;&lt;/span&gt; is passed in here
&lt;/span&gt;

        List&amp;lt;Resource&amp;gt; resources = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;Resource&amp;gt;();

        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; overrideContentBasePath = &lt;span class=&quot;code-quote&quot;&gt;&quot;/content/www/override&quot;&lt;/span&gt;;
        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; masterBasePath = &lt;span class=&quot;code-quote&quot;&gt;&quot;/content/www/master&quot;&lt;/span&gt;;

        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; overrideContentPath = overrideContentBasePath + &lt;span class=&quot;code-quote&quot;&gt;&quot;/&quot;&lt;/span&gt; + resourcePath;
        Resource overrideContentResource = resolver.getResource(overrideContentPath);

        resources.add(overrideContentResource);

        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; masterPath = masterBasePath + &lt;span class=&quot;code-quote&quot;&gt;&quot;/&quot;&lt;/span&gt; + resourcePath;
        Resource masterResource = resolver.getResource(masterPath);

        resources.add(masterResource);

        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; resources;
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The request to `/mnt/contentwww/path/to/my/page.html` answers with a redirect to /mnt/contentwww/path/to/my/page.html/, trailing slash instead of returning an html rendering, the root cause seems to be that for some reason the request path is completely taken as resource path instead of splitting it in the sling way (extension should be html, .html should be cut off the resource path: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; 0 TIMER_END{0,ResourceResolution} URI=/mnt/contentwww/path/to/my/page.html resolves to Resource=MergedResource [path=/mnt/contentwww/path/to/my/page.html, resources=[Ljava.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;;@31d6983a]
      0 LOG Resource Path Info: SlingRequestPathInfo: path=&lt;span class=&quot;code-quote&quot;&gt;&apos;/mnt/contentwww/path/to/my/page.html&apos;&lt;/span&gt;, selectorString=&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&apos;&lt;/span&gt;, extension=&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&apos;&lt;/span&gt;, suffix=&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&apos;&lt;/span&gt;

...
      4 TIMER_START{org.apache.sling.servlets.get.DefaultGetServlet#0}
      4 LOG Using org.apache.sling.servlets.get.impl.helpers.StreamRendererServlet to render &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; extension=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Looking at the code of the resource merger module, it is just registering a resource provider and hence, conceptually it should work (the resource provider should never get to see a path with extension &quot;.html&quot; IMHO, to me it looks like the problem might be in some other module).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13047584">SLING-6587</key>
            <summary>Resource Merger does not work correctly with content</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10004">Not A Bug</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="henzlerg">Georg Henzler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 2 Mar 2017 06:44:36 +0000</created>
                <updated>Thu, 2 Mar 2017 16:05:51 +0000</updated>
                            <resolved>Thu, 2 Mar 2017 15:03:28 +0000</resolved>
                                    <version>Resource Merger 1.3.0</version>
                                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15891900" author="kwin" created="Thu, 2 Mar 2017 09:21:50 +0000"  >&lt;p&gt;The resource resolver always first tries to resolve the URL directly (without any splitting) against all registered resource providers. Since your resource picker actually returns a resource for a resource path including the extension the resource resolver just takes this resource. Only in case the first attempt does not return a resource the resolver will split up the URL. So in this case you should be able to fix in your &lt;tt&gt;ResourcePicker&lt;/tt&gt; by just returning an empty collection for resource paths containing &quot;.&quot;.&lt;/p&gt;</comment>
                            <comment id="15891927" author="henzlerg" created="Thu, 2 Mar 2017 09:38:26 +0000"  >&lt;p&gt;Thanks for the hint, adding the following code at the beginning of pickResources() fixes it:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (relativePath.contains(&lt;span class=&quot;code-quote&quot;&gt;&quot;.&quot;&lt;/span&gt;)) {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; Collections.&amp;lt;Resource&amp;gt; emptyList();
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;After that I can browse the resources with json extension (the html rendering has some other problems i&apos;ll have to analyse).&lt;/p&gt;

&lt;p&gt;I&apos;ll improve the javadoc of MergedResourcePicker2 to resolve this issue.&lt;/p&gt;</comment>
                            <comment id="15892369" author="henzlerg" created="Thu, 2 Mar 2017 15:02:44 +0000"  >&lt;p&gt;Added in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1785149&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1785149&lt;/a&gt; - &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; as you created the interface initially please double check if it actually makes sense. &lt;/p&gt;</comment>
                            <comment id="15892443" author="cziegeler" created="Thu, 2 Mar 2017 15:50:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=henzlerg&quot; class=&quot;user-hover&quot; rel=&quot;henzlerg&quot;&gt;henzlerg&lt;/a&gt; I think this should not be like described now. If the picker returns an empty list, it should result in a non existing resource (or null). But not in an unusable resource (path == null)&lt;/p&gt;</comment>
                            <comment id="15892463" author="kwin" created="Thu, 2 Mar 2017 16:05:51 +0000"  >&lt;p&gt;I think that from a resource picker you should never return a &lt;tt&gt;NonExistingResource&lt;/tt&gt; (that should only be used by the resource resolver and never by any resource providers). So just return an empty list if you don&apos;t want to provide the resource.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 34 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3au4v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6586] osgi-mock: Loading SCR metadata fails for components with name != class name</title>
                <link>https://issues.apache.org/jira/browse/SLING-6586</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;in most cases the xml file name for the SCR metadata is the same as the implementation class name. but this is not the case when the component defines a different component name - example: &lt;a href=&quot;https://github.com/apache/sling/blob/trunk/bundles/resourceresolver/src/main/java/org/apache/sling/resourceresolver/impl/ResourceResolverFactoryActivator.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ResourceResolverFactoryActivator.java&lt;/a&gt;.&lt;br/&gt;
in this case there is no relation between implementation class name and xml file name, and the component cannot be used with osgi-mock.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13047386">SLING-6586</key>
            <summary>osgi-mock: Loading SCR metadata fails for components with name != class name</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                            <label>mocks</label>
                    </labels>
                <created>Wed, 1 Mar 2017 17:24:57 +0000</created>
                <updated>Thu, 23 Mar 2017 13:11:12 +0000</updated>
                            <resolved>Wed, 1 Mar 2017 17:29:16 +0000</resolved>
                                    <version>Testing OSGi Mock 1.9.2</version>
                    <version>Testing OSGi Mock 2.2.2</version>
                                    <fixVersion>Testing OSGi Mock 1.9.4</fixVersion>
                    <fixVersion>Testing OSGi Mock 2.2.4</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="15890620" author="sseifert@pro-vision.de" created="Wed, 1 Mar 2017 17:29:16 +0000"  >&lt;p&gt;rev. 1785001  (2.x)&lt;br/&gt;
rev. 1785004  (1.x)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 35 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3asx3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6584] Race condition in ModelAdapterFactory</title>
                <link>https://issues.apache.org/jira/browse/SLING-6584</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;There is a possible race condition in &lt;a href=&quot;https://github.com/apache/sling/blob/trunk/bundles/extensions/models/impl/src/main/java/org/apache/sling/models/impl/ModelAdapterFactory.java#L807-L815&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/bundles/extensions/models/impl/src/main/java/org/apache/sling/models/impl/ModelAdapterFactory.java#L807-L815&lt;/a&gt; when two threads are trying to inject the same field, resulting in model not being constructed.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!accessible) {
        field.setAccessible(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
    }
    field.set(createdObject, result.getValue());
} &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Exception e) {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ModelClassException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Could not inject field due to reflection issues&quot;&lt;/span&gt;, e);
} &lt;span class=&quot;code-keyword&quot;&gt;finally&lt;/span&gt; {
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!accessible) {
        field.setAccessible(&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is exposed by the unit test attached:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;org.apache.sling.models.impl.ModelAdapterFactory - Could not adapt to model
org.apache.sling.models.factory.MissingElementsException: Could not inject all required fields into &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.sling.models.testmodels.classes.WithOneConstructorModel
	at org.apache.sling.models.impl.ModelAdapterFactory.createObject(ModelAdapterFactory.java:593)
	at org.apache.sling.models.impl.ModelAdapterFactory.internalCreateModel(ModelAdapterFactory.java:335)
	at org.apache.sling.models.impl.ModelAdapterFactory.getAdapter(ModelAdapterFactory.java:211)
	at org.apache.sling.models.impl.ConstructorTest$1ModelCreator.call(ConstructorTest.java:153)
	at org.apache.sling.models.impl.ConstructorTest$1ModelCreator.call(ConstructorTest.java:149)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	Suppressed: org.apache.sling.models.factory.MissingElementException: Could not inject &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; org.apache.sling.models.testmodels.classes.WithOneConstructorModel.attribute
		at org.apache.sling.models.impl.ModelAdapterFactory.createObject(ModelAdapterFactory.java:598)
		... 8 more
	Caused by: org.apache.sling.models.factory.ModelClassException: Could not inject field due to reflection issues
		at org.apache.sling.models.impl.ModelAdapterFactory.setField(ModelAdapterFactory.java:812)
		at org.apache.sling.models.impl.ModelAdapterFactory.access$100(ModelAdapterFactory.java:112)
		at org.apache.sling.models.impl.ModelAdapterFactory$SetFieldCallback.inject(ModelAdapterFactory.java:378)
		at org.apache.sling.models.impl.ModelAdapterFactory.injectElement(ModelAdapterFactory.java:473)
		at org.apache.sling.models.impl.ModelAdapterFactory.createObject(ModelAdapterFactory.java:596)
		... 8 more
	Caused by: java.lang.IllegalAccessException: &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt; org.apache.sling.models.impl.ModelAdapterFactory can not access a member of &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.sling.models.testmodels.classes.WithOneConstructorModel with modifiers &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt;&quot;&lt;/span&gt;
		at sun.reflect.Reflection.ensureMemberAccess(Reflection.java:101)
		at java.lang.reflect.AccessibleObject.slowCheckMemberAccess(AccessibleObject.java:295)
		at java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:287)
		at java.lang.reflect.Field.set(Field.java:755)
		at org.apache.sling.models.impl.ModelAdapterFactory.setField(ModelAdapterFactory.java:810)
		... 12 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13047306">SLING-6584</key>
            <summary>Race condition in ModelAdapterFactory</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="vladb">Vlad Bailescu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 Mar 2017 13:14:42 +0000</created>
                <updated>Mon, 6 Dec 2021 15:45:46 +0000</updated>
                            <resolved>Wed, 1 Mar 2017 14:59:51 +0000</resolved>
                                    <version>Sling Models Impl 1.3.8</version>
                                    <fixVersion>Sling Models Impl 1.4.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15890318" author="justinedelson" created="Wed, 1 Mar 2017 14:59:51 +0000"  >&lt;p&gt;Thanks a ton for the test!!!!&lt;/p&gt;

&lt;p&gt;fixed in r1784960&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13415618">SLING-10969</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12855362" name="SLING-6584.test.patch" size="3069" author="vladb" created="Wed, 1 Mar 2017 13:16:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 35 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3asfb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6577] StringIndexOutOfBoundsException in Sling Log Web Console when creating new logger with absolute file name</title>
                <link>https://issues.apache.org/jira/browse/SLING-6577</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;After adding a new logger via the web console exposed at &lt;tt&gt;/system/console/slinglog&lt;/tt&gt; with an absolute filename (one starting with &quot;/&quot;), the following exception is thrown &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;28.02.2017 16:47:31.300 *ERROR* [qtp455076072-280] org.apache.felix.http.jetty Exception &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; processing request to /system/console/slinglog (java.lang.StringIndexOutOfBoundsException: &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; index out of range: -42)
java.lang.StringIndexOutOfBoundsException: &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; index out of range: -42
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.substring(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.java:1931)
	at org.apache.sling.commons.log.logback.internal.SlingLogPanel.getPath(SlingLogPanel.java:791)
	at org.apache.sling.commons.log.logback.internal.SlingLogPanel.appendOsgiConfiguredLoggerData(SlingLogPanel.java:221)
	at org.apache.sling.commons.log.logback.internal.SlingLogPanel.render(SlingLogPanel.java:110)
	at org.apache.sling.commons.log.webconsole.internal.LogWebConsolePlugin.renderContent(LogWebConsolePlugin.java:79)
	at org.apache.felix.webconsole.AbstractWebConsolePlugin.doGet(AbstractWebConsolePlugin.java:194)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is related to the exception being mentioned in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6482&quot; title=&quot;Commons Log WebConsole: Exception when creating logger with an empty log file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6482&quot;&gt;&lt;del&gt;SLING-6482&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13047005">SLING-6577</key>
            <summary>StringIndexOutOfBoundsException in Sling Log Web Console when creating new logger with absolute file name</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chetanm">Chetan Mehrotra</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Feb 2017 15:48:26 +0000</created>
                <updated>Fri, 1 Dec 2017 06:34:56 +0000</updated>
                            <resolved>Mon, 30 Oct 2017 15:11:03 +0000</resolved>
                                    <version>Commons Log 5.0.0</version>
                                    <fixVersion>Commons Log 5.1.0</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16225098" author="chetanm" created="Mon, 30 Oct 2017 15:11:03 +0000"  >&lt;p&gt;Fixed this now with &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=sling-org-apache-sling-commons-log.git;a=commitdiff;h=e87cc833a4a12cd39e7798f98ab5b998374896e5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13037845">SLING-6482</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3aqkn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6575] Job delivery guarantee should be described as &quot;at least once&quot;</title>
                <link>https://issues.apache.org/jira/browse/SLING-6575</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I went through the Apache Sling Eventing and Job Handling documentation &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; as part of attempting to answer a stackoverflow question and noticed the job delivery guarantee is described as &quot;at most once&quot; where the description of the edge case rather describes the possibility of having the processing of the same job more than once (&quot;at least once&quot;).&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://sling.apache.org/documentation/bundles/apache-sling-eventing-and-job-handling.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/bundles/apache-sling-eventing-and-job-handling.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13046982">SLING-6575</key>
            <summary>Job delivery guarantee should be described as &quot;at least once&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marett">Timothee Maret</assignee>
                                    <reporter username="marett">Timothee Maret</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Feb 2017 14:11:46 +0000</created>
                <updated>Tue, 28 Feb 2017 14:17:27 +0000</updated>
                            <resolved>Tue, 28 Feb 2017 14:17:27 +0000</resolved>
                                                                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15888085" author="marett" created="Tue, 28 Feb 2017 14:17:01 +0000"  >&lt;p&gt;Fixed in &lt;tt&gt;r1784741&lt;/tt&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 35 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3aqfj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6570] HTL engine does not correctly generate Java classes for templates stored in different files</title>
                <link>https://issues.apache.org/jira/browse/SLING-6570</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The HTL engine might not correctly generate the Java classes corresponding to HTL templates which are stored in template files. This happens because the &lt;tt&gt;RenderUnitProvider&lt;/tt&gt; does not extract a script name for the unit it wants to compile.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13046570">SLING-6570</key>
            <summary>HTL engine does not correctly generate Java classes for templates stored in different files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 Feb 2017 07:54:16 +0000</created>
                <updated>Thu, 2 Mar 2017 14:15:50 +0000</updated>
                            <resolved>Mon, 27 Feb 2017 10:34:51 +0000</resolved>
                                    <version>Scripting HTL Engine 1.0.20</version>
                                    <fixVersion>Scripting HTL Engine 1.0.32</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15885532" author="radu.cotescu" created="Mon, 27 Feb 2017 10:34:51 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1784521&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1784521&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 35 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3anvz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6569] NPE in DefaultValidationFailure when resource bundle is null</title>
                <link>https://issues.apache.org/jira/browse/SLING-6569</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Before:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[...]
2017-03-02 15:39:42,933 ERROR [127.0.0.1 [1488465582809] POST /validation/testing/fakeFolder1/resource HTTP/1.1] o.a.s.e.i.SlingRequestProcessorImpl [SlingRequestProcessorImpl.java : 225] service: Uncaught Throwable
java.lang.NullPointerException: null
	at org.apache.sling.validation.spi.DefaultValidationFailure.getMessage(DefaultValidationFailure.java:64)
	at org.apache.sling.validation.testservices.internal.ValidationPostResponse.doSend(ValidationPostResponse.java:63)
	at org.apache.sling.servlets.post.AbstractPostResponse.send(AbstractPostResponse.java:387)
	at org.apache.sling.servlets.post.impl.SlingPostServlet.doPost(SlingPostServlet.java:226)
[...]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[...]
2017-03-02 15:46:33,866 ERROR [127.0.0.1 [1488465993738] POST /validation/testing/fakeFolder1/resource HTTP/1.1] o.a.s.e.i.SlingRequestProcessorImpl [SlingRequestProcessorImpl.java : 225] service: Uncaught Throwable
java.lang.NullPointerException: ResourceBundle must not be null
	at org.apache.sling.validation.spi.DefaultValidationFailure.getMessage(DefaultValidationFailure.java:65)
	at org.apache.sling.validation.testservices.internal.ValidationPostResponse.doSend(ValidationPostResponse.java:63)
	at org.apache.sling.servlets.post.AbstractPostResponse.send(AbstractPostResponse.java:387)
	at org.apache.sling.servlets.post.impl.SlingPostServlet.doPost(SlingPostServlet.java:226)
[...]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13046482">SLING-6569</key>
            <summary>NPE in DefaultValidationFailure when resource bundle is null</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="olli">Oliver Lietz</reporter>
                        <labels>
                    </labels>
                <created>Sun, 26 Feb 2017 18:53:44 +0000</created>
                <updated>Wed, 20 Sep 2017 13:17:54 +0000</updated>
                            <resolved>Thu, 2 Mar 2017 18:59:03 +0000</resolved>
                                                    <fixVersion>Validation 1.0.0</fixVersion>
                                    <component>Extensions</component>
                    <component>Validation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15884864" author="olli" created="Sun, 26 Feb 2017 19:04:37 +0000"  >&lt;p&gt;&lt;del&gt;&lt;a href=&quot;https://svn.apache.org/r1784472&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1784472&lt;/a&gt;&lt;/del&gt;&lt;/p&gt;</comment>
                            <comment id="15892793" author="olli" created="Thu, 2 Mar 2017 18:59:03 +0000"  >&lt;p&gt;Changed to throw meaningful NPE instead of returning empty string when ResourceBundle is null in &lt;a href=&quot;https://svn.apache.org/r1785186&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1785186&lt;/a&gt; after discussion with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; on dev@.&lt;/p&gt;</comment>
                            <comment id="15892835" author="kwin" created="Thu, 2 Mar 2017 19:24:19 +0000"  >&lt;p&gt;I am actually planning on changing it to return a meaningful message when the given resource bundle is null by falling back to a default resource bundle (e.g. for usage in exceptions, where no other resource bundle is available). Will come up with a patch for that tomorrow.&lt;/p&gt;</comment>
                            <comment id="15893913" author="kwin" created="Fri, 3 Mar 2017 08:29:25 +0000"  >&lt;p&gt;I now really made the &lt;tt&gt;ResourceBundle&lt;/tt&gt; parameter optional in &lt;a href=&quot;http://svn.apache.org/r1785229&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1785229&lt;/a&gt;. In case &lt;tt&gt;null&lt;/tt&gt; is provided the default resource bundle will be used which is given in the constructor to &lt;tt&gt;DefaultValidationFailure&lt;/tt&gt; and can be retrieved in every &lt;tt&gt;Validator&lt;/tt&gt; via &lt;tt&gt;ValidationContext.getDefaultResourceBundle()&lt;/tt&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 34 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ancn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6567] BasicObservationReporter ignores resource changes for resource providers mounted at specific paths</title>
                <link>https://issues.apache.org/jira/browse/SLING-6567</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;with the new resource provider SPI an intelligent ResourceListener mechanism was introduced which allows to generate and route resource change events only when a listener is actual interested in this change. this works well when the resource provider is a root provider mounted at &lt;tt&gt;/&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;however this currently fails when an additional resource provider is mounted at a specific path - e.g. at &lt;tt&gt;/apps/app1&lt;/tt&gt;. in this case listeners mounted to specific glob patterns like &lt;tt&gt;glob:/apps/*&lt;b&gt;/&lt;/b&gt;.html&lt;/tt&gt; get the changes reported by the resource provider, but listeners registered to &lt;tt&gt;/&lt;/tt&gt; do not.&lt;/p&gt;

&lt;p&gt;this is a severe problem as some listeners like the script resolution cache are registered to &lt;tt&gt;/&lt;/tt&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13046104">SLING-6567</key>
            <summary>BasicObservationReporter ignores resource changes for resource providers mounted at specific paths</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Feb 2017 17:52:18 +0000</created>
                <updated>Tue, 7 Mar 2017 14:36:26 +0000</updated>
                            <resolved>Mon, 27 Feb 2017 15:23:05 +0000</resolved>
                                    <version>Resource Resolver 1.5.14</version>
                                    <fixVersion>Resource Resolver 1.5.18</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15883199" author="sseifert@pro-vision.de" created="Fri, 24 Feb 2017 17:55:09 +0000"  >&lt;p&gt;i&apos;ve attached a patch which fixes the specific problem: &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12854536/12854536_SLING-6567.patch&quot; title=&quot;SLING-6567.patch attached to SLING-6567&quot;&gt;SLING-6567.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;i added a couple of unit test, but i&apos;m not sure if the assumptions by unit tests are based on are correct. basically i&apos;m checking if an intersection between the path of the resource provider and the change listener exists and then include it in the further processing.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; can you have a look at the patch? thanks!&lt;/p&gt;</comment>
                            <comment id="15884179" author="cziegeler" created="Sat, 25 Feb 2017 10:07:47 +0000"  >&lt;p&gt;I&apos;ll have a look at it, thanks&lt;/p&gt;</comment>
                            <comment id="15885229" author="cziegeler" created="Mon, 27 Feb 2017 06:25:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert%40pro-vision.de&quot; class=&quot;user-hover&quot; rel=&quot;sseifert@pro-vision.de&quot;&gt;sseifert@pro-vision.de&lt;/a&gt; Yes, I think you&apos;re right and the patch lgtm. The only thing I would add is a check if &quot;p&quot; is not a pattern:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;(!p.isPattern() &amp;amp;&amp;amp; p.matches(providerPath.getPath())
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;though I&apos;m not quiet sure why ...&lt;/p&gt;</comment>
                            <comment id="15885934" author="sseifert@pro-vision.de" created="Mon, 27 Feb 2017 15:22:08 +0000"  >&lt;p&gt;Completed: At revision: 1784586  &lt;/p&gt;

&lt;p&gt;i&apos;ve applied the patch with the change you proposed - it&apos;s more conservative. i think the reason the problem did not exist without this fix for observation listeners with patterns because of the special logic in the &lt;tt&gt;o.a.s.api.resource.pathPath.matches&lt;/tt&gt; method which - in case of not matching - tries again with partial paths of the pattern until it matches. perhaps this was the wrong position for this logic and it should have been better handled here.&lt;/p&gt;</comment>
                            <comment id="15885938" author="sseifert@pro-vision.de" created="Mon, 27 Feb 2017 15:22:43 +0000"  >&lt;p&gt;raising priority because it think this is a severe problem for all resource providers not mounted at &lt;tt&gt;/&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="15885940" author="sseifert@pro-vision.de" created="Mon, 27 Feb 2017 15:23:05 +0000"  >&lt;p&gt;should be solved with the fix mentioned above.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12854536" name="SLING-6567.patch" size="8011" author="sseifert" created="Fri, 24 Feb 2017 17:55:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 35 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3alev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6566] ResourceDistributionPackageBuilder package files are never collected</title>
                <link>https://issues.apache.org/jira/browse/SLING-6566</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;While testing SCD with Sling running the tempdir on a ramdisk, I noticed the temporary files created to contain the content package at&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling/blob/trunk/contrib/extensions/distribution/core/src/main/java/org/apache/sling/distribution/packaging/impl/ResourceDistributionPackageBuilder.java#L102&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/contrib/extensions/distribution/core/src/main/java/org/apache/sling/distribution/packaging/impl/ResourceDistributionPackageBuilder.java#L102&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;are never removed, even when the distribution succeeds.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=teofili&quot; class=&quot;user-hover&quot; rel=&quot;teofili&quot;&gt;teofili&lt;/a&gt; is this a known issue or expected behaviour ? I would expect those files should be removed when no longer used. &lt;/p&gt;</description>
                <environment></environment>
        <key id="13046037">SLING-6566</key>
            <summary>ResourceDistributionPackageBuilder package files are never collected</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marett">Timothee Maret</assignee>
                                    <reporter username="marett">Timothee Maret</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Feb 2017 14:34:24 +0000</created>
                <updated>Mon, 6 Mar 2017 08:46:08 +0000</updated>
                            <resolved>Fri, 24 Feb 2017 16:19:38 +0000</resolved>
                                    <version>Content Distribution Core 0.2.4</version>
                                    <fixVersion>Content Distribution Core 0.2.6</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15882959" author="teofili" created="Fri, 24 Feb 2017 15:59:01 +0000"  >&lt;p&gt;they should be definitely removed, if that&apos;s not the case it&apos;s a bug.&lt;/p&gt;</comment>
                            <comment id="15883008" author="marett" created="Fri, 24 Feb 2017 16:19:26 +0000"  >&lt;p&gt;Fixed in &lt;tt&gt;r1784292&lt;/tt&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 35 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3akzz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6564] Failures in queue processing do not appear in the SLF4J logging</title>
                <link>https://issues.apache.org/jira/browse/SLING-6564</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;tt&gt;SimpleDistributionAgentQueueProcessor&lt;/tt&gt;&#160;only logs on &lt;tt&gt;DistributionLog&lt;/tt&gt;&#160;whereas it should also log on a plain &lt;tt&gt;Logger&lt;/tt&gt; because admins often look at the latter first.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13045993">SLING-6564</key>
            <summary>Failures in queue processing do not appear in the SLF4J logging</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="teofili">Tommaso Teofili</assignee>
                                    <reporter username="teofili">Tommaso Teofili</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Feb 2017 11:35:23 +0000</created>
                <updated>Mon, 6 Mar 2017 08:46:08 +0000</updated>
                            <resolved>Fri, 24 Feb 2017 11:36:45 +0000</resolved>
                                    <version>Content Distribution Core 0.2.4</version>
                                    <fixVersion>Content Distribution Core 0.2.6</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15882494" author="teofili" created="Fri, 24 Feb 2017 11:36:45 +0000"  >&lt;p&gt;fixed in r1784266.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 35 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3akq7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6563] Authentication Requirement: Siblings of Nodes with AuthRequired starting with same name result in 302</title>
                <link>https://issues.apache.org/jira/browse/SLING-6563</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;create a page e.g. /content/foo&lt;/li&gt;
	&lt;li&gt;enable Authentication requirement for this page&lt;/li&gt;
	&lt;li&gt;request this page&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;=&amp;gt; you get 302, redirected to login page, correct&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;request  /content/fooLubber&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;=&amp;gt; expected is 404, but you get as well 302 redirected to login page.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;request /content/PrefixLubberfoo&lt;br/&gt;
=&amp;gt; you get 404 as expected&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Looks like the path check uses a .startsWith() resulting in incorrect pages with same name start but different suffices.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13045979">SLING-6563</key>
            <summary>Authentication Requirement: Siblings of Nodes with AuthRequired starting with same name result in 302</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="asanso">Antonio Sanso</assignee>
                                    <reporter username="asanso">Antonio Sanso</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Feb 2017 10:32:49 +0000</created>
                <updated>Mon, 15 May 2017 14:37:11 +0000</updated>
                            <resolved>Fri, 24 Feb 2017 12:25:21 +0000</resolved>
                                                                    <component>Authentication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="13004583">SLING-6053</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 35 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3akn3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6561] Test case for SLING-6271</title>
                <link>https://issues.apache.org/jira/browse/SLING-6561</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Attached is a proposed unit test for the issue reported in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6271&quot; title=&quot;ContentDispositionFilter can suppress content type upon request forwarding&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6271&quot;&gt;&lt;del&gt;SLING-6271&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;In the case of setContentType being called before and after requestDispatcher.forward() each with the same content type &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6271&quot; title=&quot;ContentDispositionFilter can suppress content type upon request forwarding&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6271&quot;&gt;&lt;del&gt;SLING-6271&lt;/del&gt;&lt;/a&gt; reported that the response ended up with no content type header.&lt;/p&gt;

&lt;p&gt;The key aspect of forward() was that it calls reset() which clears all headers on the response.&lt;/p&gt;

&lt;p&gt;The attached patch adds test cases for two scenarios around this: in case a content disposition header is also needed, or in case a content disposition header is not needed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13045709">SLING-6561</key>
            <summary>Test case for SLING-6271</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="11">Done</resolution>
                                        <assignee username="asanso">Antonio Sanso</assignee>
                                    <reporter username="rryan@adobe.com">Rob Ryan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Feb 2017 18:41:43 +0000</created>
                <updated>Tue, 13 Jun 2017 12:45:24 +0000</updated>
                            <resolved>Fri, 24 Feb 2017 12:31:29 +0000</resolved>
                                                    <fixVersion>Security 1.1.4</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15882569" author="asanso" created="Fri, 24 Feb 2017 12:31:19 +0000"  >&lt;p&gt;applied patch from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rryan%40adobe.com&quot; class=&quot;user-hover&quot; rel=&quot;rryan@adobe.com&quot;&gt;rryan@adobe.com&lt;/a&gt; in r1784271  . Thanks&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12854258" name="sling6271test.patch" size="6558" author="rryan@adobe.com" created="Thu, 23 Feb 2017 18:41:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 35 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3aiz3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6559] Sling is hiding / ignoring Parameter / Query String changes from Filters ahead of Sling</title>
                <link>https://issues.apache.org/jira/browse/SLING-6559</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Any changes to parameters or the query string in a Servlet Filter ahead of Sling (before Sling Main Servlet) are ignore in Sling due to the usage of the Parameter Support class.&lt;/p&gt;

&lt;p&gt;This means that any such filter will not receive the parameters in the request, cannot wrap the request and add, change or delete them and cannot change the query string.&lt;/p&gt;

&lt;p&gt;I attached a sample project that will showcase that (see the ReadMe.markdown) file in the root folder. The project can be built with *&lt;b&gt;mvn clean install&lt;/b&gt;* and if Composum is installed and whitelisted you can auto deploy it with (mvn clean install -P auto-deploy-all.&lt;/p&gt;

&lt;p&gt;I know this is an edge case but I had at least two clients in the last two years&lt;br/&gt;
that required to change parmaeters and / or query strings before the Sling resource&lt;br/&gt;
is resolved.&lt;/p&gt;

&lt;p&gt;But even without that Sling based on javax.servlet specification should adhere to&lt;br/&gt;
that and with it support and respect filters and their changes.&lt;/p&gt;

&lt;p&gt;The reason why this goes wrong is that the Parameter Support is created during the&lt;br/&gt;
authentication phase way ahead of &quot;regular&quot; filters and with it the parameters&lt;br/&gt;
are fixed into place.&lt;/p&gt;

&lt;p&gt;For a client I created a fixe by intercepting the getAttribute() for the Parameter&lt;br/&gt;
Support attribute and return null to create a new Parameter Support instance. To&lt;br/&gt;
make this work I had to read out all parameters from the original Parameter Support&lt;br/&gt;
instance to carry them over as well as set the flag for additional parameters.&lt;br/&gt;
This is working in AEM 6.2 SP1 but this is for sure not a good and generic solution.&lt;/p&gt;</description>
                <environment>Sling 9, JDK 1.8</environment>
        <key id="13045703">SLING-6559</key>
            <summary>Sling is hiding / ignoring Parameter / Query String changes from Filters ahead of Sling</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="andysch">Andreas Schaefer</reporter>
                        <labels>
                            <label>FIlter</label>
                            <label>HttpServletRequest</label>
                            <label>Parameter</label>
                    </labels>
                <created>Thu, 23 Feb 2017 18:25:23 +0000</created>
                <updated>Fri, 14 Apr 2023 13:26:29 +0000</updated>
                            <resolved>Fri, 14 Apr 2023 13:26:29 +0000</resolved>
                                                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                        <attachments>
                            <attachment id="12854255" name="ticket-sling-parameter-problem-example.zip" size="24931" author="andysch" created="Thu, 23 Feb 2017 18:25:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 35 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3aixr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6553] Correctly consider timeoutMsec for TeleporterHttpClient.waitForStatus()</title>
                <link>https://issues.apache.org/jira/browse/SLING-6553</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The fix &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-5570&quot; title=&quot;Teleported tests fail with &amp;quot;Can&amp;#39;t assign requested address&amp;quot; if test services are missing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-5570&quot;&gt;&lt;del&gt;SLING-5570&lt;/del&gt;&lt;/a&gt; hardcoded the maximum waiting time to 250ms. This should instead be the requested parameter &lt;tt&gt;timeoutMsec&lt;/tt&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13045579">SLING-6553</key>
            <summary>Correctly consider timeoutMsec for TeleporterHttpClient.waitForStatus()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Feb 2017 10:48:37 +0000</created>
                <updated>Thu, 23 Feb 2017 10:53:55 +0000</updated>
                            <resolved>Thu, 23 Feb 2017 10:53:55 +0000</resolved>
                                                                    <component>Apache Sling Testing Rules</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15880255" author="kwin" created="Thu, 23 Feb 2017 10:53:40 +0000"  >&lt;p&gt;This is an invalid observation. The timeout handling is outside of the &lt;tt&gt;ExponentialBackoffDelay&lt;/tt&gt;. The hardcoded values only refer to the maximum delay.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12945477">SLING-5570</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 35 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ai6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6552] ResourceResolver must be independent from javax.jcr</title>
                <link>https://issues.apache.org/jira/browse/SLING-6552</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently the resource resolver bundle imports javax.jcr which makes  the resource resolver unusable if the jcr api is not available&lt;br/&gt;
The resource resolver should be independent from the jcr api and run without it&lt;/p&gt;</description>
                <environment></environment>
        <key id="13045552">SLING-6552</key>
            <summary>ResourceResolver must be independent from javax.jcr</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Feb 2017 09:11:05 +0000</created>
                <updated>Tue, 7 Mar 2017 14:36:25 +0000</updated>
                            <resolved>Thu, 23 Feb 2017 10:40:25 +0000</resolved>
                                    <version>Resource Resolver 1.5.12</version>
                    <version>Resource Resolver 1.5.14</version>
                                    <fixVersion>Resource Resolver 1.5.18</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15880239" author="cziegeler" created="Thu, 23 Feb 2017 10:40:25 +0000"  >&lt;p&gt;Moved namespace mangling into separate class in rev 1784105&lt;/p&gt;</comment>
                            <comment id="15892684" author="alexander.klimetschek" created="Thu, 2 Mar 2017 17:50:46 +0000"  >&lt;p&gt;Does this actually work if no javax.jcr bundle is present? ResourceResolverImpl references that new JcrNamespaceMangler (which has the javax.jcr imports) directly through casting inside an if condition - does this make Java load that class only when inside the if on demand?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 34 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ai0f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6543] slingstart-maven-plugin: Optionally make the start mojo blocking until the server is fully up and running</title>
                <link>https://issues.apache.org/jira/browse/SLING-6543</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Right now the &lt;tt&gt;start&lt;/tt&gt; goal will only start the server (in a dedicated process) and then return when the control port returns that the server is started. &lt;br/&gt;
That does not necessarily mean that all services from all bundles are already fully started. Especially in some cases the HTTP port is not yet bound!&lt;br/&gt;
It should be possible to block until the server is fully started and some services are up and running. Otherwise follow-up processes (like &lt;tt&gt;maven-failsafe-plugin&lt;/tt&gt;) will need to implement some wait approach.&lt;/p&gt;

&lt;p&gt;One possibility is to issue repeated GET requests against the instance at a dedicated URL until it reports a 200 (similar to what is done in &lt;tt&gt;SlingTestBase.waitForServerReady(...)&lt;/tt&gt; (&lt;a href=&quot;https://github.com/apache/sling/blob/trunk/testing/tools/src/main/java/org/apache/sling/testing/tools/sling/SlingTestBase.java#L263&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/testing/tools/src/main/java/org/apache/sling/testing/tools/sling/SlingTestBase.java#L263&lt;/a&gt;). The list of URLs must be configurable.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13044890">SLING-6543</key>
            <summary>slingstart-maven-plugin: Optionally make the start mojo blocking until the server is fully up and running</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Feb 2017 16:53:21 +0000</created>
                <updated>Sat, 2 Jun 2018 16:00:23 +0000</updated>
                            <resolved>Sat, 2 Jun 2018 16:00:23 +0000</resolved>
                                    <version>Slingstart Maven Plugin 1.7.0</version>
                                    <fixVersion>Slingstart Maven Plugin 1.8.2</fixVersion>
                                    <component>Tooling</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15967771" author="schaefa" created="Thu, 13 Apr 2017 15:49:08 +0000"  >&lt;p&gt;For now I use this a little bit obscure Maven Plugin to make sure Sling is ready to deploy a package through Composum:&lt;/p&gt;

&lt;p&gt;            &amp;lt;!-- Wait until Composum is up and running so that we can deploy packages --&amp;gt;&lt;br/&gt;
            &amp;lt;plugin&amp;gt;&lt;br/&gt;
                &amp;lt;groupId&amp;gt;org.sonatype.plugins&amp;lt;/groupId&amp;gt;&lt;br/&gt;
                &amp;lt;artifactId&amp;gt;wait-maven-plugin&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
                &amp;lt;version&amp;gt;1.0&amp;lt;/version&amp;gt;&lt;br/&gt;
                &amp;lt;configuration&amp;gt;&lt;br/&gt;
                    &amp;lt;host&amp;gt;${http.host}&amp;lt;/host&amp;gt;&lt;br/&gt;
                    &amp;lt;port&amp;gt;${http.port}&amp;lt;/port&amp;gt;&lt;br/&gt;
                    &amp;lt;file&amp;gt;/bin/browser.html&amp;lt;/file&amp;gt;&lt;br/&gt;
                    &amp;lt;timeout&amp;gt;10000&amp;lt;/timeout&amp;gt;&lt;br/&gt;
                    &amp;lt;maxcount&amp;gt;10&amp;lt;/maxcount&amp;gt;&lt;br/&gt;
                &amp;lt;/configuration&amp;gt;&lt;br/&gt;
                &amp;lt;executions&amp;gt;&lt;br/&gt;
                    &amp;lt;execution&amp;gt;&lt;br/&gt;
                        &amp;lt;id&amp;gt;pre-integration-test&amp;lt;/id&amp;gt;&lt;br/&gt;
                        &amp;lt;phase&amp;gt;pre-integration-test&amp;lt;/phase&amp;gt;&lt;br/&gt;
                        &amp;lt;goals&amp;gt;&lt;br/&gt;
                            &amp;lt;goal&amp;gt;wait&amp;lt;/goal&amp;gt;&lt;br/&gt;
                        &amp;lt;/goals&amp;gt;&lt;br/&gt;
                    &amp;lt;/execution&amp;gt;&lt;br/&gt;
                &amp;lt;/executions&amp;gt;&lt;br/&gt;
            &amp;lt;/plugin&amp;gt;&lt;/p&gt;

&lt;p&gt;That said this is no ideal as I am not sure how stable that plugin is and it might not work in all scenarios.&lt;/p&gt;</comment>
                            <comment id="16499114" author="kwin" created="Sat, 2 Jun 2018 16:00:07 +0000"  >&lt;p&gt;With &lt;a href=&quot;https://github.com/apache/sling-slingstart-maven-plugin/commit/60d4d95b890723af8dd03b5fa64d4673a3b0246a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-slingstart-maven-plugin/commit/60d4d95b890723af8dd03b5fa64d4673a3b0246a&lt;/a&gt; start is really blocking until the http port is bound. Further improvement (like waiting for specific paths to be available) can be tracked in follow-up issues if really necessary.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 21 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ady7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6542] MapEntries&apos; concurrent session access broken</title>
                <link>https://issues.apache.org/jira/browse/SLING-6542</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;MapEntries uses a shared session. To avoid concurrent access it uses a Lock (&lt;tt&gt;ReentrantLock&lt;/tt&gt;) &quot;&lt;tt&gt;initializing&lt;/tt&gt;&quot;. With &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6131&quot; title=&quot;MapEntries: Invalid logic around added/changed/removed property names&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6131&quot;&gt;&lt;del&gt;SLING-6131&lt;/del&gt;&lt;/a&gt; (to be precise &lt;a href=&quot;https://github.com/apache/sling/commit/e6e0d2fe9f43c97abd3e71978c9d2952e409aeef&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;) the order in which the lock is applied relative to refreshing however was inverted: the &lt;em&gt;refresh&lt;/em&gt; used to be &lt;em&gt;after&lt;/em&gt; the lock, with this change however it is now &lt;em&gt;before&lt;/em&gt;. Which means that you can have a concurrent access to refresh and other session operations.&lt;/p&gt;

&lt;p&gt;The following stacktrace illustrates a concurrent access:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;thread 1: 
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;        at org.apache.sling.jcr.resource.internal.helper.jcr.JcrItemResourceFactory.getItemOrNull(JcrItemResourceFactory.java:184)
        at org.apache.sling.jcr.resource.internal.helper.jcr.JcrItemResourceFactory.createResource(JcrItemResourceFactory.java:96)
        at org.apache.sling.jcr.resource.internal.helper.jcr.JcrResourceProvider.getResource(JcrResourceProvider.java:300)
        at org.apache.sling.resourceresolver.impl.providers.stateful.AuthenticatedResourceProvider.getResource(AuthenticatedResourceProvider.java:135)
        at org.apache.sling.resourceresolver.impl.helper.ResourceResolverControl.getResource(ResourceResolverControl.java:224)
        at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.getAbsoluteResourceInternal(ResourceResolverImpl.java:1066)
        at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.getResourceInternal(ResourceResolverImpl.java:687)
        at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.getResource(ResourceResolverImpl.java:641)
        at org.apache.sling.resourceresolver.impl.mapping.MapEntries.addResource(MapEntries.java:270)
        at org.apache.sling.resourceresolver.impl.mapping.MapEntries.onChange(MapEntries.java:718)
        at org.apache.sling.resourceresolver.impl.observation.BasicObservationReporter.reportChanges(BasicObservationReporter.java:210)
        at org.apache.sling.jcr.resource.internal.JcrResourceListener.onEvent(JcrResourceListener.java:155)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;thread 2: 
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;        at org.apache.jackrabbit.oak.jcr.delegate.SessionDelegate$WarningLock.lock(SessionDelegate.java:759)
        at org.apache.jackrabbit.oak.jcr.delegate.SessionDelegate$WarningLock.lock(SessionDelegate.java:773)
        at org.apache.jackrabbit.oak.jcr.delegate.SessionDelegate.performVoid(SessionDelegate.java:269)
        at org.apache.jackrabbit.oak.jcr.session.SessionImpl.refresh(SessionImpl.java:432)
        at com.adobe.granite.repository.impl.CRX3SessionImpl.refresh(CRX3SessionImpl.java:213)
        at org.apache.sling.jcr.resource.internal.helper.jcr.JcrResourceProvider.refresh(JcrResourceProvider.java:516)
        at org.apache.sling.resourceresolver.impl.providers.stateful.AuthenticatedResourceProvider.refresh(AuthenticatedResourceProvider.java:89)
        at org.apache.sling.resourceresolver.impl.helper.ResourceResolverControl.refresh(ResourceResolverControl.java:155)
        at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.refresh(ResourceResolverImpl.java:1340)
        at org.apache.sling.resourceresolver.impl.mapping.MapEntries.refreshResolverIfNecessary(MapEntries.java:636)
        at org.apache.sling.resourceresolver.impl.mapping.MapEntries.addResource(MapEntries.java:266)
        at org.apache.sling.resourceresolver.impl.mapping.MapEntries.onChange(MapEntries.java:718)
        at org.apache.sling.resourceresolver.impl.observation.BasicObservationReporter.reportChanges(BasicObservationReporter.java:210)
        at org.apache.sling.jcr.resource.internal.JcrResourceListener.onEvent(JcrResourceListener.java:155)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="13044860">SLING-6542</key>
            <summary>MapEntries&apos; concurrent session access broken</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="stefanegli">Stefan Egli</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Feb 2017 14:52:43 +0000</created>
                <updated>Thu, 26 Sep 2019 12:38:57 +0000</updated>
                            <resolved>Wed, 22 Feb 2017 09:29:49 +0000</resolved>
                                    <version>Resource Resolver 1.5.0</version>
                                    <fixVersion>Resource Resolver 1.5.14</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15876100" author="egli" created="Tue, 21 Feb 2017 14:53:20 +0000"  >&lt;p&gt;&lt;del&gt;fix&lt;/del&gt; issue was introduced as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6131&quot; title=&quot;MapEntries: Invalid logic around added/changed/removed property names&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6131&quot;&gt;&lt;del&gt;SLING-6131&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15876102" author="egli" created="Tue, 21 Feb 2017 14:54:32 +0000"  >&lt;p&gt;Attached &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12853755/12853755_SLING-6542.patch&quot; title=&quot;SLING-6542.patch attached to SLING-6542&quot;&gt;SLING-6542.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; which moves the lock at the beginning of the three methods affected.&lt;/p&gt;</comment>
                            <comment id="15876108" author="egli" created="Tue, 21 Feb 2017 14:56:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; I understand you had a look at the patch already, should I go ahead? It&apos;s in a quite critical place though, but assuming tests run fine I&apos;d suggest we should go ahead with this.&lt;/p&gt;</comment>
                            <comment id="15876176" author="cziegeler" created="Tue, 21 Feb 2017 15:46:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stefanegli&quot; class=&quot;user-hover&quot; rel=&quot;stefanegli&quot;&gt;stefanegli&lt;/a&gt; Lgtm, thanks &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15876303" author="egli" created="Tue, 21 Feb 2017 17:12:11 +0000"  >&lt;p&gt;looking into adding an additional test case for this&lt;/p&gt;</comment>
                            <comment id="15877848" author="egli" created="Wed, 22 Feb 2017 09:29:49 +0000"  >&lt;p&gt;patch plus a test case added to trunk: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=1783987&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1783987&amp;amp;view=rev&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="13011354">SLING-6131</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12853755" name="SLING-6542.patch" size="1984" author="stefanegli" created="Tue, 21 Feb 2017 14:54:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 36 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3adrj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6538] Sling Pipes size parameter returns incorrect number of items</title>
                <link>https://issues.apache.org/jira/browse/SLING-6538</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Setting the parameter &quot;size&quot; for Sling Pipes returns one less item than requested.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13044765">SLING-6538</key>
            <summary>Sling Pipes size parameter returns incorrect number of items</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="nateyolles">Nate Yolles</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Feb 2017 09:10:57 +0000</created>
                <updated>Wed, 20 Sep 2017 11:15:10 +0000</updated>
                            <resolved>Fri, 5 May 2017 10:41:48 +0000</resolved>
                                    <version>Pipes 0.0.10</version>
                                    <fixVersion>Pipes 1.0.4</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15875653" author="githubbot" created="Tue, 21 Feb 2017 09:19:21 +0000"  >&lt;p&gt;GitHub user nateyolles opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/200&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/200&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6538&quot; title=&quot;Sling Pipes size parameter returns incorrect number of items&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6538&quot;&gt;&lt;del&gt;SLING-6538&lt;/del&gt;&lt;/a&gt;: Fix Sling Pipes size parameter&lt;/p&gt;

&lt;p&gt;    Make Sling Pipes size parameter return the correct number of items. Add tests for&lt;br/&gt;
    the size parameter in the PlumberServletTest.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/nateyolles/sling&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/nateyolles/sling&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6538&quot; title=&quot;Sling Pipes size parameter returns incorrect number of items&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6538&quot;&gt;&lt;del&gt;SLING-6538&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/200.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/200.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #200&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit e4a9a79dd47187e0afe830c5588fa737a0241807&lt;br/&gt;
Author: yolles &amp;lt;yolles@adobe.com&amp;gt;&lt;br/&gt;
Date:   2017-02-21T09:15:26Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6538&quot; title=&quot;Sling Pipes size parameter returns incorrect number of items&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6538&quot;&gt;&lt;del&gt;SLING-6538&lt;/del&gt;&lt;/a&gt;: Fix Sling Pipes size parameter&lt;/p&gt;

&lt;p&gt;    Make Sling Pipes size parameter return the correct number of items. Add tests for&lt;br/&gt;
    the size parameter in the PlumberServletTest.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15998064" author="rombert" created="Fri, 5 May 2017 10:41:48 +0000"  >&lt;p&gt;Applied in &lt;a href=&quot;https://svn.apache.org/r1794006&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1794006&lt;/a&gt;, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nateyolles&quot; class=&quot;user-hover&quot; rel=&quot;nateyolles&quot;&gt;nateyolles&lt;/a&gt; for the patch!&lt;/p&gt;</comment>
                            <comment id="15998065" author="githubbot" created="Fri, 5 May 2017 10:42:28 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/200&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/200&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 25 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ad6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6528] Installation of a package through the package manager should trigger a new cycle in the OSGi Installer</title>
                <link>https://issues.apache.org/jira/browse/SLING-6528</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Whenever a content-package is lacking some dependencies the installation is deferred in &lt;a href=&quot;https://github.com/apache/sling/blob/trunk/installer/factories/packages/src/main/java/org/apache/sling/installer/factory/packages/impl/PackageTransformer.java#L234&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/installer/factories/packages/src/main/java/org/apache/sling/installer/factory/packages/impl/PackageTransformer.java#L234&lt;/a&gt;.&lt;br/&gt;
If the dependency is now installed via the package manager directly (instead of using the OSGi Installer), the dependent package is not being installed till some other event causes the next OSGi Installer cycle, because the OSGi Installer simply won&apos;t detect that &quot;external&quot; installation.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13044512">SLING-6528</key>
            <summary>Installation of a package through the package manager should trigger a new cycle in the OSGi Installer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Feb 2017 10:28:38 +0000</created>
                <updated>Mon, 24 Feb 2020 18:37:09 +0000</updated>
                            <resolved>Wed, 4 Sep 2019 12:44:13 +0000</resolved>
                                    <version>Installer Packages Factory 1.0.0</version>
                                    <fixVersion>Installer Packages Factory 1.0.0</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16922402" author="kwin" created="Wed, 4 Sep 2019 11:43:24 +0000"  >&lt;p&gt;PR: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-factory-packages/pull/1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-installer-factory-packages/pull/1&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16922449" author="kwin" created="Wed, 4 Sep 2019 12:44:13 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-factory-packages/commit/9cc17c3c7f695bf597b316b90b706226ab047bb4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-installer-factory-packages/commit/9cc17c3c7f695bf597b316b90b706226ab047bb4&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16922475" author="kwin" created="Wed, 4 Sep 2019 13:19:32 +0000"  >&lt;p&gt;Some more tweaks in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-factory-packages/commit/e382a40182d1687d3c4b080ed2a720a69c5c401f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-installer-factory-packages/commit/e382a40182d1687d3c4b080ed2a720a69c5c401f&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="13016527">JCRVLT-139</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 8 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3abm7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6524] SimpleDistributionQueueProviderTest#testEnableQueueProcessingWithCheckpointRecovery fails with symlinks</title>
                <link>https://issues.apache.org/jira/browse/SLING-6524</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;As reported by Daniel Klco on &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;, the unit test &lt;tt&gt;SimpleDistributionQueueProviderTest#testEnableQueueProcessingWithCheckpointRecovery&lt;/tt&gt; fail when checking out the project from a tag under &lt;tt&gt;/tmp&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&#160;&lt;a href=&quot;https://www.mail-archive.com/dev@sling.apache.org/msg64497.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.mail-archive.com/dev@sling.apache.org/msg64497.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13043933">SLING-6524</key>
            <summary>SimpleDistributionQueueProviderTest#testEnableQueueProcessingWithCheckpointRecovery fails with symlinks</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marett">Timothee Maret</assignee>
                                    <reporter username="marett">Timothee Maret</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Feb 2017 09:40:44 +0000</created>
                <updated>Mon, 20 Feb 2017 12:49:08 +0000</updated>
                            <resolved>Fri, 17 Feb 2017 10:45:37 +0000</resolved>
                                                    <fixVersion>Content Distribution Core 0.2.4</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15871549" author="marett" created="Fri, 17 Feb 2017 09:47:16 +0000"  >&lt;p&gt;I could reproduce this on my machine.&lt;/p&gt;

&lt;p&gt;Digging into it, the test fails with:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;testEnableQueueProcessingWithCheckpointRecovery(org.apache.sling.distribution.queue.impl.simple.SimpleDistributionQueueProviderTest)  Time elapsed: 0.019 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.io.IOException: Unable to delete directory dummy-agent-simple-queues-checkpoints.
        at org.apache.commons.io.FileUtils.deleteDirectory(FileUtils.java:1541)
        at org.apache.sling.distribution.queue.impl.simple.SimpleDistributionQueueProviderTest.testEnableQueueProcessingWithCheckpointRecovery(SimpleDistributionQueueProviderTest.java:111)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This indicates that the following Apache commons io &lt;tt&gt;FileUtils.deleteDirectory&lt;/tt&gt; call&#160;at &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; fails to delete the repository, yet the repository actually exists and is read/write able.&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;/tmp&lt;/tt&gt; is a symlink (to &lt;tt&gt;private/tmp&lt;/tt&gt;) so, it seems we are hitting &lt;a href=&quot;https://issues.apache.org/jira/browse/IO-168&quot; title=&quot;Symbolic links (symlinks) followed when deleting directory.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;IO-168&quot;&gt;&lt;del&gt;IO-168&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&#160;&lt;a href=&quot;https://github.com/apache/sling/blob/trunk/contrib/extensions/distribution/core/src/test/java/org/apache/sling/distribution/queue/impl/simple/SimpleDistributionQueueProviderTest.java#L111&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/contrib/extensions/distribution/core/src/test/java/org/apache/sling/distribution/queue/impl/simple/SimpleDistributionQueueProviderTest.java#L111&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15871633" author="marett" created="Fri, 17 Feb 2017 10:40:02 +0000"  >&lt;p&gt;Debugging the &lt;tt&gt;FileUtils.deleteDirectory&lt;/tt&gt; implementation currently used (&lt;tt&gt;commons-io 2.4&lt;/tt&gt;), the issue is that the &lt;tt&gt;isSymLink&lt;/tt&gt;&#160;method wrongly reports the test folder as being a symlink. Although the is indeed a symlink at the root of the path, the test folder itself is &lt;em&gt;not&lt;/em&gt; a symlink. The symlink check is done only by checking if the &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; if the canonical file matches the absolute path, which is not sufficient to detect which node along the path is a symlink.&lt;/p&gt;

&lt;p&gt;With &lt;tt&gt;commons-io 2.5&lt;/tt&gt;, the &lt;tt&gt;isSymlink&lt;/tt&gt; implementation has changed and ultimately delegates to java7 isSymbolicLink implementation. The test path is not treated as a symlink and thus deleted correctly.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&#160;&lt;a href=&quot;https://github.com/apache/sling/blob/trunk/contrib/extensions/distribution/core/pom.xml#L283&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/contrib/extensions/distribution/core/pom.xml#L283&lt;/a&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/commons-io/blob/2.4/src/main/java/org/apache/commons/io/FileUtils.java#L2935&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-io/blob/2.4/src/main/java/org/apache/commons/io/FileUtils.java#L2935&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15871644" author="marett" created="Fri, 17 Feb 2017 10:45:51 +0000"  >&lt;p&gt;Fixed in &lt;tt&gt;r1783365&lt;/tt&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 36 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3a89b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6523] Priority queues are wrongly set as passive</title>
                <link>https://issues.apache.org/jira/browse/SLING-6523</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When configuring priority queues, they are wrongly set as &lt;em&gt;passive&lt;/em&gt; therefore items in there are not processed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13043564">SLING-6523</key>
            <summary>Priority queues are wrongly set as passive</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="teofili">Tommaso Teofili</assignee>
                                    <reporter username="teofili">Tommaso Teofili</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Feb 2017 09:21:01 +0000</created>
                <updated>Mon, 20 Feb 2017 12:49:08 +0000</updated>
                            <resolved>Thu, 16 Feb 2017 09:49:01 +0000</resolved>
                                    <version>Content Distribution Core 0.2.0</version>
                                    <fixVersion>Content Distribution Core 0.2.4</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15869644" author="teofili" created="Thu, 16 Feb 2017 09:49:01 +0000"  >&lt;p&gt;fixed in r1783186.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 36 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3a5zb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6521] Testing Resource Resolver Mock depends on old osgi compendium artifactId</title>
                <link>https://issues.apache.org/jira/browse/SLING-6521</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;        &amp;lt;dependency&amp;gt;&lt;br/&gt;
            &amp;lt;groupId&amp;gt;org.osgi&amp;lt;/groupId&amp;gt;&lt;br/&gt;
            &amp;lt;artifactId&amp;gt;org.osgi.compendium&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
            &amp;lt;scope&amp;gt;compile&amp;lt;/scope&amp;gt;&lt;br/&gt;
        &amp;lt;/dependency&amp;gt;&lt;/p&gt;

&lt;p&gt;shouldn&apos;t this become?&lt;/p&gt;

&lt;p&gt;&amp;lt;dependency&amp;gt;&lt;br/&gt;
    &amp;lt;groupId&amp;gt;org.osgi&amp;lt;/groupId&amp;gt;&lt;br/&gt;
    &amp;lt;artifactId&amp;gt;osgi.cmpn&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
    &amp;lt;scope&amp;gt;compile&amp;lt;/scope&amp;gt;&lt;br/&gt;
&amp;lt;/dependency&amp;gt;&lt;/p&gt;

&lt;p&gt;otherwise it is not compatible with the latest sling-mocks version&lt;/p&gt;</description>
                <environment></environment>
        <key id="13043224">SLING-6521</key>
            <summary>Testing Resource Resolver Mock depends on old osgi compendium artifactId</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="vincent.vl">Vincent VL</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Feb 2017 11:08:03 +0000</created>
                <updated>Tue, 4 Apr 2017 07:55:54 +0000</updated>
                            <resolved>Tue, 14 Mar 2017 23:13:23 +0000</resolved>
                                    <version>Testing ResourceResolver Mock 1.1.16</version>
                                    <fixVersion>Testing ResourceResolver Mock 1.1.18</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15868223" author="sseifert@pro-vision.de" created="Wed, 15 Feb 2017 17:39:22 +0000"  >&lt;p&gt;well, it is not incompatible with latest sling-mock version - we&apos;re using it in combination without problems.&lt;/p&gt;

&lt;p&gt;but you&apos;re right it may lead to subtle problems having this old osgi artifact id exported as transitive dependency which might get mixed up with the newer versions.&lt;/p&gt;

&lt;p&gt;with the chosen version 4.1.0 no artifact with &lt;tt&gt;osgi.cmpn&lt;/tt&gt; artifact id exists, only for newer versions. we may not want to update the osgi dependency to no force all projects using this mock to update as well.&lt;/p&gt;

&lt;p&gt;my proposal is to just declare this dependency as &quot;provided&quot; and let the using project decide itself which osgi dependency is imported, as long as it is not a version &amp;lt; 4.1.0.&lt;/p&gt;</comment>
                            <comment id="15925226" author="sseifert@pro-vision.de" created="Tue, 14 Mar 2017 23:13:23 +0000"  >&lt;p&gt;Completed: At revision: 1786964  &lt;/p&gt;

&lt;p&gt;i&apos;ve set the dependency &lt;tt&gt;org.osgi.compendium&lt;/tt&gt; to provided&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 33 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3a3vr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6517] A condition that is always true.</title>
                <link>https://issues.apache.org/jira/browse/SLING-6517</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I&apos;ve recently found a condition that always returns true from the current Github snapshot.&lt;/p&gt;

&lt;p&gt;Path: contrib/extensions/rewriter/src/main/java/org/apache/sling/rewriter/impl/components/TraxErrorHandler.java&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; 86     &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getMessage(TransformerException exception) {
 87         SourceLocator locator = exception.getLocator();
 88         &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (locator != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
 89             &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; id = (!locator.getPublicId().equals(locator.getPublicId()))
 90                     ? locator.getPublicId()
 91                     : (&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; != locator.getSystemId())
 92                     ? locator.getSystemId() : &lt;span class=&quot;code-quote&quot;&gt;&quot;SystemId Unknown&quot;&lt;/span&gt;;
 93             &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;File &quot;&lt;/span&gt; + id
 94                    + &lt;span class=&quot;code-quote&quot;&gt;&quot;; Line &quot;&lt;/span&gt; + locator.getLineNumber()
 95                    + &lt;span class=&quot;code-quote&quot;&gt;&quot;; Column &quot;&lt;/span&gt; + locator.getColumnNumber()
 96                    + &lt;span class=&quot;code-quote&quot;&gt;&quot;; &quot;&lt;/span&gt; + exception.getMessage();
 97         }
 98         &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; exception.getMessage();
 99     }
100 }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In Line 89, locator.getPublicId().equals(locator.getPublicId()) compares the same Id. It looks like a minor issue and typos but wanted to report just in case.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13042218">SLING-6517</key>
            <summary>A condition that is always true.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="lifove">JC</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Feb 2017 23:41:28 +0000</created>
                <updated>Mon, 14 Aug 2017 09:47:37 +0000</updated>
                            <resolved>Mon, 14 Aug 2017 09:47:37 +0000</resolved>
                                    <version>Rewriter 1.2.0</version>
                                    <fixVersion>Rewriter 1.2.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16125473" author="cziegeler" created="Mon, 14 Aug 2017 09:47:37 +0000"  >&lt;p&gt;Thanks for reporting - it&apos;s fixed in rev 1804961&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 11 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i39xon:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6514] Test distributions should not go through the queues</title>
                <link>https://issues.apache.org/jira/browse/SLING-6514</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When performing distributions of type TEST the test package goes through the packages like any other package, this should not be the case as TEST distributions are usually meant to check that the agent can deliver (permissions and network / disk IO are fine) and therefore they should be delivered without going through the queues.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13041654">SLING-6514</key>
            <summary>Test distributions should not go through the queues</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="teofili">Tommaso Teofili</assignee>
                                    <reporter username="teofili">Tommaso Teofili</reporter>
                        <labels>
                    </labels>
                <created>Thu, 9 Feb 2017 10:29:30 +0000</created>
                <updated>Mon, 20 Feb 2017 12:49:09 +0000</updated>
                            <resolved>Thu, 9 Feb 2017 10:32:13 +0000</resolved>
                                    <version>Content Distribution Core 0.1.18</version>
                                    <fixVersion>Content Distribution Core 0.2.4</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15859311" author="teofili" created="Thu, 9 Feb 2017 10:32:13 +0000"  >&lt;p&gt;fixed in r1782306.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 37 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i39u7b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6513] Set ACCEPT_RANGES_THRESHOLD in StreamRendererServlet to 100KB</title>
                <link>https://issues.apache.org/jira/browse/SLING-6513</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description></description>
                <environment></environment>
        <key id="13041375">SLING-6513</key>
            <summary>Set ACCEPT_RANGES_THRESHOLD in StreamRendererServlet to 100KB</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="karlpauls">Karl Pauls</assignee>
                                    <reporter username="karlpauls">Karl Pauls</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Feb 2017 13:03:44 +0000</created>
                <updated>Fri, 24 Mar 2017 09:59:01 +0000</updated>
                            <resolved>Wed, 8 Feb 2017 14:24:59 +0000</resolved>
                                    <version>Servlets Get 2.1.20</version>
                                    <fixVersion>Servlets Get 2.1.22</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15857958" author="karlpauls" created="Wed, 8 Feb 2017 13:06:38 +0000"  >&lt;p&gt;Creating a new issue to apply the patch from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashokpanghal&quot; class=&quot;user-hover&quot; rel=&quot;ashokpanghal&quot;&gt;ashokpanghal&lt;/a&gt; which sets the threshold to 100KB instead of 100MB.&lt;/p&gt;</comment>
                            <comment id="15858042" author="karlpauls" created="Wed, 8 Feb 2017 14:24:59 +0000"  >&lt;p&gt;Applied the patch in r1782183.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13003534">SLING-6046</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 38 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i39shb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6512] Distribution ITs fail as they expect packages to be deleted synchronously</title>
                <link>https://issues.apache.org/jira/browse/SLING-6512</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;After the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6503&quot; title=&quot;Concurrency issue can prevent repository packages to be cleaned up   &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6503&quot;&gt;&lt;del&gt;SLING-6503&lt;/del&gt;&lt;/a&gt;, packages are not deleted upon release synchronously, they are removed asynchronously in a separate thread.&lt;br/&gt;
We should adjust the test not to expect such packages to be removed immediately after their processing, /cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13041322">SLING-6512</key>
            <summary>Distribution ITs fail as they expect packages to be deleted synchronously</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marett">Timothee Maret</assignee>
                                    <reporter username="teofili">Tommaso Teofili</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Feb 2017 09:11:11 +0000</created>
                <updated>Tue, 14 Feb 2017 09:30:55 +0000</updated>
                            <resolved>Mon, 13 Feb 2017 12:25:02 +0000</resolved>
                                                    <fixVersion>Content Distribution Core 0.2.0</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15861264" author="teofili" created="Fri, 10 Feb 2017 13:32:31 +0000"  >&lt;p&gt;attaching a patch which I think it could fix the issue by setting a shorter cleanup delay within the VaultFactories, however the IT failures stay. &lt;/p&gt;</comment>
                            <comment id="15861269" author="marett" created="Fri, 10 Feb 2017 13:36:38 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=teofili&quot; class=&quot;user-hover&quot; rel=&quot;teofili&quot;&gt;teofili&lt;/a&gt;! I&apos;ll have a look&lt;/p&gt;</comment>
                            <comment id="15863572" author="marett" created="Mon, 13 Feb 2017 12:23:56 +0000"  >&lt;p&gt;Fixed IT in &lt;tt&gt;r1782759&lt;/tt&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12852051" name="SLING-6512.0.patch" size="6361" author="teofili" created="Fri, 10 Feb 2017 13:32:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 37 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i39s5j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6511] SlingTemplateResource unable to handle missing localization for a language</title>
                <link>https://issues.apache.org/jira/browse/SLING-6511</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I am currently deploying Sling Thymeleaf HTML template processor to AEM 6.2.  In my attempt to use i18n in my template, I am receiving a null pointer exception.  When the message resolver is looping through the localization of the language, it&apos;s unable to skip the processing of the missing localization file resulting in a null pointer.  The only way to fix the issue is to define all localization resource bundle for the language in order to process the template.  It would be nice for the message resolver to ignore the missing localized language resource bundle and continue to the next.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13040760">SLING-6511</key>
            <summary>SlingTemplateResource unable to handle missing localization for a language</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="olli">Oliver Lietz</assignee>
                                    <reporter username="smomin">Sajid Momin</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Feb 2017 20:22:35 +0000</created>
                <updated>Wed, 1 Mar 2017 08:59:39 +0000</updated>
                            <resolved>Wed, 1 Mar 2017 08:59:23 +0000</resolved>
                                    <version>Scripting Thymeleaf 1.0.0</version>
                                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15857039" author="olli" created="Tue, 7 Feb 2017 23:38:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=smomin&quot; class=&quot;user-hover&quot; rel=&quot;smomin&quot;&gt;smomin&lt;/a&gt;, I do not understand the root cause for this error yet and have not seen it before (using &lt;tt&gt;ResourceBundleMessageResolver&lt;/tt&gt; only for i18n and not &lt;tt&gt;StandardMessageResolver&lt;/tt&gt;). Can you provide a complete example or at least debug logs?&lt;/p&gt;

&lt;p&gt;Can you try with latest snapshot which incorporates (&lt;a href=&quot;https://svn.apache.org/r1782090&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1782090&lt;/a&gt;, &lt;em&gt;do not resolve template when resource is null&lt;/em&gt;)?&lt;/p&gt;</comment>
                            <comment id="15857176" author="smomin" created="Wed, 8 Feb 2017 01:24:44 +0000"  >&lt;p&gt;I have attached the following files.  The cause to be more clear is that when I am trying to use a i18n in my html file, the system throws an exception because its not able to find one of the localization i18n file.  My expectation is that I should not have to create all localization files if it is not required.  &lt;/p&gt;

&lt;p&gt;To recreate the issue:&lt;/p&gt;

&lt;p&gt;1. Install AEM 6.2&lt;br/&gt;
2. Go to OSGI Console, Deploy Sling Thymeleaf bundle&lt;br/&gt;
3. Go to OSGI Console, Deploy javassist bundle&lt;br/&gt;
4. Stop bundles, Apache Sling Scripting Sightly Engine, Apache Sling Scripting Sightly JavaScript Use Provider, Apache Sling Scripting Sightly Models Use Provider&lt;br/&gt;
5. Assuming you have the Geometrixx Demo site, go to Package Manager and  install the Test.zip.  Test.zip contains the test component and update to the home page of the Geometrixx Shapes Demo site.&lt;br/&gt;
6. Go to &lt;a href=&quot;http://localhost:4502/crx/de/index.jsp#/apps/audi/test&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:4502/crx/de/index.jsp#/apps/audi/test&lt;/a&gt;, and remove the test.en_US.properties.  The en_US properties file is a localization resource bundle.&lt;br/&gt;
7. If you try to navigate to the &lt;a href=&quot;http://localhost:4502/content/geometrixx/en/jcr:content/par/test.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:4502/content/geometrixx/en/jcr:content/par/test.html&lt;/a&gt;, you will get a stack error.&lt;/p&gt;</comment>
                            <comment id="15859381" author="olli" created="Thu, 9 Feb 2017 11:25:44 +0000"  >&lt;p&gt;&lt;tt&gt;test.html&lt;/tt&gt; is missing:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Not Found

Cannot serve request to /content/geometrixx/en/jcr:content/par/test.html in org.apache.sling.servlets.get.DefaultGetServlet

Request Progress:

      0 TIMER_START{Request Processing}
      0 COMMENT timer_end format is {&amp;lt;elapsed msec&amp;gt;,&amp;lt;timer name&amp;gt;} &amp;lt;optional message&amp;gt;
      0 LOG Method=GET, PathInfo=/content/geometrixx/en/jcr:content/par/test.html
      0 TIMER_START{ResourceResolution}
      0 TIMER_END{0,ResourceResolution} URI=/content/geometrixx/en/jcr:content/par/test.html resolves to Resource=JcrNodeResource, type=audi/test, superType=null, path=/content/geometrixx/en/jcr:content/par/test
      0 LOG Resource Path Info: SlingRequestPathInfo: path=&apos;/content/geometrixx/en/jcr:content/par/test&apos;, selectorString=&apos;null&apos;, extension=&apos;html&apos;, suffix=&apos;null&apos;
      0 TIMER_START{ServletResolution}
      0 TIMER_START{resolveServlet(/content/geometrixx/en/jcr:content/par/test)}
      0 TIMER_END{0,resolveServlet(/content/geometrixx/en/jcr:content/par/test)} Using servlet org.apache.sling.servlets.get.DefaultGetServlet
      0 TIMER_END{0,ServletResolution} URI=/content/geometrixx/en/jcr:content/par/test.html handled by Servlet=org.apache.sling.servlets.get.DefaultGetServlet
      0 LOG Applying Requestfilters
      0 LOG Calling filter: com.adobe.granite.resourceresolverhelper.impl.ResourceResolverHelperImpl
      0 LOG Calling filter: org.apache.sling.bgservlets.impl.BackgroundServletStarterFilter
      0 LOG Calling filter: com.adobe.granite.rest.impl.servlet.ApiResourceFilter
      0 LOG Calling filter: org.apache.sling.i18n.impl.I18NFilter
      0 LOG Calling filter: com.adobe.granite.httpcache.impl.InnerCacheFilter
      0 LOG Calling filter: org.apache.sling.rewriter.impl.RewriterFilter
      0 LOG Calling filter: com.adobe.cq.mcm.campaign.servlets.CampaignCopyTracker
      0 LOG Calling filter: com.day.cq.wcm.core.impl.WCMRequestFilter
      0 LOG Calling filter: com.adobe.cq.history.impl.HistoryRequestFilter
      0 LOG Calling filter: com.adobe.granite.optout.impl.OptOutFilter
      0 LOG Calling filter: com.day.cq.wcm.foundation.forms.impl.FormsHandlingServlet
      0 LOG Calling filter: com.adobe.cq.social.commons.cors.CORSAuthenticationFilter
      0 LOG Calling filter: com.day.cq.analytics.provisioning.impl.UserAuthenticationRequestFilter
      0 LOG Calling filter: org.apache.sling.engine.impl.debug.RequestProgressTrackerLogFilter
      0 LOG Calling filter: com.day.cq.wcm.mobile.core.impl.redirect.RedirectFilter
      0 LOG RedirectFilter did not redirect (not redirecting in author mode)
      0 LOG Calling filter: com.day.cq.wcm.core.impl.warp.TimeWarpFilter
      0 LOG Calling filter: com.day.cq.wcm.core.impl.AuthoringUIModeServiceImpl
      0 LOG Calling filter: org.apache.sling.security.impl.ContentDispositionFilter
      0 LOG Calling filter: com.adobe.granite.csrf.impl.CSRFFilter
      0 LOG Calling filter: com.adobe.granite.requests.logging.impl.RequestLoggerImpl
      0 LOG Calling filter: com.day.cq.dam.core.impl.servlet.ActivityRecordHandler
      0 LOG Calling filter: com.day.cq.dam.core.impl.assetlinkshare.AdhocAssetShareAuthHandler
      0 LOG Calling filter: com.adobe.cq.social.ugcbase.security.impl.SaferSlingPostServlet
      0 LOG Applying Componentfilters
      0 LOG Calling filter: com.day.cq.wcm.core.impl.WCMComponentFilter
      0 LOG Calling filter: com.day.cq.wcm.core.impl.WCMDebugFilter
      0 LOG Calling filter: com.day.cq.personalization.impl.TargetComponentFilter
      0 TIMER_START{org.apache.sling.servlets.get.DefaultGetServlet#0}
      0 LOG No renderer for extension html
      0 LOG Applying Error filters
      0 LOG Calling filter: org.apache.sling.i18n.impl.I18NFilter
      0 LOG Calling filter: org.apache.sling.rewriter.impl.RewriterFilter
      0 TIMER_START{handleError:status=404}
      0 TIMER_END{0,handleError:status=404} Using handler /libs/sling/servlet/errorhandler/404.jsp
      1 LOG Found processor for post processing ProcessorConfiguration: {contentTypes=[text/html], order=-1, active=true, valid=true, processErrorResponse=true, pipeline=(generator=Config(type=htmlparser, config={}), transformers=(Config(type=linkchecker, config={}), Config(type=mobile, config=JcrPropertyMap [node=Node[NodeDelegate{tree=/libs/cq/config/rewriter/default/transformer-mobile: { jcr:primaryType = nt:unstructured, component-optional = true}}], values={jcr:primaryType=nt:unstructured, component-optional=true}]), Config(type=mobiledebug, config=JcrPropertyMap [node=Node[NodeDelegate{tree=/libs/cq/config/rewriter/default/transformer-mobiledebug: { jcr:primaryType = nt:unstructured, component-optional = true}}], values={jcr:primaryType=nt:unstructured, component-optional=true}]), Config(type=contentsync, config=JcrPropertyMap [node=Node[NodeDelegate{tree=/libs/cq/config/rewriter/default/transformer-contentsync: { jcr:primaryType = nt:unstructured, component-optional = true}}], values={jcr:primaryType=nt:unstructured, component-optional=true}]), serializer=Config(type=htmlwriter, config={}))}
      1 TIMER_END{1,Request Processing} Dumping SlingRequestProgressTracker Entries
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15859989" author="smomin" created="Thu, 9 Feb 2017 18:52:54 +0000"  >&lt;p&gt;Hey Oliver,&lt;/p&gt;

&lt;p&gt;Test.html is in the `/apps/audi/test/test.html` which is provided in the test.zip.  Now what might be missing is the content node called `test` in the `/content/geometrixx/en/jcr:content/par`.  I retried the Test.zip on my local and I didn&apos;t have any issues.  Were you able to upload &amp;amp; install the Test.zip in the package manager, &lt;a href=&quot;http://localhost:4502/crx/packmgr/index.jsp?&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:4502/crx/packmgr/index.jsp?&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Sajid&lt;/p&gt;</comment>
                            <comment id="15860686" author="olli" created="Fri, 10 Feb 2017 04:27:34 +0000"  >&lt;blockquote&gt;&lt;p&gt;Now what might be missing is the content node called `test` in the `/content/geometrixx/en/jcr:content/par`.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Right, that&apos;s what I tried to say.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Were you able to upload &amp;amp; install the Test.zip in the package manager, &lt;a href=&quot;http://localhost:4502/crx/packmgr/index.jsp?&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:4502/crx/packmgr/index.jsp?&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes, installed without errors. Can you check the package?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12851522" name="Test.zip" size="60712" author="smomin" created="Wed, 8 Feb 2017 01:24:44 +0000"/>
                            <attachment id="12851524" name="error.log" size="1859671" author="smomin" created="Wed, 8 Feb 2017 01:24:44 +0000"/>
                            <attachment id="12851523" name="javassist-3.20.0-GA.jar" size="750581" author="smomin" created="Wed, 8 Feb 2017 01:24:44 +0000"/>
                            <attachment id="12851525" name="org.apache.sling.scripting.thymeleaf-1.0.0.jar" size="1507153" author="smomin" created="Wed, 8 Feb 2017 01:24:44 +0000"/>
                            <attachment id="12851232" name="thymeleaf-i18n-error.log" size="46072" author="smomin" created="Mon, 6 Feb 2017 20:22:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 37 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i39oon:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6506] Sling Log Tracer queries reports Plan that does not match Query statement</title>
                <link>https://issues.apache.org/jira/browse/SLING-6506</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The Queries data set from Sling Log Tracer (1.0.2) may report the wrong Query plan for the query.  &lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&quot;query&quot;: &quot;//*[jcr:contains(., &apos;\&quot;/content/dam/we-retail/en/people/mens/men_1.jpg\&quot;&apos;)]&quot;,
&quot;plan&quot;: &quot;[nt:unstructured] as [a] /* lucene:ntBaseLucene(/oak:index/ntBaseLucene) dam:resolvedPath:/content/dam/we-retail/en/people/mens/men_1.jpg where [a].[dam:resolvedPath] = &apos;/content/dam/we-retail/en/people/mens/men_1.jpg&apos; */&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Attached raw tracer output from Felix console.&lt;/p&gt;

&lt;p&gt;Explaining the query statement via Oak gives a different (and correct) plan.&lt;/p&gt;

&lt;p&gt;/cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chetanm&quot; class=&quot;user-hover&quot; rel=&quot;chetanm&quot;&gt;chetanm&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13040209">SLING-6506</key>
            <summary>Sling Log Tracer queries reports Plan that does not match Query statement</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chetanm">Chetan Mehrotra</assignee>
                                    <reporter username="empire29">David Gonzalez</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Feb 2017 19:21:50 +0000</created>
                <updated>Mon, 7 Aug 2023 08:53:14 +0000</updated>
                            <resolved>Fri, 19 Jan 2018 06:29:13 +0000</resolved>
                                    <version>Log Tracer 0.0.2</version>
                                    <fixVersion>Log Tracer 1.0.8</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15851998" author="empire29" created="Fri, 3 Feb 2017 19:29:51 +0000"  >&lt;p&gt;The query executed prior to this is executed as a UNION by oak and the incorrect plan called out above appears to match the latter query in the Union; so it seems there might be an issues in tracking queries -&amp;gt; plan when the query is broken up into multiple queries by Oak. &lt;/p&gt;

&lt;p&gt;Looking at the Log entries in the tracer output, it shows the correct plan for the query.&lt;/p&gt;</comment>
                            <comment id="15999577" author="githubbot" created="Sat, 6 May 2017 20:43:27 +0000"  >&lt;p&gt;GitHub user davidjgonzalez opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/223&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/223&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6506&quot; title=&quot;Sling Log Tracer queries reports Plan that does not match Query statement&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6506&quot;&gt;&lt;del&gt;SLING-6506&lt;/del&gt;&lt;/a&gt; - Tracer - Fixed query/plan correlation when union&apos;d queri&#8230;&lt;/p&gt;

&lt;p&gt;    &#8230;es are followed by 1+ queries&lt;/p&gt;

&lt;p&gt;    Resolves: &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6506&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SLING-6506&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Example output post patch (addressing erring use-case in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6505&quot; title=&quot;Apache Sling Sample fling is not registering(not active) with karaf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6505&quot;&gt;&lt;del&gt;SLING-6505&lt;/del&gt;&lt;/a&gt; ticket)&lt;/p&gt;

&lt;p&gt;    !&lt;span class=&quot;error&quot;&gt;&amp;#91;image&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://cloud.githubusercontent.com/assets/1451868/25775762/d4c1ee26-327a-11e7-8115-89a9dcadcc79.png&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cloud.githubusercontent.com/assets/1451868/25775762/d4c1ee26-327a-11e7-8115-89a9dcadcc79.png&lt;/a&gt;)&lt;/p&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/davidjgonzalez/sling&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/davidjgonzalez/sling&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6506&quot; title=&quot;Sling Log Tracer queries reports Plan that does not match Query statement&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6506&quot;&gt;&lt;del&gt;SLING-6506&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/223.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/223.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #223&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit db873792e2e7c050b9e5160745fe2bfe8a3d098f&lt;br/&gt;
Author: david g &amp;lt;davidjgonzalez@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-05-06T20:38:20Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6506&quot; title=&quot;Sling Log Tracer queries reports Plan that does not match Query statement&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6506&quot;&gt;&lt;del&gt;SLING-6506&lt;/del&gt;&lt;/a&gt; - Tracer - Fixed query/plan correlation when union&apos;d queries are followed by 1+ queries&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16330745" author="githubbot" created="Thu, 18 Jan 2018 16:39:59 +0000"  >&lt;p&gt;davidjgonzalez opened a new pull request #1: &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6506&quot; title=&quot;Sling Log Tracer queries reports Plan that does not match Query statement&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6506&quot;&gt;&lt;del&gt;SLING-6506&lt;/del&gt;&lt;/a&gt; - Handling of UNION&apos;d queries in Sling Log Tracer&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-tracer/pull/1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-tracer/pull/1&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Resolves issue ... &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6506&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SLING-6506&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16330758" author="githubbot" created="Thu, 18 Jan 2018 16:46:27 +0000"  >&lt;p&gt;davidjgonzalez commented on issue #1: &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6506&quot; title=&quot;Sling Log Tracer queries reports Plan that does not match Query statement&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6506&quot;&gt;&lt;del&gt;SLING-6506&lt;/del&gt;&lt;/a&gt; - Handling of UNION&apos;d queries in Sling Log Tracer&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-tracer/pull/1#issuecomment-358706794&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-tracer/pull/1#issuecomment-358706794&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Incorrect Query -&amp;gt; Plan match (pre-patch)&lt;br/&gt;
   !&lt;span class=&quot;error&quot;&gt;&amp;#91;image&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://user-images.githubusercontent.com/1451868/35109650-f8c7face-fc44-11e7-8c24-65f62e8e9820.png&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://user-images.githubusercontent.com/1451868/35109650-f8c7face-fc44-11e7-8c24-65f62e8e9820.png&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;   Correct Query -&amp;gt; Plan match (post-patch)&lt;br/&gt;
   !&lt;span class=&quot;error&quot;&gt;&amp;#91;image&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://user-images.githubusercontent.com/1451868/35109728-2a5a4bd2-fc45-11e7-9822-74f2f4a91857.png&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://user-images.githubusercontent.com/1451868/35109728-2a5a4bd2-fc45-11e7-9822-74f2f4a91857.png&lt;/a&gt;)&lt;/p&gt;


&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16331805" author="githubbot" created="Fri, 19 Jan 2018 06:26:48 +0000"  >&lt;p&gt;chetanmeh closed pull request #1: &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6506&quot; title=&quot;Sling Log Tracer queries reports Plan that does not match Query statement&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6506&quot;&gt;&lt;del&gt;SLING-6506&lt;/del&gt;&lt;/a&gt; - Handling of UNION&apos;d queries in Sling Log Tracer&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-tracer/pull/1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-tracer/pull/1&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/src/main/java/org/apache/sling/tracer/internal/JSONRecording.java b/src/main/java/org/apache/sling/tracer/internal/JSONRecording.java&lt;br/&gt;
index b7355ca..192cc04 100644&lt;br/&gt;
&amp;#8212; a/src/main/java/org/apache/sling/tracer/internal/JSONRecording.java&lt;br/&gt;
+++ b/src/main/java/org/apache/sling/tracer/internal/JSONRecording.java&lt;br/&gt;
@@ -358,6 +358,7 @@ public void toJson(JSONWriter jw) throws IOException {&lt;br/&gt;
         String query;&lt;br/&gt;
         String plan;&lt;br/&gt;
         String caller;&lt;br/&gt;
+        int subPlans = 0;&lt;/p&gt;

&lt;p&gt;         public void record(Level level, String logger, FormattingTuple tuple) {&lt;br/&gt;
             //Assuming in a series of log statement from query package we see &apos;query&apos;&lt;br/&gt;
@@ -387,16 +388,44 @@ public void record(Level level, String logger, FormattingTuple tuple) {&lt;br/&gt;
                     if (&quot;org.apache.jackrabbit.oak.query.QueryImpl&quot;.equals(logger)&lt;br/&gt;
                             &amp;amp;&amp;amp; msg.startsWith(&quot;query plan &quot;)){&lt;br/&gt;
                         //logDebug(&quot;query execute &quot; + statement);&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;plan = msg.substring(&quot;query plan &quot;.length());&lt;br/&gt;
+                        if (subPlans == 0) 
{
+                            plan = msg.substring(&quot;query plan &quot;.length());
+                        }
&lt;p&gt; else &lt;/p&gt;
{
+                            subPlans--;
+                        }
&lt;p&gt;                     } else if (&quot;org.apache.jackrabbit.oak.query.UnionQueryImpl&quot;.equals(logger)&lt;br/&gt;
                             &amp;amp;&amp;amp; msg.contains(&quot;query union plan&quot;) &amp;amp;&amp;amp; args.length &amp;gt; 0){&lt;br/&gt;
                         // LOG.debug(&quot;query union plan {}&quot;, getPlan());&lt;br/&gt;
                         plan = nullSafeString(args&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;);&lt;br/&gt;
+&lt;br/&gt;
+                        // Determine number of sub-queries in this UNION query so they can be ignored&lt;br/&gt;
+                        int tmp = count(plan, &quot;*/ union &quot;);&lt;br/&gt;
+                        if (tmp &amp;gt; 0) &lt;/p&gt;
{
+                            subPlans = tmp + 1;
+                        }
&lt;p&gt;                     }&lt;br/&gt;
                 }&lt;br/&gt;
             }&lt;br/&gt;
         }&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;+        /**&lt;br/&gt;
+         * Counts the number of instances the needle in the haystack.&lt;br/&gt;
+         * @param haystack the string to count the occurrences of the needle in.&lt;br/&gt;
+         * @param needle the string to count the number of occurrences of.&lt;br/&gt;
+         * @return the number of occurences the needle appears in the haystack.&lt;br/&gt;
+         */&lt;br/&gt;
+        private int count(final String haystack, final String needle) {&lt;br/&gt;
+            int count = 0;&lt;br/&gt;
+            int i = 0;&lt;br/&gt;
+&lt;br/&gt;
+            while ((i = haystack.indexOf(needle, i)) != -1) &lt;/p&gt;
{
+                i++;
+                count++;
+            }
&lt;p&gt;+&lt;br/&gt;
+            return count;&lt;br/&gt;
+        }&lt;br/&gt;
+&lt;br/&gt;
         private String determineCaller() {&lt;br/&gt;
             StackTraceElement caller = queryCallerFinder.determineCaller(Thread.currentThread().getStackTrace());&lt;br/&gt;
             if (caller != null) {&lt;br/&gt;
diff --git a/src/test/java/org/apache/sling/tracer/internal/JSONRecordingTest.java b/src/test/java/org/apache/sling/tracer/internal/JSONRecordingTest.java&lt;br/&gt;
index 81660aa..f5f1eff 100644&lt;br/&gt;
&amp;#8212; a/src/test/java/org/apache/sling/tracer/internal/JSONRecordingTest.java&lt;br/&gt;
+++ b/src/test/java/org/apache/sling/tracer/internal/JSONRecordingTest.java&lt;br/&gt;
@@ -36,12 +36,14 @@&lt;br/&gt;
 import static org.junit.Assert.assertFalse;&lt;br/&gt;
 import static org.junit.Assert.assertNotNull;&lt;br/&gt;
 import static org.junit.Assert.assertTrue;&lt;br/&gt;
+import static org.junit.Assert.assertFalse;&lt;br/&gt;
 import static org.mockito.Mockito.mock;&lt;br/&gt;
 import static org.mockito.Mockito.when;&lt;/p&gt;

&lt;p&gt; public class JSONRecordingTest {&lt;br/&gt;
     static final String MDC_QUERY_ID = &quot;oak.query.id&quot;;&lt;br/&gt;
     static String QE_LOGGER = &quot;org.apache.jackrabbit.oak.query.QueryImpl&quot;;&lt;br/&gt;
+    static String UNION_QUERY_LOGGER = &quot;org.apache.jackrabbit.oak.query.UnionQueryImpl&quot;;&lt;br/&gt;
     private HttpServletRequest request = mock(HttpServletRequest.class);&lt;/p&gt;

&lt;p&gt;     private TracerConfig tc = new TracerConfig(TracerContext.QUERY_LOGGER, Level.INFO);&lt;br/&gt;
@@ -68,6 +70,43 @@ public void logQueries() throws Exception&lt;/p&gt;
{
         assertEquals(1, json.getJsonArray(&quot;queries&quot;).size());
     }

&lt;p&gt;+    @Test&lt;br/&gt;
+    public void logUnionQueries() throws Exception{&lt;br/&gt;
+        StringWriter sw = new StringWriter();&lt;br/&gt;
+&lt;br/&gt;
+        when(request.getMethod()).thenReturn(&quot;GET&quot;);&lt;br/&gt;
+        JSONRecording r = new JSONRecording(&quot;abc&quot;, request, true);&lt;br/&gt;
+&lt;br/&gt;
+        MDC.put(MDC_QUERY_ID, &quot;1&quot;);&lt;br/&gt;
+        r.log(tc, Level.DEBUG, &quot;org.apache.jackrabbit.oak.query.QueryEngineImpl&quot;,&lt;br/&gt;
+                tuple(&quot;Parsing {} statement: {}&quot;,  &quot;XPATH&quot;, &quot;SELECT FOO BAR&quot;));&lt;br/&gt;
+        r.log(tc, Level.DEBUG, UNION_QUERY_LOGGER, tuple(&quot;query union plan FOO PLAN */ union BAR PLAN&quot;, &quot;FOO PLAN */ union BAR PLAN&quot;));&lt;br/&gt;
+        // Two sub-query plans for the split union&lt;br/&gt;
+        r.log(tc, Level.DEBUG, QE_LOGGER, tuple(&quot;query plan FOO PLAN&quot;, &quot;xpath&quot;, &quot;FOO PLAN&quot;));&lt;br/&gt;
+        r.log(tc, Level.DEBUG, QE_LOGGER, tuple(&quot;query plan BAR PLAN&quot;, &quot;xpath&quot;, &quot;BAR PLAN&quot;));&lt;br/&gt;
+&lt;br/&gt;
+&lt;br/&gt;
+        MDC.put(MDC_QUERY_ID, &quot;2&quot;);&lt;br/&gt;
+        r.log(tc, Level.DEBUG, &quot;org.apache.jackrabbit.oak.query.QueryEngineImpl&quot;,&lt;br/&gt;
+                tuple(&quot;Parsing {} statement: {}&quot;,  &quot;XPATH&quot;, &quot;SELECT FOO&quot;));&lt;br/&gt;
+        r.log(tc, Level.DEBUG, QE_LOGGER, tuple(&quot;query plan FOO PLAN&quot;, &quot;xpath&quot;, &quot;FOO PLAN&quot;));&lt;br/&gt;
+&lt;br/&gt;
+        r.done();&lt;br/&gt;
+        r.render(sw);&lt;br/&gt;
+&lt;br/&gt;
+        JsonObject json = Json.createReader(new StringReader(sw.toString())).readObject();&lt;br/&gt;
+        assertEquals(&quot;GET&quot;, json.getString(&quot;method&quot;));&lt;br/&gt;
+        assertFalse(json.isNull(&quot;time&quot;));&lt;br/&gt;
+        assertFalse(json.isNull(&quot;timestamp&quot;));&lt;br/&gt;
+        assertEquals(2, json.getJsonArray(&quot;queries&quot;).size());&lt;br/&gt;
+&lt;br/&gt;
+        assertEquals(json.getJsonArray(&quot;queries&quot;).getJsonObject(0).getString(&quot;query&quot;), &quot;SELECT FOO BAR&quot;);&lt;br/&gt;
+        assertEquals(json.getJsonArray(&quot;queries&quot;).getJsonObject(0).getString(&quot;plan&quot;), &quot;FOO PLAN */ union BAR PLAN&quot;);&lt;br/&gt;
+&lt;br/&gt;
+        assertEquals(json.getJsonArray(&quot;queries&quot;).getJsonObject(1).getString(&quot;query&quot;), &quot;SELECT FOO&quot;);&lt;br/&gt;
+        assertEquals(json.getJsonArray(&quot;queries&quot;).getJsonObject(1).getString(&quot;plan&quot;), &quot;FOO PLAN&quot;);&lt;br/&gt;
+    }&lt;br/&gt;
+&lt;br/&gt;
     @Test&lt;br/&gt;
     public void requestTrackerLogs() throws Exception{&lt;br/&gt;
         StringWriter sw = new StringWriter();&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16331808" author="chetanm" created="Fri, 19 Jan 2018 06:29:13 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=empire29&quot; class=&quot;user-hover&quot; rel=&quot;empire29&quot;&gt;empire29&lt;/a&gt; for the improvement. Some how missed this in last release. I have reworked the patch a bit.&lt;/p&gt;

&lt;p&gt;Merged the changes with &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=sling-org-apache-sling-tracer.git;a=commitdiff;h=c09c86b085608915206a49ca0177899f6485ce88&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit 1&lt;/a&gt; and &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=sling-org-apache-sling-tracer.git;a=commitdiff;h=c3443eaeb8ec12156947588e9cf05b018c1b5464&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit 2&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16331809" author="githubbot" created="Fri, 19 Jan 2018 06:29:50 +0000"  >&lt;p&gt;chetanmeh commented on a change in pull request #1: &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6506&quot; title=&quot;Sling Log Tracer queries reports Plan that does not match Query statement&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6506&quot;&gt;&lt;del&gt;SLING-6506&lt;/del&gt;&lt;/a&gt; - Handling of UNION&apos;d queries in Sling Log Tracer&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-tracer/pull/1#discussion_r162545771&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-tracer/pull/1#discussion_r162545771&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: src/main/java/org/apache/sling/tracer/internal/JSONRecording.java&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -387,16 +388,44 @@ public void record(Level level, String logger, FormattingTuple tuple) {&lt;br/&gt;
                     if (&quot;org.apache.jackrabbit.oak.query.QueryImpl&quot;.equals(logger)&lt;br/&gt;
                             &amp;amp;&amp;amp; msg.startsWith(&quot;query plan &quot;)){&lt;br/&gt;
                         //logDebug(&quot;query execute &quot; + statement);&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;plan = msg.substring(&quot;query plan &quot;.length());&lt;br/&gt;
+                        if (subPlans == 0) 
{
+                            plan = msg.substring(&quot;query plan &quot;.length());
+                        }
&lt;p&gt; else &lt;/p&gt;
{
+                            subPlans--;
+                        }
&lt;p&gt;                     } else if (&quot;org.apache.jackrabbit.oak.query.UnionQueryImpl&quot;.equals(logger)&lt;br/&gt;
                             &amp;amp;&amp;amp; msg.contains(&quot;query union plan&quot;) &amp;amp;&amp;amp; args.length &amp;gt; 0){&lt;br/&gt;
                         // LOG.debug(&quot;query union plan {}&quot;, getPlan());&lt;br/&gt;
                         plan = nullSafeString(args&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;);&lt;br/&gt;
+&lt;br/&gt;
+                        // Determine number of sub-queries in this UNION query so they can be ignored&lt;br/&gt;
+                        int tmp = count(plan, &quot;*/ union &quot;);&lt;br/&gt;
+                        if (tmp &amp;gt; 0) &lt;/p&gt;
{
+                            subPlans = tmp + 1;
+                        }
&lt;p&gt;                     }&lt;br/&gt;
                 }&lt;br/&gt;
             }&lt;br/&gt;
         }&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;+        /**&lt;br/&gt;
+         * Counts the number of instances the needle in the haystack.&lt;br/&gt;
+         * @param haystack the string to count the occurrences of the needle in.&lt;br/&gt;
+         * @param needle the string to count the number of occurrences of.&lt;br/&gt;
+         * @return the number of occurences the needle appears in the haystack.&lt;br/&gt;
+         */&lt;br/&gt;
+        private int count(final String haystack, final String needle) {&lt;/p&gt;

&lt;p&gt; Review comment:&lt;br/&gt;
   Liked the analogy!&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12850871" name="tracer-error-output.txt" size="2777376" author="empire29" created="Fri, 3 Feb 2017 19:21:50 +0000"/>
                            <attachment id="12850872" name="tracer-error-screencap.png" size="180062" author="empire29" created="Fri, 3 Feb 2017 19:21:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 40 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i39lcv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6505] Apache Sling Sample fling is not registering(not active) with karaf</title>
                <link>https://issues.apache.org/jira/browse/SLING-6505</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Compiled and installed Fling sample using&lt;br/&gt;
&amp;gt;mvn clean install -P karaf@localhost&lt;br/&gt;
Not able to open web page&lt;br/&gt;
 &lt;a href=&quot;http://localhost:8181/fling.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8181/fling.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;open installed Apache Sling Fling Sample in &lt;a href=&quot;http://localhost:8181/system/console/install&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8181/system/console/install&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;showing following errors in Imported Packages:&lt;/p&gt;

&lt;p&gt;Imported Packages	javax.annotation from org.apache.felix.framework (0)&lt;br/&gt;
javax.jcr,version=[2.0,3) &amp;#8211; Cannot be resolved&lt;br/&gt;
javax.mail,version=[1.4,2) from javax.mail (9)&lt;br/&gt;
javax.mail.internet,version=[1.4,2) from javax.mail (9)&lt;br/&gt;
javax.net from org.apache.felix.framework (0)&lt;br/&gt;
javax.net.ssl from org.apache.felix.framework (0)&lt;br/&gt;
javax.servlet,version=[3.1,4) from javax.servlet-api (10)&lt;br/&gt;
org.apache.jackrabbit.api.security.user,version=[2.4,3) &amp;#8211; Cannot be resolved&lt;br/&gt;
org.apache.sling.api,version=[2.3,3) &amp;#8211; Cannot be resolved&lt;br/&gt;
org.apache.sling.api.request,version=[2.4,3) &amp;#8211; Cannot be resolved&lt;br/&gt;
org.apache.sling.api.resource,version=[2.9,3) &amp;#8211; Cannot be resolved&lt;br/&gt;
org.apache.sling.api.servlets,version=[2.1,3) &amp;#8211; Cannot be resolved&lt;br/&gt;
org.apache.sling.api.wrappers,version=[2.5,3) &amp;#8211; Cannot be resolved&lt;br/&gt;
org.apache.sling.commons.messaging,version=[1.0,2) &amp;#8211; Cannot be resolved&lt;br/&gt;
org.apache.sling.jcr.base.util,version=[2.1,3) &amp;#8211; Cannot be resolved&lt;br/&gt;
org.apache.sling.models.annotations,version=[1.2,2) &amp;#8211; Cannot be resolved&lt;br/&gt;
org.apache.sling.models.annotations.injectorspecific,version=[1.1,2) &amp;#8211; Cannot be resolved&lt;br/&gt;
org.apache.sling.query,version=[3.0,4) &amp;#8211; Cannot be resolved&lt;br/&gt;
org.apache.sling.samples.fling from org.apache.sling.samples.fling (92)&lt;br/&gt;
org.apache.sling.samples.fling.form from org.apache.sling.samples.fling (92)&lt;br/&gt;
org.apache.sling.scripting.thymeleaf,version=[1.0,2) &amp;#8211; Cannot be resolved&lt;br/&gt;
org.apache.sling.validation,version=[1.0,2) &amp;#8211; Cannot be resolved&lt;br/&gt;
org.apache.sling.validation.model,version=[1.0,2) &amp;#8211; Cannot be resolved&lt;br/&gt;
org.apache.sling.validation.spi,version=[1.0,2) &amp;#8211; Cannot be resolved&lt;br/&gt;
org.osgi.framework,version=[1.8,2) from org.apache.felix.framework (0)&lt;br/&gt;
org.slf4j,version=[1.7,2) from org.ops4j.pax.logging.pax-logging-api (3)&lt;br/&gt;
org.thymeleaf,version=[3.0,4) &amp;#8211; Cannot be resolved&lt;br/&gt;
org.thymeleaf.context,version=[3.0,4) &amp;#8211; Cannot be resolved&lt;/p&gt;

&lt;p&gt;I have also tried installing following items in karaf&lt;br/&gt;
karaf@root()&amp;gt; feature:repo-add mvn:org.apache.sling/org.apache.sling.launchpad.karaf-features/0.1.1-SNAPSHOT/xml/features&lt;br/&gt;
Successful&lt;/p&gt;

&lt;p&gt;karaf@root()&amp;gt; feature:install sling-launchpad-oak-tar&lt;br/&gt;
giving following error:&lt;/p&gt;

&lt;p&gt;Error executing command: Unable to resolve root: missing requirement &lt;span class=&quot;error&quot;&gt;&amp;#91;root&amp;#93;&lt;/span&gt; osgi.identity; osgi.identity=sling-launchpad-oak-tar; type=karaf.feature; version=&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;0.1.1.SNAPSHOT,0.1.1.SNAPSHOT&amp;#93;&lt;/span&gt;&quot;; filter:=&quot;(&amp;amp;(osgi.identity=sling-launchpad-oak-tar)(type=karaf.feature)(version&amp;gt;=0.1.1.SNAPSHOT)(version&amp;lt;=0.1.1.SNAPSHOT))&quot; [caused by: Unable to resolve sling-launchpad-oak-tar/0.1.1.SNAPSHOT: missing requirement &lt;span class=&quot;error&quot;&gt;&amp;#91;sling-launchpad-oak-tar/0.1.1.SNAPSHOT&amp;#93;&lt;/span&gt; osgi.identity; osgi.identity=sling-launchpad-oak; type=karaf.feature; version=&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;0.1.1.SNAPSHOT,0.1.1.SNAPSHOT&amp;#93;&lt;/span&gt;&quot; [caused by: Unable to resolve sling-launchpad-oak/0.1.1.SNAPSHOT: missing requirement &lt;span class=&quot;error&quot;&gt;&amp;#91;sling-launchpad-oak/0.1.1.SNAPSHOT&amp;#93;&lt;/span&gt; osgi.identity; osgi.identity=sling-jcr-oak; type=karaf.feature; version=&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;0.1.1.SNAPSHOT,0.1.1.SNAPSHOT&amp;#93;&lt;/span&gt;&quot; [caused by: Unable to resolve sling-jcr-oak/0.1.1.SNAPSHOT: missing requirement &lt;span class=&quot;error&quot;&gt;&amp;#91;sling-jcr-oak/0.1.1.SNAPSHOT&amp;#93;&lt;/span&gt; osgi.identity; osgi.identity=org.apache.sling.jcr.oak.server; type=osgi.bundle; version=&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;1.0.1.SNAPSHOT,1.0.1.SNAPSHOT&amp;#93;&lt;/span&gt;&quot;; resolution:=mandatory [caused by: Unable to resolve org.apache.sling.jcr.oak.server/1.0.1.SNAPSHOT: missing requirement &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.jcr.oak.server/1.0.1.SNAPSHOT&amp;#93;&lt;/span&gt; osgi.wiring.package; filter:=&quot;(&amp;amp;(osgi.wiring.package=org.apache.jackrabbit.commons.jackrabbit.authorization)(version&amp;gt;=2.12.0)(!(version&amp;gt;=3.0.0)))&quot;]]]]&lt;/p&gt;

&lt;p&gt;I have made following changes to features.xml in karaf features for building karaf - sling_code\karaf\org.apache.sling.karaf-features\src\main\feature\feature.xml&lt;/p&gt;

&lt;p&gt;   &amp;lt;bundle&amp;gt;mvn:org.apache.sling/org.apache.sling.commons.classloader/1.3.9-SNAPSHOT&amp;lt;/bundle&amp;gt;&lt;/p&gt;

&lt;p&gt;  &amp;lt;bundle&amp;gt;mvn:org.apache.sling/org.apache.sling.jcr.davex/1.3.9-SNAPSHOT&amp;lt;/bundle&amp;gt;&lt;/p&gt;

&lt;p&gt; &amp;lt;bundle&amp;gt;mvn:org.apache.sling/org.apache.sling.jcr.webdav/2.3.9-SNAPSHOT&amp;lt;/bundle&amp;gt;&lt;/p&gt;


</description>
                <environment>Windows, java 1.8</environment>
        <key id="13039946">SLING-6505</key>
            <summary>Apache Sling Sample fling is not registering(not active) with karaf</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="singareddy">Ravi Singareddy</reporter>
                        <labels>
                    </labels>
                <created>Thu, 2 Feb 2017 20:46:01 +0000</created>
                <updated>Fri, 3 Feb 2017 06:46:22 +0000</updated>
                            <resolved>Fri, 3 Feb 2017 06:46:22 +0000</resolved>
                                                                    <component>Samples</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15851148" author="olli" created="Fri, 3 Feb 2017 06:46:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=singareddy&quot; class=&quot;user-hover&quot; rel=&quot;singareddy&quot;&gt;singareddy&lt;/a&gt;, you screwed your features up. The currently used version of &lt;tt&gt;org.apache.sling.jcr.oak.server&lt;/tt&gt; is &lt;tt&gt;1.1.3-SNAPSHOT&lt;/tt&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 38 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i39jqf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6503] Concurrency issue can prevent repository packages to be cleaned up   </title>
                <link>https://issues.apache.org/jira/browse/SLING-6503</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In SCD setups with more than one export queue and storing packages in the repository, packages may not be collected after being distributed to all queues.&lt;/p&gt;

&lt;p&gt;This is typically the case on the author instance of a Sync setup.&lt;/p&gt;

&lt;p&gt;The current implementation &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; stores a resource in the repository in order to keep track of each consumer of the package. When each consumer is done distributing to its queue, it checks if there is no more registered resources and remove the package if it is the case.&lt;/p&gt;

&lt;p&gt;The problem is that consumers run concurrently and without synchronisation, thus leading to situation where all consumers concurrently observe remaining consumers and the cleanup is never executed.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling/blob/trunk/contrib/extensions/distribution/core/src/main/java/org/apache/sling/distribution/packaging/impl/ResourceDistributionPackage.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/contrib/extensions/distribution/core/src/main/java/org/apache/sling/distribution/packaging/impl/ResourceDistributionPackage.java&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13039503">SLING-6503</key>
            <summary>Concurrency issue can prevent repository packages to be cleaned up   </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marett">Timothee Maret</assignee>
                                    <reporter username="marett">Timothee Maret</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 Feb 2017 16:00:58 +0000</created>
                <updated>Thu, 2 Mar 2017 10:00:38 +0000</updated>
                            <resolved>Fri, 3 Feb 2017 15:06:08 +0000</resolved>
                                    <version>Content Distribution Core 0.1.18</version>
                                    <fixVersion>Content Distribution Core 0.2.0</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15848565" author="marett" created="Wed, 1 Feb 2017 16:05:58 +0000"  >&lt;p&gt;I think this should be fixed by running a periodical job to cleanup the package which is robust and simple. &lt;br/&gt;
Indeed, in this case we can afford the delay, synchronising the access is overkill.&lt;/p&gt;</comment>
                            <comment id="15851559" author="marett" created="Fri, 3 Feb 2017 14:35:47 +0000"  >&lt;p&gt;Attached a patch otherwise available at &lt;a href=&quot;https://github.com/tmaret/sling/commit/e67a77a0664145d5607ea822f2523a4505f53023.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/tmaret/sling/commit/e67a77a0664145d5607ea822f2523a4505f53023.patch&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15851579" author="teofili" created="Fri, 3 Feb 2017 14:47:30 +0000"  >&lt;p&gt;+1 LGTM&lt;/p&gt;</comment>
                            <comment id="15851601" author="marett" created="Fri, 3 Feb 2017 15:05:46 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=teofili&quot; class=&quot;user-hover&quot; rel=&quot;teofili&quot;&gt;teofili&lt;/a&gt; for looking at this! &lt;/p&gt;

&lt;p&gt;Commit in &lt;br/&gt;
&lt;a href=&quot;https://svn.apache.org/repos/asf/sling/trunk@1781568&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/sling/trunk@1781568&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The patch enable a periodical (every 60 seconds by default, configurable) task (&lt;tt&gt;o.a.s.d.p.i.ResourceDistributionPackageCleanup&lt;/tt&gt;) to run and delete the package which have been released explicitly and which have no more references. Only the &lt;tt&gt;org.apache.sling.distribution.packaging.impl.ResourceDistributionPackage&lt;/tt&gt; (packages stored in the repository) are collected that way, the behaviour for other packages (e.g. stored in files) is not changed.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13047632">SLING-6589</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12850834" name="SLING-6503.patch" size="24011" author="marett" created="Fri, 3 Feb 2017 14:34:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 38 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i39gzz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6502] JSP: java.lang.VerifyError (Bad type on operand stack)</title>
                <link>https://issues.apache.org/jira/browse/SLING-6502</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;tt&gt;org.apache.sling.scripting.jsp&lt;/tt&gt; embeds &lt;tt&gt;jsp-api&lt;/tt&gt; and &lt;tt&gt;el-api&lt;/tt&gt; from Apache Tomcat (&lt;tt&gt;6.0.14&lt;/tt&gt;) which causes this error.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[...]
[httpclient.wire.header] : &amp;lt;&amp;lt; &quot;HTTP/1.1 500 Server Error[\r][\n]&quot;
[httpclient.wire.header] : &amp;lt;&amp;lt; &quot;Content-Type: text/html;charset=utf-8[\r][\n]&quot;
[httpclient.wire.header] : &amp;lt;&amp;lt; &quot;Transfer-Encoding: chunked[\r][\n]&quot;
[httpclient.wire.header] : &amp;lt;&amp;lt; &quot;Server: Jetty(9.3.15.v20161220)[\r][\n]&quot;
[httpclient.wire.header] : &amp;lt;&amp;lt; &quot;[\r][\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;B&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;5&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;1&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;[\r]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;&amp;lt;html&amp;gt;&amp;lt;head&amp;gt;&amp;lt;title&amp;gt;[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;java.lang.VerifyError: Bad type on operand stack[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;Exception Details:[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;  Location:[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;    org/apache/sling/scripting/jsp/jasper/runtime/JspApplicationContextImpl.createELResolver()Ljavax/el/ELResolver; @28: invokevirtual[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;  Reason:[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;    Type &amp;amp;apos;javax/servlet/jsp/el/ImplicitObjectELResolver&amp;amp;apos; (current frame, stack[1]) is not assignable to &amp;amp;apos;javax/el/ELResolver&amp;amp;apos;[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;  Current Frame:[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;    bci: @28[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;    flags: { }[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;    locals: { &amp;amp;apos;org/apache/sling/scripting/jsp/jasper/runtime/JspApplicationContextImpl&amp;amp;apos;, &amp;amp;apos;javax/el/CompositeELResolver&amp;amp;apos; }[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;    stack: { &amp;amp;apos;javax/el/CompositeELResolver&amp;amp;apos;, &amp;amp;apos;javax/servlet/jsp/el/ImplicitObjectELResolver&amp;amp;apos; }[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;  Bytecode:[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;    0x0000000: 2a04 b500 062a b400 1dc7 0080 bb00 1e59[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;    0x0000010: b700 1f4c 2bbb 0020 59b7 0021 b600 222a[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;    0x0000020: b400 05b9 0023 0100 4d2c b900 2401 0099[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;    0x0000030: 0013 2b2c b900 2501 00c0 0026 b600 22a7[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;    0x0000040: ffea 2bbb 0027 59b7 0028 b600 222b bb00[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;    0x0000050: 2959 b700 2ab6 0022 2bbb 002b 59b7 002c[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;    0x0000060: b600 222b bb00 2d59 b700 2eb6 0022 2bbb[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;    0x0000070: 002f 59b7 0030 b600 222b bb00 3159 b700[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;    0x0000080: 32b6 0022 2a2b b500 1d2a b400 1db0     [\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;  Stackmap Table:[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;    append_frame(@41,Object[#112],Object[#113])[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;    chop_frame(@66,1)[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;    chop_frame(@137,1)[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;&amp;lt;/title&amp;gt;&amp;lt;/head&amp;gt;&amp;lt;body&amp;gt;&amp;lt;h1&amp;gt;[\n]&quot;
[...]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.VerifyError: Bad type on operand stack
Exception Details:
  Location:
    org/apache/sling/scripting/jsp/jasper/runtime/JspApplicationContextImpl.createELResolver()Ljavax/el/ELResolver; @28: invokevirtual
  Reason:
    Type &amp;amp;apos;javax/servlet/jsp/el/ImplicitObjectELResolver&amp;amp;apos; (current frame, stack[1]) is not assignable to &amp;amp;apos;javax/el/ELResolver&amp;amp;apos;
  Current Frame:
    bci: @28
    flags: { }
    locals: { &amp;amp;apos;org/apache/sling/scripting/jsp/jasper/runtime/JspApplicationContextImpl&amp;amp;apos;, &amp;amp;apos;javax/el/CompositeELResolver&amp;amp;apos; }
    stack: { &amp;amp;apos;javax/el/CompositeELResolver&amp;amp;apos;, &amp;amp;apos;javax/servlet/jsp/el/ImplicitObjectELResolver&amp;amp;apos; }
  Bytecode:
    0x0000000: 2a04 b500 062a b400 1dc7 0080 bb00 1e59
    0x0000010: b700 1f4c 2bbb 0020 59b7 0021 b600 222a
    0x0000020: b400 05b9 0023 0100 4d2c b900 2401 0099
    0x0000030: 0013 2b2c b900 2501 00c0 0026 b600 22a7
    0x0000040: ffea 2bbb 0027 59b7 0028 b600 222b bb00
    0x0000050: 2959 b700 2ab6 0022 2bbb 002b 59b7 002c
    0x0000060: b600 222b bb00 2d59 b700 2eb6 0022 2bbb
    0x0000070: 002f 59b7 0030 b600 222b bb00 3159 b700
    0x0000080: 32b6 0022 2a2b b500 1d2a b400 1db0     
  Stackmap Table:
    append_frame(@41,Object[#112],Object[#113])
    chop_frame(@66,1)
    chop_frame(@137,1)

	at org.apache.sling.scripting.jsp.jasper.runtime.JspFactoryImpl.getJspApplicationContext(JspFactoryImpl.java:150)
	at org.apache.sling.scripting.jsp.jasper.compiler.JspRuntimeContext$JspFactoryHandler.getJspApplicationContext(JspRuntimeContext.java:123)
	at org.apache.jsp.apps.nt.unstructured.html_jsp._jspInit(html_jsp.java:22)
	at org.apache.sling.scripting.jsp.jasper.runtime.HttpJspBase.init(HttpJspBase.java:52)
	at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.loadServlet(JspServletWrapper.java:191)
	at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.prepareServlet(JspServletWrapper.java:434)
	at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:486)
	at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:449)
	at org.apache.sling.scripting.jsp.JspScriptEngineFactory.callJsp(JspScriptEngineFactory.java:346)
	at org.apache.sling.scripting.jsp.JspScriptEngineFactory.access$100(JspScriptEngineFactory.java:101)
	at org.apache.sling.scripting.jsp.JspScriptEngineFactory$JspScriptEngine.eval(JspScriptEngineFactory.java:607)
	at org.apache.sling.scripting.core.impl.DefaultSlingScript.call(DefaultSlingScript.java:388)
	at org.apache.sling.scripting.core.impl.DefaultSlingScript.eval(DefaultSlingScript.java:184)
	at org.apache.sling.scripting.core.impl.DefaultSlingScript.service(DefaultSlingScript.java:491)
	at org.apache.sling.engine.impl.request.RequestData.service(RequestData.java:552)
	at org.apache.sling.engine.impl.filter.SlingComponentFilterChain.render(SlingComponentFilterChain.java:44)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:77)
	at org.apache.sling.engine.impl.SlingRequestProcessorImpl.processComponent(SlingRequestProcessorImpl.java:282)
	at org.apache.sling.engine.impl.filter.RequestSlingFilterChain.render(RequestSlingFilterChain.java:49)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:71)
	at org.apache.sling.launchpad.testservices.filters.TestFilter.doFilter(TestFilter.java:47)
	at org.apache.sling.launchpad.testservices.filters.NoPropertyFilter.doFilter(NoPropertyFilter.java:25)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at org.apache.sling.launchpad.testservices.filters.TestFilter.doFilter(TestFilter.java:47)
	at org.apache.sling.launchpad.testservices.filters.SlingFilter.doFilter(SlingFilter.java:25)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at org.apache.sling.engine.impl.debug.RequestProgressTrackerLogFilter.doFilter(RequestProgressTrackerLogFilter.java:107)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at org.apache.sling.engine.impl.SlingRequestProcessorImpl.doProcessRequest(SlingRequestProcessorImpl.java:151)
	at org.apache.sling.engine.impl.SlingMainServlet.service(SlingMainServlet.java:219)
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:837)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1772)
	at org.eclipse.jetty.websocket.server.WebSocketUpgradeFilter.doFilter(WebSocketUpgradeFilter.java:193)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:582)
	at org.ops4j.pax.web.service.jetty.internal.HttpServiceServletHandler.doHandle(HttpServiceServletHandler.java:70)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1180)
	at org.ops4j.pax.web.service.jetty.internal.HttpServiceContext.doHandle(HttpServiceContext.java:284)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:512)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1112)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.ops4j.pax.web.service.jetty.internal.JettyServerHandlerCollection.handle(JettyServerHandlerCollection.java:80)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:134)
	at org.eclipse.jetty.server.Server.handle(Server.java:534)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:320)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:251)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:283)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:110)
	at org.eclipse.jetty.io.SelectChannelEndPoint$2.run(SelectChannelEndPoint.java:93)
	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.executeProduceConsume(ExecuteProduceConsume.java:303)
	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceConsume(ExecuteProduceConsume.java:148)
	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:136)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:671)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:589)
	at java.lang.Thread.run(Thread.java:745)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>Apache Karaf 4.1.0-SNAPSHOT (Pax Web 6.0.2)</environment>
        <key id="13039274">SLING-6502</key>
            <summary>JSP: java.lang.VerifyError (Bad type on operand stack)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="olli">Oliver Lietz</assignee>
                                    <reporter username="olli">Oliver Lietz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 31 Jan 2017 19:34:52 +0000</created>
                <updated>Mon, 20 Mar 2017 22:14:52 +0000</updated>
                            <resolved>Wed, 22 Feb 2017 14:28:03 +0000</resolved>
                                    <version>Scripting JSP 2.2.6</version>
                                    <fixVersion>Scripting JSP 2.3.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15847402" author="olli" created="Tue, 31 Jan 2017 19:56:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://svn.apache.org/r1781150&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1781150&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://svn.apache.org/r1781151&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1781151&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://svn.apache.org/r1781152&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1781152&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://svn.apache.org/r1781179&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1781179&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://svn.apache.org/r1781372&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1781372&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15847410" author="rombert" created="Tue, 31 Jan 2017 20:01:09 +0000"  >&lt;p&gt;What was the root cause of the error? Conflicting classes?&lt;/p&gt;</comment>
                            <comment id="15847420" author="olli" created="Tue, 31 Jan 2017 20:07:24 +0000"  >&lt;p&gt;Yes, &lt;del&gt;and I guess it can happen when deploying Sling (WAR) to any web container.&lt;/del&gt;&lt;/p&gt;</comment>
                            <comment id="15866044" author="rombert" created="Tue, 14 Feb 2017 16:15:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt; - I see that you also removed the export for &lt;tt&gt;org.apache.sling.scripting.jsp.jasper.runtime&lt;/tt&gt; . Is that on purpose? I don&apos;t see how this clashes with appserver-provided jars.&lt;/p&gt;</comment>
                            <comment id="15866071" author="rombert" created="Tue, 14 Feb 2017 16:28:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt; - also, how did you make this run in an app server? I dropped a Sling launchpad war file into $TOMCAT_HOME/webapps and the scripting.jsp bundle remains installed:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;javax.el,version=2.2 -- Cannot be resolved
javax.servlet.jsp,version=[2.2,3) -- Cannot be resolved
javax.servlet.jsp.el,version=[2.2,3) -- Cannot be resolved
javax.servlet.jsp.tagext,version=[2.2,3) -- Cannot be resolved&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15867406" author="olli" created="Wed, 15 Feb 2017 07:51:59 +0000"  >&lt;blockquote&gt;&lt;p&gt;I see that you also removed the export for org.apache.sling.scripting.jsp.jasper.runtime . Is that on purpose? I don&apos;t see how this clashes with appserver-provided jars.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;, removing &lt;tt&gt;org.apache.sling.scripting.jsp.jasper.runtime&lt;/tt&gt; was on purpose. Build fails (baseline error) when exporting that package and no Sling bundle imports it. So removal seems to be safe.&lt;/p&gt;</comment>
                            <comment id="15867411" author="olli" created="Wed, 15 Feb 2017 07:57:03 +0000"  >&lt;blockquote&gt;&lt;p&gt;how did you make this run in an app server?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;, I&apos;ve added &lt;tt&gt;javax.servlet.jsp/javax.servlet.jsp-api/2.2.1&lt;/tt&gt; and &lt;tt&gt;javax.el/javax.el-api/2.2.1&lt;/tt&gt; to provisioning model in &lt;a href=&quot;https://svn.apache.org/r1781179&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1781179&lt;/a&gt; for &lt;tt&gt;launchpad/testing-war&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;I guess the proper way is adding the packages to &lt;tt&gt;org.apache.sling.launcher.system.packages&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fmeschbe&quot; class=&quot;user-hover&quot; rel=&quot;fmeschbe&quot;&gt;fmeschbe&lt;/a&gt;: Should this be done for JSP and EL like it is done for Servlets in &lt;tt&gt;org.apache.sling.launchpad.base.webapp.SlingServletDelegate&lt;/tt&gt; also?&lt;/p&gt;</comment>
                            <comment id="15867432" author="cziegeler" created="Wed, 15 Feb 2017 08:11:32 +0000"  >&lt;p&gt;I&apos;m not quiet sure what we&apos;re trying to fix here. I know that the scripting jsp bundle did work in app servers; we did all the testing. With the changes already applied the whole setup becomes way more complicated. This error seems only to happen when running in Karaf, so maybe we can find a solution that does not require changes all over the place and requires additional bundles to be added? Importing the jsp/el packages from the web container did cause problems in the past, that&apos;s why we shielded against it.&lt;/p&gt;</comment>
                            <comment id="15867486" author="olli" created="Wed, 15 Feb 2017 08:59:37 +0000"  >&lt;p&gt;We had issues with embedded API (&lt;tt&gt;javax.inject&lt;/tt&gt;) in the past and I don&apos;t know an easy way to fix it in general besides to not embed.&lt;br/&gt;
How about moving &lt;tt&gt;javax.servlet.jsp/javax.servlet.jsp-api/2.2.1&lt;/tt&gt; and &lt;tt&gt;javax.el/javax.el-api/2.2.1&lt;/tt&gt; from &lt;tt&gt;standalone&lt;/tt&gt; to &lt;tt&gt;scripting&lt;/tt&gt; (&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12852769/12852769_apis.patch&quot; title=&quot;apis.patch attached to SLING-6502&quot;&gt;apis.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;)?&lt;br/&gt;
Would that work for you, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="15867491" author="cziegeler" created="Wed, 15 Feb 2017 09:04:58 +0000"  >&lt;p&gt;Does this work in each and every web container? In the past WebLogic and jboss I think were somehow problematic&lt;/p&gt;</comment>
                            <comment id="15867568" author="olli" created="Wed, 15 Feb 2017 09:56:44 +0000"  >&lt;p&gt;Works in Jetty 9, Tomcat 8.5 and WildFly 10.1 (have to check WLS) &#8211; but what should be different in providing those API packages from bundles or from embedded JARs in this case?&lt;/p&gt;</comment>
                            <comment id="15868381" author="cziegeler" created="Wed, 15 Feb 2017 19:07:13 +0000"  >&lt;p&gt;The problem is if we use the API provided from outside people will update the API and think that they can use a newer JSP version; which doesn&apos;t work. I really like the fact that the JSP bundle is isolated from everything else.&lt;br/&gt;
Maybe we should first find out what exactly the problem is, the above error comes from a jsp compiled by Sling&apos;s jsp bundle, so I&apos;m really wondering how this can lead to class space problems.&lt;br/&gt;
What is a way to reproduce this?&lt;/p&gt;</comment>
                            <comment id="15868824" author="olli" created="Wed, 15 Feb 2017 23:45:57 +0000"  >&lt;ul&gt;
	&lt;li&gt;set version of &lt;tt&gt;org.apache.sling/org.apache.sling.scripting.jsp&lt;/tt&gt; to &lt;tt&gt;2.2.6&lt;/tt&gt; in &lt;tt&gt;karaf/org.apache.sling.karaf-features/src/main/feature/feature.xml&lt;/tt&gt; (L469).&lt;/li&gt;
	&lt;li&gt;run &lt;tt&gt;mvn clean install -DskipTests=true&lt;/tt&gt; in &lt;tt&gt;karaf&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;run &lt;tt&gt;mvn clean install&lt;/tt&gt; in &lt;tt&gt;karaf/org.apache.sling.karaf-launchpad-oak-tar-integration-tests&lt;/tt&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15871307" author="cziegeler" created="Fri, 17 Feb 2017 07:04:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt; I get this while trying to build:&lt;br/&gt;
Unresolveable build extension: Plugin org.apache.karaf.tooling:karaf-maven-plugin:4.1.0-SNAPSHOT or one of its dependencies could not be resolved: Could not find artifact org.apache.karaf.tooling:karaf-maven-plugin:jar:4.1.0-SNAPSHOT in apache.snapshots (&lt;a href=&quot;http://repository.apache.org/snapshots&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://repository.apache.org/snapshots&lt;/a&gt;)&lt;br/&gt;
I&apos;ve replaced this with 4.1.0 which seems to be available since some weeks&lt;/p&gt;</comment>
                            <comment id="15871366" author="cziegeler" created="Fri, 17 Feb 2017 07:53:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt; Is there an easy way to find out which bundles are installed for this test and how they are wired? I assume the problem occurs due to some pax-web bundles and I really would like to understand what is going on.&lt;/p&gt;</comment>
                            <comment id="15871598" author="olli" created="Fri, 17 Feb 2017 10:14:17 +0000"  >&lt;blockquote&gt;&lt;p&gt;I&apos;ve replaced this with 4.1.0 which seems to be available since some weeks&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;ve missed the result mail for 4.1.0 take 2 on February 4th somehow (but no release announcement on Karaf site either). Updated to 4.1.0 in &lt;a href=&quot;https://svn.apache.org/r1783361&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1783361&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The easiest way in getting Sling with Felix Web Console similar to Sling Launchpad is:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;run &lt;tt&gt;karaf/org.apache.sling.karaf-distribution/target/assembly/bin/start&lt;/tt&gt; from your build&lt;/li&gt;
	&lt;li&gt;go to &lt;a href=&quot;http://localhost:8181/system/console/features&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8181/system/console/features&lt;/a&gt; (login with &lt;tt&gt;karaf&lt;/tt&gt;:&lt;tt&gt;karaf&lt;/tt&gt;)&lt;/li&gt;
	&lt;li&gt;install &lt;tt&gt;sling-launchpad-oak-tar&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;install &lt;tt&gt;composum-sling&lt;/tt&gt; (depends on &lt;tt&gt;sling-scripting-jsp&lt;/tt&gt; and fails with &lt;tt&gt;java.lang.VerifyError&lt;/tt&gt; when trying to access &lt;a href=&quot;http://localhost:8181/bin/browser.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8181/bin/browser.html&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15871649" author="cziegeler" created="Fri, 17 Feb 2017 10:49:43 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The pax web bundles export javax.el in version 3 and javax.jsp in 2.3.1 - which results in the jsp packages being imported and used by the scripting.jsp bundle but not the javax.el one. And i guess that&apos;s what in turn creates the above problem.&lt;br/&gt;
So I assume simply updating the embedded versions in scripting.jsp should solve the problem.&lt;br/&gt;
Also not using pax web solves the problem. Unfortunately, even pax jetty is importing javax.el , so removing even that single bundle does not work.&lt;br/&gt;
Of course importing everything from the outside should solve the problem as well, however this might bring us into other version mismatch problems&lt;/p&gt;</comment>
                            <comment id="15873766" author="olli" created="Sun, 19 Feb 2017 17:39:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, I&apos;m trying to illustrate what outside and inside is and how Sling is deployed (correct me if I&apos;m wrong):&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Sling Launchpad/Crankstart (Sling&apos;s own OSGi launchers)&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Outside (non-OSGi):&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;JRE classes&lt;/li&gt;
	&lt;li&gt;some Launchpad classes&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;em&gt;Inside (OSGi/bundles):&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Sling (bundles)&lt;/li&gt;
	&lt;li&gt;Servlet API (&lt;tt&gt;standalone.txt&lt;/tt&gt;)&lt;/li&gt;
	&lt;li&gt;JSP and EL API (Scripting JSP &lt;em&gt;or&lt;/em&gt; &lt;tt&gt;scripting.txt&lt;/tt&gt;)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;b&gt;JEE Web Container (WAR)&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Outside (non-OSGi):&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;JRE classes&lt;/li&gt;
	&lt;li&gt;Servlet API (&lt;tt&gt;SlingServletDelegate&lt;/tt&gt;/&lt;tt&gt;org.apache.sling.launcher.system.packages&lt;/tt&gt;)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;em&gt;Inside (OSGi/bundles):&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Sling (bundles)&lt;/li&gt;
	&lt;li&gt;JSP and EL API (Scripting JSP &lt;em&gt;or&lt;/em&gt; &lt;tt&gt;scripting.txt&lt;/tt&gt;)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;b&gt;OSGi Launcher/Container providing HTTP/Web features (e.g. Karaf)&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Outside (non-OSGi):&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;JRE classes&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;em&gt;Inside (OSGi/bundles):&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Sling (bundles)&lt;/li&gt;
	&lt;li&gt;Servlet API&lt;/li&gt;
	&lt;li&gt;JSP and EL API&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The conflict we have now in Karaf happens because Scripting JSP brings JSP and EL API itself and classes are not fully isolated (inside).&lt;/p&gt;

&lt;p&gt;I don&apos;t see how we can run into conflicts in JEE containers as we only provide JRE and &lt;tt&gt;javax.servlet&lt;/tt&gt; packages from the outside &#8211; but I&apos;ve no experience with Sling/AEM deployments on heavy weight containers like WLS.&lt;br/&gt;
Can classes leak from outside (whatever) to inside (OSGi) even when not defined in &lt;tt&gt;org.osgi.framework.system.packages&lt;/tt&gt; or &lt;tt&gt;org.osgi.framework.system.packages.extra&lt;/tt&gt; really?&lt;/p&gt;</comment>
                            <comment id="15874103" author="cziegeler" created="Mon, 20 Feb 2017 06:24:53 +0000"  >&lt;p&gt;You can end up in a JEE environment with the container calling into Sling, Sling invoking a JSP which in turn invokes a JSP (forward/include) which is in another web app managed by the container. And this is were it gets tricky. I&apos;m not 100% sure anymore if this works atm OOTB or if it required to export the jsp/el classes from the container to the OSGi environment through a fragment. I think right now it works out of the box.&lt;br/&gt;
But I agree, the current situation is not optimal either and you can run into version problems in different ways.&lt;br/&gt;
So maybe really removing the jsp/el packages from scripting jsp is the better option.&lt;br/&gt;
And for the JEE case we should provide fragments - and we should actually do the same for the servlet api and the webapp case. This would remove another special case handling from launchapd&lt;/p&gt;</comment>
                            <comment id="15878308" author="olli" created="Wed, 22 Feb 2017 14:27:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6547&quot; title=&quot;Provide framework extension fragment for Servlet API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6547&quot;&gt;&lt;del&gt;SLING-6547&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6548&quot; title=&quot;Provide bundle wrapping Apache Tomcat 6.0.14 JSP API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6548&quot;&gt;&lt;del&gt;SLING-6548&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6549&quot; title=&quot;Provide bundle wrapping Apache Tomcat 6.0.14 EL API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6549&quot;&gt;&lt;del&gt;SLING-6549&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6550&quot; title=&quot;Remove Servlet API from org.apache.sling.launcher.system.packages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6550&quot;&gt;&lt;del&gt;SLING-6550&lt;/del&gt;&lt;/a&gt; added to track further development. Resolving this issue as fixed.&lt;/p&gt;</comment>
                            <comment id="15878380" author="fmeschbe" created="Wed, 22 Feb 2017 14:57:18 +0000"  >&lt;p&gt;Hmm, I think the things you are doing here are becoming fragile and needs proper vetting.&lt;/p&gt;

&lt;p&gt;The Launchpad bundle basically has two artifacts:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Standalone Java Application just bridging into the JVM in a controlled way&lt;/li&gt;
	&lt;li&gt;Web Application Archive (WAR), where we bridge to servlet container in controlled way by adding the Servlet API (and only the Servlet API) to the framework system packages. The EL and JSP API are not bridged because we have our own implementation.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I am not sure how the Karaf integration works, but I assume that you have to control the API deployed in the Karaf system as you are probably not making use of the Launchpad but directly deploy the Sling bundles into the Karaf framework as a Karaf feature, right ?&lt;/p&gt;</comment>
                            <comment id="15878419" author="olli" created="Wed, 22 Feb 2017 15:07:48 +0000"  >&lt;p&gt;You do not control Servlet, Servlet JSP and EL API in Karaf in usual setups. It&apos;s provided by Karaf (container) when depending on &lt;em&gt;http&lt;/em&gt; feature. And right now it conflicts with JSP and EL API provided by Scripting JSP.&lt;/p&gt;

&lt;p&gt;Another way to solve this conflict is to export API as &lt;tt&gt;2.x.x.SLING_JASPER&lt;/tt&gt; from Scripting JSP and narrowing package imports in using bundles.&lt;/p&gt;</comment>
                            <comment id="15897153" author="olli" created="Mon, 6 Mar 2017 11:46:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fmeschbe&quot; class=&quot;user-hover&quot; rel=&quot;fmeschbe&quot;&gt;fmeschbe&lt;/a&gt;: as Felix raised concerns, how do we proceed?&lt;/p&gt;

&lt;p&gt;The smallest change to Lauchpad would be wrapping &lt;tt&gt;jsp-api&lt;/tt&gt; and &lt;tt&gt;el-api&lt;/tt&gt; (similar to &lt;tt&gt;javax.jcr&lt;/tt&gt;) from Apache Tomcat (6.0.14) and adding both to Launchpad.&lt;/p&gt;

&lt;p&gt;Also removing Scripting JSP (and therefore Sightly/HTL[?] and Composum) from Karaf Features/Distribution is an option.&lt;/p&gt;</comment>
                            <comment id="15905521" author="olli" created="Fri, 10 Mar 2017 18:34:12 +0000"  >&lt;p&gt;Switched back to Apache Tomcat 6.0.14 JSP and EL API (&lt;a href=&quot;https://svn.apache.org/r1786406&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1786406&lt;/a&gt;) and using wrappers (&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6548&quot; title=&quot;Provide bundle wrapping Apache Tomcat 6.0.14 JSP API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6548&quot;&gt;&lt;del&gt;SLING-6548&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6549&quot; title=&quot;Provide bundle wrapping Apache Tomcat 6.0.14 EL API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6549&quot;&gt;&lt;del&gt;SLING-6549&lt;/del&gt;&lt;/a&gt;) in Launchpad (&lt;a href=&quot;https://svn.apache.org/r1786409&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1786409&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="15906511" author="rombert" created="Sun, 12 Mar 2017 12:49:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt; - this seems to have broken the launchpad ITs.&lt;/p&gt;

&lt;p&gt;Last good build was &lt;a href=&quot;https://builds.apache.org/job/sling-launchpad-testing-1.8/1160/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/sling-launchpad-testing-1.8/1160/&lt;/a&gt; . First unstable is &lt;a href=&quot;https://builds.apache.org/job/sling-launchpad-testing-1.8/1161/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/sling-launchpad-testing-1.8/1161/&lt;/a&gt;, with changes in dependency:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Apache Sling Launchpad Application Builder  ? &#8594; (&lt;a href=&quot;https://builds.apache.org/job/sling-launchpad-builder-1.8/org.apache.sling$org.apache.sling.launchpad/changes?from=6704&amp;amp;to=6871&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;detail&lt;/a&gt;)&lt;/li&gt;
	&lt;li&gt;Apache Sling Scripting JSP Support Success#20 &#8594; Success#22 (&lt;a href=&quot;https://builds.apache.org/job/sling-bundles-scripting-jsp-1.7/org.apache.sling$org.apache.sling.scripting.jsp/changes?from=20&amp;amp;to=22&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;detail&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The changes for the Launchpad Builder are empty, and the changes for the scripting JSP support point to this issue.&lt;/p&gt;

&lt;p&gt;Can you please double-check?&lt;/p&gt;</comment>
                            <comment id="15906650" author="olli" created="Sun, 12 Mar 2017 19:03:48 +0000"  >&lt;p&gt;&lt;tt&gt;pom.xml&lt;/tt&gt; of &lt;tt&gt;jsp-wrapper&lt;/tt&gt; with wrong scope for &lt;tt&gt;jsp-api&lt;/tt&gt; hit SVN, fixed in &lt;a href=&quot;https://svn.apache.org/r1786605&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1786605&lt;/a&gt;. Thanks, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15906958" author="rombert" created="Mon, 13 Mar 2017 07:29:43 +0000"  >&lt;p&gt;Thanks! I think something else slipped through the cracks ... The launchpad-testing-war tests started failing, first failed job is &lt;a href=&quot;https://builds.apache.org/job/sling-launchpad-testing-war-1.8/org.apache.sling$org.apache.sling.launchpad.testing-war/1129/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/sling-launchpad-testing-war-1.8/org.apache.sling$org.apache.sling.launchpad.testing-war/1129/&lt;/a&gt; &lt;/p&gt;

&lt;p&gt;Failed test is &lt;tt&gt;org.apache.sling.launchpad.webapp.integrationtest.scripting.SlingJSPTaglibTest.testTaglib&lt;/tt&gt;, with the message &lt;tt&gt;java.lang.ClassCastException: org.apache.taglibs.standard.tlv.JstlCoreTLV cannot be cast to javax.servlet.jsp.tagext.TagLibraryValidator&lt;/tt&gt;. The two dependency changes are&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Apache Sling Wrapper Bundle for Apache Tomcat JSP API Success#1 &#8594; Success#2 (&lt;a href=&quot;https://builds.apache.org/job/sling-bundles-scripting-jsp-wrapper-1.7/org.apache.sling$org.apache.sling.scripting.jsp-wrapper/changes?from=1&amp;amp;to=2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;detail&lt;/a&gt;)&lt;/li&gt;
	&lt;li&gt;Apache Sling Scripting JSP Support Success#23 &#8594; Success#24 (&lt;a href=&quot;https://builds.apache.org/job/sling-bundles-scripting-jsp-1.7/org.apache.sling$org.apache.sling.scripting.jsp/changes?from=23&amp;amp;to=24&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;detail&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;which include the following svn changes that you performed for this issue:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;a href=&quot;https://svn.apache.org/r1786605&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1786605&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://svn.apache.org/r1786606&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1786606&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15907018" author="olli" created="Mon, 13 Mar 2017 08:44:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;, should already be fixed by &lt;a href=&quot;https://svn.apache.org/r1786631&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1786631&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fmeschbe&quot; class=&quot;user-hover&quot; rel=&quot;fmeschbe&quot;&gt;fmeschbe&lt;/a&gt;: The current setup of Scripting JSP, Apache Tomcat 6.0.14 JSP and EL API wrappers comes very close to what we had before. Root issue is the unqualified import (without fixed version 2.1.0) of JSP and EL API in Scripting JSP. Tying the imports to 2.1.0 works in general (&lt;a href=&quot;https://svn.apache.org/r1786606&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1786606&lt;/a&gt;) and would allow usage of Apache Tomcat 6.0.14 JSP and EL API in all deployments where JSP and EL API are not already exported with version 2.1.0 (&lt;b&gt;preferred&lt;/b&gt;), but fails with &lt;em&gt;taglib&lt;/em&gt; (&lt;tt&gt;SlingJSPTaglibTest&lt;/tt&gt;, therefore reverted in &lt;a href=&quot;https://svn.apache.org/r1786631&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1786631&lt;/a&gt;):&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Running org.apache.sling.launchpad.webapp.integrationtest.scripting.SlingJSPTaglibTest
Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.496 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.sling.launchpad.webapp.integrationtest.scripting.SlingJSPTaglibTest
testTaglib(org.apache.sling.launchpad.webapp.integrationtest.scripting.SlingJSPTaglibTest)  Time elapsed: 0.496 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
junit.framework.AssertionFailedError: Expected status 200 for http://localhost:61014/SlingJSPTaglibTest/1489355266325/63_1489355266395.html (content=&amp;lt;!DOCTYPE HTML PUBLIC &quot;-//IETF//DTD HTML 2.0//EN&quot;&amp;gt;
&amp;lt;html&amp;gt;
&amp;lt;head&amp;gt;
&amp;lt;title&amp;gt;500 org.apache.taglibs.standard.tlv.JstlCoreTLV cannot be cast to javax.servlet.jsp.tagext.TagLibraryValidator&amp;lt;/title&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
&amp;lt;h1&amp;gt;org.apache.taglibs.standard.tlv.JstlCoreTLV cannot be cast to javax.servlet.jsp.tagext.TagLibraryValidator (500)&amp;lt;/h1&amp;gt;
&amp;lt;p&amp;gt;The requested URL /SlingJSPTaglibTest/1489355266325/63_1489355266395.html resulted in an error in /apps/integration-test/taglib-test/taglib-test.jsp.&amp;lt;/p&amp;gt;
&amp;lt;h3&amp;gt;Exception:&amp;lt;/h3&amp;gt;
&amp;lt;pre&amp;gt;
java.lang.ClassCastException: org.apache.taglibs.standard.tlv.JstlCoreTLV cannot be cast to javax.servlet.jsp.tagext.TagLibraryValidator
	at org.apache.sling.scripting.jsp.jasper.compiler.TagLibraryInfoImpl.createValidator(TagLibraryInfoImpl.java:664)
	at org.apache.sling.scripting.jsp.jasper.compiler.TagLibraryInfoImpl.parseTLD(TagLibraryInfoImpl.java:248)
	at org.apache.sling.scripting.jsp.jasper.compiler.TagLibraryInfoImpl.&amp;amp;lt;init&amp;amp;gt;(TagLibraryInfoImpl.java:163)
	at org.apache.sling.scripting.jsp.jasper.compiler.Parser.parseTaglibDirective(Parser.java:415)
	at org.apache.sling.scripting.jsp.jasper.compiler.Parser.parseDirective(Parser.java:467)
	at org.apache.sling.scripting.jsp.jasper.compiler.Parser.parseElements(Parser.java:1417)
	at org.apache.sling.scripting.jsp.jasper.compiler.Parser.parse(Parser.java:133)
	at org.apache.sling.scripting.jsp.jasper.compiler.ParserController.doParse(ParserController.java:216)
	at org.apache.sling.scripting.jsp.jasper.compiler.ParserController.parse(ParserController.java:103)
	at org.apache.sling.scripting.jsp.jasper.compiler.Compiler.generateJava(Compiler.java:164)
	at org.apache.sling.scripting.jsp.jasper.compiler.Compiler.compile(Compiler.java:302)
	at org.apache.sling.scripting.jsp.jasper.compiler.Compiler.compile(Compiler.java:282)
	at org.apache.sling.scripting.jsp.jasper.compiler.Compiler.compile(Compiler.java:269)
	at org.apache.sling.scripting.jsp.jasper.JspCompilationContext.compile(JspCompilationContext.java:490)
	at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.prepareServlet(JspServletWrapper.java:427)
	at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:486)
	at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:449)
	at org.apache.sling.scripting.jsp.JspScriptEngineFactory.callJsp(JspScriptEngineFactory.java:337)
	at org.apache.sling.scripting.jsp.JspScriptEngineFactory.access$100(JspScriptEngineFactory.java:92)
	at org.apache.sling.scripting.jsp.JspScriptEngineFactory$JspScriptEngine.eval(JspScriptEngineFactory.java:598)
	at org.apache.sling.scripting.core.impl.DefaultSlingScript.call(DefaultSlingScript.java:388)
	at org.apache.sling.scripting.core.impl.DefaultSlingScript.eval(DefaultSlingScript.java:184)
	at org.apache.sling.scripting.core.impl.DefaultSlingScript.service(DefaultSlingScript.java:491)
	at org.apache.sling.engine.impl.request.RequestData.service(RequestData.java:552)
	at org.apache.sling.engine.impl.filter.SlingComponentFilterChain.render(SlingComponentFilterChain.java:44)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:77)
	at org.apache.sling.engine.impl.SlingRequestProcessorImpl.processComponent(SlingRequestProcessorImpl.java:282)
	at org.apache.sling.engine.impl.filter.RequestSlingFilterChain.render(RequestSlingFilterChain.java:49)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:71)
	at org.apache.sling.launchpad.testservices.filters.TestFilter.doFilter(TestFilter.java:47)
	at org.apache.sling.launchpad.testservices.filters.NoPropertyFilter.doFilter(NoPropertyFilter.java:25)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at org.apache.sling.launchpad.testservices.filters.TestFilter.doFilter(TestFilter.java:47)
	at org.apache.sling.launchpad.testservices.filters.SlingFilter.doFilter(SlingFilter.java:25)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at org.apache.sling.engine.impl.debug.RequestProgressTrackerLogFilter.doFilter(RequestProgressTrackerLogFilter.java:107)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at org.apache.sling.engine.impl.SlingRequestProcessorImpl.doProcessRequest(SlingRequestProcessorImpl.java:151)
	at org.apache.sling.engine.impl.SlingMainServlet.service(SlingMainServlet.java:219)
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:837)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1772)
	at org.eclipse.jetty.websocket.server.WebSocketUpgradeFilter.doFilter(WebSocketUpgradeFilter.java:193)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:582)
	at org.ops4j.pax.web.service.jetty.internal.HttpServiceServletHandler.doHandle(HttpServiceServletHandler.java:70)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1180)
	at org.ops4j.pax.web.service.jetty.internal.HttpServiceContext.doHandle(HttpServiceContext.java:284)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:512)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1112)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.ops4j.pax.web.service.jetty.internal.JettyServerHandlerCollection.handle(JettyServerHandlerCollection.java:80)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:134)
	at org.eclipse.jetty.server.Server.handle(Server.java:534)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:320)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:251)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:283)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:110)
	at org.eclipse.jetty.io.SelectChannelEndPoint$2.run(SelectChannelEndPoint.java:93)
	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.executeProduceConsume(ExecuteProduceConsume.java:303)
	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceConsume(ExecuteProduceConsume.java:148)
	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:136)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:671)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:589)
	at java.lang.Thread.run(Thread.java:745)
&amp;lt;/pre&amp;gt;
&amp;lt;h3&amp;gt;Request Progress:&amp;lt;/h3&amp;gt;
&amp;lt;pre&amp;gt;
      0 TIMER_START{Request Processing}
      0 COMMENT timer_end format is {&amp;amp;lt;elapsed microseconds&amp;amp;gt;,&amp;amp;lt;timer name&amp;amp;gt;} &amp;amp;lt;optional message&amp;amp;gt;
      5 LOG Method=GET, PathInfo=null
      6 TIMER_START{handleSecurity}
   5202 TIMER_END{5194,handleSecurity} authenticator org.apache.sling.auth.core.impl.SlingAuthenticator@17afcab7 returns true
   9986 TIMER_START{ResourceResolution}
  11411 TIMER_END{1423,ResourceResolution} URI=/SlingJSPTaglibTest/1489355266325/63_1489355266395.html resolves to Resource=JcrNodeResource, type=integration-test/taglib-test, superType=null, path=/SlingJSPTaglibTest/1489355266325/63_1489355266395
  11416 LOG Resource Path Info: SlingRequestPathInfo: path=&amp;amp;apos;/SlingJSPTaglibTest/1489355266325/63_1489355266395&amp;amp;apos;, selectorString=&amp;amp;apos;null&amp;amp;apos;, extension=&amp;amp;apos;html&amp;amp;apos;, suffix=&amp;amp;apos;null&amp;amp;apos;
  11416 TIMER_START{ServletResolution}
  11418 TIMER_START{resolveServlet(/SlingJSPTaglibTest/1489355266325/63_1489355266395)}
  25077 TIMER_END{13657,resolveServlet(/SlingJSPTaglibTest/1489355266325/63_1489355266395)} Using servlet /apps/integration-test/taglib-test/taglib-test.jsp
  25196 TIMER_END{13778,ServletResolution} URI=/SlingJSPTaglibTest/1489355266325/63_1489355266395.html handled by Servlet=/apps/integration-test/taglib-test/taglib-test.jsp
  25199 LOG Applying Requestfilters
  25202 LOG Calling filter: org.apache.sling.engine.impl.debug.RequestProgressTrackerLogFilter
  25204 LOG Calling filter: org.apache.sling.launchpad.testservices.filters.SlingFilter
  25215 LOG Calling filter: org.apache.sling.launchpad.testservices.filters.NoPropertyFilter
  25218 LOG Applying Componentfilters
  25353 TIMER_START{/apps/integration-test/taglib-test/taglib-test.jsp#0}
  59233 LOG SCRIPT ERROR: org.apache.sling.scripting.jsp.jasper.JasperException: Failed to load or instantiate TagLibraryValidator class: org.apache.taglibs.standard.tlv.JstlCoreTLV
  59237 TIMER_END{33883,/apps/integration-test/taglib-test/taglib-test.jsp#0}
  59260 LOG Filter timing: filter=org.apache.sling.launchpad.testservices.filters.SlingFilterWithPattern, inner=0, total=34, outer=34
  59262 LOG Filter timing: filter=org.apache.sling.launchpad.testservices.filters.NoPropertyFilter, inner=34, total=34, outer=0
  59264 LOG Filter timing: filter=org.apache.sling.launchpad.testservices.filters.SlingFilter, inner=34, total=34, outer=0
  59662 TIMER_START{handleError:throwable=java.lang.ClassCastException}
  87989 TIMER_END{28324,handleError:throwable=java.lang.ClassCastException} Using handler org.apache.sling.servlets.resolver.internal.defaults.DefaultErrorHandlerServlet
  93573 TIMER_END{93572,Request Processing} Dumping SlingRequestProgressTracker Entries
&amp;lt;/pre&amp;gt;
&amp;lt;hr&amp;gt;
&amp;lt;address&amp;gt;ApacheSling/2.6 (jetty/9.3.15.v20161220, Java HotSpot(TM) 64-Bit Server VM 1.8.0_112, Mac OS X 10.10.5 x86_64)&amp;lt;/address&amp;gt;
&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
) expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;
	at junit.framework.Assert.fail(Assert.java:57)
	at junit.framework.Assert.failNotEquals(Assert.java:329)
	at junit.framework.Assert.assertEquals(Assert.java:78)
	at junit.framework.Assert.assertEquals(Assert.java:234)
	at junit.framework.TestCase.assertEquals(TestCase.java:401)
	at org.apache.sling.commons.testing.integration.HttpTestBase.getContent(HttpTestBase.java:439)
	at org.apache.sling.commons.testing.integration.HttpTestBase.getContent(HttpTestBase.java:414)
	at org.apache.sling.commons.testing.integration.HttpTestBase.getContent(HttpTestBase.java:406)
	at org.apache.sling.commons.testing.integration.HttpTestBase.getContent(HttpTestBase.java:401)
	at org.apache.sling.launchpad.webapp.integrationtest.scripting.SlingJSPTaglibTest.testTaglib(SlingJSPTaglibTest.java:75)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15907103" author="rombert" created="Mon, 13 Mar 2017 09:59:34 +0000"  >&lt;p&gt;Build is back to stable, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/sling-launchpad-testing-war-1.8/1142/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/sling-launchpad-testing-war-1.8/1142/&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13045246">SLING-6547</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13045247">SLING-6548</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13045248">SLING-6549</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13045249">SLING-6550</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12852769" name="apis.patch" size="1672" author="olli" created="Wed, 15 Feb 2017 08:59:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 33 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i39fl3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6501] Incorrect normalization of path of an asset with name beginning with &apos;.&apos;</title>
                <link>https://issues.apache.org/jira/browse/SLING-6501</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When a new asset named &quot;.jpg&quot; is being modified in JCR, &lt;a href=&quot;https://sling.apache.org/apidocs/sling7/org/apache/sling/api/resource/ResourceUtil.html#normalize-java.lang.String-&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ResourceUtil.normalize()&lt;/a&gt; method returns an incorrect normalized path which leads to the creation of a folder named &apos;.jp&apos; under the same parent node. A small test shows this anomaly.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;RUNormalizeTest {

	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; toPropertyPath(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; paramName, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; path) {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!paramName.startsWith(&lt;span class=&quot;code-quote&quot;&gt;&quot;/&quot;&lt;/span&gt;)) {
            paramName = ResourceUtil.normalize(path + &lt;span class=&quot;code-quote&quot;&gt;&apos;/&apos;&lt;/span&gt; + paramName);
        }

        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; paramName;
    }
	
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) {
		&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; pName = &lt;span class=&quot;code-quote&quot;&gt;&quot;./jpg_folder/.jpg/jcr:content/metadata/dc:title&quot;&lt;/span&gt;;
		&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; path = &lt;span class=&quot;code-quote&quot;&gt;&quot;/content/dam&quot;&lt;/span&gt;;
		&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(toPropertyPath(pName,path));
	}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Expected output: /content/dam/jpg_folder/.jpg/jcr:content/metadata/dc:title &lt;br/&gt;
Output: /content/dam/jpg_folder/.jp/jcr:content/metadata/dc:title&lt;/p&gt;

&lt;p&gt;In the above code, the properties of an asset named &apos;.jpg&apos; are being modified. However, the normalize method returns an incorrect path for the input path.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13039136">SLING-6501</key>
            <summary>Incorrect normalization of path of an asset with name beginning with &apos;.&apos;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="gaurav17">Gaurav Gupta</reporter>
                        <labels>
                    </labels>
                <created>Tue, 31 Jan 2017 08:50:33 +0000</created>
                <updated>Mon, 30 Oct 2017 16:02:51 +0000</updated>
                            <resolved>Mon, 30 Oct 2017 16:02:51 +0000</resolved>
                                                    <fixVersion>API 2.16.4</fixVersion>
                                    <component>API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16224852" author="satyadeep" created="Mon, 30 Oct 2017 12:44:45 +0000"  >&lt;p&gt;Here&apos;s a suggested patch for resolving this problem: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-api/compare/master...sdmcraft:SLING-6501?expand=1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-api/compare/master...sdmcraft:SLING-6501?expand=1&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; , &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ianeboston&quot; class=&quot;user-hover&quot; rel=&quot;ianeboston&quot;&gt;ianeboston&lt;/a&gt;, could you please review?&lt;/p&gt;</comment>
                            <comment id="16225115" author="cziegeler" created="Mon, 30 Oct 2017 15:21:04 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=satyadeep&quot; class=&quot;user-hover&quot; rel=&quot;satyadeep&quot;&gt;satyadeep&lt;/a&gt; The patch looks good to me. Good you maybe please make this a pull request for us to apply?&lt;/p&gt;</comment>
                            <comment id="16225192" author="githubbot" created="Mon, 30 Oct 2017 15:53:27 +0000"  >&lt;p&gt;sdmcraft opened a new pull request #1: &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6501&quot; title=&quot;Incorrect normalization of path of an asset with name beginning with &amp;#39;.&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6501&quot;&gt;&lt;del&gt;SLING-6501&lt;/del&gt;&lt;/a&gt;:Incorrect normalization of path of an asset with name begi&#8230;&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-api/pull/1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-api/pull/1&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   &#8230;nning with &apos;.&apos;&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16225213" author="githubbot" created="Mon, 30 Oct 2017 16:01:49 +0000"  >&lt;p&gt;cziegeler closed pull request #1: &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6501&quot; title=&quot;Incorrect normalization of path of an asset with name beginning with &amp;#39;.&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6501&quot;&gt;&lt;del&gt;SLING-6501&lt;/del&gt;&lt;/a&gt;:Incorrect normalization of path of an asset with name begi&#8230;&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-api/pull/1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-api/pull/1&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/src/main/java/org/apache/sling/api/resource/ResourceUtil.java b/src/main/java/org/apache/sling/api/resource/ResourceUtil.java&lt;br/&gt;
index 134e133..02d4739 100644&lt;br/&gt;
&amp;#8212; a/src/main/java/org/apache/sling/api/resource/ResourceUtil.java&lt;br/&gt;
+++ b/src/main/java/org/apache/sling/api/resource/ResourceUtil.java&lt;br/&gt;
@@ -82,7 +82,7 @@&lt;/p&gt;

&lt;p&gt;                 lastSlash = bufIdx;&lt;br/&gt;
                 numDots = 0;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;} else if (c == &apos;.&apos; &amp;amp;&amp;amp; numDots &amp;lt; 2) 
{
+            }
&lt;p&gt; else if (c == &apos;.&apos; &amp;amp;&amp;amp; useDot(buf, bufIdx) &amp;amp;&amp;amp; numDots &amp;lt; 2) &lt;/p&gt;
{
                 numDots++;
             }
&lt;p&gt; else &lt;/p&gt;
{
                 // find the next slash
@@ -118,6 +118,21 @@
         return resolved;
     }&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;+    // use this dot only if followed by /&lt;br/&gt;
+    // don&apos;t use if followed by neither . nor /&lt;br/&gt;
+    // keep checking till a non-dot is found&lt;br/&gt;
+    private static boolean useDot(char[] buf, int bufIdx) {&lt;br/&gt;
+        while(bufIdx &amp;lt; buf.length -1) {&lt;br/&gt;
+            if(buf&lt;span class=&quot;error&quot;&gt;&amp;#91;bufIdx&amp;#93;&lt;/span&gt; == &apos;/&apos;) &lt;/p&gt;
{
+                return true;
+            }
&lt;p&gt;+            else if(buf&lt;span class=&quot;error&quot;&gt;&amp;#91;bufIdx&amp;#93;&lt;/span&gt; != &apos;.&apos;) &lt;/p&gt;
{
+                return false;
+            }
&lt;p&gt;+            bufIdx++;&lt;br/&gt;
+        }&lt;br/&gt;
+        return true;&lt;br/&gt;
+    }&lt;br/&gt;
     /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Utility method returns the parent path of the given &amp;lt;code&amp;gt;path&amp;lt;/code&amp;gt;,&lt;/li&gt;
	&lt;li&gt;which is normalized by 
{@link #normalize(String)}
&lt;p&gt; before resolving the&lt;br/&gt;
diff --git a/src/test/java/org/apache/sling/api/resource/ResourceUtilTest.java b/src/test/java/org/apache/sling/api/resource/ResourceUtilTest.java&lt;br/&gt;
index 3688ac0..3e8ca08 100644&lt;/p&gt;
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;a/src/test/java/org/apache/sling/api/resource/ResourceUtilTest.java&lt;br/&gt;
+++ b/src/test/java/org/apache/sling/api/resource/ResourceUtilTest.java&lt;br/&gt;
@@ -114,6 +114,12 @@&lt;br/&gt;
         assertEquals(&quot;/az/...&quot;, ResourceUtil.normalize(&quot;/az/...&quot;));&lt;br/&gt;
         assertEquals(&quot;/az/bz/...&quot;, ResourceUtil.normalize(&quot;/az/bz/...&quot;));&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;+        assertEquals(&quot;/content/dam/jpg_folder/.jpg/jcr:content/metadata/dc:title&quot;,&lt;br/&gt;
+                ResourceUtil.normalize(&quot;/content/dam/./jpg_folder/.jpg/jcr:content/metadata/dc:title&quot;));&lt;br/&gt;
+&lt;br/&gt;
+        assertEquals(&quot;/content/dam/jpg_folder/....jpg/jcr:content/metadata/dc:title&quot;,&lt;br/&gt;
+                ResourceUtil.normalize(&quot;/content/dam/./jpg_folder/....jpg/jcr:content/metadata/dc:title&quot;));&lt;br/&gt;
+&lt;br/&gt;
         try {&lt;br/&gt;
             ResourceUtil.normalize(null);&lt;br/&gt;
             fail(&quot;Resolving null expects NullPointerException&quot;);&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16225215" author="cziegeler" created="Mon, 30 Oct 2017 16:02:51 +0000"  >&lt;p&gt;Thanks for the patch , &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=satyadeep&quot; class=&quot;user-hover&quot; rel=&quot;satyadeep&quot;&gt;satyadeep&lt;/a&gt;. It&apos;s applied&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i39erj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6500] Used bundle might not be added to list of used bundles</title>
                <link>https://issues.apache.org/jira/browse/SLING-6500</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If first a resource is loaded from a bundle in the PackageAdminClassLoader and later on a class, that bundle is not added to the list of used bundles as it is taken from the cache.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13039120">SLING-6500</key>
            <summary>Used bundle might not be added to list of used bundles</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 31 Jan 2017 07:39:53 +0000</created>
                <updated>Fri, 3 Feb 2017 16:25:19 +0000</updated>
                            <resolved>Tue, 31 Jan 2017 07:51:57 +0000</resolved>
                                    <version>Commons ClassLoader 1.3.6</version>
                                    <fixVersion>Commons ClassLoader 1.3.8</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 39 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i39enz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6499] SlingDavExServlet protectedhandlers-config parameter not propagated to ServletConfig</title>
                <link>https://issues.apache.org/jira/browse/SLING-6499</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I&apos;ve noticed while testing the new 1.3.6 release that a warning is logged when starting up the Launchpad:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;30.01.2017 18:14:04.829 *WARN* [Apache Sling Repository Startup Thread] org.apache.jackrabbit.server.remoting.davex.ProtectedRemoveManager protectedhandlers-config is missing -&amp;gt; DIFF processing can fail for the Remove operation if the content toremove is protected!&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Tracing back the code, I see that the service registration parameters are properly added in &lt;tt&gt;SlingDavExServlet.activate&lt;/tt&gt;:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;initProps = {servlet.init.csrf-protection=disabled, servlet.init.resource-path-prefix=/crx/server, service.vendor=The Apache Software Foundation, sling.auth.requirements=-/crx/server, protectedhandlers-config=org.apache.jackrabbit.server.remoting.davex.AclRemoveHandler, osgi.http.whiteboard.servlet.pattern=/crx/server/*, servlet.init.createAbsoluteURI=true, service.description=Sling JcrRemoting Servlet, osgi.http.whiteboard.context.select=(osgi.http.whiteboard.context.name=DavExAuthHttpContext)}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;but they are not propagated to &lt;tt&gt;JcrRemotingServlet.init&lt;/tt&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;config = org.apache.felix.http.base.internal.handler.ServletConfigImpl@3a275518
{
	context = org.apache.felix.http.base.internal.whiteboard.PerBundleServletContextImpl@1107e18,
	initParams = {csrf-protection=disabled, createAbsoluteURI=true, resource-path-prefix=/crx/server}
	name = org.apache.sling.jcr.davex.impl.servlets.SlingDavExServlet
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This reverting the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6378&quot; title=&quot;Unclosed ResourceResolver in davex AuthHttpContext&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6378&quot;&gt;&lt;del&gt;SLING-6378&lt;/del&gt;&lt;/a&gt; solves the issue, but I&apos;d like to not revert that and instead find the root cause.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13038931">SLING-6499</key>
            <summary>SlingDavExServlet protectedhandlers-config parameter not propagated to ServletConfig</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 30 Jan 2017 16:30:39 +0000</created>
                <updated>Wed, 20 Sep 2017 11:32:32 +0000</updated>
                            <resolved>Mon, 30 Jan 2017 16:37:13 +0000</resolved>
                                                    <fixVersion>JCR Davex 1.3.8</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15845417" author="rombert" created="Mon, 30 Jan 2017 16:37:13 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1780935&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1780935&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 39 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i39dhz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6498] DavEx: Login fails</title>
                <link>https://issues.apache.org/jira/browse/SLING-6498</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2017-01-30T09:36:20,104 | DEBUG | qtp970611410-129 | HttpChannel                      | 72 - org.eclipse.jetty.util - 9.3.15.v20161220 | REQUEST for //localhost:8181/server/ on HttpChannelOverHttp@381fd32f{r=1,c=false,a=IDLE,uri=//localhost:8181/server/}
OPTIONS //localhost:8181/server/ HTTP/1.1
User-Agent: Transmit/4.4.10 neon/0.29.3
Keep-Alive: 
Connection: TE, Keep-Alive
TE: trailers
Host: localhost:8181


2017-01-30T09:36:20,104 | DEBUG | qtp970611410-129 | HttpChannel                      | 72 - org.eclipse.jetty.util - 9.3.15.v20161220 | HttpChannelOverHttp@381fd32f{r=1,c=false,a=IDLE,uri=//localhost:8181/server/} onRequestComplete
2017-01-30T09:36:20,104 | DEBUG | qtp970611410-129 | HttpInput                        | 72 - org.eclipse.jetty.util - 9.3.15.v20161220 | HttpInputOverHTTP@cf04085[c=0,q=1,[0]=EOF,s=STREAM] addContent EOF
2017-01-30T09:36:20,104 | DEBUG | qtp970611410-129 | HttpConnection                   | 72 - org.eclipse.jetty.util - 9.3.15.v20161220 | HttpConnection@be8ba01[SelectChannelEndPoint@4bbe2802{/127.0.0.1:58514&amp;lt;-&amp;gt;8181,Open,in,out,-,-,4/30000,HttpConnection@be8ba01}{io=0/0,kio=0,kro=1}][p=HttpParser{s=END,0 of 0},g=HttpGenerator@312c6d46{s=START},c=HttpChannelOverHttp@381fd32f{r=1,c=false,a=IDLE,uri=//localhost:8181/server/}] parsed true HttpParser{s=END,0 of 0}
2017-01-30T09:36:20,104 | DEBUG | qtp970611410-129 | HttpConnection                   | 72 - org.eclipse.jetty.util - 9.3.15.v20161220 | releaseRequestBuffer HttpConnection@be8ba01[SelectChannelEndPoint@4bbe2802{/127.0.0.1:58514&amp;lt;-&amp;gt;8181,Open,in,out,-,-,4/30000,HttpConnection@be8ba01}{io=0/0,kio=0,kro=1}][p=HttpParser{s=END,0 of 0},g=HttpGenerator@312c6d46{s=START},c=HttpChannelOverHttp@381fd32f{r=1,c=false,a=IDLE,uri=//localhost:8181/server/}]
2017-01-30T09:36:20,104 | DEBUG | qtp970611410-129 | HttpChannel                      | 72 - org.eclipse.jetty.util - 9.3.15.v20161220 | HttpChannelOverHttp@381fd32f{r=1,c=false,a=IDLE,uri=//localhost:8181/server/} handle //localhost:8181/server/ 
2017-01-30T09:36:20,105 | DEBUG | qtp970611410-129 | HttpChannelState                 | 72 - org.eclipse.jetty.util - 9.3.15.v20161220 | HttpChannelState@165f70b7{s=IDLE a=NOT_ASYNC i=true r=!P!U w=false} handling IDLE
2017-01-30T09:36:20,105 | DEBUG | qtp970611410-129 | HttpChannel                      | 72 - org.eclipse.jetty.util - 9.3.15.v20161220 | HttpChannelOverHttp@381fd32f{r=1,c=false,a=DISPATCHED,uri=//localhost:8181/server/} action DISPATCH
2017-01-30T09:36:20,105 | DEBUG | qtp970611410-129 | Server                           | 72 - org.eclipse.jetty.util - 9.3.15.v20161220 | REQUEST OPTIONS /server/ on HttpChannelOverHttp@381fd32f{r=1,c=false,a=DISPATCHED,uri=//localhost:8181/server/}
2017-01-30T09:36:20,105 | DEBUG | qtp970611410-129 | ServerModel                      | 91 - org.ops4j.pax.web.pax-web-spi - 6.0.2 | Matching [/server/]...
2017-01-30T09:36:20,105 | DEBUG | qtp970611410-129 | ServerModel                      | 91 - org.ops4j.pax.web.pax-web-spi - 6.0.2 | Path [/server/] matched to {pattern=/server/.*,model=ServletModel{id=org.ops4j.pax.web.service.spi.model.ServletModel-52,name=org.ops4j.pax.web.service.spi.model.ServletModel-52,urlPatterns=[/server/*],alias=null,servlet=org.apache.sling.jcr.davex.impl.servlets.SlingDavExServlet@736cbf61,initParams={csrf-protection=disabled, createAbsoluteURI=true, resource-path-prefix=/server},context=ContextModel{id=org.ops4j.pax.web.service.spi.model.ContextModel-47,name=,httpContext=org.ops4j.pax.web.extender.whiteboard.internal.WebApplication$1@2b9e3a45,contextParams={httpContext.shared=true, webapp.context=},virtualHosts={},connectors={}}}}
2017-01-30T09:36:20,105 | DEBUG | qtp970611410-129 | ContextHandler                   | 72 - org.eclipse.jetty.util - 9.3.15.v20161220 | scope null||/server/ @ HttpServiceContext{httpContext=org.ops4j.pax.web.extender.whiteboard.internal.WebApplication$1@2b9e3a45}
2017-01-30T09:36:20,105 | DEBUG | qtp970611410-129 | ContextHandler                   | 72 - org.eclipse.jetty.util - 9.3.15.v20161220 | context=||/server/ @ HttpServiceContext{httpContext=org.ops4j.pax.web.extender.whiteboard.internal.WebApplication$1@2b9e3a45}
2017-01-30T09:36:20,106 | DEBUG | qtp970611410-129 | session                          | 72 - org.eclipse.jetty.util - 9.3.15.v20161220 | sessionManager=org.ops4j.pax.web.service.jetty.internal.LateInvalidatingHashSessionManager@74b3ce17
2017-01-30T09:36:20,106 | DEBUG | qtp970611410-129 | session                          | 72 - org.eclipse.jetty.util - 9.3.15.v20161220 | session=null
2017-01-30T09:36:20,106 | DEBUG | qtp970611410-129 | ServletHandler                   | 72 - org.eclipse.jetty.util - 9.3.15.v20161220 | servlet |/server|/ -&amp;gt; org.ops4j.pax.web.service.spi.model.ServletModel-52@b9f03ed5==org.apache.sling.jcr.davex.impl.servlets.SlingDavExServlet,-1,true
2017-01-30T09:36:20,106 | DEBUG | qtp970611410-129 | HttpServiceContext               | 88 - org.ops4j.pax.web.pax-web-jetty - 6.0.2 | Handling request for [/server/] using http context [org.ops4j.pax.web.extender.whiteboard.internal.WebApplication$1@2b9e3a45]
2017-01-30T09:36:20,106 | DEBUG | qtp970611410-129 | HttpBasicAuthenticationHandler   | 122 - org.apache.sling.auth.core - 1.3.24 | forceAuthentication: Not forcing authentication because request parameter sling:authRequestLogin is not set
2017-01-30T09:36:20,106 | DEBUG | qtp970611410-129 | SlingAuthenticator               | 122 - org.apache.sling.auth.core - 1.3.24 | getAuthenticationInfo: no handler could extract credentials; assuming anonymous
2017-01-30T09:36:20,106 | DEBUG | qtp970611410-129 | SlingAuthenticator               | 122 - org.apache.sling.auth.core - 1.3.24 | doHandleSecurity: No credentials in the request, anonymous
2017-01-30T09:36:20,107 | DEBUG | qtp970611410-129 | OakSlingRepository               | 143 - org.apache.sling.jcr.base - 3.0.0 | login: Logging in to workspace &apos;default&apos;
2017-01-30T09:36:20,107 | DEBUG | qtp970611410-129 | LoginContextProviderImpl         | 116 - org.apache.jackrabbit.oak-core - 1.5.18 | Found pre-authenticated subject: No further login actions required.
2017-01-30T09:36:20,107 | DEBUG | qtp970611410-129 | AbstractLoginModule              | 116 - org.apache.jackrabbit.oak-core - 1.5.18 | Login: retrieving Credentials using callback.
2017-01-30T09:36:20,108 | DEBUG | qtp970611410-129 | AbstractLoginModule              | 116 - org.apache.jackrabbit.oak-core - 1.5.18 | Login: No supported credentials obtained from callback; trying shared state.
2017-01-30T09:36:20,108 | DEBUG | qtp970611410-129 | AbstractLoginModule              | 116 - org.apache.jackrabbit.oak-core - 1.5.18 | Login: No supported credentials found in shared state; looking for credentials in subject.
2017-01-30T09:36:20,108 | DEBUG | qtp970611410-129 | AbstractLoginModule              | 116 - org.apache.jackrabbit.oak-core - 1.5.18 | No credentials found.
2017-01-30T09:36:20,108 | DEBUG | qtp970611410-129 | AbstractLoginModule              | 116 - org.apache.jackrabbit.oak-core - 1.5.18 | Login: retrieving Credentials using callback.
2017-01-30T09:36:20,109 | DEBUG | qtp970611410-129 | AbstractLoginModule              | 116 - org.apache.jackrabbit.oak-core - 1.5.18 | Login: Credentials &apos;javax.jcr.GuestCredentials@4d22d354&apos; obtained from callback
2017-01-30T09:36:20,109 | DEBUG | qtp970611410-129 | LoginContextProviderImpl         | 116 - org.apache.jackrabbit.oak-core - 1.5.18 | Found pre-authenticated subject: No further login actions required.
2017-01-30T09:36:20,109 | DEBUG | qtp970611410-129 | PropertyIndex                    | 116 - org.apache.jackrabbit.oak-core - 1.5.18 | property cost for uuid is 2.0
2017-01-30T09:36:20,110 | DEBUG | qtp970611410-129 | QueryEngineImpl                  | 116 - org.apache.jackrabbit.oak-core - 1.5.18 | No alternatives found. Query: select [nt:base].[jcr:primaryType] as [nt:base.jcr:primaryType] from [nt:base] as [nt:base] where [nt:base].[jcr:uuid] = $id
2017-01-30T09:36:20,110 | DEBUG | qtp970611410-129 | LoginModuleImpl                  | 116 - org.apache.jackrabbit.oak-core - 1.5.18 | Adding Credentials to shared state.
2017-01-30T09:36:20,110 | DEBUG | qtp970611410-129 | LoginModuleImpl                  | 116 - org.apache.jackrabbit.oak-core - 1.5.18 | Adding login name to shared state.
2017-01-30T09:36:20,111 | DEBUG | qtp970611410-129 | PropertyIndex                    | 116 - org.apache.jackrabbit.oak-core - 1.5.18 | property cost for uuid is 2.0
2017-01-30T09:36:20,111 | DEBUG | qtp970611410-129 | QueryEngineImpl                  | 116 - org.apache.jackrabbit.oak-core - 1.5.18 | No alternatives found. Query: select [nt:base].[jcr:primaryType] as [nt:base.jcr:primaryType] from [nt:base] as [nt:base] where [nt:base].[jcr:uuid] = $id
2017-01-30T09:36:20,112 | DEBUG | qtp970611410-129 | QueryEngineImpl                  | 116 - org.apache.jackrabbit.oak-core - 1.5.18 | No alternatives found. Query: select [rep:MemberReferences].[jcr:primaryType] as [rep:MemberReferences.jcr:primaryType] from [rep:MemberReferences] as [rep:MemberReferences] where property([rep:MemberReferences].[rep:members], &apos;weakreference&apos;) = $uuid
2017-01-30T09:36:20,112 | DEBUG | qtp970611410-129 | SlingAuthenticator               | 122 - org.apache.sling.auth.core - 1.3.24 | setAttributes: ResourceResolver stored as request attribute: user=anonymous
2017-01-30T09:36:20,112 | DEBUG | qtp970611410-129 | HttpServiceServletHandler        | 88 - org.ops4j.pax.web.pax-web-jetty - 6.0.2 | handling request org.ops4j.pax.web.service.jetty.internal.HttpServiceRequestWrapper@39aba8a7, org.ops4j.pax.web.service.jetty.internal.HttpServiceResponseWrapper@34a347f4
2017-01-30T09:36:20,113 | DEBUG | qtp970611410-129 | ServletHandler                   | 72 - org.eclipse.jetty.util - 9.3.15.v20161220 | chain=Jetty_WebSocketUpgradeFilter-&amp;gt;org.ops4j.pax.web.service.spi.model.ServletModel-52@b9f03ed5==org.apache.sling.jcr.davex.impl.servlets.SlingDavExServlet,-1,true
2017-01-30T09:36:20,113 | DEBUG | qtp970611410-129 | ServletHandler                   | 72 - org.eclipse.jetty.util - 9.3.15.v20161220 | call filter Jetty_WebSocketUpgradeFilter
2017-01-30T09:36:20,113 | DEBUG | qtp970611410-129 | ServletHandler                   | 72 - org.eclipse.jetty.util - 9.3.15.v20161220 | call servlet org.ops4j.pax.web.service.spi.model.ServletModel-52@b9f03ed5==org.apache.sling.jcr.davex.impl.servlets.SlingDavExServlet,-1,true
2017-01-30T09:36:20,113 | DEBUG | qtp970611410-129 | IfHeader                         | 113 - org.apache.jackrabbit.jackrabbit-webdav - 2.14.0 | IfHeader: No If header in request
2017-01-30T09:36:20,114 | DEBUG | qtp970611410-129 | IfHeader                         | 113 - org.apache.jackrabbit.jackrabbit-webdav - 2.14.0 | IfHeader: No If header in request
2017-01-30T09:36:20,114 | DEBUG | qtp970611410-129 | DavException                     | 113 - org.apache.jackrabbit.jackrabbit-webdav - 2.14.0 | DavException: (403) Cannot get session for anonymous
2017-01-30T09:36:20,114 | DEBUG | qtp970611410-129 | JcrDavException                  | 146 - org.apache.sling.jcr.davex - 1.3.6 | Handling exception with error code 403
javax.jcr.RepositoryException: Cannot get session for anonymous
	at org.apache.sling.jcr.davex.impl.servlets.SlingDavExServlet$1.getLongLivedSession(SlingDavExServlet.java:205) [146:org.apache.sling.jcr.davex:1.3.6]
	at org.apache.sling.jcr.davex.impl.servlets.SlingDavExServlet$1.getSession(SlingDavExServlet.java:163) [146:org.apache.sling.jcr.davex:1.3.6]
	at org.apache.jackrabbit.server.jcr.JCRWebdavServer$SessionCache.getRepositorySession(JCRWebdavServer.java:337) [146:org.apache.sling.jcr.davex:1.3.6]
	at org.apache.jackrabbit.server.jcr.JCRWebdavServer$SessionCache.get(JCRWebdavServer.java:232) [146:org.apache.sling.jcr.davex:1.3.6]
	at org.apache.jackrabbit.server.jcr.JCRWebdavServer$SessionCache.access$200(JCRWebdavServer.java:165) [146:org.apache.sling.jcr.davex:1.3.6]
	at org.apache.jackrabbit.server.jcr.JCRWebdavServer.attachSession(JCRWebdavServer.java:103) [146:org.apache.sling.jcr.davex:1.3.6]
	at org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.service(AbstractWebdavServlet.java:276) [113:org.apache.jackrabbit.jackrabbit-webdav:2.14.0]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [10:javax.servlet-api:3.1.0]
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:837) [70:org.eclipse.jetty.servlet:9.3.15.v20161220]
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1772) [70:org.eclipse.jetty.servlet:9.3.15.v20161220]
	at org.eclipse.jetty.websocket.server.WebSocketUpgradeFilter.doFilter(WebSocketUpgradeFilter.java:193) [80:org.eclipse.jetty.websocket.server:9.3.15.v20161220]
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759) [70:org.eclipse.jetty.servlet:9.3.15.v20161220]
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:582) [70:org.eclipse.jetty.servlet:9.3.15.v20161220]
	at org.ops4j.pax.web.service.jetty.internal.HttpServiceServletHandler.doHandle(HttpServiceServletHandler.java:70) [88:org.ops4j.pax.web.pax-web-jetty:6.0.2]
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143) [69:org.eclipse.jetty.server:9.3.15.v20161220]
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548) [67:org.eclipse.jetty.security:9.3.15.v20161220]
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226) [69:org.eclipse.jetty.server:9.3.15.v20161220]
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1180) [69:org.eclipse.jetty.server:9.3.15.v20161220]
	at org.ops4j.pax.web.service.jetty.internal.HttpServiceContext.doHandle(HttpServiceContext.java:284) [88:org.ops4j.pax.web.pax-web-jetty:6.0.2]
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:512) [70:org.eclipse.jetty.servlet:9.3.15.v20161220]
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185) [69:org.eclipse.jetty.server:9.3.15.v20161220]
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1112) [69:org.eclipse.jetty.server:9.3.15.v20161220]
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) [69:org.eclipse.jetty.server:9.3.15.v20161220]
	at org.ops4j.pax.web.service.jetty.internal.JettyServerHandlerCollection.handle(JettyServerHandlerCollection.java:80) [88:org.ops4j.pax.web.pax-web-jetty:6.0.2]
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:134) [69:org.eclipse.jetty.server:9.3.15.v20161220]
	at org.eclipse.jetty.server.Server.handle(Server.java:531) [69:org.eclipse.jetty.server:9.3.15.v20161220]
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:320) [69:org.eclipse.jetty.server:9.3.15.v20161220]
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:251) [69:org.eclipse.jetty.server:9.3.15.v20161220]
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:283) [61:org.eclipse.jetty.io:9.3.15.v20161220]
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:110) [61:org.eclipse.jetty.io:9.3.15.v20161220]
	at org.eclipse.jetty.io.SelectChannelEndPoint$2.run(SelectChannelEndPoint.java:93) [61:org.eclipse.jetty.io:9.3.15.v20161220]
	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.executeProduceConsume(ExecuteProduceConsume.java:303) [72:org.eclipse.jetty.util:9.3.15.v20161220]
	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceConsume(ExecuteProduceConsume.java:148) [72:org.eclipse.jetty.util:9.3.15.v20161220]
	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:136) [72:org.eclipse.jetty.util:9.3.15.v20161220]
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:671) [72:org.eclipse.jetty.util:9.3.15.v20161220]
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:589) [72:org.eclipse.jetty.util:9.3.15.v20161220]
	at java.lang.Thread.run(Thread.java:745) [?:?]
Caused by: javax.jcr.LoginException: Cannot derive user name for bundle org.apache.sling.jcr.davex [146] and sub service null
	at org.apache.sling.jcr.base.AbstractSlingRepository2.impersonateFromService(AbstractSlingRepository2.java:344) ~[?:?]
	at org.apache.sling.jcr.davex.impl.servlets.SlingDavExServlet$1.getLongLivedSession(SlingDavExServlet.java:198) ~[146:org.apache.sling.jcr.davex:1.3.6]
	... 36 more
2017-01-30T09:36:20,118 | DEBUG | qtp970611410-129 | HttpChannel                      | 72 - org.eclipse.jetty.util - 9.3.15.v20161220 | sendResponse info=null content=HeapByteBuffer@71160752[p=0,l=260,c=512,r=260]={&amp;lt;&amp;lt;&amp;lt;&amp;lt;?xml version=&quot;1....tion&amp;gt;&amp;lt;/D:error&amp;gt;&amp;gt;&amp;gt;&amp;gt;\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00...\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00} complete=true committing=true callback=Blocker@151c7747{null}
2017-01-30T09:36:20,118 | DEBUG | qtp970611410-129 | HttpChannel                      | 72 - org.eclipse.jetty.util - 9.3.15.v20161220 | COMMIT for /server/ on HttpChannelOverHttp@381fd32f{r=1,c=true,a=DISPATCHED,uri=//localhost:8181/server/}
403 null HTTP/1.1
Date: Mon, 30 Jan 2017 08:36:20 GMT
Content-Type: text/xml;charset=utf-8
Content-Length: 260



&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;tt&gt;org.apache.sling.jcr.davex&lt;/tt&gt; is whitelisted&lt;/li&gt;
	&lt;li&gt;request was done with &lt;tt&gt;admin&lt;/tt&gt; credentials&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment>Apache Karaf 4.1.0-SNAPSHOT&lt;br/&gt;
Sling Launchpad 9-SNAPSHOT</environment>
        <key id="13038840">SLING-6498</key>
            <summary>DavEx: Login fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="olli">Oliver Lietz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 30 Jan 2017 08:55:01 +0000</created>
                <updated>Wed, 20 Sep 2017 11:32:33 +0000</updated>
                            <resolved>Mon, 30 Jan 2017 16:55:46 +0000</resolved>
                                                    <fixVersion>JCR Davex 1.3.8</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15844984" author="olli" created="Mon, 30 Jan 2017 09:45:44 +0000"  >&lt;p&gt;No test failures when reverting &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6404&quot; title=&quot;Remove loginAdministrative() usage from jcr.davex&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6404&quot;&gt;&lt;del&gt;SLING-6404&lt;/del&gt;&lt;/a&gt;. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;, any idea why it does not fail always with regular Launchpad?&lt;/p&gt;</comment>
                            <comment id="15845048" author="cziegeler" created="Mon, 30 Jan 2017 10:58:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt; That&apos;s strange, but I&apos;ve no idea. Maybe we should really revert &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6404&quot; title=&quot;Remove loginAdministrative() usage from jcr.davex&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6404&quot;&gt;&lt;del&gt;SLING-6404&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15845432" author="rombert" created="Mon, 30 Jan 2017 16:45:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt; - that was a testing mistake on my behalf. I did not run the Launchpad with the updated bundle, but used the old one instead. Once I switched&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;-    org.apache.sling/org.apache.sling.jcr.davex/1.3.4
+    org.apache.sling/org.apache.sling.jcr.davex/1.3.7-SNAPSHOT&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;then the SmokeIT fails. I will test reverting the changes for &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6404&quot; title=&quot;Remove loginAdministrative() usage from jcr.davex&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6404&quot;&gt;&lt;del&gt;SLING-6404&lt;/del&gt;&lt;/a&gt; and cut a new release if this solves the problem&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 60.796 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.sling.launchpad.SmokeIT
org.apache.sling.launchpad.SmokeIT  Time elapsed: 60.795 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.lang.RuntimeException: Launchpad not ready. Failed check for URL http://localhost:41475/server/default/jcr:root with message &apos;Status code is HTTP/1.1 403 Forbidden&apos;
	at org.apache.sling.launchpad.LaunchpadReadyRule.runCheck(LaunchpadReadyRule.java:96)
	at org.apache.sling.launchpad.LaunchpadReadyRule.before(LaunchpadReadyRule.java:66)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:46)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15845458" author="rombert" created="Mon, 30 Jan 2017 16:55:46 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1780942&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1780942&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="13028640">SLING-6404</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 39 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i39cxr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6491] Make RestartActiveBundlesTask#execute more resilient. </title>
                <link>https://issues.apache.org/jira/browse/SLING-6491</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;RestartActiveBundlesTask#execute could be more resilient. &lt;br/&gt;
See this stacktrace for an example:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[OsgiInstallerImpl] org.apache.sling.installer.core.impl.OsgiInstallerImpl Uncaught exception during task execution! java.lang.IllegalStateException: Cannot start an uninstalled bundle. 	at org.apache.felix.framework.Felix.startBundle(Felix.java:1953) 	at org.apache.felix.framework.BundleImpl.start(BundleImpl.java:998) 	at org.apache.felix.framework.BundleImpl.start(BundleImpl.java:984) 	at org.apache.sling.installer.core.impl.tasks.RestartActiveBundlesTask.execute(RestartActiveBundlesTask.java:75) 	at org.apache.sling.installer.core.impl.OsgiInstallerImpl.doExecuteTasks(OsgiInstallerImpl.java:855) 	at org.apache.sling.installer.core.impl.OsgiInstallerImpl.executeTasks(OsgiInstallerImpl.java:692) 	at 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;patch to follow&lt;/p&gt;</description>
                <environment></environment>
        <key id="13038432">SLING-6491</key>
            <summary>Make RestartActiveBundlesTask#execute more resilient. </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="asanso">Antonio Sanso</assignee>
                                    <reporter username="asanso">Antonio Sanso</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Jan 2017 12:55:19 +0000</created>
                <updated>Tue, 31 Jan 2017 07:04:17 +0000</updated>
                            <resolved>Fri, 27 Jan 2017 14:48:33 +0000</resolved>
                                                    <fixVersion>Installer Core 3.8.2</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15842854" author="asanso" created="Fri, 27 Jan 2017 13:14:57 +0000"  >&lt;p&gt;pasting diff&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Index: src/main/java/org/apache/sling/installer/core/impl/tasks/RestartActiveBundlesTask.java
===================================================================
--- src/main/java/org/apache/sling/installer/core/impl/tasks/RestartActiveBundlesTask.java	(revision 1765764)
+++ src/main/java/org/apache/sling/installer/core/impl/tasks/RestartActiveBundlesTask.java	(working copy)
@@ -78,6 +78,9 @@
                         remove.add(id);
                     } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; BundleException e) {
                         getLogger().info(&lt;span class=&quot;code-quote&quot;&gt;&quot;Unable to start bundle {} : {}&quot;&lt;/span&gt;, bundle, e.getMessage());
+                    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; IllegalStateException ie) {
+                        getLogger().info(&lt;span class=&quot;code-quote&quot;&gt;&quot;Unable to start bundle {} : {}&quot;&lt;/span&gt;, bundle, ie.getMessage());
+                        remove.add(id);
                     }
                 } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
                     &lt;span class=&quot;code-comment&quot;&gt;// bundle might be &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;(!)&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; WDYT?&lt;/p&gt;</comment>
                            <comment id="15842912" author="kwin" created="Fri, 27 Jan 2017 14:23:09 +0000"  >&lt;p&gt;This is related to &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-5457&quot; title=&quot;OsgiInstaller should retry to start bundles on failures&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-5457&quot;&gt;&lt;del&gt;SLING-5457&lt;/del&gt;&lt;/a&gt; and IMHO we should rework the whole retry/exception handling of the installer. I made a proposal for that in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-5457?focusedCommentId=15594506&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15594506&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SLING-5457?focusedCommentId=15594506&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15594506&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15842916" author="asanso" created="Fri, 27 Jan 2017 14:28:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; thanks. In any case I think that the patch I propose can still find a place in the final solution....&lt;/p&gt;</comment>
                            <comment id="15842925" author="cziegeler" created="Fri, 27 Jan 2017 14:39:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=asanso&quot; class=&quot;user-hover&quot; rel=&quot;asanso&quot;&gt;asanso&lt;/a&gt; Yes, I think we should apply this patch regardless of any other changes&lt;/p&gt;</comment>
                            <comment id="15842933" author="asanso" created="Fri, 27 Jan 2017 14:48:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; thanks I applied the patch in r1780567&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12934378">SLING-5457</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 39 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i39arb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6490] Sightly doesn&apos;t render valid style attribute-value</title>
                <link>https://issues.apache.org/jira/browse/SLING-6490</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I have the following piece of Java:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Style {

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; style = &lt;span class=&quot;code-quote&quot;&gt;&quot;background-image: url(&lt;span class=&quot;code-quote&quot;&gt;&apos;/path/to/image.jpg&apos;&lt;/span&gt;);&quot;&lt;/span&gt;;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I can&apos;t get this value printed unless I use @ context = &apos;unsafe&apos;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;div class=&lt;span class=&quot;code-quote&quot;&gt;&quot;container&quot;&lt;/span&gt; data-sly-use.fv=&lt;span class=&quot;code-quote&quot;&gt;&quot;Style&quot;&lt;/span&gt; style=&lt;span class=&quot;code-quote&quot;&gt;&quot;${ fv.style @ context=&lt;span class=&quot;code-quote&quot;&gt;&apos;styleToken&apos;&lt;/span&gt; }&quot;&lt;/span&gt;&amp;gt;
  
&amp;lt;/div&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13038427">SLING-6490</key>
            <summary>Sightly doesn&apos;t render valid style attribute-value</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="fvisser">Feike Visser</reporter>
                        <labels>
                            <label>Sightly</label>
                    </labels>
                <created>Fri, 27 Jan 2017 12:32:00 +0000</created>
                <updated>Fri, 27 Jan 2017 14:19:07 +0000</updated>
                            <resolved>Fri, 27 Jan 2017 14:19:07 +0000</resolved>
                                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15842732" author="fvisser" created="Fri, 27 Jan 2017 12:35:53 +0000"  >&lt;p&gt;FYI: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vladb&quot; class=&quot;user-hover&quot; rel=&quot;vladb&quot;&gt;vladb&lt;/a&gt;, any idea?&lt;/p&gt;</comment>
                            <comment id="15842758" author="vladb" created="Fri, 27 Jan 2017 12:43:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fvisser&quot; class=&quot;user-hover&quot; rel=&quot;fvisser&quot;&gt;fvisser&lt;/a&gt;: The &lt;tt&gt;styleToken&lt;/tt&gt; context is to be used for tokens, not CSS declarations (See &lt;a href=&quot;https://github.com/Adobe-Marketing-Cloud/htl-spec/blob/master/SPECIFICATION.md#121-display-context&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/Adobe-Marketing-Cloud/htl-spec/blob/master/SPECIFICATION.md#121-display-context&lt;/a&gt;). In your case you might want to use something like:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-html&quot;&gt;style=&lt;span class=&quot;code-quote&quot;&gt;&quot;background-image: ${fv.backgroundImage}&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15842768" author="fvisser" created="Fri, 27 Jan 2017 12:45:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vladb&quot; class=&quot;user-hover&quot; rel=&quot;vladb&quot;&gt;vladb&lt;/a&gt; But also things like styleString isn&apos;t working.&lt;/p&gt;</comment>
                            <comment id="15842788" author="vladb" created="Fri, 27 Jan 2017 12:51:18 +0000"  >&lt;p&gt;There&apos;s probably some name confusion because of the fact that CSS declarations can be part of the &lt;tt&gt;style&lt;/tt&gt; attribute (string) value. The &lt;tt&gt;styleString&lt;/tt&gt; context is supposed to be used for strings within the CSS declarations, ie:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-html&quot;&gt;style=&lt;span class=&quot;code-quote&quot;&gt;&quot;background-image: url(&lt;span class=&quot;code-quote&quot;&gt;&apos;${fv.url}&apos;&lt;/span&gt;)&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15842805" author="vladb" created="Fri, 27 Jan 2017 12:55:06 +0000"  >&lt;p&gt;For more clarity: there is no HTL context at the moment that can handle entire CSS declarations. Same goes for JavaScript code and this is by design of the language/contexts so that HTL expression are only used in pin-point locations, instead of injecting large CSS/JS blocks of code. This keeps CSS and JS close to the HTML template.&lt;/p&gt;</comment>
                            <comment id="15842828" author="radu.cotescu" created="Fri, 27 Jan 2017 13:01:14 +0000"  >&lt;p&gt;As described by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vladb&quot; class=&quot;user-hover&quot; rel=&quot;vladb&quot;&gt;vladb&lt;/a&gt;, when you need to sanitise JS / CSS, you have to make sure that you&apos;re validating more fine grained content - tokens or strings, but not chunks of code.&lt;/p&gt;</comment>
                            <comment id="15842830" author="fvisser" created="Fri, 27 Jan 2017 13:01:18 +0000"  >&lt;p&gt;tested this, but the file-location gets wrongly escaped now:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-quote&quot;&gt;&apos;\2f content\2f dam\2fwe-retail\2f en\2f experiences\2f arctic-surfing-in-lofoten\2f camp-fire.jpg&apos;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Sightly syntax:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; style=&quot;backgroundimage: url(&lt;span class=&quot;code-quote&quot;&gt;&apos;${ fv.style @ context=&apos;&lt;/span&gt;styleString&lt;span class=&quot;code-quote&quot;&gt;&apos;}&apos;&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Java:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Style {

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; style = &lt;span class=&quot;code-quote&quot;&gt;&quot;/content/dam/we-retail/en/experiences/arctic-surfing-in-lofoten/camp-fire.jpg&quot;&lt;/span&gt;;

}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15842835" author="fvisser" created="Fri, 27 Jan 2017 13:02:17 +0000"  >&lt;p&gt;Please check my latest comment..&lt;/p&gt;</comment>
                            <comment id="15842841" author="fvisser" created="Fri, 27 Jan 2017 13:04:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu.cotescu&quot; class=&quot;user-hover&quot; rel=&quot;radu.cotescu&quot;&gt;radu.cotescu&lt;/a&gt; thanks for your comment, indeed &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vladb&quot; class=&quot;user-hover&quot; rel=&quot;vladb&quot;&gt;vladb&lt;/a&gt; had a good point on sanitising JS/CSS.&lt;br/&gt;
Still I don&apos;t get it to work. See my example.&lt;/p&gt;</comment>
                            <comment id="15842870" author="vladb" created="Fri, 27 Jan 2017 13:30:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fvisser&quot; class=&quot;user-hover&quot; rel=&quot;fvisser&quot;&gt;fvisser&lt;/a&gt;: the escaping looks good to me, but &lt;tt&gt;backgroundimage&lt;/tt&gt; should be &lt;tt&gt;background-image&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="15842881" author="fvisser" created="Fri, 27 Jan 2017 13:38:54 +0000"  >&lt;p&gt;thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vladb&quot; class=&quot;user-hover&quot; rel=&quot;vladb&quot;&gt;vladb&lt;/a&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 39 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i39aq7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6485] IllegalArgumentException in SlingAuthenticator#sendSudoCookie</title>
                <link>https://issues.apache.org/jira/browse/SLING-6485</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;17.01.2017 15:28:05.384 *ERROR* [qtp551452944-3582] org.apache.sling.auth.core.impl.SlingAuthenticator sendSudoCookie: Failed to quote value &apos;&apos; of cookie sling.sudo: Cookie value may not be null
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13038081">SLING-6485</key>
            <summary>IllegalArgumentException in SlingAuthenticator#sendSudoCookie</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="asanso">Antonio Sanso</assignee>
                                    <reporter username="asanso">Antonio Sanso</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Jan 2017 10:56:21 +0000</created>
                <updated>Mon, 30 Jan 2017 10:43:35 +0000</updated>
                            <resolved>Thu, 26 Jan 2017 11:11:10 +0000</resolved>
                                                    <fixVersion>Auth Core 1.3.24</fixVersion>
                                    <component>Authentication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15839571" author="asanso" created="Thu, 26 Jan 2017 11:11:10 +0000"  >&lt;p&gt;fixed in r1780365&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 39 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i398k7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6484] PackageTransformer will install packages with the same name/group/version only once</title>
                <link>https://issues.apache.org/jira/browse/SLING-6484</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Due to the check in &lt;a href=&quot;https://github.com/apache/sling/blob/trunk/installer/factories/packages/src/main/java/org/apache/sling/installer/factory/packages/impl/PackageTransformer.java#L219&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/installer/factories/packages/src/main/java/org/apache/sling/installer/factory/packages/impl/PackageTransformer.java#L219&lt;/a&gt;, installation of the same package (same version, name and group) will be prevented the 2nd time, even if a modified version has been uploaded in between.&lt;br/&gt;
See the related ticket &lt;a href=&quot;https://issues.apache.org/jira/browse/JCRVLT-155&quot; title=&quot;JcrPackage.isInstalled does not return false in case the package has been overwritten&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JCRVLT-155&quot;&gt;&lt;del&gt;JCRVLT-155&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13038079">SLING-6484</key>
            <summary>PackageTransformer will install packages with the same name/group/version only once</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Jan 2017 10:38:31 +0000</created>
                <updated>Mon, 24 Feb 2020 18:37:07 +0000</updated>
                            <resolved>Thu, 29 Jun 2017 13:57:42 +0000</resolved>
                                    <version>Installer Packages Factory 1.0.0</version>
                                    <fixVersion>Installer Packages Factory 1.0.0</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15839543" author="kwin" created="Thu, 26 Jan 2017 10:39:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;[&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tripod&quot; class=&quot;user-hover&quot; rel=&quot;tripod&quot;&gt;tripod&lt;/a&gt; Can you have a look?&lt;/p&gt;</comment>
                            <comment id="15839642" author="kwin" created="Thu, 26 Jan 2017 12:46:43 +0000"  >&lt;p&gt;Attached is a proposed patch, which will trigger reinstallation of the package always in case we are dealing with SNAPSHOT version. The cleaner solution though would be to fix the behaviour of &lt;tt&gt;JcrPackage.isInstalled&lt;/tt&gt; in FileVault.&lt;/p&gt;</comment>
                            <comment id="15842392" author="kwin" created="Fri, 27 Jan 2017 08:37:30 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1780517&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1780517&lt;/a&gt; after some discussion in &lt;a href=&quot;https://issues.apache.org/jira/browse/JCRVLT-155&quot; title=&quot;JcrPackage.isInstalled does not return false in case the package has been overwritten&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JCRVLT-155&quot;&gt;&lt;del&gt;JCRVLT-155&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15846488" author="cziegeler" created="Tue, 31 Jan 2017 07:34:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; Please assign issues you have resolved to you&lt;/p&gt;</comment>
                            <comment id="16068363" author="kwin" created="Thu, 29 Jun 2017 13:54:25 +0000"  >&lt;p&gt;With FileVault 3.1.40 fixing the underlying issue (&lt;a href=&quot;https://issues.apache.org/jira/browse/JCRVLT-155&quot; title=&quot;JcrPackage.isInstalled does not return false in case the package has been overwritten&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JCRVLT-155&quot;&gt;&lt;del&gt;JCRVLT-155&lt;/del&gt;&lt;/a&gt;), we should remove this workaround again and increase the dependency to FileVault 3.1.40 instead.&lt;/p&gt;</comment>
                            <comment id="16068368" author="kwin" created="Thu, 29 Jun 2017 13:57:42 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1800283&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1800283&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13038053">JCRVLT-155</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12849489" name="SLING-6484v01.patch" size="1587" author="kwin" created="Thu, 26 Jan 2017 12:46:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 17 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i398jr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6482] Commons Log WebConsole: Exception when creating logger with an empty log file</title>
                <link>https://issues.apache.org/jira/browse/SLING-6482</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When creating a new logger via WebConsole specifying an empty logfile it causes an StringIndexOutOfBoundsException when (re-)opening the WebConsole.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.StringIndexOutOfBoundsException: String index out of range: -1
	at java.lang.String.substring(String.java:1931)
	at org.apache.sling.commons.log.logback.internal.SlingLogPanel.getPath(SlingLogPanel.java:791)
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13037845">SLING-6482</key>
            <summary>Commons Log WebConsole: Exception when creating logger with an empty log file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chetanm">Chetan Mehrotra</assignee>
                                    <reporter username="bjoernweide">Bjoern Weide</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Jan 2017 21:23:32 +0000</created>
                <updated>Fri, 1 Dec 2017 06:34:55 +0000</updated>
                            <resolved>Mon, 27 Nov 2017 06:16:29 +0000</resolved>
                                    <version>Commons Log 5.0.0</version>
                                    <fixVersion>Commons Log 5.1.0</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15838626" author="githubbot" created="Wed, 25 Jan 2017 21:34:39 +0000"  >&lt;p&gt;GitHub user bjoernweide opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/198&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/198&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6482&quot; title=&quot;Commons Log WebConsole: Exception when creating logger with an empty log file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6482&quot;&gt;&lt;del&gt;SLING-6482&lt;/del&gt;&lt;/a&gt;: Fix Exception in Commons Log WebConsole&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6482&quot; title=&quot;Commons Log WebConsole: Exception when creating logger with an empty log file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6482&quot;&gt;&lt;del&gt;SLING-6482&lt;/del&gt;&lt;/a&gt;: Fix StringIndexOutOfBoundsException in Commons Log WebConsole by adding a length check for the path. &lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6482&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SLING-6482&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/bjoernweide/sling&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/bjoernweide/sling&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6482&quot; title=&quot;Commons Log WebConsole: Exception when creating logger with an empty log file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6482&quot;&gt;&lt;del&gt;SLING-6482&lt;/del&gt;&lt;/a&gt;-fix-webconsole-stringindexoutofboundsexception&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/198.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/198.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #198&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 39fb9e6a8804a7870550a5b04c6dc58365acb1a3&lt;br/&gt;
Author: Bjoern Weide &amp;lt;bjoern.weide@netcentric.biz&amp;gt;&lt;br/&gt;
Date:   2017-01-25T21:29:21Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6482&quot; title=&quot;Commons Log WebConsole: Exception when creating logger with an empty log file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6482&quot;&gt;&lt;del&gt;SLING-6482&lt;/del&gt;&lt;/a&gt;: Fix StringIndexOutOfBoundsException in Commons Log WebConsole by adding a length check for the path.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15869818" author="kwin" created="Thu, 16 Feb 2017 12:15:22 +0000"  >&lt;p&gt;I would rather fix it by making all calls really enforce that &lt;tt&gt;path&lt;/tt&gt; always starts with &lt;tt&gt;rootPath&lt;/tt&gt; (in case the latter is not &lt;tt&gt;null&lt;/tt&gt;). &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bjoernweide&quot; class=&quot;user-hover&quot; rel=&quot;bjoernweide&quot;&gt;bjoernweide&lt;/a&gt; Can you provide the full stacktrace above, to expose which call to &lt;tt&gt;getPath(...)&lt;/tt&gt; is using the wrong/unexpected parametrization.&lt;/p&gt;</comment>
                            <comment id="15870707" author="bjoernweide" created="Thu, 16 Feb 2017 21:16:43 +0000"  >&lt;p&gt;Stacktrace:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.StringIndexOutOfBoundsException: String index out of range: -1
	at java.lang.String.substring(String.java:1931)
	at org.apache.sling.commons.log.logback.internal.SlingLogPanel.getPath(SlingLogPanel.java:791)
	at org.apache.sling.commons.log.logback.internal.SlingLogPanel.appendOsgiConfiguredLoggerData(SlingLogPanel.java:221)
	at org.apache.sling.commons.log.logback.internal.SlingLogPanel.render(SlingLogPanel.java:110)
	at org.apache.sling.commons.log.webconsole.internal.LogWebConsolePlugin.renderContent(LogWebConsolePlugin.java:79)
	at org.apache.felix.webconsole.AbstractWebConsolePlugin.doGet(AbstractWebConsolePlugin.java:194)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:618)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It can be reproduced by adding a new logger with an empty log file entry.&lt;/p&gt;</comment>
                            <comment id="15888121" author="kwin" created="Tue, 28 Feb 2017 14:38:41 +0000"  >&lt;p&gt;The log file being empty must be treated as valid as the Apache Sling OSGi Logging Logger Configuration states for &lt;tt&gt;org.apache.sling.commons.log.file&lt;/tt&gt;:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;The name and path of the log file. If this is empty, logging goes to standard output (the console). If this path is relative it is resolved below ${sling.home}. (org.apache.sling.commons.log.file)&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="15888195" author="kwin" created="Tue, 28 Feb 2017 15:21:20 +0000"  >&lt;p&gt;There is definitely something fishy going on here: In &lt;tt&gt;LogConfigManager.updateLogWriter(...)&lt;/tt&gt; an empty filename is converted to the artificial string &lt;tt&gt;LogWriter.FILE_NAME_CONSOLE&lt;/tt&gt;. The same logic is missing in &lt;tt&gt;LogConfigManager.updateLoggerConfiguration()&lt;/tt&gt;, but the check to turn a relative file name into an absolute one is still relying on that (&lt;a href=&quot;https://github.com/apache/sling/blob/trunk/bundles/commons/log/src/main/java/org/apache/sling/commons/log/logback/internal/LogConfigManager.java#L560&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/bundles/commons/log/src/main/java/org/apache/sling/commons/log/logback/internal/LogConfigManager.java#L560&lt;/a&gt;). That leads to the fact that empty filenames are then converted into just the root directory. Afterwards this fails in &lt;tt&gt;SlingLogPanel.getPath()&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Attached is a patch which fixes the SIOOBE. But the fact, that the filename is now turned into the artificial String &lt;tt&gt;LogWriter.FILE_NAME_CONSOLE&lt;/tt&gt; leads to storing &quot;console&quot; as filename into the OSGi configuration when reediting the same configuration through the Sling Log Support Web Console (which is then interpreted as relative file name).&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chetanm&quot; class=&quot;user-hover&quot; rel=&quot;chetanm&quot;&gt;chetanm&lt;/a&gt; Could you please have a look, as you are more familiar with that code?&lt;/p&gt;

&lt;p&gt;IMHO the whole logic to make paths absolute and afterwards shorten them again should not be used for exposing/maintaining the OSGi logging configuration, because then there is always the danger that just touching the OSGi configuration will actually modify it.&lt;/p&gt;</comment>
                            <comment id="16010592" author="rombert" created="Mon, 15 May 2017 14:15:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chetanm&quot; class=&quot;user-hover&quot; rel=&quot;chetanm&quot;&gt;chetanm&lt;/a&gt; - what are your thoughts about Konrad&apos;s comment above?&lt;/p&gt;</comment>
                            <comment id="16011740" author="chetanm" created="Tue, 16 May 2017 04:57:14 +0000"  >&lt;p&gt;Missed looking into this. Yes the logic related to empty path and treating that as console is not clean. This was done to support some backward compatibility requirement for Sling Log 3.x version. Would try to look into this and &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6577&quot; title=&quot;StringIndexOutOfBoundsException in Sling Log Web Console when creating new logger with absolute file name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6577&quot;&gt;&lt;del&gt;SLING-6577&lt;/del&gt;&lt;/a&gt; but given current backlog this may take some time (hopefully next week)&lt;/p&gt;</comment>
                            <comment id="16226229" author="chetanm" created="Tue, 31 Oct 2017 04:29:38 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; for the details. Fixed this with &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=sling-org-apache-sling-commons-log.git;a=commitdiff;h=eb3a92d8eb454ff8091e24408d35802006ebba94&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;Now an empty fileName is mapped to &quot;console&quot; appender. This works fine post edits also.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; Can you validate the behaviour once with trunk to check it addresses your concerns. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13047005">SLING-6577</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12855162" name="SLING-6482-v01.patch" size="2032" author="kwin" created="Tue, 28 Feb 2017 15:21:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i397nj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6480] AbstractSlingRepositoryManager: NPE Multiplexers#getStrategies()</title>
                <link>https://issues.apache.org/jira/browse/SLING-6480</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2017-01-24 11:35:07,055 ERROR [Apache Sling Repository Startup Thread] o.a.s.j.o.s.i.OakSlingRepositoryManager [AbstractSlingRepositoryManager.java : 499] start: Uncaught Throwable trying to access Repository, calling stopRepository()
java.lang.NullPointerException: null
	at org.apache.jackrabbit.oak.plugins.index.property.Multiplexers.getStrategies(Multiplexers.java:75)
	at org.apache.jackrabbit.oak.plugins.index.property.Multiplexers.getStrategies(Multiplexers.java:62)
	at org.apache.jackrabbit.oak.plugins.index.reference.ReferenceEditor.getStrategies(ReferenceEditor.java:210)
	at org.apache.jackrabbit.oak.plugins.index.reference.ReferenceEditor.leave(ReferenceEditor.java:165)
	at org.apache.jackrabbit.oak.spi.commit.CompositeEditor.leave(CompositeEditor.java:74)
	at org.apache.jackrabbit.oak.spi.commit.ProgressNotificationEditor.leave(ProgressNotificationEditor.java:76)
	at org.apache.jackrabbit.oak.spi.commit.VisibleEditor.leave(VisibleEditor.java:63)
	at org.apache.jackrabbit.oak.spi.commit.EditorDiff.process(EditorDiff.java:56)
	at org.apache.jackrabbit.oak.plugins.index.IndexUpdate.enter(IndexUpdate.java:169)
	at org.apache.jackrabbit.oak.spi.commit.VisibleEditor.enter(VisibleEditor.java:57)
	at org.apache.jackrabbit.oak.spi.commit.EditorDiff.process(EditorDiff.java:49)
	at org.apache.jackrabbit.oak.spi.commit.EditorHook.processCommit(EditorHook.java:54)
	at org.apache.jackrabbit.oak.spi.commit.CompositeHook.processCommit(CompositeHook.java:61)
	at org.apache.jackrabbit.oak.plugins.segment.SegmentNodeStore$Commit.prepare(SegmentNodeStore.java:578)
	at org.apache.jackrabbit.oak.plugins.segment.SegmentNodeStore$Commit.optimisticMerge(SegmentNodeStore.java:609)
	at org.apache.jackrabbit.oak.plugins.segment.SegmentNodeStore$Commit.execute(SegmentNodeStore.java:665)
	at org.apache.jackrabbit.oak.plugins.segment.SegmentNodeStore.merge(SegmentNodeStore.java:308)
	at org.apache.jackrabbit.oak.spi.state.ProxyNodeStore.merge(ProxyNodeStore.java:43)
	at org.apache.jackrabbit.oak.spi.lifecycle.OakInitializer.initialize(OakInitializer.java:52)
	at org.apache.jackrabbit.oak.Oak.createNewContentRepository(Oak.java:636)
	at org.apache.jackrabbit.oak.Oak.createContentRepository(Oak.java:624)
	at org.apache.jackrabbit.oak.jcr.Jcr.createContentRepository(Jcr.java:386)
	at org.apache.sling.jcr.oak.server.internal.OakSlingRepositoryManager.acquireRepository(OakSlingRepositoryManager.java:170)
	at org.apache.sling.jcr.base.AbstractSlingRepositoryManager.initializeAndRegisterRepositoryService(AbstractSlingRepositoryManager.java:471)
	at org.apache.sling.jcr.base.AbstractSlingRepositoryManager.access$300(AbstractSlingRepositoryManager.java:85)
	at org.apache.sling.jcr.base.AbstractSlingRepositoryManager$4.run(AbstractSlingRepositoryManager.java:455)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13037330">SLING-6480</key>
            <summary>AbstractSlingRepositoryManager: NPE Multiplexers#getStrategies()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10101">Abandoned</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="olli">Oliver Lietz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Jan 2017 11:00:52 +0000</created>
                <updated>Wed, 16 Mar 2022 08:39:11 +0000</updated>
                            <resolved>Wed, 16 Mar 2022 08:39:11 +0000</resolved>
                                                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15836010" author="olli" created="Tue, 24 Jan 2017 11:01:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;, can you have a look?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 40 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i394hj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6477] Distributing with sling.jcr.api 2.2.0 should not throw NSME</title>
                <link>https://issues.apache.org/jira/browse/SLING-6477</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-5281&quot; title=&quot;Allow execution of distribution requests using calling user session&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-5281&quot;&gt;&lt;del&gt;SLING-5281&lt;/del&gt;&lt;/a&gt; we introduced capability of distributing with user session, however that requires &lt;em&gt;sling.jcr.api-2.3.0&lt;/em&gt; because of &lt;tt&gt;SlingRepository#impersonateFromService&lt;/tt&gt;. In &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-5633&quot; title=&quot;Importing users fails with OakConstraint0022: Authorizable property rep:principalName may not be altered after user/group creation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-5633&quot;&gt;&lt;del&gt;SLING-5633&lt;/del&gt;&lt;/a&gt; the dependency to &lt;em&gt;sling.jcr.api&lt;/em&gt; was moved from version &lt;em&gt;2.3.0&lt;/em&gt; to &lt;em&gt;2.2.0&lt;/em&gt; as to allow installation on older repositories.&lt;br/&gt;
On such old repos if an agent uses the calling user session the following Error appears:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Error executing handler
SimpleDistributionRequest{requestType=PULL, paths=[null]}
java.lang.NoSuchMethodError:
org.apache.sling.jcr.api.SlingRepository.impersonateFromService(Ljava/lang/
String;Ljavax/jcr/Credentials;Ljava/lang/String;)Ljavax/jcr/Session;
	at 
org.apache.sling.distribution.util.impl.DistributionUtils.getResourceResolv
er(DistributionUtils.java:89)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We should fallback to using the service user to login in such cases as to avoid such errors.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13036168">SLING-6477</key>
            <summary>Distributing with sling.jcr.api 2.2.0 should not throw NSME</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marett">Timothee Maret</assignee>
                                    <reporter username="teofili">Tommaso Teofili</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Jan 2017 10:18:44 +0000</created>
                <updated>Tue, 14 Feb 2017 09:30:50 +0000</updated>
                            <resolved>Thu, 19 Jan 2017 10:28:32 +0000</resolved>
                                    <version>Content Distribution Core 0.1.10</version>
                                    <fixVersion>Content Distribution Core 0.2.0</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15829684" author="teofili" created="Thu, 19 Jan 2017 10:28:32 +0000"  >&lt;p&gt;fixed in r1779444.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 40 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i38xb3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6476] [HTL] data-sly-resource transforms resources with dots in their paths to SyntheticResources</title>
                <link>https://issues.apache.org/jira/browse/SLING-6476</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;There seems to be a difference between the includes done by HTL and by JSP when it comes to valid resources which contain more than 2 dots in their name. This didn&apos;t used to be the case in older versions of HTL. JSP and HTL used to be interchangeable, but that&apos;s no longer the case for these kinds of resource paths.&lt;/p&gt;

&lt;p&gt;I&apos;m coming from an AEM background where the issue appeared post upgrade from 6.0 (SP2) to 6.2. So I&apos;m not sure where exactly this puts the issue in terms of sightly versions (since this is in the transference period of sightly being donated to apache, and being renamed, rebranded and reversioned)&lt;/p&gt;

&lt;p&gt;I&apos;ve prepared a package which illustrates the issue on the latest sling build of the trunk. The difference can be viewed by installing the attached package on a sling and looking at /content/jspPage.html vs /content/htlPage.html. Both pages include the same set of resource paths which are expected to yield the same results, but they don&apos;t.&lt;/p&gt;

&lt;p&gt;There you will see that resource paths containing more than 1 dot are interpreted by sightly and resolve to a synthetic resource rather than the actual existing resource.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13035908">SLING-6476</key>
            <summary>[HTL] data-sly-resource transforms resources with dots in their paths to SyntheticResources</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="bart.wulteputte">Bart Wulteputte</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Jan 2017 15:38:14 +0000</created>
                <updated>Thu, 2 Mar 2017 14:15:49 +0000</updated>
                            <resolved>Fri, 20 Jan 2017 09:08:32 +0000</resolved>
                                    <version>Scripting Sightly Engine 1.0.0</version>
                                    <fixVersion>Scripting HTL Engine 1.0.32</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15831438" author="radu.cotescu" created="Fri, 20 Jan 2017 09:08:32 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1779585&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1779585&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12773918">SLING-4402</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12848081" name="htl-vs-sling-1.0.zip" size="25535" author="bart.wulteputte" created="Wed, 18 Jan 2017 15:38:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 40 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i38vpb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6475] Distribution IT test fail on Jenkins </title>
                <link>https://issues.apache.org/jira/browse/SLING-6475</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;50 IT tests currently fail on Apache Jenkins, see &lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/sling-contrib-extensions-distribution-it-1.8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/sling-contrib-extensions-distribution-it-1.8&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13035576">SLING-6475</key>
            <summary>Distribution IT test fail on Jenkins </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marett">Timothee Maret</assignee>
                                    <reporter username="marett">Timothee Maret</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Jan 2017 15:39:15 +0000</created>
                <updated>Tue, 14 Feb 2017 09:30:57 +0000</updated>
                            <resolved>Thu, 19 Jan 2017 12:52:18 +0000</resolved>
                                                    <fixVersion>Content Distribution Core 0.2.0</fixVersion>
                                    <component>Content Distribution Integration Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15829752" author="marett" created="Thu, 19 Jan 2017 11:26:18 +0000"  >&lt;p&gt;After commits &lt;tt&gt;r1757192&lt;/tt&gt; (and others), the tests pass &lt;a href=&quot;https://builds.apache.org/job/sling-contrib-extensions-distribution-it-1.8/337/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/sling-contrib-extensions-distribution-it-1.8/337/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;4 tests have been Ignored.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12993253">SLING-5915</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 40 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i38tnr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6470] Web Console should use &quot;read&quot; service user</title>
                <link>https://issues.apache.org/jira/browse/SLING-6470</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The web console plugin is currently using the &quot;mapping&quot; system user, which is wrong; it should rather use the &quot;read&quot; service user&lt;/p&gt;</description>
                <environment></environment>
        <key id="13035252">SLING-6470</key>
            <summary>Web Console should use &quot;read&quot; service user</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Jan 2017 15:34:29 +0000</created>
                <updated>Tue, 24 Jan 2017 00:25:04 +0000</updated>
                            <resolved>Mon, 16 Jan 2017 15:35:29 +0000</resolved>
                                    <version>Resource Resolver 1.5.10</version>
                                    <fixVersion>Resource Resolver 1.5.12</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15824161" author="cziegeler" created="Mon, 16 Jan 2017 15:35:29 +0000"  >&lt;p&gt;Fixed in rev 1779045&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 41 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i38ro7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6469] Resource Resolver Factory does not start if updating from an older version</title>
                <link>https://issues.apache.org/jira/browse/SLING-6469</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If the resource resolver bundle is updated and it exists a configuration for the &quot;old&quot; resource resolver factory, then this one contains usually a precondition on having the JCR resource provider. With the move to the new SPI this JCR resource provider does not use the PID anymore and therefore the precondition check fails&lt;/p&gt;</description>
                <environment></environment>
        <key id="13035251">SLING-6469</key>
            <summary>Resource Resolver Factory does not start if updating from an older version</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Jan 2017 15:32:11 +0000</created>
                <updated>Tue, 24 Jan 2017 00:24:54 +0000</updated>
                            <resolved>Mon, 16 Jan 2017 15:33:40 +0000</resolved>
                                    <version>Resource Resolver 1.5.10</version>
                                    <fixVersion>Resource Resolver 1.5.12</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15824158" author="cziegeler" created="Mon, 16 Jan 2017 15:33:40 +0000"  >&lt;p&gt;If such a configuration entry is found it is not converted into the new &quot;named provider&quot; property. Rev 1779044&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 41 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i38rnz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6462] Filter Isolated jcr:content nodes (by includes) are not deployed</title>
                <link>https://issues.apache.org/jira/browse/SLING-6462</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a jcr:content node is included by a filter.xml but not its parent then the deployment of the corresponding .content.xml fails and with it its parent node becomes a Sling Folder and the jcr:content node is missing.&lt;/p&gt;

&lt;p&gt;Assuming we have the following on our file system:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;A folder /etc/designs/base&lt;/li&gt;
	&lt;li&gt;A file .content.xml in that folder:&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;?&amp;gt;&lt;/span&gt;
&amp;lt;jcr:root &lt;span class=&quot;code-keyword&quot;&gt;xmlns:sling&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://sling.apache.org/jcr/sling/1.0&quot;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;xmlns:cq&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.day.com/jcr/cq/1.0&quot;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;xmlns:jcr&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.jcp.org/jcr/1.0&quot;&lt;/span&gt;
    jcr:primaryType=&lt;span class=&quot;code-quote&quot;&gt;&quot;cq:Page&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;jcr:content
        cq:doctype=&lt;span class=&quot;code-quote&quot;&gt;&quot;html_5&quot;&lt;/span&gt;
        cq:template=&lt;span class=&quot;code-quote&quot;&gt;&quot;/libs/wcm/core/templates/designpage&quot;&lt;/span&gt;
        jcr:primaryType=&lt;span class=&quot;code-quote&quot;&gt;&quot;cq:PageContent&quot;&lt;/span&gt;
        jcr:title=&lt;span class=&quot;code-quote&quot;&gt;&quot;AEM Base Components&quot;&lt;/span&gt;
        sling:resourceType=&lt;span class=&quot;code-quote&quot;&gt;&quot;wcm/core/components/designer&quot;&lt;/span&gt;/&amp;gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/jcr:root&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;A filter.xml:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;workspaceFilter version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;filter root=&lt;span class=&quot;code-quote&quot;&gt;&quot;/apps/base&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;

    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;filter root=&lt;span class=&quot;code-quote&quot;&gt;&quot;/etc/clientlibs/base&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;

    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;filter root=&lt;span class=&quot;code-quote&quot;&gt;&quot;/etc/designs/base&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;include pattern=&lt;span class=&quot;code-quote&quot;&gt;&quot;/etc/designs/base/jcr:content&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/filter&amp;gt;&lt;/span&gt;
&amp;lt;!--
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;filter root=&lt;span class=&quot;code-quote&quot;&gt;&quot;/etc/designs/base&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
--&amp;gt;

&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/workspaceFilter&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Taking out the include filter and replace it with the comment out one below makes the deployment work.&lt;/p&gt;

&lt;p&gt;Some preliminary investigations revealed that the ResourceChangeCommandFactory.getFilterResult() returns&lt;br/&gt;
PREREQUISITE instead of ALLOW as the path that is tested is /etc/designs/base instead of /etc/designs/base/jcr:content.&lt;/p&gt;

&lt;p&gt;Locally I added that code after the filter.filter() call and before the return:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;//AS NOTE: If we have a jcr:content and it is limited by an include then it might fail
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;//AS NOTE: (DENY) or worse coming back as PREREQUISITE making an undefined node. Here it
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;//AS NOTE: checks &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the resource proxy has a child of jcr:content and &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; so check with
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;//AS NOTE: that path.
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(filterResult != FilterResult.ALLOW &amp;amp;&amp;amp; resourceProxy != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
    List&amp;lt;ResourceProxy&amp;gt; resourceProxyChildren = resourceProxy.getChildren();
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(resourceProxyChildren.size() == 1) {
        ResourceProxy child = resourceProxyChildren.get(0);
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(child.getPath().endsWith(&lt;span class=&quot;code-quote&quot;&gt;&quot;/jcr:content&quot;&lt;/span&gt;)) {
            FilterResult temp = filter.filter(child.getPath());
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(temp == FilterResult.ALLOW) {
                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; FilterResult.ALLOW;
            }
        }
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>MacOS Sierra, JDK 1.8, latest Sling</environment>
        <key id="13034705">SLING-6462</key>
            <summary>Filter Isolated jcr:content nodes (by includes) are not deployed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="andysch">Andreas Schaefer</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Jan 2017 16:02:39 +0000</created>
                <updated>Fri, 11 Apr 2025 14:30:44 +0000</updated>
                                                            <fixVersion>Sling Eclipse IDE 1.3.2</fixVersion>
                                    <component>Tooling</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16326932" author="rombert" created="Tue, 16 Jan 2018 09:36:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andysch&quot; class=&quot;user-hover&quot; rel=&quot;andysch&quot;&gt;andysch&lt;/a&gt; - I tried to reproduce this but I can&apos;t . I&apos;ve attached a full project which AFAIU is exactly what you&apos;re trying, and changes to &lt;tt&gt;/etc/designs/base/jcr:content&lt;/tt&gt; are sent to the server. Can you upload a similar project that reproduces your problem? I&apos;m trying with the latest IDE tooling from git if that matters.&lt;/p&gt;</comment>
                            <comment id="16326935" author="kwin" created="Tue, 16 Jan 2018 09:40:17 +0000"  >&lt;p&gt;I modified the behaviour slightly in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6453&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SLING-6453&lt;/a&gt; so maybe this has fixed this issue as well.&lt;/p&gt;</comment>
                            <comment id="16444373" author="rombert" created="Thu, 19 Apr 2018 16:50:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andysch&quot; class=&quot;user-hover&quot; rel=&quot;andysch&quot;&gt;andysch&lt;/a&gt; - can you confirm that this is still an issue with the latest code?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13034681">SLING-6461</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12906201" name="SLING-6462.zip" size="7671" author="rombert" created="Tue, 16 Jan 2018 09:34:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 27 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0klu7:j</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6461] Isolate jcr:content with filter.xml include is not pushed to Server</title>
                <link>https://issues.apache.org/jira/browse/SLING-6461</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a jcr:content node is included by a filter.xml but not its parent then the deployment of the corresponding .content.xml fails and with it its parent node becomes a Sling Folder and the jcr:content node is missing.&lt;/p&gt;

&lt;p&gt;Assuming we have the following on our file system:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;A folder /etc/designs/base&lt;/li&gt;
	&lt;li&gt;A file .content.xml in that folder:&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;br/&gt;
&amp;lt;jcr:root xmlns:sling=&quot;http://sling.apache.org/jcr/sling/1.0&quot; xmlns:cq=&quot;http://www.day.com/jcr/cq/1.0&quot; xmlns:jcr=&quot;http://www.jcp.org/jcr/1.0&quot;&lt;br/&gt;
    jcr:primaryType=&quot;cq:Page&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;jcr:content&lt;br/&gt;
        cq:doctype=&quot;html_5&quot;&lt;br/&gt;
        cq:template=&quot;/libs/wcm/core/templates/designpage&quot;&lt;br/&gt;
        jcr:primaryType=&quot;cq:PageContent&quot;&lt;br/&gt;
        jcr:title=&quot;AEM Base Components&quot;&lt;br/&gt;
        sling:resourceType=&quot;wcm/core/components/designer&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;/jcr:root&amp;gt;&lt;/p&gt;

&lt;p&gt;A filter.xml:&lt;/p&gt;

&lt;p&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;br/&gt;
&amp;lt;workspaceFilter version=&quot;1.0&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;filter root=&quot;/apps/base&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;filter root=&quot;/etc/clientlibs/base&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;filter root=&quot;/etc/designs/base&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;include pattern=&quot;/etc/designs/base/jcr:content&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;/filter&amp;gt;&lt;br/&gt;
&amp;lt;!--&lt;br/&gt;
    &amp;lt;filter root=&quot;/etc/designs/base&quot;/&amp;gt;&lt;br/&gt;
--&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;/workspaceFilter&amp;gt;&lt;/p&gt;

&lt;p&gt;Taking out the include filter and replace it with the comment out one below makes the deployment work.&lt;/p&gt;

&lt;p&gt;Some preliminary investigations revealed that the ResourceChangeCommandFactory.getFilterResult() returns&lt;br/&gt;
PREREQUISITE instead of ALLOW as the path that is tested is /etc/designs/base instead of /etc/designs/base/jcr:content.&lt;/p&gt;

&lt;p&gt;Locally I added that code after the filter.filter() call and before the return:&lt;/p&gt;

&lt;p&gt;//AS NOTE: If we have a jcr:content and it is limited by an include then it might fail&lt;br/&gt;
//AS NOTE: (DENY) or worse coming back as PREREQUISITE making an undefined node. Here it&lt;br/&gt;
//AS NOTE: checks if the resource proxy has a child of jcr:content and if so check with&lt;br/&gt;
//AS NOTE: that path.&lt;br/&gt;
if(filterResult != FilterResult.ALLOW &amp;amp;&amp;amp; resourceProxy != null) {&lt;br/&gt;
    List&amp;lt;ResourceProxy&amp;gt; resourceProxyChildren = resourceProxy.getChildren();&lt;br/&gt;
    if(resourceProxyChildren.size() == 1) {&lt;br/&gt;
        ResourceProxy child = resourceProxyChildren.get(0);&lt;br/&gt;
        if(child.getPath().endsWith(&quot;/jcr:content&quot;)) {&lt;br/&gt;
            FilterResult temp = filter.filter(child.getPath());&lt;br/&gt;
            if(temp == FilterResult.ALLOW) &lt;/p&gt;
{
                return FilterResult.ALLOW;
            }
&lt;p&gt;        }&lt;br/&gt;
    }&lt;br/&gt;
}&lt;/p&gt;</description>
                <environment>Mac OS X Sierra, Java 1.8, Eclipse Neon.2</environment>
        <key id="13034681">SLING-6461</key>
            <summary>Isolate jcr:content with filter.xml include is not pushed to Server</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="andysch">Andreas Schaefer</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Jan 2017 15:00:38 +0000</created>
                <updated>Mon, 16 Jan 2017 11:09:59 +0000</updated>
                            <resolved>Mon, 16 Jan 2017 11:09:59 +0000</resolved>
                                                                    <component>Tooling</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="13034705">SLING-6462</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 41 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i38o5j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6458] JSP scripting does not support Java 8 features (lambdas, method references, etc)</title>
                <link>https://issues.apache.org/jira/browse/SLING-6458</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When trying to use Java 8 functionality in a JSP file, the Jasper framework in the Sling Scripting bundle fails to compile the JSP file. It seems to get stuck on a Java 8 feature: Lambdas.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;%@page session=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&quot;&lt;/span&gt; %&amp;gt;
&amp;lt;%@ page &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;java.util.stream.IntStream&quot;&lt;/span&gt; %&amp;gt;
&amp;lt;%@ page &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;java.io.IOException&quot;&lt;/span&gt; %&amp;gt;
&amp;lt;%
    out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Lambda test&quot;&lt;/span&gt;);
    IntStream leip = IntStream.of(1, 2, 3, 4, 5, 6);
    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; JspWriter out2 = out;
    leip.forEach(x -&amp;gt; {
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
            out2.println(x);
        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException e) {
            &lt;span class=&quot;code-comment&quot;&gt;// Intentionally &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; nothing
&lt;/span&gt;        }
    });
%&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;When we remove the complete &quot;leip.forEach&quot; statement, the code compiles and executes successfully.&lt;/p&gt;

&lt;p&gt;Upon further investigation, I found out that the Jasper compiler that is being used, does not have support for &quot;tag 18&quot;, which seems to be the lambda feature in Java 8.&lt;br/&gt;
I could find the constant pool tags over here: &lt;a href=&quot;https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.4-140&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.4-140&lt;/a&gt; &lt;br/&gt;
Clearly, there is no support for MethodHandle, MethodType, InvokeDynamic.&lt;/p&gt;

&lt;p&gt;I could find a bug report for Tomcat (where Jasper is developed) over here: &lt;a href=&quot;https://bz.apache.org/bugzilla/show_bug.cgi?id=54475&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bz.apache.org/bugzilla/show_bug.cgi?id=54475&lt;/a&gt; &lt;br/&gt;
It seems that the issue was fixed in a newer version of Jasper, namely 6.0.40. We are currently using 6.0.14 (which is in Apache Sling Scripting JSP version bundle version 2.1.4). &lt;/p&gt;

&lt;p&gt;I tried looking at &lt;a href=&quot;https://mvnrepository.com/artifact/org.apache.sling/org.apache.sling.scripting.jsp&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://mvnrepository.com/artifact/org.apache.sling/org.apache.sling.scripting.jsp&lt;/a&gt; but for some reason all newer versions are also embedding Jasper 6.0.14 (which does not support Java 8) and in the custom code inside that bundle I also do not see any cases for 18 in the switch statement in SmapUtil$SDEInstaller.copyConstantPool. Nor do I see any traces that look like this fix: &lt;a href=&quot;https://bz.apache.org/bugzilla/attachment.cgi?id=31416&amp;amp;action=diff&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bz.apache.org/bugzilla/attachment.cgi?id=31416&amp;amp;action=diff&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;See below a stacktrace of what&apos;s happening:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;12.01.2017 14:39:19.063 *ERROR* [144.119.190.210 [1484228359038] POST /content/page/sign-up.html HTTP/1.1] org.apache.sling.servlets.get.impl.DefaultGetServlet No renderer &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; extension html, cannot render resource ResourceWrapper, type=test/components/form/actions/register, path=/content/page/sign-up/jcr:content/par/start, resource=[JcrNodeResource, type=foundation/components/form/start, superType=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, path=/content/page/sign-up/jcr:content/par/start]
12.01.2017 14:39:19.079 *ERROR* [144.119.190.210 [1484228359038] POST /content/page/sign-up.html HTTP/1.1] com.day.cq.wcm.tags.IncludeTag Error &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; executing script /apps/test/components/form/actions/register/post.POST.jsp org.apache.sling.api.scripting.ScriptEvaluationException: org.apache.sling.scripting.jsp.jasper.JasperException: Unable to compile &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; JSP
        at org.apache.sling.scripting.core.impl.DefaultSlingScript.call(DefaultSlingScript.java:388)
        at org.apache.sling.scripting.core.impl.DefaultSlingScript.eval(DefaultSlingScript.java:171)
        at org.apache.sling.scripting.core.impl.DefaultSlingScript.service(DefaultSlingScript.java:463)
        at com.day.cq.wcm.tags.IncludeTag.includeScript(IncludeTag.java:167)
        at com.day.cq.wcm.tags.IncludeTag.doEndTag(IncludeTag.java:87)
        at org.apache.sling.scripting.jsp.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
        at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:502)
        at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:449)
        at org.apache.sling.scripting.jsp.JspScriptEngineFactory.callJsp(JspScriptEngineFactory.java:281)
        at org.apache.sling.scripting.jsp.JspScriptEngineFactory.access$100(JspScriptEngineFactory.java:102)
        at org.apache.sling.scripting.jsp.JspScriptEngineFactory$JspScriptEngine.eval(JspScriptEngineFactory.java:524)
        at org.apache.sling.scripting.core.impl.DefaultSlingScript.call(DefaultSlingScript.java:361)
        at org.apache.sling.scripting.core.impl.DefaultSlingScript.eval(DefaultSlingScript.java:171)
        at org.apache.sling.scripting.core.impl.DefaultSlingScript.service(DefaultSlingScript.java:463)
        at org.apache.sling.engine.impl.request.RequestData.service(RequestData.java:508)
        at org.apache.sling.engine.impl.filter.SlingComponentFilterChain.render(SlingComponentFilterChain.java:45)
		... filters ommitted &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; brevity ...
        at com.day.j2ee.servletengine.RequestDispatcherImpl.doFilter(RequestDispatcherImpl.java:321)
        at com.day.j2ee.servletengine.RequestDispatcherImpl.service(RequestDispatcherImpl.java:340)
        at com.day.j2ee.servletengine.RequestDispatcherImpl.service(RequestDispatcherImpl.java:383)
        at com.day.j2ee.servletengine.ServletHandlerImpl.process(ServletHandlerImpl.java:335)
        at com.day.j2ee.servletengine.HttpListener$Worker.run(HttpListener.java:644)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
Caused by: org.apache.sling.api.SlingException: org.apache.sling.scripting.jsp.jasper.JasperException: Unable to compile &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; JSP
        at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.handleJspExceptionInternal(JspServletWrapper.java:691)
        at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:608)
        at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:525)
        at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:449)
        at org.apache.sling.scripting.jsp.JspScriptEngineFactory.callJsp(JspScriptEngineFactory.java:281)
        at org.apache.sling.scripting.jsp.JspScriptEngineFactory.access$100(JspScriptEngineFactory.java:102)
        at org.apache.sling.scripting.jsp.JspScriptEngineFactory$JspScriptEngine.eval(JspScriptEngineFactory.java:524)
        at org.apache.sling.scripting.core.impl.DefaultSlingScript.call(DefaultSlingScript.java:361)
        ... 121 more
Caused by: java.io.IOException: unexpected tag: 18
        at org.apache.sling.scripting.jsp.jasper.compiler.SmapUtil$SDEInstaller.copyConstantPool(SmapUtil.java:491)
        at org.apache.sling.scripting.jsp.jasper.compiler.SmapUtil$SDEInstaller.addSDE(SmapUtil.java:308)
        at org.apache.sling.scripting.jsp.jasper.compiler.SmapUtil$SDEInstaller.&amp;lt;init&amp;gt;(SmapUtil.java:264)
        at org.apache.sling.scripting.jsp.jasper.compiler.SmapUtil$SDEInstaller.install(SmapUtil.java:243)
        at org.apache.sling.scripting.jsp.jasper.compiler.SmapUtil.installSmap(SmapUtil.java:167)
        at org.apache.sling.scripting.jsp.jasper.compiler.JDTCompiler.generateClass(JDTCompiler.java:151)
        at org.apache.sling.scripting.jsp.jasper.compiler.&lt;span class=&quot;code-object&quot;&gt;Compiler&lt;/span&gt;.compile(&lt;span class=&quot;code-object&quot;&gt;Compiler&lt;/span&gt;.java:312)
        at org.apache.sling.scripting.jsp.jasper.compiler.&lt;span class=&quot;code-object&quot;&gt;Compiler&lt;/span&gt;.compile(&lt;span class=&quot;code-object&quot;&gt;Compiler&lt;/span&gt;.java:290)
        at org.apache.sling.scripting.jsp.jasper.compiler.&lt;span class=&quot;code-object&quot;&gt;Compiler&lt;/span&gt;.compile(&lt;span class=&quot;code-object&quot;&gt;Compiler&lt;/span&gt;.java:277)
        at org.apache.sling.scripting.jsp.jasper.JspCompilationContext.compile(JspCompilationContext.java:501)
        at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.prepareServlet(JspServletWrapper.java:427)
        at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:486)
        ... 126 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13034600">SLING-6458</key>
            <summary>JSP scripting does not support Java 8 features (lambdas, method references, etc)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="Henry Kuijpers">Henry Kuijpers</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Jan 2017 11:08:06 +0000</created>
                <updated>Mon, 30 Jan 2017 06:50:20 +0000</updated>
                            <resolved>Wed, 25 Jan 2017 15:09:54 +0000</resolved>
                                    <version>Scripting JSP 2.0.28</version>
                    <version>Scripting JSP 2.1.0</version>
                    <version>Scripting JSP 2.1.4</version>
                    <version>Scripting JSP 2.1.6</version>
                    <version>Scripting JSP 2.1.8</version>
                    <version>Scripting JSP 2.2.0</version>
                    <version>Scripting JSP 2.2.2</version>
                    <version>Scripting JSP 2.2.4</version>
                                    <fixVersion>Scripting JSP 2.2.6</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15821647" author="fmeschbe" created="Fri, 13 Jan 2017 11:19:46 +0000"  >&lt;p&gt;There are two topics here:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;First that we are based on an old and venerable Jasper version. Unfortunately we have made some changes to Jasper, that are not integrated upstream (as they are Sling specific) so upgrading is not trivial. Nevertheless at one point in time we should upgrade to a more recent Jasper version, which my gut tells me should rather be from the Tomcat 8 or even Tomcat 9 series.&lt;/li&gt;
	&lt;li&gt;Second the compiler converting the Java Code generated by Jasper to Byte Code. We are embedding the Eclipse compiler and it looks like that version of the Compiler does not support Java 8 (yet).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;So, my impression for this issue is, that we basically should be upgrading the embedded Eclipse Compiler to the most recent version supporting Java 8 (and make sure the source/target version numbers for configuration support Java 8 as well)&lt;/p&gt;</comment>
                            <comment id="15821681" author="cziegeler" created="Fri, 13 Jan 2017 11:43:18 +0000"  >&lt;p&gt;The compiler we use supports Java 8 and our configuration for source/target definitely supports Java 8. I know that if you run Sling on Java 8 it will generate 1.8 byte code and run fine with it. So I think it&apos;s rather the Jasper version, the Eclipse compiler we use should be able to handle these things&lt;/p&gt;

&lt;p&gt;For reference we use this version of the compiler:&lt;br/&gt;
            &amp;lt;groupId&amp;gt;org.eclipse.jdt.core.compiler&amp;lt;/groupId&amp;gt;&lt;br/&gt;
            &amp;lt;artifactId&amp;gt;ecj&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
            &amp;lt;version&amp;gt;4.5.1&amp;lt;/version&amp;gt;&lt;/p&gt;</comment>
                            <comment id="15821692" author="fmeschbe" created="Fri, 13 Jan 2017 11:52:21 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;. In this case I stand corrected and it really is about topic (1): Update Jasper.&lt;/p&gt;</comment>
                            <comment id="15822817" author="olli" created="Sat, 14 Jan 2017 12:47:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=achim_nierbeck&quot; class=&quot;user-hover&quot; rel=&quot;achim_nierbeck&quot;&gt;achim_nierbeck&lt;/a&gt; Does this issue relate to errors I see with Sling on Karaf (Pax Web 6.0.x/Jetty 9.3.15.v20161220)?&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[...]
[httpclient.wire.header] : &amp;lt;&amp;lt; &quot;HTTP/1.1 500 Server Error[\r][\n]&quot;
[httpclient.wire.header] : &amp;lt;&amp;lt; &quot;Content-Type: text/html;charset=utf-8[\r][\n]&quot;
[httpclient.wire.header] : &amp;lt;&amp;lt; &quot;Transfer-Encoding: chunked[\r][\n]&quot;
[httpclient.wire.header] : &amp;lt;&amp;lt; &quot;Server: Jetty(9.3.15.v20161220)[\r][\n]&quot;
[httpclient.wire.header] : &amp;lt;&amp;lt; &quot;[\r][\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;B&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;5&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;1&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;[\r]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;&amp;lt;html&amp;gt;&amp;lt;head&amp;gt;&amp;lt;title&amp;gt;[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;java.lang.VerifyError: Bad type on operand stack[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;Exception Details:[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;  Location:[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;    org/apache/sling/scripting/jsp/jasper/runtime/JspApplicationContextImpl.createELResolver()Ljavax/el/ELResolver; @28: invokevirtual[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;  Reason:[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;    Type &amp;amp;apos;javax/servlet/jsp/el/ImplicitObjectELResolver&amp;amp;apos; (current frame, stack[1]) is not assignable to &amp;amp;apos;javax/el/ELResolver&amp;amp;apos;[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;  Current Frame:[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;    bci: @28[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;    flags: { }[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;    locals: { &amp;amp;apos;org/apache/sling/scripting/jsp/jasper/runtime/JspApplicationContextImpl&amp;amp;apos;, &amp;amp;apos;javax/el/CompositeELResolver&amp;amp;apos; }[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;    stack: { &amp;amp;apos;javax/el/CompositeELResolver&amp;amp;apos;, &amp;amp;apos;javax/servlet/jsp/el/ImplicitObjectELResolver&amp;amp;apos; }[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;  Bytecode:[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;    0x0000000: 2a04 b500 062a b400 1dc7 0080 bb00 1e59[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;    0x0000010: b700 1f4c 2bbb 0020 59b7 0021 b600 222a[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;    0x0000020: b400 05b9 0023 0100 4d2c b900 2401 0099[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;    0x0000030: 0013 2b2c b900 2501 00c0 0026 b600 22a7[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;    0x0000040: ffea 2bbb 0027 59b7 0028 b600 222b bb00[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;    0x0000050: 2959 b700 2ab6 0022 2bbb 002b 59b7 002c[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;    0x0000060: b600 222b bb00 2d59 b700 2eb6 0022 2bbb[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;    0x0000070: 002f 59b7 0030 b600 222b bb00 3159 b700[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;    0x0000080: 32b6 0022 2a2b b500 1d2a b400 1db0     [\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;  Stackmap Table:[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;    append_frame(@41,Object[#112],Object[#113])[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;    chop_frame(@66,1)[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;    chop_frame(@137,1)[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;[\n]&quot;
[httpclient.wire.content] : &amp;lt;&amp;lt; &quot;&amp;lt;/title&amp;gt;&amp;lt;/head&amp;gt;&amp;lt;body&amp;gt;&amp;lt;h1&amp;gt;[\n]&quot;
[...]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15822818" author="olli" created="Sat, 14 Jan 2017 13:00:35 +0000"  >&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.VerifyError: Bad type on operand stack
Exception Details:
  Location:
    org/apache/sling/scripting/jsp/jasper/runtime/JspApplicationContextImpl.createELResolver()Ljavax/el/ELResolver; @28: invokevirtual
  Reason:
    Type &amp;amp;apos;javax/servlet/jsp/el/ImplicitObjectELResolver&amp;amp;apos; (current frame, stack[1]) is not assignable to &amp;amp;apos;javax/el/ELResolver&amp;amp;apos;
  Current Frame:
    bci: @28
    flags: { }
    locals: { &amp;amp;apos;org/apache/sling/scripting/jsp/jasper/runtime/JspApplicationContextImpl&amp;amp;apos;, &amp;amp;apos;javax/el/CompositeELResolver&amp;amp;apos; }
    stack: { &amp;amp;apos;javax/el/CompositeELResolver&amp;amp;apos;, &amp;amp;apos;javax/servlet/jsp/el/ImplicitObjectELResolver&amp;amp;apos; }
  Bytecode:
    0x0000000: 2a04 b500 062a b400 1dc7 0080 bb00 1e59
    0x0000010: b700 1f4c 2bbb 0020 59b7 0021 b600 222a
    0x0000020: b400 05b9 0023 0100 4d2c b900 2401 0099
    0x0000030: 0013 2b2c b900 2501 00c0 0026 b600 22a7
    0x0000040: ffea 2bbb 0027 59b7 0028 b600 222b bb00
    0x0000050: 2959 b700 2ab6 0022 2bbb 002b 59b7 002c
    0x0000060: b600 222b bb00 2d59 b700 2eb6 0022 2bbb
    0x0000070: 002f 59b7 0030 b600 222b bb00 3159 b700
    0x0000080: 32b6 0022 2a2b b500 1d2a b400 1db0     
  Stackmap Table:
    append_frame(@41,Object[#112],Object[#113])
    chop_frame(@66,1)
    chop_frame(@137,1)

	at org.apache.sling.scripting.jsp.jasper.runtime.JspFactoryImpl.getJspApplicationContext(JspFactoryImpl.java:150)
	at org.apache.sling.scripting.jsp.jasper.compiler.JspRuntimeContext$JspFactoryHandler.getJspApplicationContext(JspRuntimeContext.java:123)
	at org.apache.jsp.apps.nt.unstructured.html_jsp._jspInit(html_jsp.java:22)
	at org.apache.sling.scripting.jsp.jasper.runtime.HttpJspBase.init(HttpJspBase.java:52)
	at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.loadServlet(JspServletWrapper.java:191)
	at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.prepareServlet(JspServletWrapper.java:434)
	at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:486)
	at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:449)
	at org.apache.sling.scripting.jsp.JspScriptEngineFactory.callJsp(JspScriptEngineFactory.java:346)
	at org.apache.sling.scripting.jsp.JspScriptEngineFactory.access$100(JspScriptEngineFactory.java:101)
	at org.apache.sling.scripting.jsp.JspScriptEngineFactory$JspScriptEngine.eval(JspScriptEngineFactory.java:607)
	at org.apache.sling.scripting.core.impl.DefaultSlingScript.call(DefaultSlingScript.java:388)
	at org.apache.sling.scripting.core.impl.DefaultSlingScript.eval(DefaultSlingScript.java:184)
	at org.apache.sling.scripting.core.impl.DefaultSlingScript.service(DefaultSlingScript.java:491)
	at org.apache.sling.engine.impl.request.RequestData.service(RequestData.java:552)
	at org.apache.sling.engine.impl.filter.SlingComponentFilterChain.render(SlingComponentFilterChain.java:44)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:77)
	at org.apache.sling.engine.impl.SlingRequestProcessorImpl.processComponent(SlingRequestProcessorImpl.java:282)
	at org.apache.sling.engine.impl.filter.RequestSlingFilterChain.render(RequestSlingFilterChain.java:49)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:71)
	at org.apache.sling.launchpad.testservices.filters.TestFilter.doFilter(TestFilter.java:47)
	at org.apache.sling.launchpad.testservices.filters.NoPropertyFilter.doFilter(NoPropertyFilter.java:25)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at org.apache.sling.launchpad.testservices.filters.TestFilter.doFilter(TestFilter.java:47)
	at org.apache.sling.launchpad.testservices.filters.SlingFilter.doFilter(SlingFilter.java:25)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at org.apache.sling.engine.impl.debug.RequestProgressTrackerLogFilter.doFilter(RequestProgressTrackerLogFilter.java:107)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at org.apache.sling.engine.impl.SlingRequestProcessorImpl.doProcessRequest(SlingRequestProcessorImpl.java:151)
	at org.apache.sling.engine.impl.SlingMainServlet.service(SlingMainServlet.java:219)
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:837)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1772)
	at org.eclipse.jetty.websocket.server.WebSocketUpgradeFilter.doFilter(WebSocketUpgradeFilter.java:193)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:582)
	at org.ops4j.pax.web.service.jetty.internal.HttpServiceServletHandler.doHandle(HttpServiceServletHandler.java:70)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1180)
	at org.ops4j.pax.web.service.jetty.internal.HttpServiceContext.doHandle(HttpServiceContext.java:284)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:512)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1112)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.ops4j.pax.web.service.jetty.internal.JettyServerHandlerCollection.handle(JettyServerHandlerCollection.java:80)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:134)
	at org.eclipse.jetty.server.Server.handle(Server.java:534)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:320)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:251)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:283)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:110)
	at org.eclipse.jetty.io.SelectChannelEndPoint$2.run(SelectChannelEndPoint.java:93)
	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.executeProduceConsume(ExecuteProduceConsume.java:303)
	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceConsume(ExecuteProduceConsume.java:148)
	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:136)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:671)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:589)
	at java.lang.Thread.run(Thread.java:745)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15837875" author="cziegeler" created="Wed, 25 Jan 2017 15:09:54 +0000"  >&lt;p&gt;Fixed in rev 1780203 by applying the patch from&lt;br/&gt;
&lt;a href=&quot;https://bz.apache.org/bugzilla/show_bug.cgi?id=56492&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bz.apache.org/bugzilla/show_bug.cgi?id=56492&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15837956" author="henry kuijpers" created="Wed, 25 Jan 2017 15:55:14 +0000"  >&lt;p&gt;The patch that was actually merged is: &lt;a href=&quot;https://bz.apache.org/bugzilla/show_bug.cgi?id=54475&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bz.apache.org/bugzilla/show_bug.cgi?id=54475&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 40 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i38nnj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6457] MergedResource&apos;s toString does not display properly merged resources&apos; paths</title>
                <link>https://issues.apache.org/jira/browse/SLING-6457</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Paths of merged resources are kept in a String array which is accessed by &lt;em&gt;toString&lt;/em&gt; via &lt;em&gt;ResourceMetadata metadata&lt;/em&gt; field which is in fact a String to Object map.&lt;br/&gt;
Therefore &lt;em&gt;toString&lt;/em&gt; method prints &lt;em&gt;this.metadata.get(MergedResourceConstants.METADATA_RESOURCES)&lt;/em&gt; directly which results in an output similar to this:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;MergedResource [path=/merged, resources=[Ljava.lang.String;@51920d25]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;instead of e.g.:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;MergedResource [path=/merged, resources=[/a, /b, /c]]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13034576">SLING-6457</key>
            <summary>MergedResource&apos;s toString does not display properly merged resources&apos; paths</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="krystian">Krystian Nowak</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Jan 2017 10:18:02 +0000</created>
                <updated>Mon, 23 Jan 2017 07:19:43 +0000</updated>
                            <resolved>Fri, 13 Jan 2017 12:58:43 +0000</resolved>
                                    <version>Resource Merger 1.3.0</version>
                                    <fixVersion>Resource Merger 1.3.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15821559" author="krystian" created="Fri, 13 Jan 2017 10:19:41 +0000"  >&lt;p&gt;Patch with a proposed fix attached&lt;/p&gt;</comment>
                            <comment id="15821739" author="kwin" created="Fri, 13 Jan 2017 12:58:43 +0000"  >&lt;p&gt;Applied the patch in &lt;a href=&quot;https://svn.apache.org/r1778578&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1778578&lt;/a&gt;. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=krystian&quot; class=&quot;user-hover&quot; rel=&quot;krystian&quot;&gt;krystian&lt;/a&gt; for providing it.&lt;/p&gt;</comment>
                            <comment id="15834001" author="krystian" created="Mon, 23 Jan 2017 07:19:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; You&apos;re welcome and thanks for applying it!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12847293" name="SLING-6457-krystian.patch" size="2713" author="krystian" created="Fri, 13 Jan 2017 10:19:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 40 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i38ni7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6453] In case no filter.xml could be found nothing should be synchronized</title>
                <link>https://issues.apache.org/jira/browse/SLING-6453</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In case a filter file is not found the method ResourceChangeCommandFactory#getFilterResult returns ALLOW while it should return DENY to not overwrite any nodes in case the filter rules could not be determined. Look at &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6344&quot; title=&quot;Support filter.xmls being generated by the content-package-maven-plugin&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6344&quot;&gt;SLING-6344&lt;/a&gt; for a concrete example where that behaviour lead to partly broken Sling servers.&lt;/p&gt;

&lt;p&gt;That would affect synchronisation and dedicated import/export.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13033754">SLING-6453</key>
            <summary>In case no filter.xml could be found nothing should be synchronized</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Jan 2017 15:25:14 +0000</created>
                <updated>Sun, 21 Jan 2018 20:23:34 +0000</updated>
                            <resolved>Sun, 22 Jan 2017 16:46:00 +0000</resolved>
                                    <version>Sling Eclipse IDE 1.1.0</version>
                                    <fixVersion>Sling Eclipse IDE 1.2.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15833602" author="kwin" created="Sun, 22 Jan 2017 16:46:00 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1779835&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1779835&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16326965" author="rombert" created="Tue, 16 Jan 2018 10:21:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; - I think this has caused a regression, can you please take a quick look at &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-7385&quot; title=&quot;Unable to import from repository - No valid filter found&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-7385&quot;&gt;&lt;del&gt;SLING-7385&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13024386">SLING-6344</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 41 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i38k7j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6450] [HTL] Cannot retrieve &quot;length&quot; property for arrays of primitive types</title>
                <link>https://issues.apache.org/jira/browse/SLING-6450</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When attempting to retrieve the &lt;tt&gt;length&lt;/tt&gt; property of an array of primitives, HTL will return &lt;tt&gt;null&lt;/tt&gt;. The behaviour should, however, be unitary with the one for Object arrays.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13033676">SLING-6450</key>
            <summary>[HTL] Cannot retrieve &quot;length&quot; property for arrays of primitive types</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Jan 2017 10:34:17 +0000</created>
                <updated>Tue, 17 Jan 2017 15:34:48 +0000</updated>
                            <resolved>Wed, 11 Jan 2017 11:59:00 +0000</resolved>
                                    <version>Scripting Sightly Engine 1.0.0</version>
                                    <fixVersion>Scripting HTL Compiler 1.0.6</fixVersion>
                    <fixVersion>Scripting HTL Java Compiler 1.0.8</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15818120" author="radu.cotescu" created="Wed, 11 Jan 2017 11:59:00 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=1778282&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1778282&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 42 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i38jqf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6448] Not able to upload file when sling running as war file using curl</title>
                <link>https://issues.apache.org/jira/browse/SLING-6448</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Here are steps followed&lt;br/&gt;
1) Checked out code from svn&lt;br/&gt;
svn co &lt;a href=&quot;http://svn.apache.org/repos/asf/sling/trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/sling/trunk&lt;/a&gt; sling&lt;br/&gt;
2) cd sling&lt;br/&gt;
3) cd launchpad/builder&lt;br/&gt;
4) mvn --update-snapshots clean install&lt;br/&gt;
5) mvn jetty:run-war&lt;br/&gt;
(please note I have add jetty dependency in pom.xml to run above command)&lt;/p&gt;

&lt;p&gt;I have used curl to upload file&lt;br/&gt;
&amp;gt;&amp;gt; curl -u admin:admin &lt;a href=&quot;http://localhost:8080/content/test.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/content/test.html&lt;/a&gt; --upload-file test.html&lt;/p&gt;

&lt;p&gt;is giving following error: PUT 405 Error&lt;/p&gt;

&lt;p&gt;d:\curl-7.52.1-win64-mingw\bin\curl.exe -u admin:admin &lt;a href=&quot;http://localhost:8080/content/test.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/content/test.html&lt;/a&gt; --upload-file test.html&lt;br/&gt;
&amp;lt;!DOCTYPE HTML PUBLIC &quot;-//IETF//DTD HTML 2.0//EN&quot;&amp;gt;&lt;br/&gt;
&amp;lt;html&amp;gt;&lt;br/&gt;
&amp;lt;head&amp;gt;&lt;br/&gt;
&amp;lt;title&amp;gt;405 Method PUT not supported&amp;lt;/title&amp;gt;&lt;br/&gt;
&amp;lt;/head&amp;gt;&lt;br/&gt;
&amp;lt;body&amp;gt;&lt;br/&gt;
&amp;lt;h1&amp;gt;Method PUT not supported (405)&amp;lt;/h1&amp;gt;&lt;br/&gt;
&amp;lt;p&amp;gt;The requested URL /content/test.html resulted in an error in Apache Sling&lt;br/&gt;
 Core Default Servlet.&amp;lt;/p&amp;gt;&lt;br/&gt;
&amp;lt;h3&amp;gt;Request Progress:&amp;lt;/h3&amp;gt;&lt;br/&gt;
&amp;lt;pre&amp;gt;&lt;br/&gt;
      0 TIMER_START&lt;/p&gt;
{Request Processing}
&lt;p&gt;      2 COMMENT timer_end format is &lt;/p&gt;
{&amp;lt;elapsed microseconds&amp;gt;,&amp;lt;timer name
&amp;gt;}
&lt;p&gt; &amp;lt;optional message&amp;gt;&lt;br/&gt;
     10 LOG Method=PUT, PathInfo=null&lt;br/&gt;
     21 TIMER_START&lt;/p&gt;
{handleSecurity}
&lt;p&gt;   2418 TIMER_END&lt;/p&gt;
{2395,handleSecurity}
&lt;p&gt; authenticator org.apache.sling.auth.core.&lt;br/&gt;
impl.SlingAuthenticator@68556f8e returns true&lt;br/&gt;
   3517 TIMER_START&lt;/p&gt;
{ResourceResolution}
&lt;p&gt;   3925 TIMER_END&lt;/p&gt;
{406,ResourceResolution}
&lt;p&gt; URI=/content/test.html resolves to&lt;br/&gt;
 Resource=NonExistingResource, path=/content/test.html&lt;br/&gt;
   3936 LOG Resource Path Info: SlingRequestPathInfo: path=&amp;apos;/content/landin&lt;br/&gt;
g.html&amp;apos;, selectorString=&amp;apos;null&amp;apos;, extension=&amp;apos;html&amp;apos;, suf&lt;br/&gt;
fix=&amp;apos;null&amp;apos;&lt;br/&gt;
   3936 TIMER_START&lt;/p&gt;
{ServletResolution}
&lt;p&gt;   3941 TIMER_START&lt;/p&gt;
{resolveServlet(/content/test.html)}
&lt;p&gt;   4367 TIMER_END&lt;/p&gt;
{423,resolveServlet(/content/test.html)}
&lt;p&gt; Using servlet Apac&lt;br/&gt;
he Sling Core Default Servlet&lt;br/&gt;
   4371 TIMER_END&lt;/p&gt;
{434,ServletResolution}
&lt;p&gt; URI=/content/test.html handled by S&lt;br/&gt;
ervlet=Apache Sling Core Default Servlet&lt;br/&gt;
   4378 LOG Applying Requestfilters&lt;br/&gt;
   4385 LOG Calling filter: org.apache.sling.i18n.impl.I18NFilter&lt;br/&gt;
   4392 LOG Calling filter: org.apache.sling.engine.impl.debug.RequestProgressTr&lt;br/&gt;
ackerLogFilter&lt;br/&gt;
   4397 LOG Applying Componentfilters&lt;br/&gt;
   4409 TIMER_START&lt;/p&gt;
{Apache Sling Core Default Servlet#0}
&lt;p&gt;   4425 LOG Applying Error filters&lt;br/&gt;
   4428 LOG Calling filter: org.apache.sling.i18n.impl.I18NFilter&lt;br/&gt;
   4433 TIMER_START&lt;/p&gt;
{handleError:status=405}
&lt;p&gt;   4577 TIMER_END&lt;/p&gt;
{143,handleError:status=405}
&lt;p&gt; Using handler org.apache.sling.ser&lt;br/&gt;
vlets.resolver.internal.defaults.DefaultErrorHandlerServlet&lt;br/&gt;
   5111 TIMER_END&lt;/p&gt;
{5109,Request Processing}
&lt;p&gt; Dumping SlingRequestProgressTracker E&lt;br/&gt;
ntries&lt;br/&gt;
&amp;lt;/pre&amp;gt;&lt;br/&gt;
&amp;lt;hr&amp;gt;&lt;br/&gt;
&amp;lt;address&amp;gt;ApacheSling/2.6 (jetty/9.3.12.v20160915, Java HotSpot(TM) 64-Bit Server&lt;br/&gt;
 VM 1.8.0_102, Windows 8 6.2 amd64)&amp;lt;/address&amp;gt;&lt;br/&gt;
&amp;lt;/body&amp;gt;&lt;br/&gt;
&amp;lt;/html&amp;gt;&lt;br/&gt;
_______________________________________________&lt;/p&gt;

&lt;p&gt;But If start sling using executable jar able to upload the file using curl.&lt;br/&gt;
java -Xmx4g -Xms4g -Dsling.home=\var\sling -Dsling.run.modes=oak -jar target\org.apache.sling.launchpad-9-SNAPSHOT.jar start&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;

&lt;p&gt;Ravi&lt;/p&gt;</description>
                <environment>Windows, Apache </environment>
        <key id="13033256">SLING-6448</key>
            <summary>Not able to upload file when sling running as war file using curl</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="singareddy">Ravi Singareddy</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Jan 2017 02:22:58 +0000</created>
                <updated>Thu, 9 Feb 2017 11:16:32 +0000</updated>
                            <resolved>Thu, 9 Feb 2017 11:16:32 +0000</resolved>
                                    <version>Launchpad Builder 9</version>
                                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15814341" author="rombert" created="Tue, 10 Jan 2017 08:39:40 +0000"  >&lt;p&gt;How do you start Sling using the jetty-maven-plugin? I have added the following change to the pom file:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;diff --git a/launchpad/builder/pom.xml b/launchpad/builder/pom.xml
index c79fa65de..479437852 100644
--- a/launchpad/builder/pom.xml
+++ b/launchpad/builder/pom.xml
@@ -71,6 +71,11 @@
                 &amp;lt;/configuration&amp;gt;
             &amp;lt;/plugin&amp;gt;
             &amp;lt;plugin&amp;gt;
+              &amp;lt;groupId&amp;gt;org.eclipse.jetty&amp;lt;/groupId&amp;gt;
+              &amp;lt;artifactId&amp;gt;jetty-maven-plugin&amp;lt;/artifactId&amp;gt;
+              &amp;lt;version&amp;gt;9.4.0.v20161208&amp;lt;/version&amp;gt;
+            &amp;lt;/plugin&amp;gt;
+            &amp;lt;plugin&amp;gt;
                 &amp;lt;groupId&amp;gt;org.apache.sling&amp;lt;/groupId&amp;gt;
                 &amp;lt;artifactId&amp;gt;slingstart-maven-plugin&amp;lt;/artifactId&amp;gt;
                 &amp;lt;version&amp;gt;1.7.0&amp;lt;/version&amp;gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But I get an error when starting up sling with &lt;tt&gt;mvn clean package jetty:run-war&lt;/tt&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[WARNING] sling: Failed to start Apache Sling in /home/robert/Documents/sources/apache/sling/launchpad/builder/sling/_
java.lang.ClassCircularityError: java/lang/ThreadDeath
	at org.apache.felix.framework.URLHandlers.createURLStreamHandler(URLHandlers.java:490)
	at java.net.URL.getURLStreamHandler(URL.java:1142)
	at java.net.URL.&amp;lt;init&amp;gt;(URL.java:599)
	at java.net.URL.&amp;lt;init&amp;gt;(URL.java:490)
	at java.net.URL.&amp;lt;init&amp;gt;(URL.java:439)
	at org.eclipse.jetty.util.resource.Resource.newResource(Resource.java:166)
	at org.eclipse.jetty.util.resource.Resource.newResource(Resource.java:149)
	at org.eclipse.jetty.util.TypeUtil.getLoadedFrom(TypeUtil.java:726)
	at org.eclipse.jetty.webapp.ClasspathPattern.match(ClasspathPattern.java:519)
	at org.eclipse.jetty.webapp.WebAppContext.isServerClass(WebAppContext.java:811)
	at org.eclipse.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:563)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:411)
	at org.apache.sling.launchpad.base.shared.LauncherClassLoader.loadClass(LauncherClassLoader.java:160)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	at org.apache.felix.framework.URLHandlers.createURLStreamHandler(URLHandlers.java:490)
	at java.net.URL.getURLStreamHandler(URL.java:1142)
	at java.net.URL.&amp;lt;init&amp;gt;(URL.java:599)
	at java.net.URL.&amp;lt;init&amp;gt;(URL.java:490)
	at java.net.URL.&amp;lt;init&amp;gt;(URL.java:439)
	at org.eclipse.jetty.util.resource.Resource.newResource(Resource.java:166)
	at org.eclipse.jetty.util.resource.Resource.newResource(Resource.java:149)
	at org.eclipse.jetty.util.TypeUtil.getLoadedFrom(TypeUtil.java:726)
	at org.eclipse.jetty.webapp.ClasspathPattern.match(ClasspathPattern.java:519)
	at org.eclipse.jetty.webapp.WebAppContext.isServerClass(WebAppContext.java:811)
	at org.eclipse.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:563)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:411)
	at org.apache.sling.launchpad.base.shared.LauncherClassLoader.loadClass(LauncherClassLoader.java:160)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	at org.apache.sling.launchpad.base.impl.Sling.startup(Sling.java:309)
	at org.apache.sling.launchpad.base.impl.Sling.init(Sling.java:350)
	at org.apache.sling.launchpad.base.impl.Sling.&amp;lt;init&amp;gt;(Sling.java:212)
	at org.apache.sling.launchpad.base.webapp.SlingBridge$1.&amp;lt;init&amp;gt;(SlingBridge.java:44)
	at org.apache.sling.launchpad.base.webapp.SlingBridge.getSlingBridge(SlingBridge.java:44)
	at org.apache.sling.launchpad.base.webapp.SlingServletDelegate.init(SlingServletDelegate.java:211)
	at javax.servlet.GenericServlet.init(GenericServlet.java:244)
	at org.apache.sling.launchpad.webapp.SlingServlet.startSling(SlingServlet.java:382)
	at org.apache.sling.launchpad.webapp.SlingServlet.startSling(SlingServlet.java:325)
	at org.apache.sling.launchpad.webapp.SlingServlet.init(SlingServlet.java:119)
	at javax.servlet.GenericServlet.init(GenericServlet.java:244)
	at org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:634)
	at org.eclipse.jetty.servlet.ServletHolder.initialize(ServletHolder.java:418)
	at org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:744)
	at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:348)
	at org.eclipse.jetty.webapp.WebAppContext.startWebapp(WebAppContext.java:1480)
	at org.eclipse.jetty.maven.plugin.JettyWebAppContext.startWebapp(JettyWebAppContext.java:357)
	at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1442)
	at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:788)
	at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:261)
	at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:540)
	at org.eclipse.jetty.maven.plugin.JettyWebAppContext.doStart(JettyWebAppContext.java:432)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:131)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:113)
	at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:113)
	at org.eclipse.jetty.server.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:161)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:131)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:113)
	at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:113)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:131)
	at org.eclipse.jetty.server.Server.start(Server.java:452)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:105)
	at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:113)
	at org.eclipse.jetty.server.Server.doStart(Server.java:419)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at org.eclipse.jetty.maven.plugin.AbstractJettyMojo.startJetty(AbstractJettyMojo.java:460)
	at org.eclipse.jetty.maven.plugin.AbstractJettyMojo.execute(AbstractJettyMojo.java:328)
	at org.eclipse.jetty.maven.plugin.JettyRunWarMojo.execute(JettyRunWarMojo.java:64)
	at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)
	at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)
	at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)
	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)
	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)
	at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)
	at org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)
	at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)
	at org.apache.maven.cli.MavenCli.main(MavenCli.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)
	at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)
	at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)
	at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15816842" author="singareddy" created="Wed, 11 Jan 2017 02:01:04 +0000"  >&lt;p&gt;&amp;gt;&amp;gt; mvn clean install&lt;br/&gt;
&amp;gt;&amp;gt; mvn jetty:run-war&lt;/p&gt;</comment>
                            <comment id="15817489" author="rombert" created="Wed, 11 Jan 2017 07:19:40 +0000"  >&lt;p&gt;But how did you change the pom.xml file?&lt;/p&gt;</comment>
                            <comment id="15818124" author="singareddy" created="Wed, 11 Jan 2017 12:00:49 +0000"  >&lt;p&gt;Added jetty dependency in the pom.xml as follows: Build requires jetty plugin to run war file.&lt;/p&gt;

&lt;p&gt;.&lt;br/&gt;
.&lt;br/&gt;
.&lt;br/&gt;
&amp;lt;build&amp;gt;&lt;br/&gt;
        &amp;lt;plugins&amp;gt;&lt;br/&gt;
		&amp;lt;plugin&amp;gt;&lt;br/&gt;
  &amp;lt;groupId&amp;gt;org.eclipse.jetty&amp;lt;/groupId&amp;gt;&lt;br/&gt;
  &amp;lt;artifactId&amp;gt;jetty-maven-plugin&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
  &amp;lt;version&amp;gt;9.3.12.v20160915&amp;lt;/version&amp;gt;&lt;br/&gt;
&amp;lt;/plugin&amp;gt;&lt;br/&gt;
            &amp;lt;plugin&amp;gt;&lt;br/&gt;
                &amp;lt;groupId&amp;gt;org.codehaus.mojo&amp;lt;/groupId&amp;gt;&lt;br/&gt;
                &amp;lt;artifactId&amp;gt;ianal-maven-plugin&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
                &amp;lt;executions&amp;gt;&lt;br/&gt;
                    &amp;lt;execution&amp;gt;&lt;br/&gt;
                        &amp;lt;goals&amp;gt;&lt;br/&gt;
                            &amp;lt;goal&amp;gt;verify-legal-files&amp;lt;/goal&amp;gt;&lt;br/&gt;
                        &amp;lt;/goals&amp;gt;&lt;br/&gt;
                    &amp;lt;/execution&amp;gt;&lt;br/&gt;
                &amp;lt;/executions&amp;gt;&lt;br/&gt;
            &amp;lt;/plugin&amp;gt;&lt;br/&gt;
.&lt;br/&gt;
.&lt;br/&gt;
.&lt;br/&gt;
.&lt;/p&gt;</comment>
                            <comment id="15853157" author="singareddy" created="Sun, 5 Feb 2017 07:49:23 +0000"  >&lt;p&gt;Starting Launchpad using jar file&lt;br/&gt;
started sling launchpad using following command&lt;br/&gt;
&amp;gt;&amp;gt; java &#8211;jar target\org.apache.sling.launchpad-9-SNAPSHOT.jar &lt;br/&gt;
&amp;gt;&amp;gt; Logged into &lt;a href=&quot;http://localhost:8080/system/console/bundles&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/system/console/bundles&lt;/a&gt;  &lt;br/&gt;
Bundle information: 145 bundles in total - all 145 bundles active&lt;br/&gt;
_________________________________________________________&lt;/p&gt;

&lt;p&gt;Starting Launchpad using war file&lt;br/&gt;
started sling launchpad using following command&lt;br/&gt;
&amp;gt;&amp;gt; mvn jetty:run-war &lt;br/&gt;
&amp;gt;&amp;gt; Logged into &lt;a href=&quot;http://localhost:8080/system/console/bundles&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/system/console/bundles&lt;/a&gt;  &lt;br/&gt;
Bundle information: 142 bundles in total, 126 bundles active, 4 active fragments, 12 bundles installed&lt;br/&gt;
Looks like 12 bundles are in installed state and are not active.&lt;/p&gt;

&lt;p&gt;87	 &lt;br/&gt;
Apache Geronimo Bundles: jstl-1.2org.apache.geronimo.bundles.jstl&lt;br/&gt;
1.2.0.1		Installed&lt;/p&gt;

&lt;p&gt;130	 &lt;br/&gt;
Apache Sling JSP Tag Libraryorg.apache.sling.scripting.jsp.taglib&lt;br/&gt;
2.2.6	sling	Installed&lt;/p&gt;

&lt;p&gt;134	 &lt;br/&gt;
Apache Sling Scripting HTL JavaScript Use Providerorg.apache.sling.scripting.sightly.js.provider&lt;br/&gt;
1.0.18	sling	Installed	 &lt;/p&gt;



&lt;p&gt;136	 &lt;br/&gt;
Apache Sling Scripting HTL Read-Eval-Print Loop Environmentorg.apache.sling.scripting.sightly.repl&lt;br/&gt;
1.0.4	sling	Installed	 &lt;/p&gt;



&lt;p&gt;135	 &lt;br/&gt;
Apache Sling Scripting HTL Sling Models Use Providerorg.apache.sling.scripting.sightly.models.provider&lt;br/&gt;
1.0.6	sling	Installed	&lt;/p&gt;

&lt;p&gt;129	 &lt;br/&gt;
Apache Sling Scripting JSP Supportorg.apache.sling.scripting.jsp&lt;br/&gt;
2.2.7.SNAPSHOT	sling	Installed&lt;/p&gt;

&lt;p&gt;141	 &lt;br/&gt;
Apache Sling XSS Protection Bundleorg.apache.sling.xss&lt;br/&gt;
1.0.16	sling	Installed&lt;/p&gt;

&lt;p&gt;73	 &lt;br/&gt;
Composum Core Consolecom.composum.core.console&lt;br/&gt;
1.6.0	composum,core	Installed&lt;/p&gt;


&lt;p&gt;72	 &lt;br/&gt;
Composum Core Sling APIcom.composum.core.commons&lt;br/&gt;
1.6.0	composum,core	Installed	 &lt;/p&gt;



&lt;p&gt;75	 &lt;br/&gt;
Composum Package Managercom.composum.core.pckgmgr&lt;br/&gt;
1.6.0	composum,core	Installed	 &lt;/p&gt;



&lt;p&gt;76	 &lt;br/&gt;
Composum User Managmenentcom.composum.core.usermgnt&lt;br/&gt;
1.6.0	composum,core	Installed	&lt;/p&gt;

&lt;p&gt;Because 12 Bundles are in installed state, lauchpad running using war is not working properly.&lt;/p&gt;
</comment>
                            <comment id="15857713" author="rombert" created="Wed, 8 Feb 2017 09:29:55 +0000"  >&lt;blockquote&gt;&lt;p&gt;Looks like 12 bundles are in installed state and are not active.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That&apos;s interesting. Can you see why these bundles are installed only?&lt;/p&gt;</comment>
                            <comment id="15858707" author="olli" created="Wed, 8 Feb 2017 23:42:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;, they are not resolved because of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6502&quot; title=&quot;JSP: java.lang.VerifyError (Bad type on operand stack)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6502&quot;&gt;&lt;del&gt;SLING-6502&lt;/del&gt;&lt;/a&gt; (removing &lt;tt&gt;el-api&lt;/tt&gt; and &lt;tt&gt;jsp-api&lt;/tt&gt; from Scripting JSP). Both bundles need to be added, see &lt;a href=&quot;https://svn.apache.org/r1781179&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1781179&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;But do we really want to support &lt;tt&gt;jetty:run-war&lt;/tt&gt; in &lt;tt&gt;builder&lt;/tt&gt;? I get &lt;tt&gt;ThreadDeath&lt;/tt&gt; also when running with latest Jetty. And posting to Sling works in general (&lt;tt&gt;launchpad/testing-war&lt;/tt&gt;).&lt;/p&gt;</comment>
                            <comment id="15858919" author="singareddy" created="Thu, 9 Feb 2017 03:01:06 +0000"  >&lt;p&gt;Robert Munteanu and Oliver Lietz, We are using Sling.war in our custom web application. We are removing all test references from launchpad/testing-war and using this war file. If it works, it will be cleaner for us build war from launchpad/builder.&lt;/p&gt;</comment>
                            <comment id="15859368" author="olli" created="Thu, 9 Feb 2017 11:15:06 +0000"  >&lt;p&gt;You should use the WAR from &lt;tt&gt;launchpad/builder&lt;/tt&gt; or build a custom one with &lt;tt&gt;slingstart&lt;/tt&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 37 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i38h5b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6446] Service user not used for web console plugin and mapping</title>
                <link>https://issues.apache.org/jira/browse/SLING-6446</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;With the switch to use service users for the web console and the mapping, a bug was introduced. Due to this, not the service user&apos;s session but an anonymous session is used&lt;/p&gt;</description>
                <environment></environment>
        <key id="13033089">SLING-6446</key>
            <summary>Service user not used for web console plugin and mapping</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Jan 2017 15:14:31 +0000</created>
                <updated>Fri, 13 Jan 2017 08:37:30 +0000</updated>
                            <resolved>Mon, 9 Jan 2017 15:31:37 +0000</resolved>
                                    <version>Resource Resolver 1.5.8</version>
                                    <fixVersion>Resource Resolver 1.5.10</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15812051" author="cziegeler" created="Mon, 9 Jan 2017 15:31:37 +0000"  >&lt;p&gt;Fixed in rev 1777983&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 42 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i38g47:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6445] HTL scripts do not compile on Windows if the compiler needs to generate any warnings</title>
                <link>https://issues.apache.org/jira/browse/SLING-6445</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If an HTL script with potential warnings is compiled on Windows, the compiler will fail with a NPE like:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.StringIndexOutOfBoundsException: &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; index out of range: -1
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.substring(Unknown Source)
	at org.apache.sling.scripting.sightly.compiler.SightlyCompiler.getScriptError(SightlyCompiler.java:170)
	at org.apache.sling.scripting.sightly.compiler.SightlyCompiler.compile(SightlyCompiler.java:149)
	at org.apache.sling.scripting.sightly.impl.engine.SightlyScriptEngine.internalCompile(SightlyScriptEngine.java:135)
	at org.apache.sling.scripting.sightly.impl.engine.SightlyScriptEngine.compile(SightlyScriptEngine.java:80)
	at org.apache.sling.scripting.sightly.impl.engine.extension.use.RenderUnitProvider.provide(RenderUnitProvider.java:126)
	at org.apache.sling.scripting.sightly.impl.engine.extension.use.UseRuntimeExtension.call(UseRuntimeExtension.java:72)
	at org.apache.sling.scripting.sightly.impl.engine.runtime.RenderContextImpl.call(RenderContextImpl.java:75)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The compiler assumes that system line separators are being used in the files, which most of the times is not happening as the scripts might have been edited on another system.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13032611">SLING-6445</key>
            <summary>HTL scripts do not compile on Windows if the compiler needs to generate any warnings</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="vladb">Vlad Bailescu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Jan 2017 17:42:23 +0000</created>
                <updated>Tue, 17 Jan 2017 15:34:48 +0000</updated>
                            <resolved>Mon, 9 Jan 2017 14:44:21 +0000</resolved>
                                    <version>Scripting Sightly Engine 1.0.18</version>
                                    <fixVersion>Scripting HTL Compiler 1.0.6</fixVersion>
                    <fixVersion>HTL Maven Plugin 1.0.6</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15805113" author="githubbot" created="Fri, 6 Jan 2017 17:48:48 +0000"  >&lt;p&gt;GitHub user vladbailescu opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/196&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/196&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6445&quot; title=&quot;HTL scripts do not compile on Windows if the compiler needs to generate any warnings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6445&quot;&gt;&lt;del&gt;SLING-6445&lt;/del&gt;&lt;/a&gt; - HTL scripts do not compile on Windows if the compiler needs to generate any warnings&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Improved error/warning line and column computation to take into account any possible line separator&lt;/li&gt;
	&lt;li&gt;Added test cases and files with different line separators&lt;/li&gt;
	&lt;li&gt;Added PowerMockito dependency to be able to mock System#lineSeparator static method&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/vladbailescu/sling&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/vladbailescu/sling&lt;/a&gt; issue/&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6445&quot; title=&quot;HTL scripts do not compile on Windows if the compiler needs to generate any warnings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6445&quot;&gt;&lt;del&gt;SLING-6445&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/196.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/196.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #196&lt;/p&gt;

&lt;hr /&gt;

&lt;hr /&gt;</comment>
                            <comment id="15805117" author="vladb" created="Fri, 6 Jan 2017 17:50:07 +0000"  >&lt;p&gt;Added PR. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu.cotescu&quot; class=&quot;user-hover&quot; rel=&quot;radu.cotescu&quot;&gt;radu.cotescu&lt;/a&gt;, can you please have a look?&lt;/p&gt;</comment>
                            <comment id="15811921" author="githubbot" created="Mon, 9 Jan 2017 14:39:42 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/196&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/196&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 42 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i38d5z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6441] NPE while processing mapping events</title>
                <link>https://issues.apache.org/jira/browse/SLING-6441</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;java.lang.NullPointerException: null&lt;br/&gt;
	at java.util.concurrent.ConcurrentHashMap.get(ConcurrentHashMap.java:936)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.mapping.MapEntries.doUpdateAlias(MapEntries.java:485)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.mapping.MapEntries.updateResource(MapEntries.java:306)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.mapping.MapEntries.onChange(MapEntries.java:730)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.observation.BasicObservationReporter.reportChanges(BasicObservationReporter.java:210)&lt;br/&gt;
	at org.apache.sling.jcr.resource.internal.JcrResourceListener.onEvent(JcrResourceListener.java:155)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13032502">SLING-6441</key>
            <summary>NPE while processing mapping events</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Jan 2017 09:01:46 +0000</created>
                <updated>Fri, 13 Jan 2017 08:37:35 +0000</updated>
                            <resolved>Fri, 6 Jan 2017 09:06:59 +0000</resolved>
                                    <version>Resource Resolver 1.5.8</version>
                                    <fixVersion>Resource Resolver 1.5.10</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15804063" author="cziegeler" created="Fri, 6 Jan 2017 09:06:59 +0000"  >&lt;p&gt;Added null check in 1777542&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 42 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i38chr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6439] Filesystem Resource Provider does not support &quot;overlaying&quot; nodes from repository</title>
                <link>https://issues.apache.org/jira/browse/SLING-6439</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;the file system resource provider does no longer provide &quot;overlaying&quot; resources from the repository with resources from the filesystem. this worked with the old version 1.1.4 and was a much-used feature when mounting an maven project with content including JSON file fragements via sling content installer. in this case the bundle had to be deployed once and all binary files and content resources extracted. then, when the fsresource folder is mounted, the binary files are served from filesystem while the nodes from the JSON fragment files are still services from the repository.&lt;/p&gt;

&lt;p&gt;this does no longer work with the latest fsresource provider 1.2.0. perhaps the underlying issue is not the fsresource implementation, but the new sling resource provider SPI implementation.&lt;/p&gt;

&lt;p&gt;here is a sample project to reproduce the problem:&lt;br/&gt;
&lt;a href=&quot;https://github.com/stefanseifert/sling-fsresource-include-test&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/stefanseifert/sling-fsresource-include-test&lt;/a&gt;&lt;br/&gt;
follow the steps in the readme to reproduce the problem.&lt;/p&gt;

&lt;p&gt;in this branch - the only change is a switch to sling launchpad 8 and fsresource 1.1.4 - the problem does not occur:&lt;br/&gt;
&lt;a href=&quot;https://github.com/stefanseifert/sling-fsresource-include-test/tree/fsresource-1.x&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/stefanseifert/sling-fsresource-include-test/tree/fsresource-1.x&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13032375">SLING-6439</key>
            <summary>Filesystem Resource Provider does not support &quot;overlaying&quot; nodes from repository</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Jan 2017 20:14:27 +0000</created>
                <updated>Mon, 23 Jan 2017 08:49:49 +0000</updated>
                            <resolved>Mon, 16 Jan 2017 15:55:15 +0000</resolved>
                                    <version>File System Resource Provider 1.2.2</version>
                                    <fixVersion>File System Resource Provider 1.2.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15802417" author="sseifert@pro-vision.de" created="Thu, 5 Jan 2017 20:19:26 +0000"  >&lt;p&gt;if the underlying issue is not in the fsresource provider and we do not want to support this somewhat hidden &quot;overlaying feature&quot; between multiple resource providers we may also implement the new feature &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6440&quot; title=&quot;Filesystem Resource Provider: Support &amp;quot;mounting&amp;quot; content resources from JSON files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6440&quot;&gt;&lt;del&gt;SLING-6440&lt;/del&gt;&lt;/a&gt; which would at least solve the problem described in this ticket in a clean way (and would provide much additional benefit as well).&lt;/p&gt;</comment>
                            <comment id="15803689" author="cziegeler" created="Fri, 6 Jan 2017 06:05:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert%40pro-vision.de&quot; class=&quot;user-hover&quot; rel=&quot;sseifert@pro-vision.de&quot;&gt;sseifert@pro-vision.de&lt;/a&gt; This is due to a change in how resource providers are handled with the SPI - they always own the whole subtree. If a provider wants to delegate to the shadowed provider it has to use the ResolveContext. I actually forgot to implement that part in the filesystem resource provider &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15803710" author="cziegeler" created="Fri, 6 Jan 2017 06:20:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert%40pro-vision.de&quot; class=&quot;user-hover&quot; rel=&quot;sseifert@pro-vision.de&quot;&gt;sseifert@pro-vision.de&lt;/a&gt; I&apos;ve implemented the missing piece in rev 1777534, could you please give it a try?&lt;/p&gt;</comment>
                            <comment id="15804020" author="sseifert@pro-vision.de" created="Fri, 6 Jan 2017 08:42:52 +0000"  >&lt;p&gt;thanks! unfortunately it does not yet solve the problem reproducible with (see README for steps)&lt;br/&gt;
&lt;a href=&quot;https://github.com/stefanseifert/sling-fsresource-include-test&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/stefanseifert/sling-fsresource-include-test&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;the problem is that the &lt;tt&gt;sling:resourceSuperType&lt;/tt&gt; property of the resource &lt;tt&gt;/apps/fsresource-include/components/index&lt;/tt&gt; cannot be looked up properly - and thus the script resolution fails to look for the included script in &lt;tt&gt;/apps/fsresource-include/components/common&lt;/tt&gt;. i&apos;m wondering why it worked with the old fsresource impl and sling 8 launchpad (see branch in the example). there seems to be a change how this property is looked up as well in some other place.&lt;/p&gt;</comment>
                            <comment id="15812247" author="sseifert@pro-vision.de" created="Mon, 9 Jan 2017 16:58:47 +0000"  >&lt;p&gt;Completed: At revision: 1778016  &lt;/p&gt;

&lt;p&gt;i solved this problem in &lt;a href=&quot;https://github.com/apache/sling/commit/93c427ca0e13dfd9953cfefbbfcd9048cc6b2059&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this rev&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;source of the problem was that &lt;a href=&quot;https://github.com/apache/sling/blob/trunk/bundles/extensions/fsresource/src/main/java/org/apache/sling/fsprovider/internal/FsResource.java#L114&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this code line&lt;/a&gt; did no longer have the effect as before in the old resourceresolver implementation - it should make sure that in case of directories the resources from fsresource provider have a lower precedence than from the JCR resource provider.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; is my solution correct according to the lastest resource resolver impl? is the INTERNAL_CONTINUE_RESOLVING flag not working any longer/deprecated? can you review?&lt;/p&gt;</comment>
                            <comment id="15814092" author="cziegeler" created="Tue, 10 Jan 2017 06:43:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert%40pro-vision.de&quot; class=&quot;user-hover&quot; rel=&quot;sseifert@pro-vision.de&quot;&gt;sseifert@pro-vision.de&lt;/a&gt; Thanks for looking into this, your patch is basically ok. The SPI based resource provider resolution does not support INTERNAL_CONTINUE_RESOLVING anymore to simplify the implementation of the resource resolving.&lt;br/&gt;
Therefore we should deprecate INTERNAL_CONTINUE_RESOLVING  (I&apos;ll do this) and maybe change the implementation in the fsprovider to use a different mechanism than this metadata&lt;/p&gt;</comment>
                            <comment id="15824190" author="sseifert@pro-vision.de" created="Mon, 16 Jan 2017 15:55:15 +0000"  >&lt;p&gt;Completed: At revision: 1779048  &lt;/p&gt;

&lt;p&gt;i&apos;ve replaced the reference to the (now deprecated)  &lt;tt&gt;ResourceMetadata.INTERNAL_CONTINUE_RESOLVING&lt;/tt&gt; constant with an own constant specific to this provider.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13032376">SLING-6440</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 41 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i38bpj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6437] TestDescriptionRule in testing rules has incorrect has wrong order of method calls</title>
                <link>https://issues.apache.org/jira/browse/SLING-6437</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;tt&gt;TestDescriptionRule&lt;/tt&gt; calls method on TestDescriptionHolder in wrong order. It invokes setter in &lt;tt&gt;finished&lt;/tt&gt; and clear in &lt;tt&gt;starting&lt;/tt&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13032187">SLING-6437</key>
            <summary>TestDescriptionRule in testing rules has incorrect has wrong order of method calls</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chetanm">Chetan Mehrotra</assignee>
                                    <reporter username="chetanm">Chetan Mehrotra</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Jan 2017 08:18:52 +0000</created>
                <updated>Thu, 5 Jan 2017 08:29:26 +0000</updated>
                            <resolved>Thu, 5 Jan 2017 08:29:26 +0000</resolved>
                                                    <fixVersion>Apache Sling Testing Rules 1.0.1</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15800740" author="chetanm" created="Thu, 5 Jan 2017 08:29:26 +0000"  >&lt;p&gt;Fixed with r1777432&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 43 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i38ajr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6435] o.a.s.t.resourceresolver-mock maven dependency is tri-plicated in distribution.core pom</title>
                <link>https://issues.apache.org/jira/browse/SLING-6435</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently, the &lt;tt&gt;org.apache.sling.testing.resourceresolver-mock&lt;/tt&gt; dependency is declared three times in the &lt;tt&gt;org.apache.sling.distribution.core&lt;/tt&gt; pom.xml (one of them requires a SNAPSHOT).&lt;/p&gt;

</description>
                <environment></environment>
        <key id="13031983">SLING-6435</key>
            <summary>o.a.s.t.resourceresolver-mock maven dependency is tri-plicated in distribution.core pom</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marett">Timothee Maret</assignee>
                                    <reporter username="marett">Timothee Maret</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Jan 2017 14:54:40 +0000</created>
                <updated>Tue, 14 Feb 2017 09:30:49 +0000</updated>
                            <resolved>Wed, 4 Jan 2017 14:58:46 +0000</resolved>
                                    <version>Content Distribution Core 0.1.18</version>
                                    <fixVersion>Content Distribution Core 0.2.0</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15798452" author="marett" created="Wed, 4 Jan 2017 14:58:04 +0000"  >&lt;p&gt;Fixed in &lt;tt&gt;r1777327&lt;/tt&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 43 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i389af:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6434] serviceName configurations must be considered null when empty/blank</title>
                <link>https://issues.apache.org/jira/browse/SLING-6434</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently, serviceName is an OSGI property that can be set on most SCD services in order to specify the id of the user accessing the repository.&lt;br/&gt;
This configuration is optional (default is to use the service user).&lt;/p&gt;

&lt;p&gt;Empty/blank configurations should be considered as not configured.&lt;br/&gt;
Indeed, empty/blank configurations are faced whenever configuring an empty configuration using the Felix console.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13031979">SLING-6434</key>
            <summary>serviceName configurations must be considered null when empty/blank</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marett">Timothee Maret</assignee>
                                    <reporter username="marett">Timothee Maret</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Jan 2017 14:37:09 +0000</created>
                <updated>Tue, 14 Feb 2017 09:30:52 +0000</updated>
                            <resolved>Wed, 4 Jan 2017 14:47:16 +0000</resolved>
                                    <version>Content Distribution Core 0.1.16</version>
                                    <fixVersion>Content Distribution Core 0.2.0</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15798424" author="marett" created="Wed, 4 Jan 2017 14:47:16 +0000"  >&lt;p&gt;Fixed in &lt;tt&gt;r1777322&lt;/tt&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 43 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3899j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6433] Request Processing Analyzer throws IOOB due to old format assumptions of RequestProgressTracker output</title>
                <link>https://issues.apache.org/jira/browse/SLING-6433</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In certain cases Request Processing Analyzer throws IndexOutOfBoundsException and fails to display request details:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.StringIndexOutOfBoundsException: String index out of range: -1
	at java.lang.String.substring(String.java:1931)
	at org.apache.sling.reqanalyzer.impl.gui.RequestTableModel.addRow(RequestTableModel.java:37)
	at org.apache.sling.reqanalyzer.impl.gui.RequestTrackerFile.getData(RequestTrackerFile.java:64)
	at org.apache.sling.reqanalyzer.impl.gui.RequestListSelectionListener.valueChanged(RequestListSelectionListener.java:65)
	at javax.swing.DefaultListSelectionModel.fireValueChanged(DefaultListSelectionModel.java:184)
	at javax.swing.DefaultListSelectionModel.fireValueChanged(DefaultListSelectionModel.java:154)
	at javax.swing.DefaultListSelectionModel.setValueIsAdjusting(DefaultListSelectionModel.java:685)
	at javax.swing.plaf.basic.BasicTableUI$Handler.setValueIsAdjusting(BasicTableUI.java:953)
	at javax.swing.plaf.basic.BasicTableUI$Handler.mouseReleased(BasicTableUI.java:1166)
	at javax.swing.plaf.basic.BasicTableUI$MouseInputHandler.mouseReleased(BasicTableUI.java:802)
	at java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:290)
	at java.awt.Component.processMouseEvent(Component.java:6533)
	at javax.swing.JComponent.processMouseEvent(JComponent.java:3324)
	at java.awt.Component.processEvent(Component.java:6298)
	at java.awt.Container.processEvent(Container.java:2236)
	at java.awt.Component.dispatchEventImpl(Component.java:4889)
	at java.awt.Container.dispatchEventImpl(Container.java:2294)
	at java.awt.Component.dispatchEvent(Component.java:4711)
	at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4888)
	at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4525)
	at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4466)
	at java.awt.Container.dispatchEventImpl(Container.java:2280)
	at java.awt.Window.dispatchEventImpl(Window.java:2746)
	at java.awt.Component.dispatchEvent(Component.java:4711)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:758)
	at java.awt.EventQueue.access$500(EventQueue.java:97)
	at java.awt.EventQueue$3.run(EventQueue.java:709)
	at java.awt.EventQueue$3.run(EventQueue.java:703)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:76)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)
	at java.awt.EventQueue$4.run(EventQueue.java:731)
	at java.awt.EventQueue$4.run(EventQueue.java:729)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:76)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:728)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is due to an old (pre-&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4114&quot; title=&quot;Compact and more specific logs from RequestProgressTrackerLogFilter &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4114&quot;&gt;&lt;del&gt;SLING-4114&lt;/del&gt;&lt;/a&gt;) assumptions on RequestProgressTracker output.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4114&quot; title=&quot;Compact and more specific logs from RequestProgressTrackerLogFilter &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4114&quot;&gt;&lt;del&gt;SLING-4114&lt;/del&gt;&lt;/a&gt; removed date and time fields which were ending in closing parenthesis but the analyzer is still looking for it while calculating string index. In most of the cases the request details are just wrongly displayed, but when the closing parenthesis character is at the end of the string then the index exceeds string length resulting in the exception. The solution is to update the code to the current RequestProgressTracker output format without those removed fields.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13031947">SLING-6433</key>
            <summary>Request Processing Analyzer throws IOOB due to old format assumptions of RequestProgressTracker output</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="krystian">Krystian Nowak</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Jan 2017 11:58:46 +0000</created>
                <updated>Wed, 4 Jan 2017 13:05:07 +0000</updated>
                            <resolved>Wed, 4 Jan 2017 13:05:06 +0000</resolved>
                                                    <fixVersion>Request Analyzer 1.0.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15798058" author="krystian" created="Wed, 4 Jan 2017 12:00:59 +0000"  >&lt;p&gt;Patch attached&lt;/p&gt;</comment>
                            <comment id="15798062" author="krystian" created="Wed, 4 Jan 2017 12:02:36 +0000"  >&lt;p&gt;The exception is thrown due to changes made in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-4114&quot; title=&quot;Compact and more specific logs from RequestProgressTrackerLogFilter &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-4114&quot;&gt;&lt;del&gt;SLING-4114&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15798217" author="fmeschbe" created="Wed, 4 Jan 2017 13:05:06 +0000"  >&lt;p&gt;Thanks for providing the patch. I have applied it in Rev. 1777305.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12751335">SLING-4114</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12845523" name="SLING-6433-krystian.patch" size="4727" author="krystian" created="Wed, 4 Jan 2017 12:00:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 43 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3892f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6429] Hamcrest Matchers: Arrays in ValueMap properties are not compared correctly</title>
                <link>https://issues.apache.org/jira/browse/SLING-6429</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;when using hamcrest matchers ResourceMatchers.props and the properties contain a multi-valued property (array), the comparison fails even if the arrays are equal.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13030384">SLING-6429</key>
            <summary>Hamcrest Matchers: Arrays in ValueMap properties are not compared correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Dec 2016 14:21:22 +0000</created>
                <updated>Sat, 7 Jan 2017 12:16:12 +0000</updated>
                            <resolved>Wed, 4 Jan 2017 11:01:24 +0000</resolved>
                                    <version>Testing Hamcrest 1.0.0</version>
                                    <fixVersion>Testing Hamcrest 1.0.2</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="15797945" author="sseifert@pro-vision.de" created="Wed, 4 Jan 2017 11:01:24 +0000"  >&lt;p&gt;Revision: 1775842&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 43 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37zfz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6428] DateFormat is printed when date-value is empty</title>
                <link>https://issues.apache.org/jira/browse/SLING-6428</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When the format-value emtpy, the date-format is printed.&lt;/p&gt;

&lt;p&gt;Example&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;div data-sly-use.date=&lt;span class=&quot;code-quote&quot;&gt;&quot;java.util.Date&quot;&lt;/span&gt;&amp;gt;
${&lt;span class=&quot;code-quote&quot;&gt;&apos;yyyy-MM-dd&apos;&lt;/span&gt; @ format=date1}
&amp;lt;/div&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In my view the date-format should not be printed, never.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13030081">SLING-6428</key>
            <summary>DateFormat is printed when date-value is empty</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="fvisser">Feike Visser</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Dec 2016 11:00:23 +0000</created>
                <updated>Fri, 10 Mar 2017 14:12:49 +0000</updated>
                            <resolved>Tue, 10 Jan 2017 10:51:51 +0000</resolved>
                                    <version>Scripting HTL Engine 1.0.28</version>
                    <version>Scripting HTL Java Compiler 1.0.6</version>
                                    <fixVersion>Scripting HTL Engine 1.0.30</fixVersion>
                    <fixVersion>Scripting HTL Java Compiler 1.0.8</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15769774" author="fvisser" created="Thu, 22 Dec 2016 11:01:09 +0000"  >&lt;p&gt;FYI: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vladb&quot; class=&quot;user-hover&quot; rel=&quot;vladb&quot;&gt;vladb&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gwalt&quot; class=&quot;user-hover&quot; rel=&quot;gwalt&quot;&gt;gwalt&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15811994" author="githubbot" created="Mon, 9 Jan 2017 15:07:48 +0000"  >&lt;p&gt;GitHub user vladbailescu opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/197&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/197&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6428&quot; title=&quot;DateFormat is printed when date-value is empty&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6428&quot;&gt;&lt;del&gt;SLING-6428&lt;/del&gt;&lt;/a&gt; - DateFormat is printed when date-value is empty&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Updated TCK to include tests for empty/undefined formatting input values&lt;/li&gt;
	&lt;li&gt;Updated implementation to return empty when formatting input is null/undefined&lt;/li&gt;
	&lt;li&gt;Added missing javadocs&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/vladbailescu/sling&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/vladbailescu/sling&lt;/a&gt; issue/&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6428&quot; title=&quot;DateFormat is printed when date-value is empty&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6428&quot;&gt;&lt;del&gt;SLING-6428&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/197.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/197.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #197&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 8295230ff8472366f07e938ec81fe75f05ab8ca3&lt;br/&gt;
Author: vladbailescu &amp;lt;bailescu@adobe.com&amp;gt;&lt;br/&gt;
Date:   2017-01-09T15:07:19Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6428&quot; title=&quot;DateFormat is printed when date-value is empty&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6428&quot;&gt;&lt;del&gt;SLING-6428&lt;/del&gt;&lt;/a&gt; - DateFormat is printed when date-value is empty&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Updated TCK to include tests for empty/undefined formatting input values&lt;/li&gt;
	&lt;li&gt;Updated implementation to return empty when formatting input is null/undefined&lt;/li&gt;
	&lt;li&gt;Added missing javadocs&lt;/li&gt;
&lt;/ul&gt;


&lt;hr /&gt;</comment>
                            <comment id="15814540" author="githubbot" created="Tue, 10 Jan 2017 10:01:08 +0000"  >&lt;p&gt;Github user vladbailescu closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/197&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/197&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15814657" author="radu.cotescu" created="Tue, 10 Jan 2017 10:51:52 +0000"  >&lt;p&gt;Applied &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vladb&quot; class=&quot;user-hover&quot; rel=&quot;vladb&quot;&gt;vladb&lt;/a&gt;&apos;s patch in &lt;a href=&quot;https://svn.apache.org/r1778098&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1778098&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13050052">SLING-6632</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 42 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37xkn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6424] ValueMapDecorator: Empty arrays for multi-value properties should not be converted to null</title>
                <link>https://issues.apache.org/jira/browse/SLING-6424</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;currently empty arrays in the base map manged by the ValueMapDecorator are converted to null.&lt;br/&gt;
this is imho wrong, because an empty list might be a valid value for a multi-valued property which should not lead to fallback to the default value for example.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13029758">SLING-6424</key>
            <summary>ValueMapDecorator: Empty arrays for multi-value properties should not be converted to null</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 Dec 2016 14:10:41 +0000</created>
                <updated>Wed, 21 Dec 2016 14:12:51 +0000</updated>
                            <resolved>Wed, 21 Dec 2016 14:12:50 +0000</resolved>
                                    <version>API 2.16.2</version>
                                    <fixVersion>API 2.16.4</fixVersion>
                                    <component>API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15767144" author="sseifert@pro-vision.de" created="Wed, 21 Dec 2016 14:12:50 +0000"  >&lt;p&gt;Completed: At revision: 1775427  &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 45 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37vkv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6418] NPE in o.a.s.d.p.i.e.AgentDistributionPackageExporter#exportPackages</title>
                <link>https://issues.apache.org/jira/browse/SLING-6418</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
22.08.2016 09:06:14.082 *ERROR* [10.90.129.25 [1471874774081] POST /libs/sling/distribution/services/exporters/socialpubsync-reverse HTTP/1.1] org.apache.sling.distribution.packaging.impl.exporter.AgentDistributionPackageExporter Error exporting &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;
java.lang.NullPointerException: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
	at org.apache.sling.distribution.packaging.impl.exporter.AgentDistributionPackageExporter.exportPackages(AgentDistributionPackageExporter.java:83)
	at org.apache.sling.distribution.packaging.impl.exporter.AgentDistributionPackageExporterFactory.exportPackages(AgentDistributionPackageExporterFactory.java:85)
	at org.apache.sling.distribution.servlet.DistributionPackageExporterServlet.exportOnePackage(DistributionPackageExporterServlet.java:97)
	at org.apache.sling.distribution.servlet.DistributionPackageExporterServlet.doPost(DistributionPackageExporterServlet.java:67)
	at org.apache.sling.api.servlets.SlingAllMethodsServlet.mayService(SlingAllMethodsServlet.java:149)
	at org.apache.sling.api.servlets.SlingSafeMethodsServlet.service(SlingSafeMethodsServlet.java:345)
	at org.apache.sling.api.servlets.SlingSafeMethodsServlet.service(SlingSafeMethodsServlet.java:376)
	at org.apache.sling.engine.impl.request.RequestData.service(RequestData.java:547)
	at org.apache.sling.engine.impl.filter.SlingComponentFilterChain.render(SlingComponentFilterChain.java:44)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:77)
	at com.day.cq.personalization.impl.TargetComponentFilter.doFilter(TargetComponentFilter.java:96)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at com.day.cq.wcm.core.impl.WCMDebugFilter.doFilter(WCMDebugFilter.java:146)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at com.day.cq.wcm.core.impl.WCMComponentFilter.filterRootInclude(WCMComponentFilter.java:371)
	at com.day.cq.wcm.core.impl.WCMComponentFilter.doFilter(WCMComponentFilter.java:171)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at org.apache.sling.engine.impl.SlingRequestProcessorImpl.processComponent(SlingRequestProcessorImpl.java:282)
	at org.apache.sling.engine.impl.filter.RequestSlingFilterChain.render(RequestSlingFilterChain.java:49)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:77)
	at com.adobe.granite.resourceresolverhelper.impl.ResourceResolverHelperImpl.doFilter(ResourceResolverHelperImpl.java:81)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at com.day.cq.dam.core.impl.servlet.ActivityRecordHandler.doFilter(ActivityRecordHandler.java:155)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:73)
	at com.adobe.cq.dam.s7imaging.impl.auth.MemoryTokenAuthHandler.doFilter(MemoryTokenAuthHandler.java:156)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at com.adobe.granite.csrf.impl.CSRFFilter.doFilter(CSRFFilter.java:201)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at org.apache.sling.security.impl.ContentDispositionFilter.doFilter(ContentDispositionFilter.java:152)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at org.apache.sling.i18n.impl.I18NFilter.doFilter(I18NFilter.java:129)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at com.day.cq.wcm.core.impl.AuthoringUIModeServiceImpl.doFilter(AuthoringUIModeServiceImpl.java:292)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at org.apache.sling.rewriter.impl.RewriterFilter.doFilter(RewriterFilter.java:83)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at com.day.cq.wcm.core.impl.warp.TimeWarpFilter.doFilter(TimeWarpFilter.java:106)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at com.day.cq.wcm.mobile.core.impl.redirect.RedirectFilter.doFilter(RedirectFilter.java:243)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at com.hugeinc.kohls.impl.filters.LoggingFilter.doFilter(LoggingFilter.java:39)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at com.hugeinc.kohls.impl.filters.UserProfilesFilter.doFilter(UserProfilesFilter.java:89)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at com.hugeinc.kohls.core.filters.LoggingFilter.doFilter(LoggingFilter.java:50)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at com.hugeinc.kohls.kohls_corp_aem.core.filters.LoggingFilter.doFilter(LoggingFilter.java:50)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at com.adobe.cq.social.commons.cors.CORSAuthenticationFilter.doFilter(CORSAuthenticationFilter.java:91)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at com.day.cq.analytics.provisioning.impl.UserAuthenticationRequestFilter.doFilter(UserAuthenticationRequestFilter.java:119)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at org.apache.sling.engine.impl.debug.RequestProgressTrackerLogFilter.doFilter(RequestProgressTrackerLogFilter.java:95)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at com.day.cq.wcm.foundation.forms.impl.FormsHandlingServlet.doFilter(FormsHandlingServlet.java:269)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at com.day.cq.theme.impl.ThemeResolverFilter.doFilter(ThemeResolverFilter.java:76)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at com.adobe.granite.optout.impl.OptOutFilter.doFilter(OptOutFilter.java:74)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at com.day.cq.wcm.core.impl.WCMRequestFilter.doFilter(WCMRequestFilter.java:90)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at com.day.cq.wcm.designimporter.CanvasPageDeleteRequestFilter.doFilter(CanvasPageDeleteRequestFilter.java:88)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at com.adobe.granite.httpcache.impl.InnerCacheFilter.doFilter(InnerCacheFilter.java:77)
	at com.adobe.granite.httpcache.impl.InnerCacheFilter.doFilter(InnerCacheFilter.java:56)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at org.apache.sling.bgservlets.impl.BackgroundServletStarterFilter.doFilter(BackgroundServletStarterFilter.java:135)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at com.adobe.cq.social.ugcbase.security.impl.SaferSlingPostServlet.doFilter(SaferSlingPostServlet.java:132)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at com.adobe.granite.requests.logging.impl.RequestLoggerImpl.doFilter(RequestLoggerImpl.java:124)
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
	at org.apache.sling.engine.impl.SlingRequestProcessorImpl.doProcessRequest(SlingRequestProcessorImpl.java:151)
	at org.apache.sling.engine.impl.SlingMainServlet.service(SlingMainServlet.java:217)
	at org.apache.felix.http.base.internal.handler.ServletHandler.doHandle(ServletHandler.java:336)
	at org.apache.felix.http.base.internal.handler.ServletHandler.handle(ServletHandler.java:297)
	at org.apache.felix.http.base.internal.dispatch.ServletPipeline.handle(ServletPipeline.java:93)
	at org.apache.felix.http.base.internal.dispatch.InvocationFilterChain.doFilter(InvocationFilterChain.java:50)
	at org.apache.felix.http.base.internal.dispatch.HttpFilterChain.doFilter(HttpFilterChain.java:31)
	at org.apache.sling.i18n.impl.I18NFilter.doFilter(I18NFilter.java:129)
	at org.apache.felix.http.base.internal.handler.FilterHandler.doHandle(FilterHandler.java:108)
	at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:80)
	at org.apache.felix.http.base.internal.dispatch.InvocationFilterChain.doFilter(InvocationFilterChain.java:46)
	at org.apache.felix.http.base.internal.dispatch.HttpFilterChain.doFilter(HttpFilterChain.java:31)
	at org.apache.sling.security.impl.ReferrerFilter.doFilter(ReferrerFilter.java:290)
	at org.apache.felix.http.base.internal.handler.FilterHandler.doHandle(FilterHandler.java:108)
	at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:80)
	at org.apache.felix.http.base.internal.dispatch.InvocationFilterChain.doFilter(InvocationFilterChain.java:46)
	at org.apache.felix.http.base.internal.dispatch.HttpFilterChain.doFilter(HttpFilterChain.java:31)
	at org.apache.felix.http.sslfilter.internal.SslFilter.doFilter(SslFilter.java:89)
	at org.apache.felix.http.base.internal.handler.FilterHandler.doHandle(FilterHandler.java:108)
	at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:80)
	at org.apache.felix.http.base.internal.dispatch.InvocationFilterChain.doFilter(InvocationFilterChain.java:46)
	at org.apache.felix.http.base.internal.dispatch.HttpFilterChain.doFilter(HttpFilterChain.java:31)
	at com.adobe.granite.license.impl.LicenseCheckFilter.doFilter(LicenseCheckFilter.java:308)
	at org.apache.felix.http.base.internal.handler.FilterHandler.doHandle(FilterHandler.java:108)
	at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:80)
	at org.apache.felix.http.base.internal.dispatch.InvocationFilterChain.doFilter(InvocationFilterChain.java:46)
	at org.apache.felix.http.base.internal.dispatch.HttpFilterChain.doFilter(HttpFilterChain.java:31)
	at org.apache.sling.featureflags.impl.FeatureManager.doFilter(FeatureManager.java:115)
	at org.apache.felix.http.base.internal.handler.FilterHandler.doHandle(FilterHandler.java:108)
	at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:80)
	at org.apache.felix.http.base.internal.dispatch.InvocationFilterChain.doFilter(InvocationFilterChain.java:46)
	at org.apache.felix.http.base.internal.dispatch.HttpFilterChain.doFilter(HttpFilterChain.java:31)
	at org.apache.sling.engine.impl.log.RequestLoggerFilter.doFilter(RequestLoggerFilter.java:75)
	at org.apache.felix.http.base.internal.handler.FilterHandler.doHandle(FilterHandler.java:108)
	at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:80)
	at org.apache.felix.http.base.internal.dispatch.InvocationFilterChain.doFilter(InvocationFilterChain.java:46)
	at org.apache.felix.http.base.internal.dispatch.HttpFilterChain.doFilter(HttpFilterChain.java:31)
	at org.apache.felix.http.base.internal.dispatch.FilterPipeline.dispatch(FilterPipeline.java:76)
	at org.apache.felix.http.base.internal.dispatch.Dispatcher.dispatch(Dispatcher.java:49)
	at org.apache.felix.http.base.internal.DispatcherServlet.service(DispatcherServlet.java:67)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:808)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:587)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:221)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:215)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)
	at org.eclipse.jetty.server.Server.handle(Server.java:497)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:310)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:257)
	at org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13029129">SLING-6418</key>
            <summary>NPE in o.a.s.d.p.i.e.AgentDistributionPackageExporter#exportPackages</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marett">Timothee Maret</assignee>
                                    <reporter username="marett">Timothee Maret</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 Dec 2016 13:06:44 +0000</created>
                <updated>Tue, 14 Feb 2017 09:30:56 +0000</updated>
                            <resolved>Mon, 19 Dec 2016 14:10:37 +0000</resolved>
                                    <version>Content Distribution Core 0.1.18</version>
                                    <fixVersion>Content Distribution Core 0.2.0</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15761251" author="marett" created="Mon, 19 Dec 2016 14:10:25 +0000"  >&lt;p&gt;Fixed in r1775099&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 45 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37rpb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6417] Flaky test: FiltersTest.testCounters</title>
                <link>https://issues.apache.org/jira/browse/SLING-6417</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;FiltersTest.testCounter failed 6 of the last 10 runs according to the Test Results Analyzer ( &lt;a href=&quot;https://builds.apache.org/job/sling-launchpad-testing-1.8/test_results_analyzer/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/sling-launchpad-testing-1.8/test_results_analyzer/&lt;/a&gt;) &lt;/p&gt;

&lt;p&gt;Passed: #304, #308, #310, #311&lt;br/&gt;
Failed: #305, #306, #307, #309, #312, #313&lt;/p&gt;

&lt;p&gt;The error is always&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;junit.framework.AssertionFailedError: http://localhost:41601/index.html expected:&amp;lt;200&amp;gt; but was:&amp;lt;404&amp;gt;
	at junit.framework.Assert.fail(Assert.java:57)
	at junit.framework.Assert.failNotEquals(Assert.java:329)
	at junit.framework.Assert.assertEquals(Assert.java:78)
	at junit.framework.Assert.assertEquals(Assert.java:234)
	at junit.framework.TestCase.assertEquals(TestCase.java:401)
	at org.apache.sling.commons.testing.integration.HttpTestBase.assertHttpStatus(HttpTestBase.java:363)
	at org.apache.sling.commons.testing.integration.HttpTestBase.assertHttpStatus(HttpTestBase.java:374)
	at org.apache.sling.launchpad.webapp.integrationtest.FiltersTest.testCounters(FiltersTest.java:26)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13029121">SLING-6417</key>
            <summary>Flaky test: FiltersTest.testCounters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                            <label>sling-IT</label>
                    </labels>
                <created>Mon, 19 Dec 2016 12:04:59 +0000</created>
                <updated>Wed, 23 Aug 2017 19:46:34 +0000</updated>
                            <resolved>Wed, 23 Aug 2017 19:46:34 +0000</resolved>
                                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16138956" author="rombert" created="Wed, 23 Aug 2017 19:46:34 +0000"  >&lt;p&gt;No longer an issue&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 10 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37rnj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6416] MockValueMap does not permit to get a BigDecimal value</title>
                <link>https://issues.apache.org/jira/browse/SLING-6416</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The &lt;tt&gt;get(String name, Class&amp;lt;T&amp;gt; type)&lt;/tt&gt; method in &lt;tt&gt;MockValueMap.java&lt;/tt&gt; does not support &lt;tt&gt;BigDecimal&lt;/tt&gt; as a type. This is supported by the &lt;tt&gt;JcrValueMap&lt;/tt&gt; and &lt;tt&gt;JcrPropertyMapCacheEntry&lt;/tt&gt; classes, and hence means that it&apos;s not possible to test code that reads a &lt;tt&gt;BigDecimal&lt;/tt&gt; property value from the JCR.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="13029104">SLING-6416</key>
            <summary>MockValueMap does not permit to get a BigDecimal value</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="jelger">Christophe Jelger</reporter>
                        <labels>
                            <label>mocks</label>
                    </labels>
                <created>Mon, 19 Dec 2016 10:34:53 +0000</created>
                <updated>Tue, 27 Dec 2016 12:18:21 +0000</updated>
                            <resolved>Wed, 21 Dec 2016 14:19:26 +0000</resolved>
                                    <version>Testing ResourceResolver Mock 1.1.14</version>
                                    <fixVersion>Testing ResourceResolver Mock 1.1.16</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15760879" author="sseifert@pro-vision.de" created="Mon, 19 Dec 2016 11:07:33 +0000"  >&lt;p&gt;can you give an example what fails? just storing and reading a BigDecimal, or some sort of automatic type conversion getting values as BigDecimal stored in other decimal types internally and vice versa?&lt;/p&gt;</comment>
                            <comment id="15760921" author="sseifert@pro-vision.de" created="Mon, 19 Dec 2016 11:32:29 +0000"  >&lt;p&gt;resourceresolver-mock relies on the conversion logic of the ValueMap decorator&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling/blob/trunk/bundles/api/src/main/java/org/apache/sling/api/wrappers/ValueMapDecorator.java#L64&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/bundles/api/src/main/java/org/apache/sling/api/wrappers/ValueMapDecorator.java#L64&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;which is not very &quot;smart&quot; (as the TODO in the code indicates which is there since nearly 8 years, and the code has not changes much since then). it has no special type conversion support for BigDecimal yet. a better solution is the NumberConverter from jcr.resource.&lt;/p&gt;

&lt;p&gt;we should improve this code as well. when this is done we have to copy or embed it to resourceresolver-mock, so we do not introduce such a new API dependency to it.&lt;/p&gt;</comment>
                            <comment id="15760924" author="jelger" created="Mon, 19 Dec 2016 11:33:55 +0000"  >&lt;p&gt;Hi Stefan,&lt;/p&gt;

&lt;p&gt;I simply wanted to test some code that reads a BigDecimal JCR value, something like &lt;tt&gt;valueMap.get(&quot;valueName&quot;, BigDecimal.class)&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;The value is originally stored as a &lt;tt&gt;Decimal&lt;/tt&gt; in the JCR, and was exported for the mock-testing by default as a &lt;tt&gt;String&lt;/tt&gt; with the usual /path/to/content/content.json JSON export. I also tried to manually modify the exported JSON file to replace the &lt;tt&gt;String&lt;/tt&gt; with a &lt;tt&gt;Number&lt;/tt&gt; to see if this fixes the problem, but it does not work in both cases.&lt;/p&gt;

&lt;p&gt;It would be nice if the implementation could support both reading a JSON &lt;tt&gt;String&lt;/tt&gt; or &lt;tt&gt;Number&lt;/tt&gt; decimal representation, I mean both &lt;tt&gt;&quot;123.45&quot;&lt;/tt&gt; and &lt;tt&gt;123.45&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;I guess that something like the following code might be enough:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (type == BigDecimal.class) {
  &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; value = get(name);
  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (value &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;) {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; (T) &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; BigDecimal((&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;) value);
  }
  &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (value &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt;) {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; (T) &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; BigDecimal(value.toString());
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Actually the conversion in &lt;tt&gt;JcrPropertyMapCacheEntry&lt;/tt&gt; is done with some handy helpers like &lt;tt&gt;NumberConverter&lt;/tt&gt; or &lt;tt&gt;StringConverter&lt;/tt&gt; which you might be able to also use here.&lt;/p&gt;

&lt;p&gt;Thanks in advance&lt;br/&gt;
Christophe&lt;/p&gt;</comment>
                            <comment id="15767155" author="sseifert@pro-vision.de" created="Wed, 21 Dec 2016 14:19:26 +0000"  >&lt;p&gt;Completed: At revision: 1775430  &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="13029437">SLING-6420</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 45 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37rjr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6406] TestLogServlet should register filter using HttpWhiteboardConstants.HTTP_WHITEBOARD_FILTER_PATTERN</title>
                <link>https://issues.apache.org/jira/browse/SLING-6406</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;TestServlet should register filter with HttpWhiteboardConstants.HTTP_WHITEBOARD_FILTER_PATTERN at &lt;a href=&quot;https://github.com/apache/sling/blob/trunk/testing/junit/core/src/main/java/org/apache/sling/junit/impl/servlet/TestLogServlet.java#L229&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/testing/junit/core/src/main/java/org/apache/sling/junit/impl/servlet/TestLogServlet.java#L229&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13028664">SLING-6406</key>
            <summary>TestLogServlet should register filter using HttpWhiteboardConstants.HTTP_WHITEBOARD_FILTER_PATTERN</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chetanm">Chetan Mehrotra</assignee>
                                    <reporter username="andrei.dulvac">Andrei Dulvac</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Dec 2016 12:35:46 +0000</created>
                <updated>Thu, 5 Jan 2017 08:33:45 +0000</updated>
                            <resolved>Thu, 5 Jan 2017 08:33:44 +0000</resolved>
                                    <version>JUnit Core 1.0.18</version>
                                    <fixVersion>JUnit Core 1.0.23</fixVersion>
                                    <component>JUnit Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15800753" author="chetanm" created="Thu, 5 Jan 2017 08:33:45 +0000"  >&lt;p&gt;Fixed with 1777433. It now uses following header names&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;X-Sling-TestName and X-Sling-TestClass instead of older X-Sling-Test-Name to avoid conflict with TestNameLoggingFilter in testing/tools module which is deprecated now. Otherwise on a system where both tools and junit core bundle is deployed then it causes lots of log for each request.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Now for a test a single message would logged at start&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;05.01.2017 13:58:22.217 *INFO* [qtp2112772548-750] org.apache.sling.junit.impl.servlet.TestLogServlet Starting test execution  ======[fooTest(com.example.BarIT)] ======
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 43 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37otz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6405] Make testing.clients.interceptors.TestDescriptionInterceptor in line with TestLogServlet from junit core</title>
                <link>https://issues.apache.org/jira/browse/SLING-6405</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling/blob/trunk/testing/http/clients/src/main/java/org/apache/sling/testing/clients/interceptors/TestDescriptionInterceptor.java#L35-L36&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/testing/http/clients/src/main/java/org/apache/sling/testing/clients/interceptors/TestDescriptionInterceptor.java#L35-L36&lt;/a&gt; uses wrong headers.&lt;/p&gt;

&lt;p&gt;They should be in line with &lt;a href=&quot;https://github.com/apache/sling/blob/trunk/testing/junit/core/src/main/java/org/apache/sling/junit/impl/servlet/TestLogServlet.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/testing/junit/core/src/main/java/org/apache/sling/junit/impl/servlet/TestLogServlet.java&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13028661">SLING-6405</key>
            <summary>Make testing.clients.interceptors.TestDescriptionInterceptor in line with TestLogServlet from junit core</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chetanm">Chetan Mehrotra</assignee>
                                    <reporter username="andrei.dulvac">Andrei Dulvac</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Dec 2016 11:59:17 +0000</created>
                <updated>Thu, 5 Jan 2017 08:30:46 +0000</updated>
                            <resolved>Thu, 5 Jan 2017 08:30:45 +0000</resolved>
                                    <version>Apache Sling Testing Clients 1.0.0</version>
                                    <fixVersion>Apache Sling Testing Clients 1.0.1</fixVersion>
                                    <component>Apache Sling Testing Clients</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15800744" author="chetanm" created="Thu, 5 Jan 2017 08:30:45 +0000"  >&lt;p&gt;Fixed with 1777434. Now it uses following header name&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;X-Sling-TestClass - For test class&lt;/li&gt;
	&lt;li&gt;X-Sling-TestName - For test name&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Same is used in TestLogServlet which is also responsible for logging the test startup logs&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 43 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37otb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6400] Server-Side Tests: Timeout-handling broken</title>
                <link>https://issues.apache.org/jira/browse/SLING-6400</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;the timeout handling for getting a service which was refactored in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6335&quot; title=&quot;Server-Side Tests: Use ServiceTracker to wait for services rather than polling&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6335&quot;&gt;&lt;del&gt;SLING-6335&lt;/del&gt;&lt;/a&gt; is currently broken: it adds to the configured timeout the current time in milliseconds (since 1970) which leads to a very long wait time.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13028395">SLING-6400</key>
            <summary>Server-Side Tests: Timeout-handling broken</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Thu, 15 Dec 2016 14:37:03 +0000</created>
                <updated>Thu, 22 Dec 2016 11:07:53 +0000</updated>
                            <resolved>Thu, 15 Dec 2016 14:37:39 +0000</resolved>
                                    <version>JUnit Core 1.0.20</version>
                                    <fixVersion>JUnit Core 1.0.22</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="15751529" author="sseifert@pro-vision.de" created="Thu, 15 Dec 2016 14:37:40 +0000"  >&lt;p&gt;Completed: At revision: 1774478  &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 45 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37n67:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6397] Error logged by ServiceUserMapperImpl while unregistering an already unregistered service</title>
                <link>https://issues.apache.org/jira/browse/SLING-6397</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;On shutdown of AEM, errors like below are logged in error logs - &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;*ERROR* [pool-44-thread-1] org.apache.sling.serviceusermapping.impl.ServiceUserMapperImpl cannot unregister ServiceUserMapped Mapping [serviceName=com.adobe.cq.social.cq-social-jcr-provider, subServiceName=ugc-writer, userName=communities-ugc-writer]
java.lang.IllegalStateException: Service already unregistered.
	at org.apache.felix.framework.ServiceRegistrationImpl.unregister(ServiceRegistrationImpl.java:140)
	at org.apache.sling.serviceusermapping.impl.ServiceUserMapperImpl.executeServiceRegistrations(ServiceUserMapperImpl.java:315)
	at org.apache.sling.serviceusermapping.impl.ServiceUserMapperImpl.access$000(ServiceUserMapperImpl.java:77)
	at org.apache.sling.serviceusermapping.impl.ServiceUserMapperImpl$1.run(ServiceUserMapperImpl.java:295)
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)
	at java.util.concurrent.FutureTask.run(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(Unknown Source)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The service has already been rightfully unregistered and hence this is valid condition. So this message should not be logged at &lt;b&gt;error&lt;/b&gt; level but maybe at &lt;b&gt;debug&lt;/b&gt; level.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13028047">SLING-6397</key>
            <summary>Error logged by ServiceUserMapperImpl while unregistering an already unregistered service</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="mohiaror">Mohit Arora</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Dec 2016 09:32:14 +0000</created>
                <updated>Wed, 20 Sep 2017 12:01:49 +0000</updated>
                            <resolved>Wed, 14 Dec 2016 09:58:43 +0000</resolved>
                                    <version>Service User Mapper 1.2.2</version>
                                    <fixVersion>Service User Mapper 1.2.4</fixVersion>
                                    <component>Service User Mapper</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15747865" author="cziegeler" created="Wed, 14 Dec 2016 09:58:43 +0000"  >&lt;p&gt;Removed the error log statement in rev 1774158&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 46 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37l0v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6394] SlingAuthenticatior#getAnonymousResolver doesn&apos;t take in consideration vanityPath</title>
                <link>https://issues.apache.org/jira/browse/SLING-6394</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;SlingAuthenticatior#getAnonymousResolver doesn&apos;t take in consideration vanityPath . This leads to cases where a resource called with a vanityPath rather then the real path is considered not existing.&lt;br/&gt;
 Test case to follow&lt;/p&gt;</description>
                <environment></environment>
        <key id="13027836">SLING-6394</key>
            <summary>SlingAuthenticatior#getAnonymousResolver doesn&apos;t take in consideration vanityPath</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="asanso">Antonio Sanso</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Dec 2016 16:53:52 +0000</created>
                <updated>Tue, 13 Dec 2016 17:06:15 +0000</updated>
                            <resolved>Tue, 13 Dec 2016 17:06:13 +0000</resolved>
                                                                    <component>Authentication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15745616" author="fmeschbe" created="Tue, 13 Dec 2016 16:57:59 +0000"  >&lt;p&gt;Yes, that&apos;s correct because the Sling Authenticator has no clue about path mapping done by the ResourceResolver. The Sling Authenticator just sees the raw request URL and has to make assumptions on that. I don&apos;t think we can and should do something about that.&lt;/p&gt;

&lt;p&gt;The only way to probably approach this would be to register login requirements for the vanity path(s).&lt;/p&gt;</comment>
                            <comment id="15745636" author="asanso" created="Tue, 13 Dec 2016 17:06:15 +0000"  >&lt;p&gt;resolving as won&apos;t fix if this is by design.&lt;/p&gt;

&lt;p&gt;thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fmeschbe&quot; class=&quot;user-hover&quot; rel=&quot;fmeschbe&quot;&gt;fmeschbe&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 46 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37jpz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6393] Sling installer can duplicate factory configurations on opposite node if configuration is changed on local cluster node</title>
                <link>https://issues.apache.org/jira/browse/SLING-6393</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Sling installer can duplicate factory configurations on opposite node if configuration is changed on local cluster node:&lt;/p&gt;

&lt;p&gt;Reproducible on RDMBK-DB2 cluster environment.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;
06.12.2016 16:38:35.021 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Installed configuration org.apache.sling.commons.log.LogManager.factory.config.8af9a8a1-a3ad-4699-980d-6494aad6314e from resource TaskResource(url=jcrinstall:/apps/system/config/org.apache.sling.commons.log.LogManager.factory.config-audit.log.config, entity=config:org.apache.sling.commons.log.LogManager.factory.config.audit.log, state=INSTALL, attributes=[org.apache.sling.installer.api.tasks.ResourceTransformer=:28:84:, service.factoryPid=org.apache.sling.commons.log.LogManager.factory.config, service.pid=audit.log], digest=562d244ccd03c4e8b208ec6e8488a131)
06.12.2016 16:46:56.140 *INFO* [JcrInstaller.1] org.apache.sling.installer.provider.jcr.impl.JcrInstaller Registering resource with OSGi installer: [InstallableResource, priority=200, id=/apps/system/config/org.apache.sling.commons.log.LogManager.factory.config-audit.log.config]
06.12.2016 16:46:56.176 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Installed configuration org.apache.sling.commons.log.LogManager.factory.config.8af9a8a1-a3ad-4699-980d-6494aad6314e from resource TaskResource(url=jcrinstall:/apps/system/config/org.apache.sling.commons.log.LogManager.factory.config-audit.log.config, entity=config:org.apache.sling.commons.log.LogManager.factory.config.audit.log, state=INSTALL, attributes=[org.apache.sling.installer.api.tasks.ResourceTransformer=:28:84:, service.factoryPid=org.apache.sling.commons.log.LogManager.factory.config, service.pid=audit.log], digest=24ee5abae6a89146693d896e8376f046)
06.12.2016 16:48:55.674 *INFO* [JcrInstaller.1] org.apache.sling.installer.provider.jcr.impl.JcrInstaller Registering resource with OSGi installer: [InstallableResource, priority=200, id=/apps/system/config/org.apache.sling.commons.log.LogManager.config]
06.12.2016 16:48:55.715 *INFO* [OsgiInstallerImpl] org.apache.sling.audit.osgi.installer Installed configuration org.apache.sling.commons.log.LogManager from resource TaskResource(url=jcrinstall:/apps/system/config/org.apache.sling.commons.log.LogManager.config, entity=config:org.apache.sling.commons.log.LogManager, state=INSTALL, attributes=[org.apache.sling.installer.api.tasks.ResourceTransformer=:28:84:, service.pid=org.apache.sling.commons.log.LogManager], digest=ab4ea1c2827b4a27163236320694c81d)
06.12.2016 17:00:30.004 *INFO* [pool-11-thread-3] com.adobe.granite.taskmanagement.impl.jcr.TaskArchiveService archiving tasks at: &apos;Tue Dec 06 17:00:30 CET 2016&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Suse-001:/data/software/wlp/usr/servers/server1 # cd -
/data/software/wlp/usr/servers/server1/crx-quickstart/launchpad/config/org/apache/sling/commons/log/LogManager/factory/config
Suse-001:/data/software/wlp/usr/servers/server1/crx-quickstart/launchpad/config/org/apache/sling/commons/log/LogManager/factory/config # ls -lart
total 28
-rw-r--r-- 1 root root 377 Jun 11 2015 8ab79cc1-780e-4f4d-b967-c95774fb2bcb.config
-rw-r--r-- 1 root root 375 Jun 11 2015 31887166-1934-4f82-9420-0146bcb8d20c.config
-rw-r--r-- 1 root root 413 Jun 11 2015 40697bf8-0ffc-47e9-b8f3-08a0d3b36511.config
-rw-r--r-- 1 root root 505 Jun 11 2015 3ffce209-310b-448b-9d0b-b5d0ea33f1f2.config
drwxr-xr-x 4 root root 96 Jun 11 2015 ..
-rw-r--r-- 1 root root 435 Jun 11 2015 36b4a289-61ee-4fc2-a71d-fa5445cb9b5d.config
-rw-r----- 1 root root 653 Nov 11 15:32 factory.config
-rw-r----- 1 root root 352 Dec 6 16:46 8af9a8a1-a3ad-4699-980d-6494aad6314e.config
drwxr-xr-x 2 root root 464 Dec 6 16:46 .
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Please have a look at the 16:46 occurrence. Just changing on the secondary cluster via OSGi Console, e.g. the audit.log log level from INFO to ERROR, you should get the same duplication.&lt;/p&gt;

&lt;p&gt;For an environment to reproduce, please contact me.&lt;/p&gt;


</description>
                <environment></environment>
        <key id="13027803">SLING-6393</key>
            <summary>Sling installer can duplicate factory configurations on opposite node if configuration is changed on local cluster node</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="elemer">Elemer Kisch</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Dec 2016 15:02:01 +0000</created>
                <updated>Wed, 4 Sep 2019 08:02:05 +0000</updated>
                            <resolved>Wed, 4 Sep 2019 08:02:00 +0000</resolved>
                                                    <fixVersion>Installer Core 3.9.0</fixVersion>
                    <fixVersion>Installer Configuration Factory 1.2.2</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15745369" author="rombert" created="Tue, 13 Dec 2016 15:08:08 +0000"  >&lt;p&gt;Can you please add some more information?&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;is this a DocumentNodeStore-based cluster?&lt;/li&gt;
	&lt;li&gt;how are the configurations changed?&lt;/li&gt;
	&lt;li&gt;any relevant error log entries?&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="15745373" author="elemer" created="Tue, 13 Dec 2016 15:10:01 +0000"  >&lt;p&gt;Extended description.&lt;/p&gt;</comment>
                            <comment id="15814610" author="rombert" created="Tue, 10 Jan 2017 10:32:38 +0000"  >&lt;p&gt;Unassigning myself since we will probably have a single fix with  &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6313&quot; title=&quot;Sling installer can duplicate factory configurations if an invalid RegisteredResourceList.ser is found&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6313&quot;&gt;&lt;del&gt;SLING-6313&lt;/del&gt;&lt;/a&gt; once we pick up the new R7 config admin implementation.&lt;/p&gt;</comment>
                            <comment id="16922261" author="cziegeler" created="Wed, 4 Sep 2019 08:02:00 +0000"  >&lt;p&gt;This should be fixed with the latest versions&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13022178">SLING-6313</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 8 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37jin:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6392] OSGi Installer: Symbolic name changes on a resource keeping the same URL are not supported</title>
                <link>https://issues.apache.org/jira/browse/SLING-6392</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;After deploying bundle with symbolic name &lt;tt&gt;A&lt;/tt&gt; to JCR location &lt;tt&gt;/apps/myapp/install/mybundle.jar&lt;/tt&gt; or somewhere in the filesystem it is correctly being picked up by the JcrInstaller or FileInstaller and deployed in Apache Felix. Now the symbolic name has been changed to &lt;tt&gt;B&lt;/tt&gt; and the updated JAR has been deployed to the same location in the JCR  &lt;tt&gt;/apps/myapp/install/mybundle.jar&lt;/tt&gt; or to the file system the updated bundle is not correctly deployed.&lt;br/&gt;
The OSGI installer console exposes that both bundles &lt;tt&gt;A&lt;/tt&gt; and &lt;tt&gt;B&lt;/tt&gt; are in state &lt;tt&gt;Installed&lt;/tt&gt; but the /system/console/bundle only shows bundle &lt;tt&gt;A&lt;/tt&gt; but not &lt;tt&gt;B&lt;/tt&gt;.&lt;br/&gt;
It would actually be expected that &lt;tt&gt;A&lt;/tt&gt; is uninstalled, while &lt;tt&gt;B&lt;/tt&gt; is getting installed!&lt;/p&gt;


&lt;p&gt;Such a change can happen if you use the &lt;tt&gt;maven-bundle-plugin&lt;/tt&gt; with a default configuration and you just change the groupId of the underlying maven project. That will not affect the finalName of the artifact (by default artifactId) but the symbolic name of the bundle (see &lt;a href=&quot;http://felix.apache.org/documentation/subprojects/apache-felix-maven-bundle-plugin-bnd.html#default-behavior&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://felix.apache.org/documentation/subprojects/apache-felix-maven-bundle-plugin-bnd.html#default-behavior&lt;/a&gt;).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13027732">SLING-6392</key>
            <summary>OSGi Installer: Symbolic name changes on a resource keeping the same URL are not supported</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="karlpauls">Karl Pauls</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Dec 2016 09:34:01 +0000</created>
                <updated>Mon, 8 May 2017 10:07:55 +0000</updated>
                            <resolved>Mon, 27 Feb 2017 13:25:13 +0000</resolved>
                                    <version>Installer Core 3.8.0</version>
                                    <fixVersion>Installer Core 3.8.8</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15745687" author="kwin" created="Tue, 13 Dec 2016 17:26:10 +0000"  >&lt;p&gt;The reason for that is that &lt;tt&gt;o.a.s.installer.provider.jcr.impl.FileNodeConverter&lt;/tt&gt; return in its convert method a &lt;tt&gt;InstallableResource&lt;/tt&gt; with an id equal to the path. This is for sure not uniquely identifying a bundle, because the path may stay the same although the symbolic bundle name may change. It would be good to evaluate the manifest header in case you are dealing with a bundle and to at least include the symbolic name in the &lt;tt&gt;InstallableResource&lt;/tt&gt; id. That is necessary because based on the ID it is determined whether a bundle has been remove/added or upgraded.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; You are most familiar with the code, does the change of the &lt;tt&gt;InstallableResource.id&lt;/tt&gt; sound reasonable to you? What about compatibility if we now change the id?&lt;/p&gt;</comment>
                            <comment id="15747520" author="kwin" created="Wed, 14 Dec 2016 07:11:57 +0000"  >&lt;p&gt;After thinking about it a littlebit more, this should probably be implemented in the OSGi installer rather than in each provider separately.&lt;/p&gt;

&lt;p&gt;The installer should take care, that when for the same url the entity id has changed (i.e. there are still installed entities with a different id but the same url), any previously installed entities having the same url should be uninstalled.&lt;br/&gt;
This step can only happen after &lt;tt&gt;transformResources()&lt;/tt&gt; (because only there the entity id of the new resource is determined) but before &lt;tt&gt;computeTasks()&lt;/tt&gt;.&lt;br/&gt;
That way there is no change on the persisted resource list (i.e. url stays the path as previously) and this has to be implemented only once.&lt;/p&gt;</comment>
                            <comment id="15747601" author="cziegeler" created="Wed, 14 Dec 2016 07:58:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; Yes, this needs to be done in the OSGi installer core. The provider should have no knowledge of what it is delivering, it just detects a change of a binary at a given path.&lt;br/&gt;
The installer core then needs to execute some logic after the transform phase as you mention and then do the right thing. I guess the best way to start this work is having a test case in the integration tests&lt;/p&gt;</comment>
                            <comment id="15747779" author="kwin" created="Wed, 14 Dec 2016 09:19:40 +0000"  >&lt;p&gt;Attached is a failing IT.&lt;/p&gt;</comment>
                            <comment id="15842521" author="kwin" created="Fri, 27 Jan 2017 10:37:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; I tried to prepare a patch for this issue, but the logic in OSGiInstallerImpl is too convoluted for me to figure out what I need to do exactly. Is the attached IT enough for you to provide a patch? I would really like to see a fix for this in the next release.&lt;/p&gt;</comment>
                            <comment id="15848853" author="kwin" created="Wed, 1 Feb 2017 19:48:52 +0000"  >&lt;p&gt;I gave it another try and was finally successful. Now the IT being provided in &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12850469/12850469_SLING-6392-test-v02.patch&quot; title=&quot;SLING-6392-test-v02.patch attached to SLING-6392&quot;&gt;SLING-6392-test-v02.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; succeeds with the patch &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12850470/12850470_SLING-6392-v01.patch&quot; title=&quot;SLING-6392-v01.patch attached to SLING-6392&quot;&gt;SLING-6392-v01.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; being applied.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; Can you please review?&lt;/p&gt;</comment>
                            <comment id="15868806" author="karlpauls" created="Wed, 15 Feb 2017 23:29:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; this looks good to me and I got a message from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; that he tentatively agrees as well - hence, could you apply the patch and close this issue?&lt;/p&gt;

&lt;p&gt;As soon as you do I would go ahead and cut a release of the installer and the it including this issue and &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-5457&quot; title=&quot;OsgiInstaller should retry to start bundles on failures&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-5457&quot;&gt;&lt;del&gt;SLING-5457&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15869712" author="kwin" created="Thu, 16 Feb 2017 10:45:54 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1783196&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1783196&lt;/a&gt; by applying both patches.&lt;/p&gt;</comment>
                            <comment id="15871771" author="karlpauls" created="Fri, 17 Feb 2017 12:22:43 +0000"  >&lt;p&gt;There seems to be some issues with this patch after all. Its unclear at this point if the patch is wrong or if it is just triggering some problems with assumptions that previously worked but shouldn&apos;t have but for now I&apos;m reverting the change.&lt;/p&gt;</comment>
                            <comment id="15874155" author="kwin" created="Mon, 20 Feb 2017 07:47:18 +0000"  >&lt;p&gt;Just to outline what the problem was and why the patch was reverted: It conflicts with a 3rd party &lt;tt&gt;ResourceTransformer&lt;/tt&gt; which takes care of &lt;tt&gt;content-packages&lt;/tt&gt;, very similar to what Sling does in &lt;a href=&quot;https://github.com/apache/sling/tree/trunk/installer/factories/packages&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/tree/trunk/installer/factories/packages&lt;/a&gt;. The difference to the Sling version is that the 3rd party resource transformer will put a resource for each subpackage with the same url into the &lt;tt&gt;TransformationResults&lt;/tt&gt;. Basically the patch conflicts with all &lt;tt&gt;ResourceTransformers&lt;/tt&gt; returning more than one &lt;tt&gt;TransformationResult&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;The only way to solve this is to change the Resource URL. So multiple resources extracted from the same source should get different URLs, i.e. &lt;tt&gt;/some/path/resource1&lt;/tt&gt; is transformed into URLs &lt;tt&gt;/some/path/resource1/subresource1&lt;/tt&gt; and &lt;tt&gt;/some/path/resource1/subresource2&lt;/tt&gt;. In case of updates/removes of the original URL, all child URLs should also be considered.&lt;/p&gt;

&lt;p&gt;To be backwards compatible the separation of the Resource URLs should be done in &lt;tt&gt;o.a.s.installer.core.impl.PersistentResourceList#transform&lt;/tt&gt; by just appending a suffix like &lt;tt&gt;/&amp;lt;index&amp;gt;&lt;/tt&gt; to the resource URL for each individual sub resource.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;[&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dsuess&quot; class=&quot;user-hover&quot; rel=&quot;dsuess&quot;&gt;dsuess&lt;/a&gt;[&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=karlpauls&quot; class=&quot;user-hover&quot; rel=&quot;karlpauls&quot;&gt;karlpauls&lt;/a&gt; WDYT? Is it planned to have the improved/changed subpackage handling also in the Sling module?&lt;/p&gt;</comment>
                            <comment id="15874306" author="kwin" created="Mon, 20 Feb 2017 10:10:16 +0000"  >&lt;p&gt;Attached is a new patch &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12853543/12853543_SLING-6392-v02.patch&quot; title=&quot;SLING-6392-v02.patch attached to SLING-6392&quot;&gt;SLING-6392-v02.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; which makes sure that the resource transformers create multiple resources with different url suffixes. I tested the patch now against the product which failed initially (AEM 6.3 beta) and now everything works.&lt;/p&gt;</comment>
                            <comment id="15874328" author="karlpauls" created="Mon, 20 Feb 2017 10:35:00 +0000"  >&lt;p&gt;Yeah, I agree with your statement above. Sorry for the somewhat bumpy release - in case we get this issue fixed I&apos;m more than willing to cut a new one. Furthermore, I certainly think we should address this as your underlying patch still makes sense to me and I too think that all transformed resources should have their own URL. &lt;/p&gt;

&lt;p&gt;Let me have a look at your patch and get back to this issue.&lt;/p&gt;</comment>
                            <comment id="15874767" author="karlpauls" created="Mon, 20 Feb 2017 16:23:25 +0000"  >&lt;p&gt;Well, I&apos;m not sure your patch isn&apos;t going beyond what is needed. I&apos;d much prefer not making this an api level change. After thinking about it for a bit: how about we make it so that we just append the id of TransformationResults to the url as a fragment? &lt;/p&gt;

&lt;p&gt;It would basically mean that if a TransformationResult has an id we append it to the url as a fragment. If it doesn&apos;t have one we do nothing. In the former case, its possible to have more than one TransformationResult for a Resource, in the latter it is not. &lt;/p&gt;

&lt;p&gt;That seems pretty consistent for me and it wouldn&apos;t introduce an API level change. I&apos;ll try to come-up with a patch.&lt;/p&gt;</comment>
                            <comment id="15874770" author="karlpauls" created="Mon, 20 Feb 2017 16:26:18 +0000"  >&lt;p&gt;The &lt;span class=&quot;error&quot;&gt;&amp;#91;SLING-6392-Fragment.patch&amp;#93;&lt;/span&gt; should do what I was talking about. It basically just appends the id of TransformationResults to the url as fragment when there is an id.&lt;/p&gt;

&lt;p&gt;It seems to work for me. WDYT?&lt;/p&gt;</comment>
                            <comment id="15874778" author="kwin" created="Mon, 20 Feb 2017 16:34:59 +0000"  >&lt;p&gt;This patch looks ok to me as well, except that I want the method &lt;tt&gt;transform&lt;/tt&gt; to explicitly log an error in case a duplicate resource url is being generated (in case there is no id and multiple results or in case there is multiple times the same id being used).&lt;br/&gt;
The only drawback of using the id as suffix is that he id is very often is long (i.e. not a perfect match for a suffix) and  duplicates part of the URL. But it at least fulfills the necessary requirements for the URL to become unique.&lt;/p&gt;</comment>
                            <comment id="15874784" author="karlpauls" created="Mon, 20 Feb 2017 16:39:54 +0000"  >&lt;p&gt;Ok. Let me try to work that into the patch. &lt;/p&gt;</comment>
                            <comment id="15875058" author="karlpauls" created="Mon, 20 Feb 2017 21:14:50 +0000"  >&lt;p&gt;I think we should have a working version of this in the attached &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12853605/12853605_SLING-6392-Fragment-v02.patch&quot; title=&quot;SLING-6392-Fragment-v02.patch attached to SLING-6392&quot;&gt;SLING-6392-Fragment-v02.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; patch. It basically will only add the fragment if it is needed (i.e., we have more than one transformation result) and logs an error if in that case a transformation result has no id or the id is not unique. &lt;/p&gt;

&lt;p&gt;The patch also includes the previous test case for the &quot;it&quot; project. Subsequently, the it projects passes for me (including the new test cases) as well as the launcher integration-tests and some internal test-suites - hence, I&apos;m reasonable confident that it doesn&apos;t break anything.&lt;/p&gt;

&lt;p&gt;Cloud you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; and hopefully &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; as well, please review the patch and let us know if this is good to go (in which case I will commit the patch)? &lt;/p&gt;</comment>
                            <comment id="15875522" author="kwin" created="Tue, 21 Feb 2017 07:32:48 +0000"  >&lt;p&gt;What about the case that you overwrite a resource which originally contained more than one transformed resource? In that case those stale resources would not be removed. &lt;br/&gt;
I would propose to move the stale check from &lt;tt&gt;checkInstallable()&lt;/tt&gt; to &lt;tt&gt;addOrUpdate()&lt;/tt&gt; (because then it is only triggered when new untransformed resources have been added). The stale check should then do cover all URLs starting&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/warning.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; with the given URL (i.e. should also cover suffixed URLs).&lt;br/&gt;
Sorry that glitch was already contained in my version of the patch, but it didn&apos;t occur to me earlier.&lt;/p&gt;</comment>
                            <comment id="15875683" author="karlpauls" created="Tue, 21 Feb 2017 09:38:17 +0000"  >&lt;p&gt;I did think about that case yesterday and I somehow ended-up convincing myself it would work. However, right now I can&apos;t remember how I arrived at that conclusion &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. I guess we have to try to cover it within the integration test to make sure we address it correctly. I&apos;ll try to get it tested and then we see.&lt;/p&gt;</comment>
                            <comment id="15878653" author="karlpauls" created="Wed, 22 Feb 2017 16:35:13 +0000"  >&lt;p&gt;Ok, I think I figured it out. &lt;/p&gt;

&lt;p&gt;Basically, what we need to do is to do the clean-up in the transform. Specifically, after all results have been transformed for a given resource. At that point we know all the entityids that should be in the system for the resource url. Subsequently, we can iterate over the groups and remove the url from all groups that are not having an entityid in that list. &lt;/p&gt;

&lt;p&gt;This way we remove old resources and don&apos;t remove new once. I tested the new patch &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12853998/12853998_SLING-6392-after-transform.patch&quot; title=&quot;SLING-6392-after-transform.patch attached to SLING-6392&quot;&gt;SLING-6392-after-transform.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; quite a bit and it looks good to me. &lt;/p&gt;

&lt;p&gt;Let me know if it looks good to you as well (in which case I&apos;ll commit it).&lt;/p&gt;</comment>
                            <comment id="15882639" author="karlpauls" created="Fri, 24 Feb 2017 13:12:13 +0000"  >&lt;p&gt;I think this patch is good to go - do you agree: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;? &lt;/p&gt;</comment>
                            <comment id="15882641" author="kwin" created="Fri, 24 Feb 2017 13:14:00 +0000"  >&lt;p&gt;I am still reviewing it. Please give me a bit more time. Not 100% convinced yet...&lt;/p&gt;</comment>
                            <comment id="15882717" author="kwin" created="Fri, 24 Feb 2017 14:02:13 +0000"  >&lt;p&gt;Ok, I am finally convinced that this will work. But I would really appreciate some logging (either with level INFO or even WARN) in case such a replacement leads to the uninstallation of some resources with a different id. Otherwise this would be really hard to debug.&lt;/p&gt;</comment>
                            <comment id="15882823" author="karlpauls" created="Fri, 24 Feb 2017 14:54:35 +0000"  >&lt;p&gt;Great. I committed &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12853998/12853998_SLING-6392-after-transform.patch&quot; title=&quot;SLING-6392-after-transform.patch attached to SLING-6392&quot;&gt; SLING-6392-after-transform.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; in r1784280 so that we don&apos;t have to work via patches all the time (i.e., I&apos;m not against adding some form of log message). &lt;/p&gt;

&lt;p&gt;Regarding the log message I would think it should be an INFO at a maximum but I&apos;d rather say it should be a DEBUG because the removal (if any) will still be logged already (as a normal uninstall) so it really is only of interested in a debugging scenario to figure out why it was removed. &lt;/p&gt;

&lt;p&gt;That said, I&apos;m not sure how to best figure out when to log because the remove method doesn&apos;t report a remove. Maybe you have a better idea but if not, I would probably add a protected remove method to EntityResourceList (to which the public void remove(String url) method delegates) which returns true if something was removed. Subsequently, in the transform, I would do a logger.debug for every group.remove that returns true. &lt;/p&gt;

&lt;p&gt;WDYT?&lt;/p&gt;</comment>
                            <comment id="15885512" author="kwin" created="Mon, 27 Feb 2017 10:21:22 +0000"  >&lt;p&gt;Sounds good. Thanks for all your efforts.&lt;/p&gt;</comment>
                            <comment id="15885783" author="karlpauls" created="Mon, 27 Feb 2017 13:25:13 +0000"  >&lt;p&gt;I added a debug log message in r1784561. &lt;/p&gt;

&lt;p&gt;I think this should work now - hence, I&apos;m resolving this issue. Please close if it works for you.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12853605" name="SLING-6392-Fragment-v02.patch" size="12767" author="karlpauls" created="Mon, 20 Feb 2017 21:14:50 +0000"/>
                            <attachment id="12853575" name="SLING-6392-Fragment.patch" size="5226" author="karlpauls" created="Mon, 20 Feb 2017 16:26:18 +0000"/>
                            <attachment id="12853998" name="SLING-6392-after-transform.patch" size="8173" author="karlpauls" created="Wed, 22 Feb 2017 16:35:13 +0000"/>
                            <attachment id="12843192" name="SLING-6392-test-v01.patch" size="5807" author="kwin" created="Wed, 14 Dec 2016 09:19:40 +0000"/>
                            <attachment id="12850469" name="SLING-6392-test-v02.patch" size="6617" author="kwin" created="Wed, 1 Feb 2017 19:48:52 +0000"/>
                            <attachment id="12850470" name="SLING-6392-v01.patch" size="2925" author="kwin" created="Wed, 1 Feb 2017 19:48:52 +0000"/>
                            <attachment id="12853543" name="SLING-6392-v02.patch" size="7971" author="kwin" created="Mon, 20 Feb 2017 10:10:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 35 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37j2v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6391] DefaultDistributionConfigurationManager overrides existing persisted properties</title>
                <link>https://issues.apache.org/jira/browse/SLING-6391</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;tt&gt;DefaultDistributionConfigurationManager&lt;/tt&gt;&#160;doesn&apos;t take care of existing properties in the resource tree, so that persisted configs are not merged.&lt;br/&gt;
Also defaults sometimes override actual parameters.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13027727">SLING-6391</key>
            <summary>DefaultDistributionConfigurationManager overrides existing persisted properties</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marett">Timothee Maret</assignee>
                                    <reporter username="teofili">Tommaso Teofili</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Dec 2016 09:08:27 +0000</created>
                <updated>Tue, 14 Feb 2017 09:30:54 +0000</updated>
                            <resolved>Thu, 19 Jan 2017 14:27:54 +0000</resolved>
                                                    <fixVersion>Content Distribution Core 0.2.0</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15744630" author="teofili" created="Tue, 13 Dec 2016 09:10:04 +0000"  >&lt;p&gt;made some adjustments in r1773933.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 46 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37j1r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6386] osgi-mock: Avoid NPE when providing service properties with null values</title>
                <link>https://issues.apache.org/jira/browse/SLING-6386</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;when a service is activated with service properties which contain a null value this may lead to an NPE. we should filter out key/value pairs with null values.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13027099">SLING-6386</key>
            <summary>osgi-mock: Avoid NPE when providing service properties with null values</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                            <label>mocks</label>
                    </labels>
                <created>Fri, 9 Dec 2016 21:09:33 +0000</created>
                <updated>Mon, 19 Dec 2016 11:58:52 +0000</updated>
                            <resolved>Fri, 9 Dec 2016 21:13:04 +0000</resolved>
                                    <version>Testing OSGi Mock 1.9.0</version>
                    <version>Testing OSGi Mock 2.2.0</version>
                                    <fixVersion>Testing OSGi Mock 1.9.2</fixVersion>
                    <fixVersion>Testing OSGi Mock 2.2.2</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="15736365" author="sseifert@pro-vision.de" created="Fri, 9 Dec 2016 21:13:05 +0000"  >&lt;p&gt;Completed: At revision: 1773474  (2.x)&lt;br/&gt;
Completed: At revision: 1773475  (1.x)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 46 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37f6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6383] Unexpected behavior with left curly bracket in resource resolution</title>
                <link>https://issues.apache.org/jira/browse/SLING-6383</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The attached &lt;tt&gt;test.jsp&lt;/tt&gt; script produces the below output, in which cases 4 to 7 are suprising.&lt;/p&gt;

&lt;p&gt;Given an existing resource R (/libs here) it looks like adding a sub-path to R&apos;s path which starts with a left curly bracket causes the resolver to return R instead of a non-existing resource. &lt;/p&gt;

&lt;p&gt;The returned resource has the full path that was resolved, not R&apos;s path, but adapTo(Node.class) returns R&apos;s node.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;1 /libs
  (sling:Folder)
  JCR:/libs

2 /libs/sub
  (sling:nonexisting)

3 /libs/sub/end
  (sling:nonexisting)

4 /libs/{end
  (sling:Folder)
  JCR:/libs

5 /libs/{sub/end
  (sling:Folder)
  JCR:/libs

6 /libs/{sub/more/end
  (sling:Folder)
  JCR:/libs

7 /libs/{sub/end
  (sling:Folder)
  JCR:/libs

8 /libs/}sub/end
  (sling:nonexisting)

9 /libs/{sub}/end
  (sling:nonexisting)

10 /libs/sub/{end
  (sling:nonexisting)

11 /libs/sub/}end
  (sling:nonexisting)

12 /libs/sub/{end}
  (sling:nonexisting)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13026995">SLING-6383</key>
            <summary>Unexpected behavior with left curly bracket in resource resolution</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Dec 2016 13:24:47 +0000</created>
                <updated>Fri, 9 Dec 2016 14:43:31 +0000</updated>
                                                                            <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15735373" author="bdelacretaz" created="Fri, 9 Dec 2016 13:52:44 +0000"  >&lt;p&gt;It looks like the unexpected behavior happens at the Oak level. We have this code in our &lt;tt&gt;JcrItemResourceFactory&lt;/tt&gt; class&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (session &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; JackrabbitSession) {
  item = ((JackrabbitSession) session).getItemOrNull(path);
 }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And if that&apos;s called with path = &quot;/libs/{sub/end.tidy.json&quot; which does not exists, the &lt;tt&gt;getItemOrNull&lt;/tt&gt; method returns an Item with path = /libs, which exists.&lt;/p&gt;

&lt;p&gt;This is using the Sling trunk which uses Oak 1.5.13.&lt;/p&gt;

&lt;p&gt;Steps to reproduce:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Start the Sling launchpad/builder trunk&lt;/li&gt;
	&lt;li&gt;Set a Java breakpoint on the above line&lt;/li&gt;
	&lt;li&gt;curl -D - &lt;a href=&quot;http://localhost:8080/libs/%7Bsub.tidy.json&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/libs/%7Bsub.tidy.json&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The breakpoint is hit with path=/libs/{sub.tidy.json and the getItemOrNull method returns the /libs Node.&lt;/p&gt;



</comment>
                            <comment id="15735427" author="fmeschbe" created="Fri, 9 Dec 2016 14:13:49 +0000"  >&lt;p&gt;Could this be that JCR assumes the leading curly brace to introduce the expanded name form as per JCR 2 section 3.2.5.1 Expanded Form:&lt;/p&gt;

&lt;div class=&quot;panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;panelContent&quot;&gt;
&lt;p&gt;&lt;b&gt;3.2.5.1 Expanded Form&lt;/b&gt;&lt;br/&gt;
The expanded form of a JCR name is defined as:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ExpandedName ::= &lt;span class=&quot;code-quote&quot;&gt;&apos;{&apos;&lt;/span&gt; Namespace &lt;span class=&quot;code-quote&quot;&gt;&apos;}&apos;&lt;/span&gt; LocalName
Namespace ::= &lt;span class=&quot;code-comment&quot;&gt;/* see &#167;3.2.1 Namespaces */&lt;/span&gt;
LocalName ::= &lt;span class=&quot;code-comment&quot;&gt;/* see &#167;3.2.2 Local Names */&lt;/span&gt;
&lt;span class=&quot;code-comment&quot;&gt;/* See &#167;1.3.1 &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; Literals in Syntactic Grammars &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; details on the interpretation of string literals in &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; grammar */&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Though I would think that the string &quot;{sub.tidy.json&quot; is not a complete name in expanded form and thus should be treated as invalid.&lt;/p&gt;

&lt;p&gt;Just an idea.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="13027011">OAK-5260</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12842554" name="test.jsp" size="1054" author="bdelacretaz" created="Fri, 9 Dec 2016 13:25:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 46 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37ejb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6382] JcrResourceBundle.getBaseBundleName() always returns null</title>
                <link>https://issues.apache.org/jira/browse/SLING-6382</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The method &lt;tt&gt;getBaseBundleName&lt;/tt&gt; being added with Java8 to &lt;tt&gt;ResourceBundle&lt;/tt&gt; (&lt;a href=&quot;https://docs.oracle.com/javase/8/docs/api/java/util/ResourceBundle.html#getBaseBundleName--&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.oracle.com/javase/8/docs/api/java/util/ResourceBundle.html#getBaseBundleName--&lt;/a&gt;) always returns &lt;tt&gt;null&lt;/tt&gt; for &lt;tt&gt;JcrResourceBundles&lt;/tt&gt;. The reason for that is that the private field &lt;tt&gt;name&lt;/tt&gt; inside &lt;tt&gt;ResourceBundle&lt;/tt&gt; only gets set if &lt;tt&gt;loadBundle(CacheKey cacheKey, List&amp;lt;String&amp;gt; formats,Control control,boolean reload)&lt;/tt&gt; gets called.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13026953">SLING-6382</key>
            <summary>JcrResourceBundle.getBaseBundleName() always returns null</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Dec 2016 11:12:27 +0000</created>
                <updated>Wed, 29 Mar 2017 13:41:00 +0000</updated>
                                            <version>i18n 2.5.4</version>
                                                    <component>Extensions</component>
                    <component>i18n</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 46 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37e9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6381] Unclosed ResourceResolver in ResourceResolverTest</title>
                <link>https://issues.apache.org/jira/browse/SLING-6381</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description></description>
                <environment></environment>
        <key id="13026700">SLING-6381</key>
            <summary>Unclosed ResourceResolver in ResourceResolverTest</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jsedding">Julian Sedding</assignee>
                                    <reporter username="jsedding">Julian Sedding</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 Dec 2016 14:08:26 +0000</created>
                <updated>Thu, 8 Dec 2016 14:20:40 +0000</updated>
                            <resolved>Thu, 8 Dec 2016 14:20:40 +0000</resolved>
                                    <version>Launchpad Test Services 2.0.6</version>
                                    <fixVersion>Launchpad Test Services 2.0.12</fixVersion>
                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15732335" author="jsedding" created="Thu, 8 Dec 2016 14:20:40 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1773239&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1773239&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 46 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37cpr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6380] Unclosed ResourceResolver in ScriptableTestsProvider</title>
                <link>https://issues.apache.org/jira/browse/SLING-6380</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description></description>
                <environment></environment>
        <key id="13026698">SLING-6380</key>
            <summary>Unclosed ResourceResolver in ScriptableTestsProvider</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jsedding">Julian Sedding</assignee>
                                    <reporter username="jsedding">Julian Sedding</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 Dec 2016 14:07:45 +0000</created>
                <updated>Fri, 12 May 2017 15:45:40 +0000</updated>
                            <resolved>Thu, 8 Dec 2016 14:21:45 +0000</resolved>
                                    <version>JUnit Scriptable Tests Provider 1.0.10</version>
                                    <fixVersion>JUnit Scriptable Tests Provider 1.0.12</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15732338" author="jsedding" created="Thu, 8 Dec 2016 14:21:45 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1773238&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1773238&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 46 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37cpb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6379] Unclosed RR in LoginAdminWhitelistedIT</title>
                <link>https://issues.apache.org/jira/browse/SLING-6379</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;LoginAdminWhitelistedIT opens a ResourceResolver but doesn&apos;t close it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13026696">SLING-6379</key>
            <summary>Unclosed RR in LoginAdminWhitelistedIT</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jsedding">Julian Sedding</assignee>
                                    <reporter username="jsedding">Julian Sedding</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 Dec 2016 14:04:44 +0000</created>
                <updated>Mon, 20 Mar 2017 22:18:26 +0000</updated>
                            <resolved>Thu, 8 Dec 2016 14:23:16 +0000</resolved>
                                    <version>JCR Oak Server 1.1.0</version>
                                    <fixVersion>JCR Oak Server 1.1.4</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15732345" author="jsedding" created="Thu, 8 Dec 2016 14:23:16 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1773237&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1773237&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 46 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37cov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6378] Unclosed ResourceResolver in davex AuthHttpContext</title>
                <link>https://issues.apache.org/jira/browse/SLING-6378</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The changes in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6375&quot; title=&quot;Log a warning in case a resource resolver is closed by the Sling RR Finalizer thread&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6375&quot;&gt;&lt;del&gt;SLING-6375&lt;/del&gt;&lt;/a&gt; reveal an unclosed ResourceResolver in &lt;tt&gt;org.apache.sling.jcr.davex.impl.servlets.AuthHttpContext&lt;/tt&gt;. The &lt;tt&gt;AuthHttpContext&lt;/tt&gt; delegates to &lt;tt&gt;SlingAuthenticator&lt;/tt&gt; to open the RR. However, &lt;tt&gt;SlingAuthenticator&lt;/tt&gt; relies on &lt;tt&gt;ServletRequestListener##requestDestroyed&lt;/tt&gt; to be called in order to close the RR. It seems that this does not happen in this case, as &lt;tt&gt;SlingAuthenticator&lt;/tt&gt; is called directly in this case.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;08.12.2016 14:43:19.385 *INFO* [Apache Sling Resource Resolver Finalizer Thread] org.apache.sling.resourceresolver.impl.CommonResourceResolverFactoryImpl Unclosed ResourceResolver was created here: 
java.lang.Exception: null
        at org.apache.sling.resourceresolver.impl.CommonResourceResolverFactoryImpl$ResolverReference.&amp;lt;init&amp;gt;(CommonResourceResolverFactoryImpl.java:466)
        at org.apache.sling.resourceresolver.impl.CommonResourceResolverFactoryImpl.register(CommonResourceResolverFactoryImpl.java:200)
        at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.&amp;lt;init&amp;gt;(ResourceResolverImpl.java:117)
        at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.&amp;lt;init&amp;gt;(ResourceResolverImpl.java:110)
        at org.apache.sling.resourceresolver.impl.CommonResourceResolverFactoryImpl.getResourceResolverInternal(CommonResourceResolverFactoryImpl.java:245)
        at org.apache.sling.resourceresolver.impl.CommonResourceResolverFactoryImpl.getResourceResolver(CommonResourceResolverFactoryImpl.java:155)
        at org.apache.sling.resourceresolver.impl.ResourceResolverFactoryImpl.getResourceResolver(ResourceResolverFactoryImpl.java:101)
        at org.apache.sling.auth.core.impl.SlingAuthenticator.getAnonymousResolver(SlingAuthenticator.java:869)
        at org.apache.sling.auth.core.impl.SlingAuthenticator.doHandleSecurity(SlingAuthenticator.java:500)
        at org.apache.sling.auth.core.impl.SlingAuthenticator.handleSecurity(SlingAuthenticator.java:459)
        at org.apache.sling.jcr.davex.impl.servlets.AuthHttpContext.handleSecurity(AuthHttpContext.java:85)
        at org.apache.felix.http.base.internal.service.ServletContextImpl.handleSecurity(ServletContextImpl.java:421)
        at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:57)
        at org.apache.felix.http.base.internal.dispatch.Dispatcher.dispatch(Dispatcher.java:128)
        at org.apache.felix.http.base.internal.dispatch.DispatcherServlet.service(DispatcherServlet.java:49)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
        at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:845)
        at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:583)
        at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:224)
        at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1180)
        at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:511)
        at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)
        at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1112)
        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
        at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:213)
        at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:134)
        at org.eclipse.jetty.server.Server.handle(Server.java:523)
        at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:320)
        at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:251)
        at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:273)
        at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:95)
        at org.eclipse.jetty.io.SelectChannelEndPoint$2.run(SelectChannelEndPoint.java:93)
        at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.executeProduceConsume(ExecuteProduceConsume.java:303)
        at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceConsume(ExecuteProduceConsume.java:148)
        at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:136)
        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:671)
        at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:589)
        at java.lang.Thread.run(Thread.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13026689">SLING-6378</key>
            <summary>Unclosed ResourceResolver in davex AuthHttpContext</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="jsedding">Julian Sedding</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 Dec 2016 13:50:23 +0000</created>
                <updated>Wed, 20 Sep 2017 11:32:32 +0000</updated>
                            <resolved>Mon, 12 Dec 2016 14:06:48 +0000</resolved>
                                    <version>JCR Davex 1.3.4</version>
                                    <fixVersion>JCR Davex 1.3.8</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15732293" author="fmeschbe" created="Thu, 8 Dec 2016 14:01:56 +0000"  >&lt;p&gt;What version of the Sling Authentication Core bundle do you use ? Looking at the SVN history, this should work properly at least with 1.3.18 and newer.&lt;/p&gt;</comment>
                            <comment id="15732329" author="jsedding" created="Thu, 8 Dec 2016 14:18:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fmeschbe&quot; class=&quot;user-hover&quot; rel=&quot;fmeschbe&quot;&gt;fmeschbe&lt;/a&gt; This was produced with a trunk &lt;tt&gt;launchpad/builder&lt;/tt&gt;, i.e. Sling Authentication Core 1.3.22. However, as I wrote in the description, I believe that the culprit is &lt;tt&gt;AuthHttpContext&lt;/tt&gt; delegating to the &lt;tt&gt;SlingAuthenticator&lt;/tt&gt;. I suspect that the SlingAuthenticator does not get the &lt;tt&gt;requestDestroyed&lt;/tt&gt; callback, because the servlet has it&apos;s own context. I suspect you have a better overview of how the HttpService works, so please let me know if my assumptions are incorrect.&lt;/p&gt;

&lt;p&gt;You should be able to reproduce the stacktrace with the latest trunk (updated to resourceresolver snapshot), when you build &lt;tt&gt;launchpad/builder&lt;/tt&gt; or &lt;tt&gt;launchpad/testing&lt;/tt&gt;. The build is successful, but grepping the log for &quot;Unclosed ResourceResolver&quot; yields several occurrences of the stacktrace above.&lt;/p&gt;</comment>
                            <comment id="15732376" author="fmeschbe" created="Thu, 8 Dec 2016 14:34:14 +0000"  >&lt;p&gt;SlingAuthenticator is a service which is referenced by the AuthHttpContext. The service is registered as a ServletRequestListener to all Http Service contexts (as of 1.3.18). As such it (a) sets the ResourceResolver in the request as a request attribute and (b) should get the requestDestroyed event to close the ResourceResolver in the request attribute.&lt;/p&gt;

&lt;p&gt;I only have two explanations: (1) the OSGi framework is not properly setup or (2) it does not work as expected, but why ?&lt;/p&gt;</comment>
                            <comment id="15732388" author="jsedding" created="Thu, 8 Dec 2016 14:39:12 +0000"  >&lt;p&gt;My suspicion that it is related to the &lt;tt&gt;AuthHttpContext&lt;/tt&gt; mostly stems from the fact that the logs of &lt;tt&gt;builder/testing&lt;/tt&gt; contained ~10-20 of the above stack traces, but no other stacks involving the &lt;tt&gt;SlingAuthenticator&lt;/tt&gt;. Unfortunately, I currently don&apos;t have time to dig deeper into this issue. I&apos;m sure it would be educational &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15732424" author="fmeschbe" created="Thu, 8 Dec 2016 14:57:48 +0000"  >&lt;p&gt;I quickly looked into the code. The only hint I would have is, that the SlingDavExServlet is not registered with the Http Service whiteboard but directly. This may cause the listeners to not be properly attached to the context.&lt;/p&gt;

&lt;p&gt;This needs a bit deeper digging.&lt;/p&gt;

&lt;p&gt;Thanks for reporting !&lt;/p&gt;

&lt;p&gt;A workaround might be to manually close the RR in an overwritten service method:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@Override
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void service(ServletRequest req, ServletResponse res) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; ServletException, IOException {
    &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
        &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.service(req, res);
    } &lt;span class=&quot;code-keyword&quot;&gt;finally&lt;/span&gt; {
        &lt;span class=&quot;code-comment&quot;&gt;// workaround: close the ResourceResolver here
&lt;/span&gt;        &lt;span class=&quot;code-comment&quot;&gt;// see also SLING-6378
&lt;/span&gt;        &lt;span class=&quot;code-comment&quot;&gt;// code copied from SlingAuthenticator.requestDestroyed
&lt;/span&gt;        &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; resolverAttr = req.getAttribute(AuthenticationSupport.REQUEST_ATTRIBUTE_RESOLVER);
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (resolverAttr &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; ResourceResolver) {
            ((ResourceResolver) resolverAttr).close();
            req.removeAttribute(AuthenticationSupport.REQUEST_ATTRIBUTE_RESOLVER);
        }
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15735746" author="fmeschbe" created="Fri, 9 Dec 2016 16:43:10 +0000"  >&lt;p&gt;The problem is that the traditional &lt;tt&gt;HttpService&lt;/tt&gt; implementation ignores any whiteboard registered listeners including the Sling Auth Core &lt;tt&gt;ServletRequestListener&lt;/tt&gt;. Therefore for the DavEx servlet, the listener is not called.&lt;/p&gt;

&lt;p&gt;I see two options: (1) Manually cleanup as proposed in the previous comment or (2) investigate migrating the DavEx servlet to be a whiteboard servlet.&lt;/p&gt;</comment>
                            <comment id="15741405" author="jsedding" created="Mon, 12 Dec 2016 09:14:54 +0000"  >&lt;p&gt;Is it correct for &lt;tt&gt;HttpService&lt;/tt&gt; to ignore whiteboard registered listeners? Otherwise there&apos;s option (3) fix the &lt;tt&gt;HttpService&lt;/tt&gt; implementation.&lt;/p&gt;

&lt;p&gt;In any case, I&apos;m in favour of option (2), as it modernizes the code-base, as opposed to option (1) which feels like a workaround and makes understanding &lt;tt&gt;AuthenticationSupport.REQUEST_ATTRIBUTE_RESOLVER&lt;/tt&gt; and the lifecycle of a request&apos;s &lt;tt&gt;ResourceResolver&lt;/tt&gt; harder.&lt;/p&gt;</comment>
                            <comment id="15741420" author="cziegeler" created="Mon, 12 Dec 2016 09:23:31 +0000"  >&lt;p&gt;This sounds like a bug in the http service implementation to me, as the listener is registered with context name = * it should apply the listener for http service registered servlets as well - I think for filters this works.&lt;br/&gt;
While I think we should go with option (2) for this issue, we should also file an issue with the http service to eventually fix the impl&lt;/p&gt;</comment>
                            <comment id="15741518" author="fmeschbe" created="Mon, 12 Dec 2016 09:59:09 +0000"  >&lt;p&gt;Thanks for the feedback. I am going for Option (2) then (refactor to be OSGi Whiteboard services).&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jsedding&quot; class=&quot;user-hover&quot; rel=&quot;jsedding&quot;&gt;jsedding&lt;/a&gt; I agree. I have created &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-5446&quot; title=&quot;Http Service ignores Whiteboard Servlet API Listeners&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-5446&quot;&gt;&lt;del&gt;FELIX-5446&lt;/del&gt;&lt;/a&gt; discuss this.&lt;/p&gt;</comment>
                            <comment id="15741993" author="fmeschbe" created="Mon, 12 Dec 2016 14:06:48 +0000"  >&lt;p&gt;Fixed in Rev. 1773793:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Converted the SlingDavExServlet to be whiteboard registered&lt;/li&gt;
	&lt;li&gt;Converted the AuthHttpContext to be a whiteboard registered ServletContextHelper used by the SlingDavExServlet&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This now ensures the ResourceResolver created during authentication is properly removed from the request attributes and closed.&lt;/p&gt;</comment>
                            <comment id="15744588" author="jsedding" created="Tue, 13 Dec 2016 08:46:11 +0000"  >&lt;p&gt;Great! Thanks for the fix &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fmeschbe&quot; class=&quot;user-hover&quot; rel=&quot;fmeschbe&quot;&gt;fmeschbe&lt;/a&gt;!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13027411">FELIX-5446</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 46 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37cnb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6377] When adapting within a Collection preferably use ModelFactory instead of adaptTo()</title>
                <link>https://issues.apache.org/jira/browse/SLING-6377</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently whenever some adaptation is necessary in &lt;tt&gt;ModelAdapterFactory.adaptIfNecessary&lt;/tt&gt; the &lt;tt&gt;internalCreateModel&lt;/tt&gt; should be used instead of adaptTo() whenever possible. This is currently not the case for adaptations within a &lt;tt&gt;Collection&lt;/tt&gt;. Using the &lt;tt&gt;ModelFactory&lt;/tt&gt; approach has the advantage of exposing the real underlying exception, while &lt;tt&gt;adaptTo&lt;/tt&gt; would only log in case of failures.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13026647">SLING-6377</key>
            <summary>When adapting within a Collection preferably use ModelFactory instead of adaptTo()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 Dec 2016 11:28:57 +0000</created>
                <updated>Thu, 22 Dec 2016 12:22:01 +0000</updated>
                            <resolved>Thu, 8 Dec 2016 12:02:36 +0000</resolved>
                                    <version>Sling Models Impl 1.3.6</version>
                                    <fixVersion>Sling Models Impl 1.3.8</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15732017" author="kwin" created="Thu, 8 Dec 2016 12:02:37 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1773222&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1773222&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 46 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37cdz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6376] Improve error message &quot;Could not adapt from &lt;A&gt; to &lt;B&gt; within the collection&quot;</title>
                <link>https://issues.apache.org/jira/browse/SLING-6376</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Both &lt;tt&gt;&amp;lt;A&amp;gt;&lt;/tt&gt; and &lt;tt&gt;&amp;lt;B&amp;gt;&lt;/tt&gt; in the error message refer to the wrong types.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13026644">SLING-6376</key>
            <summary>Improve error message &quot;Could not adapt from &lt;A&gt; to &lt;B&gt; within the collection&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 Dec 2016 11:21:08 +0000</created>
                <updated>Thu, 22 Dec 2016 12:22:01 +0000</updated>
                            <resolved>Thu, 8 Dec 2016 11:25:13 +0000</resolved>
                                    <version>Sling Models Impl 1.3.6</version>
                                    <fixVersion>Sling Models Impl 1.3.8</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15731906" author="kwin" created="Thu, 8 Dec 2016 11:24:49 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1772744&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1772744&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 46 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37cdb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6371] Comparing two globs in Path.matches() does not work</title>
                <link>https://issues.apache.org/jira/browse/SLING-6371</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The o.a.s.api.resource.path.Path.matches method uses Pattern.equals to compare regexp pattern but that&apos;s not implemented semantically in the Pattern class, so the comparison fails.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13026273">SLING-6371</key>
            <summary>Comparing two globs in Path.matches() does not work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 Dec 2016 07:53:12 +0000</created>
                <updated>Wed, 7 Dec 2016 07:54:24 +0000</updated>
                            <resolved>Wed, 7 Dec 2016 07:54:23 +0000</resolved>
                                    <version>API 2.15.0</version>
                                    <fixVersion>API 2.16.2</fixVersion>
                                    <component>API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15728045" author="bdelacretaz" created="Wed, 7 Dec 2016 07:54:24 +0000"  >&lt;p&gt;Fixed in revision 1773017, also added a test that failed without the fix&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 47 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37a2v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6370] slingstart: start goal failes if not executed together with install</title>
                <link>https://issues.apache.org/jira/browse/SLING-6370</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;when building and starting sling from maven slingstart together it works:&lt;br/&gt;
&lt;tt&gt;mvn install slingstart:start&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;but when doing separately&lt;br/&gt;
&lt;tt&gt;mvn install&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;mvn slingstart:start&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;the second call fails with an NPE.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13026145">SLING-6370</key>
            <summary>slingstart: start goal failes if not executed together with install</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Tue, 6 Dec 2016 22:32:29 +0000</created>
                <updated>Sun, 18 Dec 2016 14:43:55 +0000</updated>
                            <resolved>Tue, 6 Dec 2016 22:33:31 +0000</resolved>
                                    <version>Slingstart Maven Plugin 1.6.0</version>
                                    <fixVersion>Slingstart Maven Plugin 1.7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="15726933" author="sseifert@pro-vision.de" created="Tue, 6 Dec 2016 22:33:32 +0000"  >&lt;p&gt;Completed: At revision: 1772982  &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 47 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i379af:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6369] Exceptions thrown by reflection API in ModelAdapterFactory#setField() are not logged</title>
                <link>https://issues.apache.org/jira/browse/SLING-6369</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;We got the following exception due to  &quot;reflection issues&quot;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;06.12.2016 09:36:08.242 *WARN* [172.19.143.86 [1481013368241] GET /[&#8230;] HTTP/1.1] org.apache.sling.models.impl.ModelAdapterFactory Could not adapt to model
org.apache.sling.models.factory.MissingElementsException: Could not inject all required fields into &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;my.Model
Could not inject &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; org.apache.sling.api.adapter.AdapterManager my.Model.adapterManager caused by Could not inject field due to reflection issues
        at org.apache.sling.models.impl.ModelAdapterFactory.createObject(ModelAdapterFactory.java:549)
        at org.apache.sling.models.impl.ModelAdapterFactory.internalCreateModel(ModelAdapterFactory.java:310)
        at org.apache.sling.models.impl.ModelAdapterFactory.getAdapter(ModelAdapterFactory.java:186)
        at org.apache.sling.adapter.internal.AdapterManagerImpl.getAdapter(AdapterManagerImpl.java:147)
        at org.apache.sling.api.adapter.SlingAdaptable.adaptTo(SlingAdaptable.java:104)
        at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.adaptTo(ResourceResolverImpl.java:837)
        at [&#8230;]
        at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
        at com.adobe.granite.resourceresolverhelper.impl.ResourceResolverHelperImpl.doFilter(ResourceResolverHelperImpl.java:84)
        at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
        at org.apache.sling.i18n.impl.I18NFilter.doFilter(I18NFilter.java:129)
        at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)
        at org.apache.sling.engine.impl.SlingRequestProcessorImpl.doProcessRequest(SlingRequestProcessorImpl.java:151)
        at org.apache.sling.engine.impl.SlingMainServlet.service(SlingMainServlet.java:216)
        at org.apache.felix.http.base.internal.handler.ServletHandler.handle(ServletHandler.java:85)
        at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:79)
        at com.adobe.granite.license.impl.LicenseCheckFilter.doFilter(LicenseCheckFilter.java:308)
        at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:135)
        at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:74)
        at org.apache.felix.http.sslfilter.internal.SslFilter.doFilter(SslFilter.java:89)
        at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:135)
        at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:74)
        at org.apache.sling.security.impl.ReferrerFilter.doFilter(ReferrerFilter.java:290)
        at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:135)
        at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:74)
        at org.apache.sling.featureflags.impl.FeatureManager.doFilter(FeatureManager.java:116)
        at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:135)
        at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:74)
        at org.apache.sling.engine.impl.log.RequestLoggerFilter.doFilter(RequestLoggerFilter.java:75)
        at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:135)
        at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:74)
        at org.apache.sling.i18n.impl.I18NFilter.doFilter(I18NFilter.java:129)
        at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:135)
        at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:74)
        at org.apache.felix.http.base.internal.dispatch.Dispatcher.dispatch(Dispatcher.java:124)
        at org.apache.felix.http.base.internal.DispatcherServlet.service(DispatcherServlet.java:61)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
        at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:812)
        at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:587)
        at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:221)
        at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127)
        at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515)
        at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)
        at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061)
        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
        at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:215)
        at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)
        at org.eclipse.jetty.server.Server.handle(Server.java:499)
        at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:311)
        at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:257)
        at org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:544)
        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635)
        at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Unfortunately, the actual exception, isn&apos;t logged, making debugging the issue quite difficult. From the exception message I&apos;m only able to find the place where it is thrown but not what exactly was thrown. My expectation is that the cause is logged as well.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13025950">SLING-6369</key>
            <summary>Exceptions thrown by reflection API in ModelAdapterFactory#setField() are not logged</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="diru">Dirk Rudolph</reporter>
                        <labels>
                    </labels>
                <created>Tue, 6 Dec 2016 12:48:52 +0000</created>
                <updated>Thu, 22 Dec 2016 12:22:19 +0000</updated>
                            <resolved>Thu, 8 Dec 2016 13:23:57 +0000</resolved>
                                    <version>Sling Models API 1.3.0</version>
                                    <fixVersion>Sling Models API 1.3.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15725480" author="kwin" created="Tue, 6 Dec 2016 13:26:06 +0000"  >&lt;p&gt;The reason for that is that the &lt;tt&gt;o.a.s.models.factory.MissingElementsException#getMessage()&lt;/tt&gt; does only give out the first cause, but not any subsequent ones to the root. The code in &lt;a href=&quot;https://github.com/apache/sling/blob/trunk/bundles/extensions/models/api/src/main/java/org/apache/sling/models/factory/MissingElementsException.java#L48&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/bundles/extensions/models/api/src/main/java/org/apache/sling/models/factory/MissingElementsException.java#L48&lt;/a&gt; needs to be refactored to evaluate/print all causes up to the root.&lt;/p&gt;

&lt;p&gt;I would propose to give out the stack trace (including those of all contained MissingElementsException()) in the to be overwritten &lt;tt&gt;Throwable.printStackTrace(OutputStream)&lt;/tt&gt;&lt;br/&gt;
That code should rather use &lt;tt&gt;printStackTrace(...)&lt;/tt&gt; from the individual contained exceptions and just concatenate those in some form.&lt;/p&gt;

&lt;p&gt;The getMessage should expose all wrapped exception messages up till the root.&lt;/p&gt;

&lt;p&gt;Or we rely on suppressed exceptions being introduced with Java 7 (&lt;a href=&quot;http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html#addSuppressed(java.lang.Throwable&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html#addSuppressed(java.lang.Throwable&lt;/a&gt;))&lt;/p&gt;</comment>
                            <comment id="15725520" author="kwin" created="Tue, 6 Dec 2016 13:39:41 +0000"  >&lt;p&gt;The other more simple alternative is to get rid of &lt;tt&gt;MissingElementsException&lt;/tt&gt; at all (i.e. the aggregator exception) and just throw the first &lt;tt&gt;MissingElementException&lt;/tt&gt; because that one will always contain the correct stack.&lt;/p&gt;</comment>
                            <comment id="15732201" author="kwin" created="Thu, 8 Dec 2016 13:23:47 +0000"  >&lt;p&gt;Fixed by leveraging suppressed exceptions from Java7 in &lt;a href=&quot;https://svn.apache.org/r1773229&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1773229&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 46 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37833:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6368] Eclipse IDE Publishing: Double backslashes are not correctly resolved in JCR attribute values</title>
                <link>https://issues.apache.org/jira/browse/SLING-6368</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Note: a commit reference was incorrectly made to this commit instead of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6398&quot; title=&quot;Repoinit should not attempt to create access control entries when no changes are needed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6398&quot;&gt;&lt;del&gt;SLING-6398&lt;/del&gt;&lt;/a&gt;, you might want that issue instead.&lt;/p&gt;

&lt;p&gt;If a .content.xml file contains a attribute like this&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
configjson=&lt;span class=&quot;code-quote&quot;&gt;&quot;\{&amp;amp;#xd;&amp;amp;#xa;    &amp;amp;quot;title&amp;amp;quot;: &amp;amp;quot;Resolved Segments&amp;amp;quot;,&amp;amp;#xd;&amp;amp;#xa;    &amp;amp;quot;icon&amp;amp;quot;: &amp;amp;quot;coral-Icon--targeted&amp;amp;quot;,&amp;amp;#xd;&amp;amp;#xa;    &amp;amp;quot;storeMapping&amp;amp;quot;: {&amp;amp;#xd;&amp;amp;#xa;        &amp;amp;quot;s&amp;amp;quot;: &amp;amp;quot;segmentation&amp;amp;quot;&amp;amp;#xd;&amp;amp;#xa;    },&amp;amp;#xd;&amp;amp;#xa;    &amp;amp;quot;template&amp;amp;quot;: &amp;amp;quot;&amp;amp;lt;p class=\\&amp;amp;quot;contexthub-module-line1\\&amp;amp;quot;&amp;gt;Resolved Segments&amp;amp;lt;/p&amp;gt;&amp;amp;lt;p class=\\&amp;amp;quot;contexthub-module-line2\\&amp;amp;quot;&amp;gt;{{s.summary}}&amp;amp;lt;/p&amp;gt;&amp;amp;quot;,&amp;amp;#xd;&amp;amp;#xa;    &amp;amp;quot;clickable&amp;amp;quot;: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;,&amp;amp;#xd;&amp;amp;#xa;    &amp;amp;quot;listReference&amp;amp;quot;: &amp;amp;quot;/store/segmentation/segments&amp;amp;quot;,&amp;amp;#xd;&amp;amp;#xa;    &amp;amp;quot;listType&amp;amp;quot;: &amp;amp;quot;custom&amp;amp;quot;,&amp;amp;#xd;&amp;amp;#xa;    &amp;amp;quot;listItemTemplate&amp;amp;quot;: &amp;amp;quot;&amp;amp;lt;span&amp;gt;{{label}}&amp;amp;lt;/span&amp;gt;&amp;amp;quot;,&amp;amp;#xd;&amp;amp;#xa;    &amp;amp;quot;itemOnClickNoop&amp;amp;quot;: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;amp;#xd;&amp;amp;#xa;}&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;the double &quot;\&quot; is not resolved correclty.&lt;br/&gt;
In the JCR its value is shown as &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
{
    &lt;span class=&quot;code-quote&quot;&gt;&quot;title&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;Resolved Segments&quot;&lt;/span&gt;,
   &lt;span class=&quot;code-quote&quot;&gt;&quot;icon&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;coral-Icon--targeted&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;storeMapping&quot;&lt;/span&gt;: {
        &lt;span class=&quot;code-quote&quot;&gt;&quot;s&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;segmentation&quot;&lt;/span&gt;
    },
    &lt;span class=&quot;code-quote&quot;&gt;&quot;template&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;p class=\\&quot;&lt;/span&gt;contexthub-module-line1\\&lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;gt;Resolved Segments&amp;lt;/p&amp;gt;&amp;lt;p class=\\&quot;&lt;/span&gt;contexthub-module-line2\\&lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;gt;{{s.summary}}&amp;lt;/p&amp;gt;&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;clickable&quot;&lt;/span&gt;: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;listReference&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;/store/segmentation/segments&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;listType&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;custom&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;listItemTemplate&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;span&amp;gt;{{label}}&amp;lt;/span&amp;gt;&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;itemOnClickNoop&quot;&lt;/span&gt;: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;(i.e. it contains double backslashes).&lt;br/&gt;
When being deployed through the content-package-maven-plugin the same attribute is being stored in the JCR with value &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
{
    &lt;span class=&quot;code-quote&quot;&gt;&quot;title&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;Resolved Segments&quot;&lt;/span&gt;,
   &lt;span class=&quot;code-quote&quot;&gt;&quot;icon&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;coral-Icon--targeted&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;storeMapping&quot;&lt;/span&gt;: {
        &lt;span class=&quot;code-quote&quot;&gt;&quot;s&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;segmentation&quot;&lt;/span&gt;
    },
    &lt;span class=&quot;code-quote&quot;&gt;&quot;template&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;p class=\&quot;&lt;/span&gt;contexthub-module-line1\&lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;gt;Resolved Segments&amp;lt;/p&amp;gt;&amp;lt;p class=\&quot;&lt;/span&gt;contexthub-module-line2\&lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;gt;{{s.summary}}&amp;lt;/p&amp;gt;&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;clickable&quot;&lt;/span&gt;: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;listReference&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;/store/segmentation/segments&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;listType&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;custom&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;listItemTemplate&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;span&amp;gt;{{label}}&amp;lt;/span&amp;gt;&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;itemOnClickNoop&quot;&lt;/span&gt;: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;(i.e. only with single backslashes).&lt;br/&gt;
Attached is the full problematic &lt;tt&gt;.content.xml&lt;/tt&gt; renamed to &lt;tt&gt;content.xml&lt;/tt&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13025882">SLING-6368</key>
            <summary>Eclipse IDE Publishing: Double backslashes are not correctly resolved in JCR attribute values</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Tue, 6 Dec 2016 08:15:01 +0000</created>
                <updated>Tue, 6 Aug 2019 07:43:33 +0000</updated>
                            <resolved>Tue, 10 Jan 2017 23:02:43 +0000</resolved>
                                    <version>Sling Eclipse IDE 1.1.0</version>
                                    <fixVersion>Sling Eclipse IDE 1.2.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15724935" author="rombert" created="Tue, 6 Dec 2016 09:35:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; - a failing test would be a great way to get closer to a fix &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15738219" author="kwin" created="Sat, 10 Dec 2016 17:49:28 +0000"  >&lt;p&gt;I am not really familiar with the vlt code which is used in the Sling IDE to publish the files. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; Can you give me a hint on where the according test should most probably be added in the code and point me to similar tests.&lt;/p&gt;</comment>
                            <comment id="15738251" author="kwin" created="Sat, 10 Dec 2016 18:18:41 +0000"  >&lt;p&gt;Maybe the attached test shows the culprit. Not 100% sure though.&lt;/p&gt;</comment>
                            <comment id="15739740" author="kwin" created="Sun, 11 Dec 2016 13:27:52 +0000"  >&lt;p&gt;The &lt;tt&gt;DocViewProperty.parse(...)&lt;/tt&gt; resolves all escaped characters (escape character is &quot;\&quot;} (&lt;a href=&quot;https://github.com/apache/jackrabbit-filevault/blob/trunk/vault-core/src/main/java/org/apache/jackrabbit/vault/util/DocViewProperty.java#L201&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit-filevault/blob/trunk/vault-core/src/main/java/org/apache/jackrabbit/vault/util/DocViewProperty.java#L201&lt;/a&gt;). That is not being done correctly in the &lt;tt&gt;o.a.s.ide.impl.vlt.serialization.ContentXmlHandler&lt;/tt&gt;. The whole class ContentXmlHandler should be rewritten to internally rely on &lt;tt&gt;DocViewNode/DocViewProperty&lt;/tt&gt; instead of implementing the parse method a 2nd time.&lt;/p&gt;

&lt;p&gt;Probably it would be good to come up with a patch for FileVault to decouple parsing from persisting enhanced doc view format. Currently both is done in &lt;a href=&quot;https://github.com/apache/jackrabbit-filevault/blob/trunk/vault-core/src/main/java/org/apache/jackrabbit/vault/fs/impl/io/DocViewSAXImporter.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit-filevault/blob/trunk/vault-core/src/main/java/org/apache/jackrabbit/vault/fs/impl/io/DocViewSAXImporter.java&lt;/a&gt;. I would suggest to separate the processing in a different implementation, having a dedicated interface with method &lt;tt&gt;processSerializedNode(DocViewNode&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="15741351" author="rombert" created="Mon, 12 Dec 2016 08:51:31 +0000"  >&lt;p&gt;If the problem starts as early as the XML parsing, then that&apos;s the perfect place to write the unit test for.&lt;/p&gt;</comment>
                            <comment id="15741361" author="rombert" created="Mon, 12 Dec 2016 08:56:15 +0000"  >&lt;blockquote&gt;&lt;p&gt;Probably it would be good to come up with a patch for FileVault to decouple parsing from persisting enhanced doc view format.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Indeed, it would be to better to rely more on FileVault to ensure a more consistent behaviour. Separate implementation with a lot of tests is the next best thing &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15807842" author="kwin" created="Sat, 7 Jan 2017 17:21:09 +0000"  >&lt;p&gt;Attached is a patch leveraging DocViewNode and DocViewProperty from FileVault for the deserialization. That makes the previously failing test succeed.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; Could you have a look?&lt;/p&gt;</comment>
                            <comment id="15811179" author="rombert" created="Mon, 9 Jan 2017 09:34:10 +0000"  >&lt;p&gt;Patch looks good to me, thanks!&lt;/p&gt;

&lt;p&gt;A couple of questions:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;do you see any significant performance with this change?&lt;/li&gt;
	&lt;li&gt;I see some changes in the manifest and build.properties and it seems jar files are now tracked without version. What&apos;s the reason for that?&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15811904" author="kwin" created="Mon, 9 Jan 2017 14:31:26 +0000"  >&lt;blockquote&gt;&lt;p&gt;do you see any significant performance with this change?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I have not tested that extensively yet. But I had a closer look at &lt;tt&gt;DocViewNode&lt;/tt&gt; and &lt;tt&gt;DocViewProperty&lt;/tt&gt; and both seem rather lean to me, so I don&apos;t expect any major differences here to the previous version from a performance point of view.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I see some changes in the manifest and build.properties and it seems jar files are now tracked without version. What&apos;s the reason for that?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;This change requires a newer version of FileVault (because older version 3.0.0 did not contain the DocViewProperty) and some of the transitive dependencies of it (e.g. Jackrabbit API, Guava). I therefore just upgraded to the latest release of FileVault.&lt;br/&gt;
I stripped the version numbers from the filename just to make upgrades in the future easier to handle (i.e. in the best case with only a change of the version in the pom.xml). If you are not fine with stripping the version, I can again revert that change (that way it may be more obvious what the actual vlt-wrapper bundle contains).&lt;/p&gt;</comment>
                            <comment id="15814366" author="rombert" created="Tue, 10 Jan 2017 08:50:52 +0000"  >&lt;blockquote&gt;&lt;p&gt;I have not tested that extensively yet. But I had a closer look at DocViewNode and DocViewProperty and both seem rather lean to me, so I don&apos;t expect any major differences here to the previous version from a performance point of view.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That&apos;s good enough for me, thanks.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I stripped the version numbers from the filename just to make upgrades in the future easier to handle (i.e. in the best case with only a change of the version in the pom.xml). If you are not fine with stripping the version, I can again revert that change (that way it may be more obvious what the actual vlt-wrapper bundle contains).&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I would prefer it that way for the exact reason you mentioned - we know the versions without the need to look into the pom file.&lt;/p&gt;</comment>
                            <comment id="15816460" author="kwin" created="Tue, 10 Jan 2017 23:02:35 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1778218&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1778218&lt;/a&gt; by applying the slightly modified patch (without stripping the version number from the generated filenames).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12842711" name="SLING-6368-testv02.patch" size="1654" author="kwin" created="Sun, 11 Dec 2016 13:35:52 +0000"/>
                            <attachment id="12846190" name="SLING-6368-v01.patch" size="24638" author="kwin" created="Sat, 7 Jan 2017 17:21:29 +0000"/>
                            <attachment id="12841904" name="content.xml" size="1130" author="kwin" created="Tue, 6 Dec 2016 08:33:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 42 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i377nz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6365] JcrInstaller incorrectly uses loginService arguments</title>
                <link>https://issues.apache.org/jira/browse/SLING-6365</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;As &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andrei.dulvac&quot; class=&quot;user-hover&quot; rel=&quot;andrei.dulvac&quot;&gt;andrei.dulvac&lt;/a&gt; pointed out on &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-5228&quot; title=&quot;Remove loginAdministrative() usage from org.apache.sling.installer.provider.jcr&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-5228&quot;&gt;&lt;del&gt;SLING-5228&lt;/del&gt;&lt;/a&gt;, my changes use the &apos;subsystem name&apos; and &apos;workspace&apos; parameters inconsistently. This works because the arguments are always (null, null), as we no longer have workspaces with Oak.&lt;/p&gt;

&lt;p&gt;However, we should make sure the arguments are always used correctly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13025674">SLING-6365</key>
            <summary>JcrInstaller incorrectly uses loginService arguments</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Dec 2016 16:22:47 +0000</created>
                <updated>Wed, 8 Mar 2017 08:33:40 +0000</updated>
                            <resolved>Fri, 27 Jan 2017 20:08:29 +0000</resolved>
                                    <version>JCR Installer 3.1.22</version>
                                    <fixVersion>JCR Installer 3.1.24</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15722690" author="rombert" created="Mon, 5 Dec 2016 16:38:04 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://svn.apache.org/r1772711&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1772711&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15722698" author="andrei.dulvac" created="Mon, 5 Dec 2016 16:40:10 +0000"  >&lt;p&gt;Thanks a lot Robert. As you said, that doesn&apos;t actually change anything at runtime, but it makes sense. How about simplifying the API then if it&apos;s always null, null?&lt;/p&gt;</comment>
                            <comment id="15722718" author="rombert" created="Mon, 5 Dec 2016 16:48:56 +0000"  >&lt;p&gt;It&apos;s always (null, null) since I don&apos;t use subservices in the JCR installer bundle, but other bundles do use that. As for the repository name, that&apos;s a discussion for dev@sling. While for now Oak does not support workspaces, maybe future Oak iterations will ( although unlikely ). Even then, who knows that the next-next generation repository will bring &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15843403" author="olli" created="Fri, 27 Jan 2017 20:02:30 +0000"  >&lt;p&gt;That fix has to be part of Sling 9:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2017-01-27T20:22:59,212 | INFO  | pool-27-thread-1 | JcrInstaller                     | 181 - org.apache.sling.installer.provider.jcr - 3.1.22 | Activating Apache Sling JCR Installer
2017-01-27T20:22:59,216 | ERROR | pool-27-thread-1 | JcrInstaller                     | 181 - org.apache.sling.installer.provider.jcr - 3.1.22 | Repository exception during startup - deactivating installer!
javax.jcr.LoginException: Cannot derive user name for bundle org.apache.sling.installer.provider.jcr [181] and sub service default
	at org.apache.sling.jcr.base.AbstractSlingRepository2.loginService(AbstractSlingRepository2.java:311) ~[?:?]
	at org.apache.sling.installer.provider.jcr.impl.JcrInstaller$StoppableThread.&amp;lt;init&amp;gt;(JcrInstaller.java:213) ~[?:?]
	at org.apache.sling.installer.provider.jcr.impl.JcrInstaller.start(JcrInstaller.java:351) ~[?:?]
	at org.apache.sling.installer.provider.jcr.impl.JcrInstaller.activate(JcrInstaller.java:338) ~[?:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:?]
	at org.apache.felix.scr.impl.inject.BaseMethod.invokeMethod(BaseMethod.java:224) ~[?:?]
	at org.apache.felix.scr.impl.inject.BaseMethod.access$500(BaseMethod.java:39) ~[?:?]
	at org.apache.felix.scr.impl.inject.BaseMethod$Resolved.invoke(BaseMethod.java:617) ~[?:?]
	at org.apache.felix.scr.impl.inject.BaseMethod.invoke(BaseMethod.java:501) ~[?:?]
	at org.apache.felix.scr.impl.inject.ActivateMethod.invoke(ActivateMethod.java:302) ~[?:?]
	at org.apache.felix.scr.impl.inject.ActivateMethod.invoke(ActivateMethod.java:294) ~[?:?]
	at org.apache.felix.scr.impl.manager.SingleComponentManager.createImplementationObject(SingleComponentManager.java:298) ~[?:?]
	at org.apache.felix.scr.impl.manager.SingleComponentManager.createComponent(SingleComponentManager.java:109) ~[?:?]
	at org.apache.felix.scr.impl.manager.SingleComponentManager.getService(SingleComponentManager.java:906) ~[?:?]
	at org.apache.felix.scr.impl.manager.SingleComponentManager.getServiceInternal(SingleComponentManager.java:879) ~[?:?]
	at org.apache.felix.scr.impl.manager.SingleComponentManager.getService(SingleComponentManager.java:823) ~[?:?]
	at org.apache.felix.framework.ServiceRegistrationImpl.getFactoryUnchecked(ServiceRegistrationImpl.java:347) ~[?:?]
	at org.apache.felix.framework.ServiceRegistrationImpl.getService(ServiceRegistrationImpl.java:247) ~[?:?]
	at org.apache.felix.framework.ServiceRegistry.getService(ServiceRegistry.java:344) ~[?:?]
	at org.apache.felix.framework.Felix.getService(Felix.java:3699) ~[?:?]
	at org.apache.felix.framework.BundleContextImpl.getService(BundleContextImpl.java:470) ~[?:?]
	at org.apache.sling.commons.osgi.SortingServiceTracker.addingService(SortingServiceTracker.java:79) ~[?:?]
	at org.apache.sling.installer.core.impl.SortingServiceTracker.addingService(SortingServiceTracker.java:45) ~[?:?]
	at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:941) ~[?:?]
	at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:870) ~[?:?]
	at org.osgi.util.tracker.AbstractTracked.trackAdding(AbstractTracked.java:256) ~[?:?]
	at org.osgi.util.tracker.AbstractTracked.track(AbstractTracked.java:229) ~[?:?]
	at org.osgi.util.tracker.ServiceTracker$Tracked.serviceChanged(ServiceTracker.java:901) ~[?:?]
	at org.apache.felix.framework.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:990) ~[?:?]
	at org.apache.felix.framework.EventDispatcher.fireEventImmediately(EventDispatcher.java:838) ~[?:?]
	at org.apache.felix.framework.EventDispatcher.fireServiceEvent(EventDispatcher.java:545) ~[?:?]
	at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4557) ~[?:?]
	at org.apache.felix.framework.Felix.registerService(Felix.java:3549) ~[?:?]
	at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:348) ~[?:?]
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$3.register(AbstractComponentManager.java:887) ~[?:?]
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$3.register(AbstractComponentManager.java:874) ~[?:?]
	at org.apache.felix.scr.impl.manager.RegistrationManager.changeRegistration(RegistrationManager.java:132) ~[?:?]
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.registerService(AbstractComponentManager.java:941) ~[?:?]
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.activateInternal(AbstractComponentManager.java:741) ~[?:?]
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.enableInternal(AbstractComponentManager.java:675) ~[?:?]
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.enable(AbstractComponentManager.java:430) ~[?:?]
	at org.apache.felix.scr.impl.manager.ConfigurableComponentHolder.enableComponents(ConfigurableComponentHolder.java:657) ~[?:?]
	at org.apache.felix.scr.impl.BundleComponentActivator.initialEnable(BundleComponentActivator.java:341) ~[?:?]
	at org.apache.felix.scr.impl.Activator.loadComponents(Activator.java:390) ~[?:?]
	at org.apache.felix.scr.impl.Activator.access$200(Activator.java:54) ~[?:?]
	at org.apache.felix.scr.impl.Activator$ScrExtension.start(Activator.java:265) ~[?:?]
	at org.apache.felix.utils.extender.AbstractExtender.createExtension(AbstractExtender.java:254) ~[?:?]
	at org.apache.felix.utils.extender.AbstractExtender.modifiedBundle(AbstractExtender.java:227) ~[?:?]
	at org.osgi.util.tracker.BundleTracker$Tracked.customizerModified(BundleTracker.java:482) ~[?:?]
	at org.osgi.util.tracker.BundleTracker$Tracked.customizerModified(BundleTracker.java:415) ~[?:?]
	at org.osgi.util.tracker.AbstractTracked.track(AbstractTracked.java:232) ~[?:?]
	at org.osgi.util.tracker.BundleTracker$Tracked.bundleChanged(BundleTracker.java:444) ~[?:?]
	at org.apache.felix.framework.EventDispatcher.invokeBundleListenerCallback(EventDispatcher.java:915) ~[?:?]
	at org.apache.felix.framework.EventDispatcher.fireEventImmediately(EventDispatcher.java:834) ~[?:?]
	at org.apache.felix.framework.EventDispatcher.fireBundleEvent(EventDispatcher.java:516) ~[?:?]
	at org.apache.felix.framework.Felix.fireBundleEvent(Felix.java:4541) ~[?:?]
	at org.apache.felix.framework.Felix.startBundle(Felix.java:2172) ~[?:?]
	at org.apache.felix.framework.BundleImpl.start(BundleImpl.java:998) ~[?:?]
	at org.apache.felix.framework.BundleImpl.start(BundleImpl.java:984) ~[?:?]
	at org.apache.karaf.features.internal.service.FeaturesServiceImpl.startBundle(FeaturesServiceImpl.java:1281) ~[?:?]
	at org.apache.karaf.features.internal.service.Deployer.deploy(Deployer.java:890) ~[?:?]
	at org.apache.karaf.features.internal.service.FeaturesServiceImpl.doProvision(FeaturesServiceImpl.java:1170) ~[?:?]
	at org.apache.karaf.features.internal.service.FeaturesServiceImpl.lambda$doProvisionInThread$0(FeaturesServiceImpl.java:1069) ~[?:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [?:?]
	at java.lang.Thread.run(Thread.java:745) [?:?]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15843409" author="olli" created="Fri, 27 Jan 2017 20:08:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;, linked this issue as blocker for Sling 9&lt;/p&gt;</comment>
                            <comment id="15845022" author="rombert" created="Mon, 30 Jan 2017 10:22:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt; - is there anything else for me to do here? We already have &lt;tt&gt;org.apache.sling/org.apache.sling.installer.provider.jcr/3.1.22&lt;/tt&gt; in the Sling launchpad&lt;/p&gt;</comment>
                            <comment id="15845023" author="rombert" created="Mon, 30 Jan 2017 10:24:07 +0000"  >&lt;p&gt;Ah, that&apos;s the older version. I&apos;ll update to 3.1.23-SNAPSHOT now to make sure we don&apos;t release without this.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="13015890">SLING-6194</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 39 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i376dr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6364] FsResourceProvider wrongly (?) changed service property =&gt; mountByFS via Maven Plugin broken</title>
                <link>https://issues.apache.org/jira/browse/SLING-6364</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When installing a bundle with Maven and -Dsling.mountByFS=true it currently doesn&apos;t work as the provider.roots property of the Filesystem Resource Provider stays empty in the web console. &lt;/p&gt;

&lt;p&gt;This is because the AbstractBundleInstallMojo class of the maven-sling-plugin uses the property &apos;provider.roots&apos; in the REST API &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; call &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; to create a FsResourceProvider service instance but the FsResourceProvider class defined &apos;provider.root&apos; without the &apos;s&apos; at the end instead.&lt;br/&gt;
In revision 1769486 the property has been moved to a component property type. Thus the method &apos;provider_root()&apos; of &apos;@interface Config&apos; is translated to &apos;provider.root&apos; according to the spec &lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;One could change the definition of the property in the FsResourceProvider or the use of the property in the AbstractBundleInstallMojo. The commit for 1769486 does not sound like the property definition change of the service was by intention so I will provide a patch that keeps using &apos;provider.roots&apos; instead of &apos;provider.root&apos; assuming others may still use &apos;provider.roots&apos;. Please tell me if my assumption was wrong &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;.&lt;br/&gt;
I will also fix the WebConsole labels of the two properties as they got switched.&lt;/p&gt;

&lt;p&gt;References as note to myself as others probably know that:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; - &lt;a href=&quot;http://felix.apache.org/documentation/subprojects/apache-felix-web-console/web-console-restful-api.html#apply&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://felix.apache.org/documentation/subprojects/apache-felix-web-console/web-console-restful-api.html#apply&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; - curl -i -u admin --data &quot;apply=true&amp;amp;factoryPid=org.apache.sling.fsprovider.internal.FsResourceProvider&amp;amp;pid=&lt;span class=&quot;error&quot;&gt;&amp;#91;Temporary PID replaced by real PID upon save&amp;#93;&lt;/span&gt;&amp;amp;provider.file=/path/to/folder/in/filesystem&amp;amp;provider.roots=/path/to/repository/location&amp;amp;propertylist=provider.roots,provider.file&quot; &lt;a href=&quot;http://localhost:8080/system/console/configMgr/org.apache.sling.fsprovider.internal.FsResourceProvider&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/system/console/configMgr/org.apache.sling.fsprovider.internal.FsResourceProvider&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt; - see OSGi 6 Compendium 105.9.2 AttributeDefinition Annotation&lt;br/&gt;
&quot;A single low line (&apos;_&apos; \u005F) is converted into a full stop (&apos;.&apos; \u002E)&quot;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13025414">SLING-6364</key>
            <summary>FsResourceProvider wrongly (?) changed service property =&gt; mountByFS via Maven Plugin broken</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sandro">Sandro Boehme</reporter>
                        <labels>
                    </labels>
                <created>Sun, 4 Dec 2016 14:31:14 +0000</created>
                <updated>Mon, 23 Jan 2017 08:49:49 +0000</updated>
                            <resolved>Tue, 6 Dec 2016 23:20:59 +0000</resolved>
                                    <version>File System Resource Provider 1.2.2</version>
                                    <fixVersion>Maven Sling Plugin 2.1.10</fixVersion>
                    <fixVersion>File System Resource Provider 1.2.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15720039" author="sandro" created="Sun, 4 Dec 2016 14:34:30 +0000"  >&lt;p&gt;Patch for the class FsResourceProvider of org.apache.sling.fsresource.&lt;/p&gt;</comment>
                            <comment id="15723588" author="sandro" created="Mon, 5 Dec 2016 22:35:51 +0000"  >&lt;p&gt;Can someone tell me if it has to be in line with org.apache.sling.spi.resource.provider.ResourceProvider.PROPERTY_ROOT which is &quot;provider.root&quot;? I guess it doesn&apos;t. In this case I would just commit the patch if there is no other veto.&lt;/p&gt;</comment>
                            <comment id="15726956" author="sseifert@pro-vision.de" created="Tue, 6 Dec 2016 22:42:11 +0000"  >&lt;p&gt;thanks for the hint - the configuration definition was definitely broken by rev. 1769486 - &lt;tt&gt;provider.roots&lt;/tt&gt; is the correct property name, and was used in previous releases so we have to switch back to ensure we do not break compatibility.&lt;/p&gt;</comment>
                            <comment id="15726959" author="sseifert@pro-vision.de" created="Tue, 6 Dec 2016 22:43:51 +0000"  >&lt;p&gt;Completed: At revision: 1772990  &lt;/p&gt;

&lt;p&gt;i&apos;ve applied your patch with slight modification (the parameter descriptions needed to be swapped as well)&lt;/p&gt;</comment>
                            <comment id="15726984" author="sseifert@pro-vision.de" created="Tue, 6 Dec 2016 22:53:24 +0000"  >&lt;p&gt;oh, it&apos;s not that easy.&lt;br/&gt;
the swapping of label and description is correct - but the new ResourceProvider expect a single root and a property named &quot;provider.root&quot;.&lt;/p&gt;</comment>
                            <comment id="15727055" author="sseifert@pro-vision.de" created="Tue, 6 Dec 2016 23:20:59 +0000"  >&lt;p&gt;Completed: At revision: 1772997  &lt;/p&gt;

&lt;p&gt;i&apos;ve renamed the property back to &lt;tt&gt;provider.root&lt;/tt&gt;, and instead extended the &lt;tt&gt;maven-sling-plugin&lt;/tt&gt; 2.1.9-SNAPSHOT to support both properties. it worked well in my tests.&lt;/p&gt;</comment>
                            <comment id="15728751" author="sandro" created="Wed, 7 Dec 2016 13:24:45 +0000"  >&lt;p&gt;Thanks for the changes &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert%40pro-vision.de&quot; class=&quot;user-hover&quot; rel=&quot;sseifert@pro-vision.de&quot;&gt;sseifert@pro-vision.de&lt;/a&gt;!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12841670" name="FsResourceProvider.patch.txt" size="2026" author="sandro" created="Sun, 4 Dec 2016 14:34:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 47 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i374rz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6361] ResourceChangeListeners do not hear changes on events emitted against ResourceProvider provided paths</title>
                <link>https://issues.apache.org/jira/browse/SLING-6361</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I have a resource provider exposing non-JCR resources under `/virtual-mount` and am issuing my own Resource Change Events like so:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Map&amp;lt;String, String&amp;gt; props = new HashMap&amp;lt;String, String&amp;gt;();
props.put(SlingConstants.PROPERTY_PATH, &quot;/virtual-mount/some/path&quot;);

eventAdmin.sendEvent(new Event(SlingConstants.TOPIC_RESOURCE_CHANGED, props));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It does not appear any ResourceChangeListener hears these events; Those provided by Sling or custom RCL&apos;s. Are there special considerations to ensure Events are heard for paths covered by custom ResourceProviders?&lt;/p&gt;

&lt;p&gt;I am the ResourceResolver bundle 1.5.4 initial, and now on 2.9.2 (can provide other Sling bundle versions as needed; im not quite sure which facet of Sling is responsible for this)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13025370">SLING-6361</key>
            <summary>ResourceChangeListeners do not hear changes on events emitted against ResourceProvider provided paths</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="empire29">David Gonzalez</reporter>
                        <labels>
                    </labels>
                <created>Sun, 4 Dec 2016 02:41:23 +0000</created>
                <updated>Fri, 3 Feb 2017 14:49:52 +0000</updated>
                            <resolved>Fri, 3 Feb 2017 14:49:52 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15851580" author="empire29" created="Fri, 3 Feb 2017 14:48:47 +0000"  >&lt;p&gt;Per off-jira convo - recording here for posterity.&lt;/p&gt;

&lt;p&gt;You should implement the new ResourceProvider SPI &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; and use that API to emit your events. It&apos;s correct that ResourceChangeListeners do not see the events emitted via the event admin&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;http://static.javadoc.io/org.apache.sling/org.apache.sling.api/2.11.0/org/apache/sling/spi/resource/provider/package-summary.html&lt;/p&gt;</comment>
                            <comment id="15851582" author="empire29" created="Fri, 3 Feb 2017 14:49:52 +0000"  >&lt;p&gt;Resolve issue using the updated ResourceProvider SPI APIs rather than the legacy ResourceProvider APIs.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 38 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i374i7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6358] osgi-mock: OsgiContext.getServices should return correctly typed array when empty</title>
                <link>https://issues.apache.org/jira/browse/SLING-6358</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;OsgiContext.getServices returns currently an empty Object[] array when no service was found instead of an correctly types (empty) array. this should be fixed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13025139">SLING-6358</key>
            <summary>osgi-mock: OsgiContext.getServices should return correctly typed array when empty</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                            <label>mocks</label>
                    </labels>
                <created>Fri, 2 Dec 2016 16:54:53 +0000</created>
                <updated>Fri, 2 Dec 2016 16:57:53 +0000</updated>
                            <resolved>Fri, 2 Dec 2016 16:57:52 +0000</resolved>
                                    <version>Testing OSGi Mock 1.8.0</version>
                    <version>Testing OSGi Mock 2.1.0</version>
                                    <fixVersion>Testing OSGi Mock 1.9.0</fixVersion>
                    <fixVersion>Testing OSGi Mock 2.2.0</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15715640" author="sseifert@pro-vision.de" created="Fri, 2 Dec 2016 16:57:53 +0000"  >&lt;p&gt;Completed: At revision: 1772373 (2.x)&lt;br/&gt;
Completed: At revision: 1772374 (1.x)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 47 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3732v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6356] osgi-mock: Fallback to default when reference field collection type is missing in SCR metadata</title>
                <link>https://issues.apache.org/jira/browse/SLING-6356</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;when parsing the OSGi SCR metadata and detecting the field collection type for references the type &quot;SERVICE&quot; should be used as default when no type is defined.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13025050">SLING-6356</key>
            <summary>osgi-mock: Fallback to default when reference field collection type is missing in SCR metadata</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                            <label>mocks</label>
                    </labels>
                <created>Fri, 2 Dec 2016 10:40:07 +0000</created>
                <updated>Fri, 2 Dec 2016 10:41:54 +0000</updated>
                            <resolved>Fri, 2 Dec 2016 10:41:54 +0000</resolved>
                                    <version>Testing OSGi Mock 2.1.0</version>
                                    <fixVersion>Testing OSGi Mock 2.2.0</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15714755" author="sseifert@pro-vision.de" created="Fri, 2 Dec 2016 10:41:54 +0000"  >&lt;p&gt;Completed: At revision: 1772326  &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 47 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i372j3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6355] org.apache.sling.scripting.core.impl.BindingsValuesProvidersByContextImpl should not register itself as a ServiceTrackerCustomizer service</title>
                <link>https://issues.apache.org/jira/browse/SLING-6355</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;org.apache.sling.scripting.core.impl.BindingsValuesProvidersByContextImpl is currently registered as both a org.apache.sling.scripting.api.BindingsValuesProvidersByContext and org.osgi.util.tracker.ServiceTrackerCustomizer service. This makes it very difficult to use this service from bundles which embed the org.osgi.util.tracker package.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13024862">SLING-6355</key>
            <summary>org.apache.sling.scripting.core.impl.BindingsValuesProvidersByContextImpl should not register itself as a ServiceTrackerCustomizer service</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Thu, 1 Dec 2016 19:06:59 +0000</created>
                <updated>Thu, 15 Dec 2016 13:02:47 +0000</updated>
                            <resolved>Thu, 1 Dec 2016 23:47:53 +0000</resolved>
                                    <version>Scripting Core 2.0.40</version>
                                    <fixVersion>Scripting Core 2.0.44</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15713446" author="justinedelson" created="Thu, 1 Dec 2016 23:47:54 +0000"  >&lt;p&gt;fixed in r1772292&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 47 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i371db:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6354] Make exporter servlet script-bindings aware</title>
                <link>https://issues.apache.org/jira/browse/SLING-6354</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The current exporter servlet &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; doesn&apos;t expose scripting variables. &lt;/p&gt;

&lt;p&gt;If a field for the related Sling Model should be injected via the ScriptVariable annotation &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; and the field is not optional, the model can&apos;t be initialized and the request to exporter servlet fails.&lt;/p&gt;

&lt;p&gt;Example:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@Model(adaptables = SlingHttpServletRequest.class, adapters = TestModel.class, resourceType = &lt;span class=&quot;code-quote&quot;&gt;&quot;core/components/test&quot;&lt;/span&gt;)
@Exporter(name = &lt;span class=&quot;code-quote&quot;&gt;&quot;jackson&quot;&lt;/span&gt;, extensions = &lt;span class=&quot;code-quote&quot;&gt;&quot;json&quot;&lt;/span&gt;)
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;TestModel {

    @ScriptVariable
    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; Page currentPage;

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getName() {
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; currentPage.getName();
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling/blob/trunk/bundles/extensions/models/impl/src/main/java/org/apache/sling/models/impl/ExportServlet.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/bundles/extensions/models/impl/src/main/java/org/apache/sling/models/impl/ExportServlet.java&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling/blob/trunk/bundles/extensions/models/api/src/main/java/org/apache/sling/models/annotations/injectorspecific/ScriptVariable.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/bundles/extensions/models/api/src/main/java/org/apache/sling/models/annotations/injectorspecific/ScriptVariable.java&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13024779">SLING-6354</key>
            <summary>Make exporter servlet script-bindings aware</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="bupauli">Burkhard Pauli</reporter>
                        <labels>
                    </labels>
                <created>Thu, 1 Dec 2016 14:20:38 +0000</created>
                <updated>Fri, 2 Dec 2016 13:04:34 +0000</updated>
                            <resolved>Thu, 1 Dec 2016 21:00:41 +0000</resolved>
                                    <version>Sling Models Impl 1.3.4</version>
                                    <fixVersion>Sling Models Impl 1.3.6</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15712078" author="githubbot" created="Thu, 1 Dec 2016 14:22:04 +0000"  >&lt;p&gt;GitHub user bpauli opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/188&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/188&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6354&quot; title=&quot;Make exporter servlet script-bindings aware&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6354&quot;&gt;&lt;del&gt;SLING-6354&lt;/del&gt;&lt;/a&gt; - Make exporter servlet scripting aware&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Adding SlingBindings to request attribute&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/bpauli/sling&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/bpauli/sling&lt;/a&gt; feature/exporter-script-bindings&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/188.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/188.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #188&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 0081bc5a72009c384e678ae6df2afb164faabe8d&lt;br/&gt;
Author: Burkhard Pauli &amp;lt;pauli@adobe.com&amp;gt;&lt;br/&gt;
Date:   2016-12-01T14:03:20Z&lt;/p&gt;

&lt;p&gt;    Adding support for scripting variables to exporter servlet&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15713065" author="justinedelson" created="Thu, 1 Dec 2016 21:00:41 +0000"  >&lt;p&gt;Fixed in r1772273&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bupauli&quot; class=&quot;user-hover&quot; rel=&quot;bupauli&quot;&gt;bupauli&lt;/a&gt; as I mentioned offline, I had to use a different approach to retain the existing semantics of the BindingsValuesProvider interface. Please close your PR. But thanks for the basis for the fix!&lt;/p&gt;</comment>
                            <comment id="15714459" author="githubbot" created="Fri, 2 Dec 2016 08:34:02 +0000"  >&lt;p&gt;Github user bpauli closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/188&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/188&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15715074" author="justinedelson" created="Fri, 2 Dec 2016 13:04:34 +0000"  >&lt;p&gt;One additional note on the implementation - with this change, Sling Model Exporter is treated as a Script Engine for the purposes of accessing BindingsValuesProviders (although there is no actual ScriptEngineFactory service registered and Sling Models doesn&apos;t appear on the Script Engines web console tab since it isn&apos;t directly usable). Should someone want to target a BVP just at Sling Models Exporter, they should use the name &quot;sling-models-exporter&quot;.&lt;/p&gt;

&lt;p&gt;Note that due to the way BVPs work, the same Sling Model class may not have access to the same Bindings values in different script engines and the Exporter. This is already the case in that you can have different Bindings between scripting languages, i.e. JSPs may have different Bindings values than HTL scripts or Thymeleaf scripts (and vice versa).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 47 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i370uv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6350] Incorrect matching in Path class causes MountByFS to fail (more than 2 slashes fails)</title>
                <link>https://issues.apache.org/jira/browse/SLING-6350</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If I mount a file system path to e.g. &apos;/libs/sling/resource-editor&apos; jsp changes are not picked up by the jsp compiler. &lt;/p&gt;

&lt;p&gt;FileMonitor.sendEvents(... ObservationReporter) gets an ObservationReporter as a parameter that doesn&apos;t return ObserverConfigurations in getObserverConfigurations() thus no changes are reported to the jsp compiler. &lt;/p&gt;

&lt;p&gt;The reason is, that they are not added in it&apos;s constructor (BasicObservationReporter:99) because &apos;providerPath.matches(p.getPath())&apos; returns false. If I manually change that in the debugger to true the mount works well. In this example the providerPath is &apos;/libs/sling/resource-editor&apos; and p.getPath() is &apos;glob:/libs/*&lt;b&gt;/&lt;/b&gt;.jsp&apos;. (See patch for PathTest.java) &lt;/p&gt;

&lt;p&gt;org.apache.sling.api.resource.path.Path.matches() in line 128 and following counts three slashes for &apos;/libs/sling/resource-editor&apos; and uses the substring of the glob expression until a fourth (3+1) slash or the end of the string. This leads to a glob expression of &apos;glob:/libs/*&lt;b&gt;/&lt;/b&gt;.jsp&apos; instead of &apos;glob:/libs/**&apos; and returns false. &lt;/p&gt;

&lt;p&gt;I don&apos;t have an overview of all use cases but judging from the PathTest the amount of slashes counted should not exceed the amount of slashes in the glob expression minus one if the glob expression uses an extension. I will add a patch for org.apache.sling.api.resource.path.Path as well so you can choose not to apply it if it&apos;s not correct.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13024591">SLING-6350</key>
            <summary>Incorrect matching in Path class causes MountByFS to fail (more than 2 slashes fails)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="sandro">Sandro Boehme</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Nov 2016 21:48:59 +0000</created>
                <updated>Wed, 14 Dec 2016 12:01:17 +0000</updated>
                            <resolved>Wed, 14 Dec 2016 12:01:17 +0000</resolved>
                                    <version>API 2.15.0</version>
                                    <fixVersion>API 2.16.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="15709913" author="sandro" created="Wed, 30 Nov 2016 21:58:25 +0000"  >&lt;p&gt;Patch for org.apache.sling.api in bundles/api.&lt;/p&gt;</comment>
                            <comment id="15727115" author="sseifert@pro-vision.de" created="Tue, 6 Dec 2016 23:47:44 +0000"  >&lt;p&gt;should be reviewed for next API release.&lt;/p&gt;</comment>
                            <comment id="15728133" author="bdelacretaz" created="Wed, 7 Dec 2016 08:38:32 +0000"  >&lt;p&gt;Good catch, thanks for this Sandro!&lt;/p&gt;

&lt;p&gt;I&apos;m not familiar with that code but I have added a few tests to clarify the behavior in &lt;a href=&quot;http://svn.apache.org/r1773021&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1773021&lt;/a&gt; - a few of those product unexpected results, see TODOs there, does that match your observations?&lt;/p&gt;

&lt;p&gt;I&apos;m wondering if we really need that slash counting code, it looks quite complicated. Can&apos;t we just replace &lt;tt&gt;**&lt;/tt&gt; in the specified pattern with a regex that matches 0..N path elements? And maybe extract the extension if present in the incoming pattern and check it separately.&lt;/p&gt;

&lt;p&gt;It looks like the slash counting code was introduced fairly recently by &lt;a href=&quot;http://svn.apache.org/r1765329&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1765329&lt;/a&gt; for &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6161&quot; title=&quot;Correctly implement Path.matches&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6161&quot;&gt;&lt;del&gt;SLING-6161&lt;/del&gt;&lt;/a&gt; - that&apos;s been released in o.a.s.api 2.15.0 so we need to stay compatible with that.&lt;/p&gt;</comment>
                            <comment id="15728141" author="bdelacretaz" created="Wed, 7 Dec 2016 08:41:50 +0000"  >&lt;p&gt;Linking to &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-5909&quot; title=&quot;Path matching is not correctly applied to glob patterns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-5909&quot;&gt;&lt;del&gt;SLING-5909&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu.cotescu&quot; class=&quot;user-hover&quot; rel=&quot;radu.cotescu&quot;&gt;radu.cotescu&lt;/a&gt; also worked on that pattern matching there.&lt;/p&gt;</comment>
                            <comment id="15728848" author="sandro" created="Wed, 7 Dec 2016 14:05:27 +0000"  >&lt;p&gt;If we just replace &lt;tt&gt;**&lt;/tt&gt; in the pattern with 0..N then the tests you mentioned should still assertFalse as 0..N would still need to be between the two slashes:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Path path_1 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Path(&lt;span class=&quot;code-quote&quot;&gt;&quot;glob:/apps&lt;span class=&quot;code-comment&quot;&gt;/**/&lt;/span&gt;*.html&quot;&lt;/span&gt;);
assertFalse(path_1.matches(&lt;span class=&quot;code-quote&quot;&gt;&quot;/apps/a.html&quot;&lt;/span&gt;));

&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Path path_3 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Path(&lt;span class=&quot;code-quote&quot;&gt;&quot;glob:/a/m-p/$structure&lt;span class=&quot;code-comment&quot;&gt;/**/&lt;/span&gt;[cmp]/*.html&quot;&lt;/span&gt;);
assertFalse(path_3.matches(&lt;span class=&quot;code-quote&quot;&gt;&quot;/a/m-p/$structure/1/2/3/4/5/6[cmp]/test.html&quot;&lt;/span&gt;));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I would also assume that this &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;assertFalse(path.matches(&lt;span class=&quot;code-quote&quot;&gt;&quot;glob:/**&quot;&lt;/span&gt;));
assertFalse(path.matches(&lt;span class=&quot;code-quote&quot;&gt;&quot;glob:&lt;span class=&quot;code-comment&quot;&gt;/**/&lt;/span&gt;*.jsp&quot;&lt;/span&gt;));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;should assertTrue for &lt;tt&gt;final Path path = new Path(&quot;/apps/myproject&quot;);&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="15728866" author="bdelacretaz" created="Wed, 7 Dec 2016 14:13:52 +0000"  >&lt;p&gt;Oops, the .../5/6 test was not what I meant, fixed it in &lt;a href=&quot;http://svn.apache.org/r1773079&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1773079&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I&apos;m looking at the tests again, will refactor to make them more readable.&lt;/p&gt;</comment>
                            <comment id="15728932" author="bdelacretaz" created="Wed, 7 Dec 2016 14:49:14 +0000"  >&lt;p&gt;I have refactored the tests in &lt;a href=&quot;http://svn.apache.org/r1773084&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1773084&lt;/a&gt;, I think they&apos;re more readable now.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;If we just replace ** in the pattern with 0..N then the tests you mentioned should still assertFalse...&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;What I mean is that I think rather than counting slashes we should convert the glob pattern into a regex pattern, in a way that more clearly expresses what&apos;s happening, leading to cleaner code.&lt;/p&gt;

&lt;p&gt;I have also added a test in &lt;a href=&quot;http://svn.apache.org/r1773091&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1773091&lt;/a&gt; to verify that the matching is symmetric...and it&apos;s not, see the commented code at the end of that test. I&apos;m not sure if they could be a good reason for that but it sounds totally counter-intuitive. &lt;/p&gt;
</comment>
                            <comment id="15728950" author="bdelacretaz" created="Wed, 7 Dec 2016 15:00:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-5837&quot; title=&quot;Allow ResourceChangeListeners to define glob patterns for resource matching&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-5837&quot;&gt;&lt;del&gt;SLING-5837&lt;/del&gt;&lt;/a&gt; is where this was initially implemented and provides context as to why we have our own code instead of using the Java 7 &lt;tt&gt;PathMatcher&lt;/tt&gt;. &lt;/p&gt;

&lt;p&gt;I&apos;m wondering if instead of our code we can&apos;t use a stable utility from commons-io or something similar - implementing this ourselves feels wrong to me.&lt;/p&gt;</comment>
                            <comment id="15729057" author="bdelacretaz" created="Wed, 7 Dec 2016 15:45:04 +0000"  >&lt;p&gt;I have attached &lt;tt&gt;testing-with-ant.patch&lt;/tt&gt; which uses path matching code from Ant which has very similar semantics to what we do here, IIUC.&lt;/p&gt;

&lt;p&gt;I spent just a few minutes on this but get only 3 failing tests, below.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu.cotescu&quot; class=&quot;user-hover&quot; rel=&quot;radu.cotescu&quot;&gt;radu.cotescu&lt;/a&gt; I think you initially implemented this, WDYT about switching to the well tested Ant code instead of our own? We&apos;d need to embed just the right classes from Ant in this API bundle to avoid requiring a new Ant bundle but that&apos;s IMO way better than reinventing this.&lt;/p&gt;

&lt;p&gt;Failing tests with this patch:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;PathTest.testMatchesWithGlobPattern:155-&amp;gt;assertMatch:44-&amp;gt;assertMatchOrNot:34 Expected match between /apps/myproject and glob:/apps/myproject/components/*&lt;b&gt;/&lt;/b&gt;.html but got match=false&lt;/p&gt;&lt;/blockquote&gt;

&lt;blockquote&gt;&lt;p&gt;PathTest.testPatternMatchingB:126-&amp;gt;assertNoMatch:48-&amp;gt;assertMatchOrNot:34 Expected no match between glob:/apps/*.html and /apps/a/a.html but got match=true&lt;/p&gt;&lt;/blockquote&gt;

&lt;blockquote&gt;&lt;p&gt;PathTest.testPatternRootMatching:147-&amp;gt;assertMatch:44-&amp;gt;assertMatchOrNot:34 Expected match between / and glob:/apps/myproject/components/*&lt;b&gt;/&lt;/b&gt;.html but got match=false&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="15731774" author="bdelacretaz" created="Thu, 8 Dec 2016 10:26:11 +0000"  >&lt;p&gt;Updated patch with the testSymmetry fully enabled, it passes.&lt;/p&gt;</comment>
                            <comment id="15732118" author="radu.cotescu" created="Thu, 8 Dec 2016 12:48:33 +0000"  >&lt;p&gt;I actually wanted ANT path matching support, but then IIRC we decided against it, by implementing some minimal support for glob patterns, with some custom logic for our use cases where we want to also be able to match sub-paths. I think we should wait for &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; to come back from his PTO.&lt;/p&gt;</comment>
                            <comment id="15732524" author="bdelacretaz" created="Thu, 8 Dec 2016 15:32:21 +0000"  >&lt;p&gt;With this new &lt;tt&gt;testing-with-ant-all-tests-pass.patch&lt;/tt&gt; all tests pass including the ones that verify that this issue is fixed. If we agree to use this Ant code we&apos;ll need to embed the required Ant classes in addition to this patch.&lt;/p&gt;

&lt;p&gt;Let&apos;s wait for &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;&apos;s opinion then as he wrote the slash counting code IIUC. &lt;/p&gt;

&lt;p&gt;I&apos;m strongly in favor of using this tried and tested Ant code instead of our own stuff, with this latest patch the unusual stuff (optionally shortening glob patterns) is cleanly separated in the matchPathToGlob and shortenGlobPattern methods.&lt;/p&gt;</comment>
                            <comment id="15732568" author="jsedding" created="Thu, 8 Dec 2016 15:48:39 +0000"  >&lt;p&gt;+1 for using tried and tested ant code, if it does not increase the API bundle too much.&lt;/p&gt;

&lt;p&gt;If more than one class needs to be embedded, it&apos;s probably easiest to use bnd&apos;s &lt;tt&gt;Conditional-Package&lt;/tt&gt; directive as &lt;a href=&quot;http://njbartlett.name/2014/05/26/static-linking.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;described in Neil Bartlett&apos;s blog post&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15741463" author="cziegeler" created="Mon, 12 Dec 2016 09:34:46 +0000"  >&lt;p&gt;It&apos;s a little bit hard to tell for me at the moment what is the real bug?&lt;br/&gt;
Can someone point me to a failing test case?&lt;/p&gt;

&lt;p&gt;For the last patch, without looking into the details, but the change to the test case testPatternMatchingB shows that we should not apply this patch as is&lt;/p&gt;</comment>
                            <comment id="15741498" author="bdelacretaz" created="Mon, 12 Dec 2016 09:48:59 +0000"  >&lt;p&gt;The failing tests are in trunk, marked with TODO.*&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6350&quot; title=&quot;Incorrect matching in Path class causes MountByFS to fail (more than 2 slashes fails)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6350&quot;&gt;&lt;del&gt;SLING-6350&lt;/del&gt;&lt;/a&gt; in the &lt;tt&gt;PathTest&lt;/tt&gt; class.&lt;/p&gt;

&lt;p&gt;I put question marks on those TODOs as the exact semantics are not fully clear to me, especially this comment in the &lt;tt&gt;Path&lt;/tt&gt; class:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;* If a glob pattern is provided as the argument, it performs the same check and respects the provided pattern.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;What that exactly means is unclear to me, clarifying that explanation might help.&lt;/p&gt;
</comment>
                            <comment id="15741499" author="sandro" created="Mon, 12 Dec 2016 09:49:06 +0000"  >&lt;p&gt;Initially it was:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    @Test &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testMorePathSlashesThenInGlobExp() {
        Path path = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Path(&lt;span class=&quot;code-quote&quot;&gt;&quot;/libs/sling/resource-editor&quot;&lt;/span&gt;);
        assertTrue(path.matches(&lt;span class=&quot;code-quote&quot;&gt;&quot;glob:/libs&lt;span class=&quot;code-comment&quot;&gt;/**/&lt;/span&gt;*.jsp&quot;&lt;/span&gt;));
        path = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Path(&lt;span class=&quot;code-quote&quot;&gt;&quot;/libs/sling/resource-editor/sub-path&quot;&lt;/span&gt;);
        assertTrue(path.matches(&lt;span class=&quot;code-quote&quot;&gt;&quot;glob:/libs&lt;span class=&quot;code-comment&quot;&gt;/**/&lt;/span&gt;*.jsp&quot;&lt;/span&gt;));
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;but Bertrand identified more test cases.&lt;/p&gt;</comment>
                            <comment id="15741529" author="sandro" created="Mon, 12 Dec 2016 10:07:10 +0000"  >&lt;p&gt;I don&apos;t know the exact semantics. I just expected that it checks if &lt;tt&gt;/libs/*&lt;b&gt;/&lt;/b&gt;.jsp&lt;/tt&gt; files are within &lt;tt&gt;/libs/sling/resource-editor&lt;/tt&gt; to recompile the jsp files in case of changes.&lt;/p&gt;</comment>
                            <comment id="15741605" author="cziegeler" created="Mon, 12 Dec 2016 10:49:22 +0000"  >&lt;p&gt;Yes, you&apos;re right - I first read the test wrong &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15741660" author="cziegeler" created="Mon, 12 Dec 2016 11:20:39 +0000"  >&lt;p&gt;I&apos;ve added a simple patch which fixes the provided test cases&lt;/p&gt;</comment>
                            <comment id="15741805" author="cziegeler" created="Mon, 12 Dec 2016 12:44:56 +0000"  >&lt;p&gt;I&apos;ve committed the patch, together with some additional test cases in rev 1773784&lt;br/&gt;
I&apos;ve also updated the javadoc and removed the symmetric test as this is not intended to be symmetric&lt;/p&gt;
</comment>
                            <comment id="15741810" author="bdelacretaz" created="Mon, 12 Dec 2016 12:48:36 +0000"  >&lt;p&gt;Thanks for the clarifications and patch, I&apos;m still not in favor of writing such things ourselves in general but if it ain&apos;t broken anymore there&apos;s no other reason to fix it right now &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15741959" author="cziegeler" created="Mon, 12 Dec 2016 13:56:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sandro&quot; class=&quot;user-hover&quot; rel=&quot;sandro&quot;&gt;sandro&lt;/a&gt; Can you confirm that it now works for you?&lt;/p&gt;</comment>
                            <comment id="15748164" author="sandro" created="Wed, 14 Dec 2016 12:01:17 +0000"  >&lt;p&gt;Works like a charm, thanks guys!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12992961">SLING-5909</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12988729">SLING-5837</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13012670">SLING-6161</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12842786" name="patch.txt" size="10511" author="cziegeler" created="Mon, 12 Dec 2016 11:20:39 +0000"/>
                            <attachment id="12841142" name="sling-api-patch.txt" size="3182" author="sandro" created="Wed, 30 Nov 2016 21:58:25 +0000"/>
                            <attachment id="12842360" name="testing-with-ant-all-tests-pass.patch" size="12724" author="bdelacretaz" created="Thu, 8 Dec 2016 15:32:21 +0000"/>
                            <attachment id="12842324" name="testing-with-ant.patch" size="6971" author="bdelacretaz" created="Thu, 8 Dec 2016 10:26:11 +0000"/>
                            <attachment id="12842167" name="testing-with-ant.patch" size="5864" author="bdelacretaz" created="Wed, 7 Dec 2016 15:45:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 46 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i36zp3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6349] Sling Models Jackson Exporter fails on SlingHttpServletRequest getters</title>
                <link>https://issues.apache.org/jira/browse/SLING-6349</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If an exported model class has a method like&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; SlingHttpServletRequest getRequest() {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; request;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then it will fail to export (at least on Jetty) due to a security violation. Although these fields should generally have the @JsonIgnore annotation on them (since exporting back the request object doesn&apos;t make a lot of sense), we should at least provide some default serialization so as to ease onboarding.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13024571">SLING-6349</key>
            <summary>Sling Models Jackson Exporter fails on SlingHttpServletRequest getters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Nov 2016 20:24:59 +0000</created>
                <updated>Fri, 20 Jan 2017 09:47:54 +0000</updated>
                            <resolved>Wed, 30 Nov 2016 20:37:14 +0000</resolved>
                                    <version>Models Jackson Exporter 1.0.4</version>
                                    <fixVersion>Models Jackson Exporter 1.0.6</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15709700" author="justinedelson" created="Wed, 30 Nov 2016 20:37:06 +0000"  >&lt;p&gt;fixed in r1772113. I don&apos;t think the output isn&apos;t what anyone would realistically want (which is a good indication that @JsonIgnore) should be added to the model classes.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 48 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i36zkn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6348] ResourceModelProvider should be named ResourceModuleProvider</title>
                <link>https://issues.apache.org/jira/browse/SLING-6348</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description></description>
                <environment></environment>
        <key id="13024548">SLING-6348</key>
            <summary>ResourceModelProvider should be named ResourceModuleProvider</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Nov 2016 19:16:47 +0000</created>
                <updated>Wed, 30 Nov 2016 19:18:31 +0000</updated>
                            <resolved>Wed, 30 Nov 2016 19:18:30 +0000</resolved>
                                    <version>Models Jackson Exporter 1.0.4</version>
                                    <fixVersion>Models Jackson Exporter 1.0.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15709480" author="justinedelson" created="Wed, 30 Nov 2016 19:18:30 +0000"  >&lt;p&gt;fixed in r1772104&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 48 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i36zfj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6346] Exporter always return null if related sling model is adapted from SlingHttpServletReqeust</title>
                <link>https://issues.apache.org/jira/browse/SLING-6346</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The new exporter feature for Sling Models always return null if the adaptables is set to SlingHttpServletReqeust for the relevant Sling Model.&lt;/p&gt;

&lt;p&gt;Example:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@Model(adaptables = SlingHttpServletRequest.class,
       adapters = TestModel.class,
       resourceType = &lt;span class=&quot;code-quote&quot;&gt;&quot;core/wcm/components/test&quot;&lt;/span&gt;)
@Exporter(name = &lt;span class=&quot;code-quote&quot;&gt;&quot;jackson&quot;&lt;/span&gt;,
          extensions = &lt;span class=&quot;code-quote&quot;&gt;&quot;json&quot;&lt;/span&gt;)
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;TestModel {

    @ValueMapValue
    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; test;

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getTest() {
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; test;
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Issue will be fixed with:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling/pull/187&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/187&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13024427">SLING-6346</key>
            <summary>Exporter always return null if related sling model is adapted from SlingHttpServletReqeust</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="bupauli">Burkhard Pauli</reporter>
                        <labels>
                            <label>easyfix</label>
                    </labels>
                <created>Wed, 30 Nov 2016 13:31:39 +0000</created>
                <updated>Wed, 30 Nov 2016 17:13:37 +0000</updated>
                            <resolved>Wed, 30 Nov 2016 17:13:37 +0000</resolved>
                                    <version>Sling Models Impl 1.3.4</version>
                                    <fixVersion>Sling Models Impl 1.3.6</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15709142" author="githubbot" created="Wed, 30 Nov 2016 17:12:05 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/187&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/187&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15709148" author="justinedelson" created="Wed, 30 Nov 2016 17:13:37 +0000"  >&lt;p&gt;Thanks for the patch. I applied it along with additional tests for this case in r 1772087.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 48 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i36yon:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-6345] Publishing transfers files like &quot;.gitignore&quot;</title>
                <link>https://issues.apache.org/jira/browse/SLING-6345</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;There should be a (configurable) blacklist of certain filenames which should never be published to Sling. That blacklist should include &quot;.gitignore&quot; and &quot;.DS_Store&quot; files by default and maybe some more.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13024391">SLING-6345</key>
            <summary>Publishing transfers files like &quot;.gitignore&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Nov 2016 10:49:12 +0000</created>
                <updated>Sun, 21 Jan 2018 20:23:32 +0000</updated>
                            <resolved>Thu, 16 Mar 2017 09:50:08 +0000</resolved>
                                    <version>Sling Eclipse IDE 1.1.0</version>
                                    <fixVersion>Sling Eclipse IDE 1.2.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15708868" author="kwin" created="Wed, 30 Nov 2016 15:25:36 +0000"  >&lt;p&gt;The already existing field &lt;tt&gt;ignoredFileNames&lt;/tt&gt; in &lt;tt&gt;ResourceChangeCommandFactory&lt;/tt&gt; should be maintainable through some workspace preference and come with a reasonable default.&lt;/p&gt;</comment>
                            <comment id="15741406" author="rombert" created="Mon, 12 Dec 2016 09:15:26 +0000"  >&lt;p&gt;Or maybe we should leverage &lt;tt&gt;META-INF/vault/settings.xml&lt;/tt&gt; for that:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;
&amp;lt;vault version=&quot;1.0&quot;&amp;gt;
  &amp;lt;ignore name=&quot;.svn&quot;/&amp;gt;
&amp;lt;/vault&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15924371" author="kwin" created="Tue, 14 Mar 2017 15:04:40 +0000"  >&lt;p&gt;The &lt;tt&gt;META-INF/vault/settings.xml&lt;/tt&gt; is very often not explicitly maintained (as this is created automatically by the &lt;tt&gt;content-package-maven-plugin&lt;/tt&gt;. Therefore it would probably make sense to allow to maintain that list. The list in Preferences-&amp;gt;Team-&amp;gt;Ignored Resources is also not matching the requirements.&lt;/p&gt;</comment>
                            <comment id="15927744" author="kwin" created="Thu, 16 Mar 2017 09:50:08 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/r1787148&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1787148&lt;/a&gt; by adding a new workspace preference page where the ignored file names can be maintained. By default it is: &lt;tt&gt;.svn;.DS_Store;.gitignore;.vlt;.vltignore&lt;/tt&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 32 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i36ygn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>