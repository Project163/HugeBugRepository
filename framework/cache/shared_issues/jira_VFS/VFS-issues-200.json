<!--
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Thu Oct 23 09:40:13 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+%22VFS%22+AND+issuetype+%3D+Bug+ORDER+BY+key+DESC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="200" end="400" total="526"/>
                <build-info>
            <version>8.20.10</version>
            <build-number>820010</build-number>
            <build-date>22-06-2022</build-date>
        </build-info>

<item>
            <title>[VFS-519] Javadoc is wrong in some places</title>
                <link>https://issues.apache.org/jira/browse/VFS-519</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;ul&gt;
	&lt;li&gt;&lt;tt&gt;FileSystemManager.resolveFile(File, String)&lt;/tt&gt; says that the first parameter may be &lt;tt&gt;null&lt;/tt&gt;. When I pass &lt;tt&gt;null&lt;/tt&gt;, a &lt;tt&gt;NullPointerException&lt;/tt&gt; is thrown.&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;FileSystem.getLastModTimeAccuracy&lt;/tt&gt;: the &lt;tt&gt;&amp;#64;return&lt;/tt&gt; clause is not grammatically correct.&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;SftpFileSystemConfigBuilder.setCompression&lt;/tt&gt;: mentions the &quot;jsch documentation&quot;; first, jsch does not have documentation, second, the reference should be a little more specific.&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;SftpFileSystemConfigBuilder.getCompression&lt;/tt&gt;: should be aligned with the &lt;tt&gt;setCompression&lt;/tt&gt; documentation: when I pass &lt;tt&gt;&quot;zlib,none&quot;&lt;/tt&gt;, it is not returned as &quot;the compression algorithm&quot;, but as a comma-separated list of compression algorithms.&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;SftpFileSystemConfigBuilder.setTimeout&lt;/tt&gt; does not mention the time unit. It is milliseconds.&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;FtpFileSystemConfigBuilder.setTimeout&lt;/tt&gt; does not mention the time unit. Same for &lt;tt&gt;getSoTimeout&lt;/tt&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12706640">VFS-519</key>
            <summary>Javadoc is wrong in some places</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="b.eckenfels">Bernd Eckenfels</assignee>
                                    <reporter username="rillig">Roland Illig</reporter>
                        <labels>
                            <label>documentation</label>
                            <label>patch</label>
                    </labels>
                <created>Fri, 4 Apr 2014 15:06:34 +0000</created>
                <updated>Thu, 19 May 2016 18:25:38 +0000</updated>
                            <resolved>Wed, 19 Nov 2014 04:20:08 +0000</resolved>
                                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13963090" author="garydgregory" created="Tue, 8 Apr 2014 15:42:32 +0000"  >&lt;p&gt;Roland,&lt;/p&gt;

&lt;p&gt;Would you be willing to provide a patch against trunk?&lt;/p&gt;

&lt;p&gt;Thank you,&lt;br/&gt;
Gary&lt;/p&gt;</comment>
                            <comment id="14001241" author="rillig" created="Sun, 18 May 2014 22:39:55 +0000"  >&lt;p&gt;This patch corrects some Javadoc and removes irrelevant &lt;tt&gt;final&lt;/tt&gt; modifiers.&lt;/p&gt;

&lt;p&gt;I changed the order of the &lt;tt&gt;@param&lt;/tt&gt; tags in the method resolveFile(FileObject, String), because I expect the Javadoc to be in the same order as the parameters.&lt;/p&gt;

&lt;p&gt;I removed the &lt;tt&gt;final&lt;/tt&gt; modifier for the parameters, since they are useless in an interface declaration.&lt;/p&gt;

&lt;p&gt;The NullPointerException in the resolveFile method should probably be fixed in a separate issue. It seems weird to me that the Javadoc text looks the same, but the implementation is different.&lt;/p&gt;

&lt;p&gt;The rest of the patch should be straight-forward.&lt;/p&gt;</comment>
                            <comment id="14217385" author="b.eckenfels" created="Wed, 19 Nov 2014 04:20:08 +0000"  >&lt;p&gt;Thanks for the patch, applied it with&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/r1640485&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1640485&lt;/a&gt;&lt;br/&gt;
(I am not sure about the `&lt;/p&gt;
{@code null}
&lt;p&gt;` lets see of somebody comments on it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;

&lt;p&gt;The unit test is (cleaned up) here: &lt;a href=&quot;http://svn.apache.org/r1640486&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1640486&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="15291726" author="b.eckenfels" created="Thu, 19 May 2016 18:25:38 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12645485" name="VFS-519.patch" size="11267" author="rillig" created="Sun, 18 May 2014 22:39:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384963</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ubif:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>385230</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-517] Broken links on the project page in section &quot;Components&quot;</title>
                <link>https://issues.apache.org/jira/browse/VFS-517</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;The web site &lt;a href=&quot;http://commons.apache.org/proper/commons-vfs/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/proper/commons-vfs/&lt;/a&gt; has some links in the left navigation.&lt;/p&gt;

&lt;p&gt;The links currently go to &lt;a href=&quot;http://commons.apache.org/proper/commons-vfs/commons-vfs2/index.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/proper/commons-vfs/commons-vfs2/index.html&lt;/a&gt;, which only serves a 404 page.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12706614">VFS-517</key>
            <summary>Broken links on the project page in section &quot;Components&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rillig">Roland Illig</reporter>
                        <labels>
                            <label>documentation</label>
                    </labels>
                <created>Fri, 4 Apr 2014 12:48:54 +0000</created>
                <updated>Fri, 4 Apr 2014 12:49:28 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384937</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 30 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ubcn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>385204</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-515] AbstractFileObject.getURL() returns flaky URL object</title>
                <link>https://issues.apache.org/jira/browse/VFS-515</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;URL returned is created with constructor that expects host as a separate parameter from path and passes in empty string for host. As a result subsequent calls to url.getHost() returns an empty string rather than the host encoded in the path.&lt;/p&gt;

&lt;p&gt;Test Code&lt;/p&gt;

&lt;p&gt;FileSystemManager fsManager = VFS.getManager();&lt;br/&gt;
FileObject f = fsManager.resolveFile(&quot;ftp://localhost/etc/hosts&quot;);&lt;br/&gt;
URL url = f.getURL();&lt;br/&gt;
String host = url.getHost();&lt;br/&gt;
assertEquals(&quot;localhost&quot;, host);&lt;/p&gt;</description>
                <environment>&lt;p&gt;OSX 10.9.2&lt;br/&gt;
java version &quot;1.7.0_45&quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.7.0_45-b18)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 24.45-b08, mixed mode)&lt;/p&gt;</environment>
        <key id="12698957">VFS-515</key>
            <summary>AbstractFileObject.getURL() returns flaky URL object</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="svella">Shon Vella</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Mar 2014 19:37:50 +0000</created>
                <updated>Thu, 24 Sep 2015 19:54:56 +0000</updated>
                                            <version>2.0</version>
                    <version>2.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14905292" author="b.eckenfels" created="Wed, 23 Sep 2015 21:25:16 +0000"  >&lt;p&gt;Seems to be a problem of org.apache.commons.vfs2.provider.AbstractFileObject.getURL() using org.apache.commons.vfs2.provider.UriParser.extractScheme(String, StringBuilder) and not limited to FTP.&lt;/p&gt;</comment>
                            <comment id="14906900" author="simon04" created="Thu, 24 Sep 2015 19:54:56 +0000"  >&lt;p&gt;I don&apos;t understand why everything except the schema (i.e., &lt;tt&gt;//localhost/etc/hosts&lt;/tt&gt;) is put in the &lt;tt&gt;file&lt;/tt&gt; part (&lt;tt&gt;org/apache/commons/vfs2/provider/AbstractFileObject.java:1550&lt;/tt&gt;) &#8230;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>377304</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 5 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1t0kv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>377599</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-514] [tests] PermissionsTests leaves unclean test directory</title>
                <link>https://issues.apache.org/jira/browse/VFS-514</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;As discussed in &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-500&quot; title=&quot;VFSClassLoader.findResources missing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-500&quot;&gt;VFS-500&lt;/a&gt; the RamProviderTestCase fails with FileNotFoundException in setUp() if it is running after the PermissionTest of LocalProviderTestCase. The attached patch will make sure the test file with the limited permissions will be removed after the test run. It also makes sure to name the file a bit easier to correlate with the test. It also fixes some copy+paste errors in comments. It also moves the test functions together (moves the private helper functions to the end of the file).&lt;/p&gt;

&lt;p&gt;I am not sure why not all tests fail and why the problem occurs more often with &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-500&quot; title=&quot;VFSClassLoader.findResources missing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-500&quot;&gt;VFS-500&lt;/a&gt; applied. Could be a sequence thing?&lt;/p&gt;</description>
                <environment>&lt;p&gt;CentOS x64 Maven 3.1 build Java 7u51&lt;/p&gt;</environment>
        <key id="12694657">VFS-514</key>
            <summary>[tests] PermissionsTests leaves unclean test directory</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ggregory">Gary D. Gregory</assignee>
                                    <reporter username="b.eckenfels">Bernd Eckenfels</reporter>
                        <labels>
                            <label>test</label>
                    </labels>
                <created>Wed, 12 Feb 2014 02:31:06 +0000</created>
                <updated>Thu, 19 May 2016 18:26:21 +0000</updated>
                            <resolved>Wed, 12 Feb 2014 15:47:49 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13899202" author="garydgregory" created="Wed, 12 Feb 2014 15:47:36 +0000"  >&lt;p&gt;The order of @Test method execution is effectively random.&lt;/p&gt;

&lt;p&gt;Patch applied, thank you.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;commit -m &quot;&amp;lt;action issue=&quot;VFS-514&quot; dev=&quot;ggregory&quot; type=&quot;update&quot; due-to=&quot;Bernd Eckenfels&quot;&amp;gt;...&quot; C:/vcs/svn/apache/commons/trunks-proper/vfs/src/changes/changes.xml C:/vcs/svn/apache/commons/trunks-proper/vfs/core/src/test/java/org/apache/commons/vfs2/test/PermissionsTests.java
    Sending        C:/vcs/svn/apache/commons/trunks-proper/vfs/core/src/test/java/org/apache/commons/vfs2/test/PermissionsTests.java
    Sending        C:/vcs/svn/apache/commons/trunks-proper/vfs/src/changes/changes.xml
    Transmitting file data ...
    Committed revision 1567656.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15291842" author="b.eckenfels" created="Thu, 19 May 2016 18:26:20 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12678125">VFS-500</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12628411" name="VFS-514-permission.patch" size="4173" author="b.eckenfels" created="Wed, 12 Feb 2014 02:32:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373165</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sb47:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373466</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-513] $Date in checkstyle.xml</title>
                <link>https://issues.apache.org/jira/browse/VFS-513</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;The checkstyle.xml file contains 2 occurences of a (expanded) $ Date $. This should be formatted in a way no exansion by svn occurs:&lt;/p&gt;

&lt;p&gt;&amp;lt;!-- Don&apos;t use SVN $Date: 2013-11-27 19:38:24 +0000 (Wed, 27 Nov 2013) $ variable - it&apos;s localized and causes source archives to differ from the SVN tag --&amp;gt;&lt;br/&gt;
...&lt;br/&gt;
      &amp;lt;property name=&quot;message&quot; value=&quot;Don&apos;t use SVN $Date: 2013-11-27 19:38:24 +0000 (Wed, 27 Nov 2013) $ variable&quot;/&amp;gt;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12694087">VFS-513</key>
            <summary>$Date in checkstyle.xml</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="b.eckenfels">Bernd Eckenfels</reporter>
                        <labels>
                    </labels>
                <created>Sat, 8 Feb 2014 11:05:05 +0000</created>
                <updated>Thu, 19 May 2016 18:26:08 +0000</updated>
                            <resolved>Sun, 9 Feb 2014 04:23:06 +0000</resolved>
                                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13895823" author="sebb@apache.org" created="Sun, 9 Feb 2014 04:16:56 +0000"  >&lt;p&gt;You can also change the SVN properties on the file which control the keywords that are expanded.&lt;/p&gt;</comment>
                            <comment id="13895824" author="sebb@apache.org" created="Sun, 9 Feb 2014 04:23:06 +0000"  >&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/r1566210&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1566210&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-513&quot; title=&quot;$Date in checkstyle.xml&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-513&quot;&gt;&lt;del&gt;VFS-513&lt;/del&gt;&lt;/a&gt; $Date in checkstyle.xml&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/vfs/trunk/checkstyle.xml   (props changed)&lt;/p&gt;

&lt;p&gt;Propchange: commons/proper/vfs/trunk/checkstyle.xml&lt;br/&gt;
            (&apos;svn:keywords&apos; removed)&lt;/p&gt;</comment>
                            <comment id="15291807" author="b.eckenfels" created="Thu, 19 May 2016 18:26:08 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>372596</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1s7n3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>372900</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-512] LRUFilesCache grows arbitrarly</title>
                <link>https://issues.apache.org/jira/browse/VFS-512</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;We are experiencing memory issues in our system where we have to scan very big directories. After doing some investigation it turned out that the cause of the issue is the caching of vfs. (&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/commons-user/201312.mbox/browser&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mail-archives.apache.org/mod_mbox/commons-user/201312.mbox/browser&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;From this reason we tried out LRUFilesCache, but it seems this cache can still grow way beyond the limit. &lt;br/&gt;
This can be reproduced with a simple test code:&lt;br/&gt;
&lt;a href=&quot;https://sourceforge.net/p/screeningbee/code/HEAD/tree/trunk/vfs-cache-test/src/main/java/ch/systemsx/bee/vfscachetest/CacheSizeChecker.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sourceforge.net/p/screeningbee/code/HEAD/tree/trunk/vfs-cache-test/src/main/java/ch/systemsx/bee/vfscachetest/CacheSizeChecker.java&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;In this example we set the max size of lru to 100, but running a while this example and then checking the heap of the program showed that the real size of the map can be 10 000 or more too. And it seems its growing constantly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12693534">VFS-512</key>
            <summary>LRUFilesCache grows arbitrarly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="hullarb">Bela Hullar</reporter>
                        <labels>
                            <label>leak</label>
                    </labels>
                <created>Thu, 6 Feb 2014 11:18:06 +0000</created>
                <updated>Fri, 11 Dec 2015 21:12:11 +0000</updated>
                                            <version>2.0</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15053563" author="tn" created="Fri, 11 Dec 2015 21:12:11 +0000"  >&lt;p&gt;The LRUFilesCache does not release files that are attached.&lt;/p&gt;

&lt;p&gt;Now, basically any operation on a File object makes it attached, which is a pain.&lt;/p&gt;

&lt;p&gt;Changing your test code to this will prevent the cache from growing:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void visitDirs(FileObject dir) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; FileSystemException {
        &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(MemoryMeasurer.measureBytes(lruCache));
&lt;/span&gt;        FileObject[] files = dir.getChildren();
        dir.close();
        count += files.length;
        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (FileObject f : files) {
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (f.getType() == FileType.FOLDER) {
                &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
                    visitDirs(f);
                } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (FileSystemException e) {
                    e.printStackTrace();
                }
            }
            f.close();
        }
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But I think the LRUFileCache should be change to allow also attached files to be removed from the cache. Maybe by first checking if there are any other files to be removed that are not attached.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>372119</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 46 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1s4pz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>372424</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-511] FilterSelector url bug</title>
                <link>https://issues.apache.org/jira/browse/VFS-511</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;when I use vfs1.0,I use the FilterSelector API to filter files ,It occured an error ,error log:&lt;br/&gt;
Exception in thread &quot;main&quot; org.apache.commons.vfs.FileSystemException: Could not find files in &quot;file:///home/****/temp&quot;.&lt;br/&gt;
code:&lt;br/&gt;
  FileSelector fs = new FileSelector() {&lt;br/&gt;
                                    public boolean includeFile(FileSelectInfo fsi) throws Exception &lt;/p&gt;
{
                                                FileObject fo = fsi.getFile();
                                                return fo.getName().getBaseName().startsWith(&quot;a&quot;);
                                    }

&lt;p&gt;                                    public boolean traverseDescendents(FileSelectInfo fsi) throws Exception &lt;/p&gt;
{
                                                return true;
                                    }
&lt;p&gt;                        };&lt;br/&gt;
                        FileSystemManager sfm = VFS.getManager();&lt;br/&gt;
                        FileObject fo = sfm.resolveFile(&quot;/home/zcwangjb/temp&quot;);&lt;br/&gt;
                        FileObject[] fos= fo.findFiles(fs);&lt;br/&gt;
                        for (FileObject f : fos) &lt;/p&gt;
{
                                    System.out.println(f.getName().getBaseName());
                        }
&lt;p&gt;the rease why the error come is that I have a file named dfj\djf\test.data ,please fix the issue ,thanks&lt;/p&gt;</description>
                <environment>&lt;p&gt;java version &quot;1.7.0_21&quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.7.0_21-b11)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 23.21-b01, mixed mode)&lt;/p&gt;</environment>
        <key id="12691241">VFS-511</key>
            <summary>FilterSelector url bug</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="wangjunbao">wangjunbao</reporter>
                        <labels>
                    </labels>
                <created>Sun, 26 Jan 2014 02:42:52 +0000</created>
                <updated>Sun, 26 Jan 2014 02:42:52 +0000</updated>
                                            <version>1.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="86400">24h</timeoriginalestimate>
                            <timeestimate seconds="86400">24h</timeestimate>
                                                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369986</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 40 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1rrnz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370288</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-510] moveTo fails with SFTPFileObject if CacheStrategy.ON_CALL is set</title>
                <link>https://issues.apache.org/jira/browse/VFS-510</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;calling moveTo on SFTPFileObject cause the following error:&lt;br/&gt;
java.lang.ClassCastException: org.apache.commons.vfs2.cache.OnCallRefreshFileObject cannot be cast to org.apache.commons.vfs2.provider.sftp.SftpFileObject&lt;br/&gt;
	at org.apache.commons.vfs2.provider.sftp.SftpFileObject.doRename(SftpFileObject.java:289) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;commons-vfs2-2.0.jar:2.0&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.commons.vfs2.provider.AbstractFileObject.moveTo(AbstractFileObject.java:1102) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;commons-vfs2-2.0.jar:2.0&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.commons.vfs2.impl.DecoratedFileObject.moveTo(DecoratedFileObject.java:155) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;commons-vfs2-2.0.jar:2.0&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.commons.vfs2.cache.OnCallRefreshFileObject.moveTo(OnCallRefreshFileObject.java:158) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;commons-vfs2-2.0.jar:2.0&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at ch.systemsx.bee.workflowmanager.tasks.RetryableTask.handleGeneratedFiles(RetryableTask.java:104) &lt;span class=&quot;error&quot;&gt;&amp;#91;bee.jar:1.0-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at ch.systemsx.bee.workflowmanager.tasks.RetryableTask.access$000(RetryableTask.java:24) &lt;span class=&quot;error&quot;&gt;&amp;#91;bee.jar:1.0-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at ch.systemsx.bee.workflowmanager.tasks.RetryableTask$1.execute(RetryableTask.java:73) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;bee.jar:1.0-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at ch.systemsx.bee.util.errorrecovery.ExponentialBackOff.execute(ExponentialBackOff.java:48) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;bee.jar:1.0-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at ch.systemsx.bee.workflowmanager.tasks.RetryableTask.changeState(RetryableTask.java:69) &lt;span class=&quot;error&quot;&gt;&amp;#91;bee.jar:1.0-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at ch.systemsx.bee.workflowmanager.tasks.TaskImpl.validate(TaskImpl.java:76) &lt;span class=&quot;error&quot;&gt;&amp;#91;bee.jar:1.0-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at ch.systemsx.bee.workflowmanager.queues.SubmissionQueueEntry.run(SubmissionQueueEntry.java:44) &lt;span class=&quot;error&quot;&gt;&amp;#91;bee.jar:1.0-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110) &lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.7.0_05&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603) &lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.7.0_05&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:722) &lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.7.0_05&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;As with CacheStrategy.ON_CALL the file objects are wrapped into a decorator&lt;br/&gt;
the following line in SFTPFileObject causes the problem (SftpFileObject.java:289):&lt;br/&gt;
channel.rename(relPath, ((SftpFileObject) newfile).relPath);&lt;/p&gt;</description>
                <environment></environment>
        <key id="12689806">VFS-510</key>
            <summary>moveTo fails with SFTPFileObject if CacheStrategy.ON_CALL is set</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="hullarb">Bela Hullar</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Jan 2014 12:39:36 +0000</created>
                <updated>Thu, 19 May 2016 18:26:22 +0000</updated>
                            <resolved>Tue, 21 Jan 2014 01:43:53 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13877076" author="garydgregory" created="Tue, 21 Jan 2014 01:43:53 +0000"  >&lt;p&gt;This is already fixed in the trunk code.&lt;/p&gt;</comment>
                            <comment id="15291846" author="b.eckenfels" created="Thu, 19 May 2016 18:26:22 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368773</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1rk87:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369077</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-509] Can&apos;t add a FileSystem using the API</title>
                <link>https://issues.apache.org/jira/browse/VFS-509</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;I can&apos;t take a StandardFileSystemManager and add a FileSystemProvider using the Java APIs.&lt;/p&gt;

&lt;p&gt;Well, I can, but I have to use reflection.&lt;/p&gt;

&lt;p&gt;A FileSystem requires a VfsComponentContext. This is not accessible using public APIs on the FSM or any VfsComponent. Although it has no state, the class is protected, so I can&apos;t instantiate one either.&lt;/p&gt;

&lt;p&gt;Please make enough of the API public that this simple task can be performed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12687384">VFS-509</key>
            <summary>Can&apos;t add a FileSystem using the API</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="arren">Shevek</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Jan 2014 02:35:54 +0000</created>
                <updated>Mon, 6 Jan 2014 03:36:01 +0000</updated>
                            <resolved>Mon, 6 Jan 2014 03:36:01 +0000</resolved>
                                    <version>2.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13862745" author="arren" created="Mon, 6 Jan 2014 03:35:53 +0000"  >&lt;p&gt;Withdraw bug, using addProvider().&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>366385</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 43 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1r5lb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>366696</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-505] Reading from an input stream in a .tar ends up with a &apos;reading from an output buffer&apos; exception</title>
                <link>https://issues.apache.org/jira/browse/VFS-505</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;This is probably the same issue as &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-350&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/VFS-350&lt;/a&gt;, but for version 2.0 and for the .tar reader.&lt;/p&gt;

&lt;p&gt;The problem: After successfully reading some files from the .tar, I unexpectedly get:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;
Caused by: java.io.IOException: reading from an output buffer
at org.apache.commons.vfs2.provider.tar.TarBuffer.readRecord(TarBuffer.java:211)
at org.apache.commons.vfs2.provider.tar.TarInputStream.read(TarInputStream.java:384)
at java.io.BufferedInputStream.read1(BufferedInputStream.java:273)
at java.io.BufferedInputStream.read(BufferedInputStream.java:334)
at org.apache.commons.vfs2.util.MonitorInputStream.read(MonitorInputStream.java:100)
at sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:283)
at sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:325)
at sun.nio.cs.StreamDecoder.read(StreamDecoder.java:177)
at java.io.InputStreamReader.read(InputStreamReader.java:184)
at com.google.common.io.LineReader.readLine(LineReader.java:76)
at edu.byu.nlp.io.LineReaderIterator.readLineQuietly(LineReaderIterator.java:31)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Note that I have several read-only streams open on the same .tar file. The are being read on the same thread, but reads to different files are interleaved. Even more interesting is that the same code path works fine when only reading a small subset of the data (this, too, includes interleaving reads to different files in the same .tar file). It may be a function of the number of bytes read.&lt;/p&gt;

&lt;p&gt;Note that I do NOT have any files open for writing.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12681601">VFS-505</key>
            <summary>Reading from an input stream in a .tar ends up with a &apos;reading from an output buffer&apos; exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rhaertel">Robbie Haertel</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Nov 2013 15:40:38 +0000</created>
                <updated>Wed, 23 Sep 2015 21:33:27 +0000</updated>
                                            <version>2.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13834023" author="garydgregory" created="Wed, 27 Nov 2013 18:43:54 +0000"  >&lt;p&gt;Hello Robbie,&lt;/p&gt;

&lt;p&gt;Can you try this with the HEAD of trunk? Tar support has changed.&lt;/p&gt;

&lt;p&gt;See &quot;Building Commons VFS&quot; here: &lt;a href=&quot;https://commons.apache.org/proper/commons-vfs/download.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://commons.apache.org/proper/commons-vfs/download.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thank you,&lt;br/&gt;
Gary&lt;/p&gt;</comment>
                            <comment id="13844697" author="rhaertel" created="Tue, 10 Dec 2013 21:43:12 +0000"  >&lt;p&gt;Gary,&lt;/p&gt;

&lt;p&gt;I&apos;m encountering problems with the HEAD of trunk. In the interest of full disclosure, I&apos;ve never used Maven before. When I run mvn install, several of the tests fail. So I I&apos;m forced to use mvn -Dmaven.test.skip=true install instead. I copy the commons-vfs2-2.1-SNAPSHOT.jar from the Maven repository to my Eclipse project and update the build path (remove the old .jar, add this new one). Now I get a different exception; it doesn&apos;t seem to be recognizing the .tar loader:&lt;/p&gt;

&lt;p&gt;Exception in thread &quot;main&quot; org.apache.commons.vfs2.FileSystemException: Badly formed URI &quot;tar:&lt;a href=&quot;file://Users/rhaertel/git/statnlp/newsgroups.tar&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file://Users/rhaertel/git/statnlp/newsgroups.tar&lt;/a&gt;&quot;.&lt;br/&gt;
	at org.apache.commons.vfs2.provider.url.UrlFileProvider.findFile(UrlFileProvider.java:90)&lt;br/&gt;
	at org.apache.commons.vfs2.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:719)&lt;br/&gt;
	at org.apache.commons.vfs2.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:656)&lt;br/&gt;
	at org.apache.commons.vfs2.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:609)&lt;br/&gt;
	at edu.byu.nlp.pipes.docs.DocumentDatasetBuilder.&amp;lt;init&amp;gt;(DocumentDatasetBuilder.java:82)&lt;br/&gt;
	at edu.byu.nlp.al.txt.LearningCurve.readData(LearningCurve.java:480)&lt;br/&gt;
	at edu.byu.nlp.al.txt.LearningCurve.run(LearningCurve.java:245)&lt;br/&gt;
	at edu.byu.nlp.al.txt.FSLLearningCurve.main(FSLLearningCurve.java:60)&lt;br/&gt;
Caused by: java.net.MalformedURLException: unknown protocol: tar&lt;br/&gt;
	at java.net.URL.&amp;lt;init&amp;gt;(URL.java:590)&lt;br/&gt;
	at java.net.URL.&amp;lt;init&amp;gt;(URL.java:480)&lt;br/&gt;
	at java.net.URL.&amp;lt;init&amp;gt;(URL.java:429)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.url.UrlFileProvider.findFile(UrlFileProvider.java:71)&lt;br/&gt;
	... 7 more&lt;/p&gt;</comment>
                            <comment id="13855782" author="rhaertel" created="Mon, 23 Dec 2013 17:25:50 +0000"  >&lt;p&gt;FWIW, the tests that are (now) failing are:&lt;/p&gt;

&lt;p&gt;Tests in error: &lt;br/&gt;
  AbstractFtpsProviderTestCase$FtpProviderTestSuite&amp;gt;AbstractTestSuite.run:152-&amp;gt;setUp:166-&amp;gt;AbstractTestSuite.setUp:182 &#187; FileSystem&lt;br/&gt;
  AbstractFtpsProviderTestCase$FtpProviderTestSuite&amp;gt;AbstractTestSuite.run:152-&amp;gt;setUp:166-&amp;gt;AbstractTestSuite.setUp:182 &#187; FileSystem&lt;br/&gt;
  MultipleConnectionTestCase.testUnderlyingConnect:73 &#187; SSL Unrecognized SSL mes...&lt;br/&gt;
  MultipleConnectionTestCase.testConnectRoot:61-&amp;gt;resolveRoot:54 &#187; FileSystem Cou...&lt;br/&gt;
  HdfsFileProviderTest.org.apache.commons.vfs2.provider.hdfs.test.HdfsFileProviderTest &#187; ExceptionInInitializer&lt;br/&gt;
  HdfsFileProviderTest.org.apache.commons.vfs2.provider.hdfs.test.HdfsFileProviderTest &#187; NoClassDefFound&lt;br/&gt;
  HdfsFileProviderTestCase$HdfsProviderTestSuite&amp;gt;AbstractTestSuite.run:152-&amp;gt;setUp:133 Runtime&lt;br/&gt;
  ProviderTestSuite&amp;gt;AbstractTestSuite.run:152-&amp;gt;AbstractTestSuite.setUp:182 &#187; FileSystem&lt;/p&gt;

&lt;p&gt;Tests run: 1626, Failures: 0, Errors: 8, Skipped: 2&lt;/p&gt;</comment>
                            <comment id="13855791" author="rhaertel" created="Mon, 23 Dec 2013 17:37:12 +0000"  >&lt;p&gt;I&apos;m still getting the original error. I&apos;m not sure I noted the first time around that it successfully reads a bunch of files before seemingly randomly complaining that I&apos;m reading from an output buffer.&lt;/p&gt;</comment>
                            <comment id="14905306" author="b.eckenfels" created="Wed, 23 Sep 2015 21:33:27 +0000"  >&lt;p&gt;Do you still get it from 2.0 or also from 2.1?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                            <outwardlinks description="is a clone of">
                                        <issuelink>
            <issuekey id="12507374">VFS-350</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360865</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 6 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q7gv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361164</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-504] Duplicate notifications if there are multiple subscription to same file</title>
                <link>https://issues.apache.org/jira/browse/VFS-504</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;I initiate 2 threads to monitor same file. I hope to get 2 notifications if I changed file, but finally I got 4. I think the root cause is the listener is bound to file object, but event will be fired by filemonitor, each monitor will point to same file which have 2 listeners.&lt;/p&gt;

&lt;p&gt;// main process&lt;br/&gt;
 for (int i = 0; i &amp;lt; 2; i++) {&lt;br/&gt;
            Thread thread = new Thread(new Runnable() {&lt;br/&gt;
                public void run() {&lt;br/&gt;
                    try &lt;/p&gt;
{
                        IPAdapterFileMonitor monitor = IPAdapterFileMonitor.getInstance();
                        monitor.startMonitor();
                    }
&lt;p&gt; catch (FileSystemException e) &lt;/p&gt;
{
                        // TODO Auto-generated catch block
                        e.printStackTrace();
                    }
&lt;p&gt;                }&lt;br/&gt;
            });&lt;/p&gt;

&lt;p&gt;            thread.start();&lt;br/&gt;
        }&lt;/p&gt;

&lt;p&gt;//method in thread.&lt;br/&gt;
 public void startMonitor() throws FileSystemException&lt;/p&gt;
{
         DefaultFileMonitor fm = new DefaultFileMonitor(new IPAdapterFileListener());
         fm.addFile(targetFile);
         fm.start();
         System.out.println(Thread.currentThread().getId());
    }</description>
                <environment></environment>
        <key id="12680496">VFS-504</key>
            <summary>Duplicate notifications if there are multiple subscription to same file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="scottmonk">Scott.Wu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Nov 2013 11:58:31 +0000</created>
                <updated>Sun, 18 May 2014 00:19:49 +0000</updated>
                                            <version>2.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14000923" author="b.eckenfels" created="Sun, 18 May 2014 00:19:49 +0000"  >&lt;p&gt;Hm, not sure this is a bug. Why do you start 2 threads in the first place and register two listeners? I will downgrade this bug. Can you maybe add a complete test program so I dont have to code my own to debug it?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359761</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 24 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q0on:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360060</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-503] Equals on URLFileName should use the complete URL</title>
                <link>https://issues.apache.org/jira/browse/VFS-503</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;When using http url that uses query parameters, the method resolveFile doesn not work correctly.&lt;br/&gt;
Problem is caused by the fact that equals on org.apache.commons.vfs2.provider.URLFileName does not use the query string.&lt;br/&gt;
The consequence of this bug is that if you use 2 FileObject that use 2 differents URLS, that denote 2 different contents, you would use twice the same content when using copyForm for instance (see attached maven project)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12679017">VFS-503</key>
            <summary>Equals on URLFileName should use the complete URL</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="b.eckenfels">Bernd Eckenfels</assignee>
                                    <reporter username="djeanprost">Dominique Jean-Prost</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Wed, 13 Nov 2013 13:55:11 +0000</created>
                <updated>Thu, 19 May 2016 18:25:31 +0000</updated>
                            <resolved>Wed, 19 Aug 2015 10:06:17 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13821356" author="djeanprost" created="Wed, 13 Nov 2013 13:56:46 +0000"  >&lt;p&gt;Maven project that shows the bug.&lt;/p&gt;</comment>
                            <comment id="13823685" author="djeanprost" created="Fri, 15 Nov 2013 14:19:38 +0000"  >&lt;p&gt;Patch changing both equals and hashCode&lt;/p&gt;</comment>
                            <comment id="14702692" author="b.eckenfels" created="Wed, 19 Aug 2015 08:25:12 +0000"  >&lt;p&gt;Missed this patch. The patch needs to be updated to use the correct code style and we need a unit test to verify it. I am not so sure about the super.equals+getClass but I guess its at least correctly working.&lt;/p&gt;

&lt;p&gt;The sample code uses the query parameter with two URLs and the HttpFilesystem provider. I guess its a valid usecase (not so sure if the query parameters work very well for navigation operations, but since they are limited in that filesystem anyway, nobody might notice).&lt;/p&gt;</comment>
                            <comment id="14702724" author="b.eckenfels" created="Wed, 19 Aug 2015 08:55:03 +0000"  >&lt;p&gt;I think the following should be a possible unit test, it can be added to GenericFileNameTestCase.java but I guess creating a new URLFileNameTestCase.java would be better (or renaming it to FileNameTestCase.java?)&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testParseUriParamEquals() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; FileSystemException
    {
        &lt;span class=&quot;code-comment&quot;&gt;// anchors will be ignored
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; URLFileNameParser urlParser = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; URLFileNameParser(80);
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; URLFileName name1a  = (URLFileName)urlParser.parseUri(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//host/path?query1#a&quot;&lt;/span&gt;);
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; URLFileName nameNo1 = (URLFileName)urlParser.parseUri(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//host/path#no&quot;&lt;/span&gt;);
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; URLFileName nameNo2 = (URLFileName)urlParser.parseUri(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//host/path&quot;&lt;/span&gt;);
&lt;/span&gt;
        &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; it has been correctly parsed
&lt;/span&gt;        assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;/path?query1#a&quot;&lt;/span&gt;, name1a.getPathQuery()); &lt;span class=&quot;code-comment&quot;&gt;// TODO: anchor?
&lt;/span&gt;        assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;query1&quot;&lt;/span&gt;,         name1a.getQueryString());
        assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;/path#no&quot;&lt;/span&gt;,       nameNo1.getPathQuery()); &lt;span class=&quot;code-comment&quot;&gt;// TODO: anchor?
&lt;/span&gt;        assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;/path&quot;&lt;/span&gt;,          nameNo2.getPathQuery());
        assertNull(nameNo1.getQueryString());
        assertNull(nameNo2.getQueryString());

        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FileName name1b = urlParser.parseUri(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//host/path?query1#b&quot;&lt;/span&gt;);
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FileName name2  = urlParser.parseUri(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//host/path?query2&quot;&lt;/span&gt;);
&lt;/span&gt;
        assertEquals(name1a, name1b);     &lt;span class=&quot;code-comment&quot;&gt;// ?query1#a == ?query1#b
&lt;/span&gt;        assertNotEquals(name1a, name2);   &lt;span class=&quot;code-comment&quot;&gt;// ?query1#a != ?query2
&lt;/span&gt;        assertNotEquals(name1b, name2);   &lt;span class=&quot;code-comment&quot;&gt;// ?query1#b != ?query2
&lt;/span&gt;        assertNotEquals(name1a, nameNo1); &lt;span class=&quot;code-comment&quot;&gt;// ?query1#a != ?#no
&lt;/span&gt;        assertNotEquals(name2,  nameNo1); &lt;span class=&quot;code-comment&quot;&gt;// ?query2   != ?#no
&lt;/span&gt;        assertNotEquals(name1b, nameNo2); &lt;span class=&quot;code-comment&quot;&gt;// ?query1#b != ?
&lt;/span&gt;        assertNotEquals(name2,  nameNo2); &lt;span class=&quot;code-comment&quot;&gt;// ?query2   != ?
&lt;/span&gt;    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14702796" author="b.eckenfels" created="Wed, 19 Aug 2015 10:06:17 +0000"  >&lt;p&gt;While playing around with various unit tests I noticed I cannot reproduce this problem anymore. AbstractFileName.equals/hashCode are based on getKey() which in term is based on getURI() which is overwritten by URLFileName to include the query parameter.&lt;/p&gt;</comment>
                            <comment id="15291705" author="b.eckenfels" created="Thu, 19 May 2016 18:25:31 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12614061" name="patch.txt" size="1451" author="djeanprost" created="Fri, 15 Nov 2013 14:19:38 +0000"/>
                            <attachment id="12613605" name="test-vfs.zip" size="2037" author="djeanprost" created="Wed, 13 Nov 2013 13:56:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>358382</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ps3r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>358672</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-502] Cannot open a sFTP FileObject pointing on  the root directory, create a local FS object instead</title>
                <link>https://issues.apache.org/jira/browse/VFS-502</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Creating a FileObject to uri &quot;sftp://@myhost/&quot;, with setUserDirIsRoot to true, gives access to the local file system and not the sftp server...&lt;/p&gt;

&lt;p&gt;Accessing file &quot;/foo/bar&quot; with resolveFile(rootFileObject, &quot;/foo/bar&quot;)  with rootFileObject created from  the &quot;sftp://@myhost/&quot; uri returns a local fs object, where as accessing file &quot;bar&quot; from &quot;sftp://@myhost/foo&quot; returns the remote object.&lt;/p&gt;

</description>
                <environment>&lt;p&gt;Linux (CentOS)&lt;/p&gt;</environment>
        <key id="12678993">VFS-502</key>
            <summary>Cannot open a sFTP FileObject pointing on  the root directory, create a local FS object instead</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ArnaudL">Arnaud Linz</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 Nov 2013 11:05:15 +0000</created>
                <updated>Thu, 19 May 2016 18:26:24 +0000</updated>
                            <resolved>Mon, 28 Sep 2015 09:00:26 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13823469" author="arnaudl" created="Fri, 15 Nov 2013 08:27:58 +0000"  >&lt;p&gt;In fact, accessing &quot;foo/bar&quot; from &quot;sftp://@myhost/&quot; works, it silently redirects to local file system when accessing &quot;/foo/bar&quot; with an initial / &lt;/p&gt;</comment>
                            <comment id="14905323" author="b.eckenfels" created="Wed, 23 Sep 2015 21:35:27 +0000"  >&lt;p&gt;Can you check if you see the same problem in 2.1 snapshots, please?&lt;/p&gt;</comment>
                            <comment id="14910203" author="arnaudl" created="Mon, 28 Sep 2015 08:59:31 +0000"  >&lt;p&gt;Hi, I was unable to reproduce it. Seems OK to me.&lt;/p&gt;</comment>
                            <comment id="14910204" author="arnaudl" created="Mon, 28 Sep 2015 09:00:26 +0000"  >&lt;p&gt;Could not reproduce the issue in v2.1&lt;/p&gt;</comment>
                            <comment id="15291856" author="b.eckenfels" created="Thu, 19 May 2016 18:26:24 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>358358</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pryf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>358648</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-499] I am using common vfs jar with version 1.0. I have extended org.apache.commons.vfs.FileListener class.The fileCreated event is getting called more than once for the same file. </title>
                <link>https://issues.apache.org/jira/browse/VFS-499</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;I am using common vfs jar with version 1.0. &lt;br/&gt;
I have extended org.apache.commons.vfs.FileListener class.&lt;br/&gt;
The fileCreated event is getting called more than once for the same file in the folder.It should not happen once the fileCreated event has been triggered.Has something to do with  using &quot;/var/tmp/vfs_cache&quot; as temporary files store.&lt;br/&gt;
Please suggest,why this issue is getting caused and what is the resolution.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12676597">VFS-499</key>
            <summary>I am using common vfs jar with version 1.0. I have extended org.apache.commons.vfs.FileListener class.The fileCreated event is getting called more than once for the same file. </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ashwinid">Ashwini Dixit</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Oct 2013 10:49:34 +0000</created>
                <updated>Wed, 30 Oct 2013 12:17:27 +0000</updated>
                            <resolved>Wed, 30 Oct 2013 12:17:27 +0000</resolved>
                                    <version>1.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13809020" author="joehni" created="Wed, 30 Oct 2013 12:17:27 +0000"  >&lt;p&gt;Please use the user&apos;s list for questions. JIRA is not some kind of help forum. And consider an upgrade to vfs2, too. Support for 7 year old versions is not very likely.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>356029</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 1 week ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pdlz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>356317</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-498] OSGI MANIFEST.MF &quot;Import-Package&quot; should be &quot;;resolution:=optional&quot; for Maven &quot;optional&quot; dependencies</title>
                <link>https://issues.apache.org/jira/browse/VFS-498</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;In the Maven &quot;pom.xml&quot; there are several &quot;optional&quot; dependencies like &quot;jsch&quot;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;    &amp;lt;dependency&amp;gt;&lt;br/&gt;
      &amp;lt;groupId&amp;gt;com.jcraft&amp;lt;/groupId&amp;gt;&lt;br/&gt;
      &amp;lt;artifactId&amp;gt;jsch&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
      &amp;lt;optional&amp;gt;true&amp;lt;/optional&amp;gt;&lt;br/&gt;
    &amp;lt;/dependency&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;In the &quot;Import-Package&quot; section of the MANIFEST.MF it should also be &quot;optional&quot; like this:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;com.jcraft.jsch;resolution:=optional,&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;At the moment all dependencies are always required. This is a problem if you want to use VFS in an OSGI environment as you have to install ALL dependencies and not only the ones you really need.&lt;/p&gt;

&lt;p&gt;The mechanism creating the MANIFEST should be adjusted to reflect the optional dependencies also in the MANIFEST. (Unfortunatelly this could mean to list all packages which should be optional).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12675995">VFS-498</key>
            <summary>OSGI MANIFEST.MF &quot;Import-Package&quot; should be &quot;;resolution:=optional&quot; for Maven &quot;optional&quot; dependencies</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="b.eckenfels">Bernd Eckenfels</assignee>
                                    <reporter username="michael-schnell">Michael Schnell</reporter>
                        <labels>
                    </labels>
                <created>Sun, 27 Oct 2013 13:30:51 +0000</created>
                <updated>Mon, 5 Mar 2018 11:06:39 +0000</updated>
                            <resolved>Wed, 12 Aug 2015 14:42:32 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>3</votes>
                                    <watches>6</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="14400">4h</timeoriginalestimate>
                            <timeestimate seconds="14400">4h</timeestimate>
                                        <comments>
                            <comment id="13864306" author="mwebber" created="Tue, 7 Jan 2014 14:54:55 +0000"  >&lt;p&gt;Note: &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-448&quot; title=&quot;commons-vfs 2.0 JAR has flawed OSGi MANIFEST.MF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-448&quot;&gt;&lt;del&gt;VFS-448&lt;/del&gt;&lt;/a&gt; also mentions this problem&lt;/p&gt;

&lt;p&gt;We would also be very interested in getting this fixed. Is there any chance of a 2.1 release with this fixed up?&lt;/p&gt;

&lt;p&gt;We are using VFS 1.0 at the moment just to get around this, but that has its own drawbacks.&lt;/p&gt;
</comment>
                            <comment id="13864343" author="garydgregory" created="Tue, 7 Jan 2014 15:53:22 +0000"  >&lt;p&gt;Please feel free to provide a patch against the SVN trunk code base.&lt;/p&gt;

&lt;p&gt;I&apos;d like to get a 2.1 release ASAP but my Apache time is limited.&lt;/p&gt;

&lt;p&gt;Thank you,&lt;br/&gt;
Gary&lt;/p&gt;</comment>
                            <comment id="13889740" author="b.eckenfels" created="Mon, 3 Feb 2014 18:49:06 +0000"  >&lt;p&gt;I added this to &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-448&quot; title=&quot;commons-vfs 2.0 JAR has flawed OSGi MANIFEST.MF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-448&quot;&gt;&lt;del&gt;VFS-448&lt;/del&gt;&lt;/a&gt; as there was a solution suggested there but it seems not to work without additional work:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Currently the 2.1-SN trunk has common-parent:32 and the effective POM shows maven-bundle-plugin:2.4.0.&lt;br/&gt;
However this does not help the situation.&lt;br/&gt;
Claus Ibsen, I have not seen a way to honor optional dependencies, can you maybe point us to a reference whant the plugin would need? Otherwise I would provide a patch using the *;resolution=optional pattern, but this is a bit ugly as I dont want to maintain mandatotey package list.&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="13890369" author="b.eckenfels" created="Tue, 4 Feb 2014 04:30:17 +0000"  >&lt;p&gt;I found the reference, it is supposed to be implemented in maven-bundle-plugin:2.3.4 as of &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-2809&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FELIX-2809&lt;/a&gt; From that source it seems to not need an option. Any idea why it is not working?&lt;/p&gt;
</comment>
                            <comment id="14269984" author="b.eckenfels" created="Thu, 8 Jan 2015 20:18:08 +0000"  >&lt;p&gt;Ok it works, but only if the Bnd tool actually sees those dependencies. The commons-parent does exclude all dependencies by default, essentially dumbing down the manifest generation process. I wonder if this is intentional?&lt;/p&gt;

&lt;p&gt;If I overwrite the setting the resolution=optional are correctly added (and version ranges for some of the packages. The later I am not sure if this is a good idea to introduce it in 2.1, but on the other hand as the import seems quite broken in 2.0 I guess nobody would mind...)&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; &amp;lt;plugin&amp;gt;
    &amp;lt;groupId&amp;gt;org.apache.felix&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;maven-bundle-plugin&amp;lt;/artifactId&amp;gt;
    &amp;lt;configuration&amp;gt;
      &amp;lt;excludeDependencies combine.self=&lt;span class=&quot;code-quote&quot;&gt;&quot;override&quot;&lt;/span&gt;&amp;gt;none&amp;lt;/excludeDependencies&amp;gt;
    &amp;lt;/configuration&amp;gt;
  &amp;lt;/plugin&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14270032" author="b.eckenfels" created="Thu, 8 Jan 2015 20:53:20 +0000"  >&lt;p&gt;Results in the following includes (need to fixup hadoop):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;com.jcraft.jsch;resolution:=optional,
org.apache.commons.collections4.map;version=&lt;span class=&quot;code-quote&quot;&gt;&quot;[4.0,5)&quot;&lt;/span&gt;;resolution:=optional,

org.apache.commons.compress.archivers;version=&lt;span class=&quot;code-quote&quot;&gt;&quot;[1.9,2)&quot;&lt;/span&gt;;resolution:=optional,
org.apache.commons.compress.archivers.tar;version=&lt;span class=&quot;code-quote&quot;&gt;&quot;[1.9,2)&quot;&lt;/span&gt;;resolution:=optional,
org.apache.commons.compress.compressors.bzip2;version=&lt;span class=&quot;code-quote&quot;&gt;&quot;[1.9,2)&quot;&lt;/span&gt;;resolution:=optional,

org.apache.commons.httpclient;resolution:=optional,
org.apache.commons.httpclient.auth;resolution:=optional,
org.apache.commons.httpclient.methods;resolution:=optional,
org.apache.commons.httpclient.params;resolution:=optional,
org.apache.commons.httpclient.util;resolution:=optional,

org.apache.commons.logging;version=&lt;span class=&quot;code-quote&quot;&gt;&quot;[1.2,2)&quot;&lt;/span&gt;,

org.apache.commons.net;version=&lt;span class=&quot;code-quote&quot;&gt;&quot;[3.3,4)&quot;&lt;/span&gt;;resolution:=optional,
org.apache.commons.net.ftp;version=&lt;span class=&quot;code-quote&quot;&gt;&quot;[3.3,4)&quot;&lt;/span&gt;;resolution:=optional,
org.apache.commons.net.ftp.parser;version=&lt;span class=&quot;code-quote&quot;&gt;&quot;[3.3,4)&quot;&lt;/span&gt;;resolution:=optional,
org.apache.commons.net.util;version=&lt;span class=&quot;code-quote&quot;&gt;&quot;[3.3,4)&quot;&lt;/span&gt;;resolution:=optional,

org.apache.hadoop.conf,
org.apache.hadoop.fs,
org.apache.hadoop.fs.permission,

org.apache.jackrabbit.webdav;resolution:=optional,
org.apache.jackrabbit.webdav.client.methods;resolution:=optional,
org.apache.jackrabbit.webdav.property;resolution:=optional,
org.apache.jackrabbit.webdav.version;resolution:=optional,
org.apache.jackrabbit.webdav.xml;resolution:=optional,

org.apache.tools.ant;resolution:=optional,

javax.crypto,
javax.crypto.spec,
javax.net.ssl,
javax.xml.parsers,
org.w3c.dom
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14526487" author="fiveo" created="Mon, 4 May 2015 10:04:00 +0000"  >&lt;p&gt;What is the status of this ticket now? Does the added &quot;resolution:=optional&quot; now solves the reported issue? Is there any more testing required? &lt;/p&gt;</comment>
                            <comment id="14693608" author="b.eckenfels" created="Wed, 12 Aug 2015 14:42:32 +0000"  >&lt;p&gt;Fixed by Commit r1688726 and r1695539.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/r1688726&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1688726&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/r1695539&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1695539&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Some extra HDFS integration testing would be good.&lt;/p&gt;</comment>
                            <comment id="15291761" author="b.eckenfels" created="Thu, 19 May 2016 18:25:51 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                            <comment id="16384718" author="amergey" created="Sat, 3 Mar 2018 16:20:58 +0000"  >&lt;p&gt;This one should be reopened in version 2.2 some dependences are not optional anymore:&lt;/p&gt;

&lt;p&gt;hadoop, jackrabit and ant&lt;/p&gt;</comment>
                            <comment id="16384848" author="b.eckenfels" created="Sat, 3 Mar 2018 20:39:12 +0000"  >&lt;p&gt;You can open a new bug, its easier to track that way.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12833403">VFS-571</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13142468">VFS-655</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>355492</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 34 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1paav:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>355780</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-496] Resource translation issues</title>
                <link>https://issues.apache.org/jira/browse/VFS-496</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;The resource key vfs.util/missing-capability.error is not used. It might be removed (or at least fix the message, add a trainling dot and change do/does).&lt;/p&gt;

&lt;p&gt;vfs.provider/config-unexpected-primitive.error is actually a warning not an error/exception, should the key be renamed? &lt;/p&gt;

&lt;p&gt;There are some other spelling fixes, see &lt;a href=&quot;https://github.com/apache/commons-vfs/pull/4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-vfs/pull/4&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12675339">VFS-496</key>
            <summary>Resource translation issues</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ggregory">Gary D. Gregory</assignee>
                                    <reporter username="b.eckenfels">Bernd Eckenfels</reporter>
                        <labels>
                            <label>resource</label>
                    </labels>
                <created>Wed, 23 Oct 2013 21:24:11 +0000</created>
                <updated>Thu, 19 May 2016 18:25:41 +0000</updated>
                            <resolved>Thu, 24 Oct 2013 01:15:37 +0000</resolved>
                                    <version>Nightly Builds</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13803643" author="garydgregory" created="Thu, 24 Oct 2013 01:15:37 +0000"  >&lt;p&gt;Thank you Bernd!&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;commit -m &quot;Apply patch for message typos from https://github.com/apache/commons-vfs/pull/4.diff.&quot; C:/vcs/svn/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/Resources.properties
    Sending        C:/vcs/svn/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/Resources.properties
    Transmitting file data ...
    Committed revision 1535253.
commit -m &quot;[VFS-496] Resource translation issues. Apply patch for message typos from https://github.com/apache/commons-vfs/pull/4.diff.&quot; C:/vcs/svn/apache/commons/trunks-proper/vfs/src/changes/changes.xml
    Sending        C:/vcs/svn/apache/commons/trunks-proper/vfs/src/changes/changes.xml
    Transmitting file data ...
    Committed revision 1535255.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15291735" author="b.eckenfels" created="Thu, 19 May 2016 18:25:41 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>354959</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1p70n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>355248</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-495] pom.xml: contributor updates</title>
                <link>https://issues.apache.org/jira/browse/VFS-495</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;I tried to email all contributors/developers of VFS based on the list in the pom.xml. The E-Mail to Adam M. bounced (with a mail forward loop). And looking at the list of apache commiters, the id is no longer listed there. So maybe it is time to update the email address. (I would have contacted Adam directly but I cannot find a address for him).&lt;/p&gt;

&lt;p&gt;Anyway, I also noted that Luc is listed in JIRA as the responsible person for VFS, but no Luc is in the POM.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12673073">VFS-495</key>
            <summary>pom.xml: contributor updates</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="b.eckenfels">Bernd Eckenfels</reporter>
                        <labels>
                            <label>documentation</label>
                            <label>maven</label>
                            <label>project</label>
                    </labels>
                <created>Wed, 9 Oct 2013 18:07:33 +0000</created>
                <updated>Thu, 1 Oct 2015 14:31:09 +0000</updated>
                            <resolved>Thu, 1 Oct 2015 14:31:09 +0000</resolved>
                                    <version>2.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13790711" author="britter" created="Wed, 9 Oct 2013 18:50:48 +0000"  >&lt;p&gt;Well, Luc is project lead for all nearly all commons components, simply because he the PMC Chair. This doesn&apos;t necessarily imply that he also is a developer of all components &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;

&lt;p&gt;Regarding Adam M.: I don&apos;t really know what to do here. He still is developer of vfs even if he&apos;s email isn&apos;t active anymore. Maybe it is sufficient to remove his address from pom.xml.&lt;/p&gt;</comment>
                            <comment id="14939892" author="b.eckenfels" created="Thu, 1 Oct 2015 14:31:09 +0000"  >&lt;p&gt;Nothing needs to be done here.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>352696</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 4 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ot47:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>352983</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-494] [SFTP] No support for SFTP servers with non Latin-1 file name encoding</title>
                <link>https://issues.apache.org/jira/browse/VFS-494</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Jsch provide a method to set file name encoding, but VFS have not provide this configuration. When the SFTP server have some file with non-UTF-8 encoding, will cause access failed&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows 7/Suse 11&lt;/p&gt;</environment>
        <key id="12669980">VFS-494</key>
            <summary>[SFTP] No support for SFTP servers with non Latin-1 file name encoding</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ggregory">Gary D. Gregory</assignee>
                                    <reporter username="allencheng1225">Xudong Zheng</reporter>
                        <labels>
                            <label>encoding</label>
                            <label>patch</label>
                            <label>sftp</label>
                    </labels>
                <created>Mon, 23 Sep 2013 03:57:53 +0000</created>
                <updated>Thu, 19 May 2016 18:26:29 +0000</updated>
                            <resolved>Mon, 23 Sep 2013 18:15:36 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13774278" author="allencheng1225" created="Mon, 23 Sep 2013 03:59:01 +0000"  >&lt;p&gt;Here is the patch, I have fix this problem&lt;/p&gt;</comment>
                            <comment id="13774811" author="garydgregory" created="Mon, 23 Sep 2013 18:15:36 +0000"  >&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;commit -m &quot;[VFS-494][SFTP] No support for SFTP servers with non Latin-1 file name encoding. The provided patch did not apply cleanly, this version should be equivalent.&quot; C:/vcs/svn/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/provider/sftp/SftpFileSystem.java C:/vcs/svn/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/provider/sftp/SftpFileSystemConfigBuilder.java C:/vcs/svn/apache/commons/trunks-proper/vfs/src/changes/changes.xml C:/vcs/svn/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/Resources.properties
    Sending        C:/vcs/svn/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/Resources.properties
    Sending        C:/vcs/svn/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/provider/sftp/SftpFileSystem.java
    Sending        C:/vcs/svn/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/provider/sftp/SftpFileSystemConfigBuilder.java
    Sending        C:/vcs/svn/apache/commons/trunks-proper/vfs/src/changes/changes.xml
    Transmitting file data ...
    Committed revision 1525663.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15291871" author="b.eckenfels" created="Thu, 19 May 2016 18:26:29 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12604515" name="not-setfilenameencoding-bug.patch" size="2752" author="allencheng1225" created="Mon, 23 Sep 2013 03:59:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349810</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1obev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>350108</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-493] fileSystem cache key of TemporaryFileProvider compares only by hashcode</title>
                <link>https://issues.apache.org/jira/browse/VFS-493</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;The TemporaryFileProvider puts instances of itself in the AbstractFileProvider#fileSystems TreeMap. For this it implements a comparator which solely based on the hashcode of the objects does the compare.&lt;/p&gt;

&lt;p&gt;I think the fact that two instances have the same hashcode is not a reliable mean to &quot;return 0&quot; i.e. to state match. This is especially a problem as all other objects typically put string-typed keys.&lt;/p&gt;

&lt;p&gt;I dont have a reproducer as I just stumbled across this by inspection. It looks like it should be documented a bit better what type of keys are allowed. Most use the rootUri, but TemporaryFileProvider uses a &quot;instance&quot; and URLFileProvider generates a synthetic key string containing the classname as well as a uri part.&lt;/p&gt;

&lt;p&gt;Maybe the solution would be to generally use strings?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12669174">VFS-493</key>
            <summary>fileSystem cache key of TemporaryFileProvider compares only by hashcode</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="b.eckenfels">Bernd Eckenfels</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Sep 2013 03:02:21 +0000</created>
                <updated>Wed, 18 Sep 2013 03:02:21 +0000</updated>
                                            <version>2.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349106</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 7 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1o72f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349404</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-491] Default port is not configurable</title>
                <link>https://issues.apache.org/jira/browse/VFS-491</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; targetURI = &lt;span class=&quot;code-quote&quot;&gt;&quot;ftp:&lt;span class=&quot;code-comment&quot;&gt;//moocow/&quot;&lt;/span&gt;;
&lt;/span&gt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; expectedURI = &lt;span class=&quot;code-quote&quot;&gt;&quot;ftp:&lt;span class=&quot;code-comment&quot;&gt;//moocow:22/&quot;&lt;/span&gt;;
&lt;/span&gt;
URI uri = URI.create(targetURI);
FileName fileName = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; URLFileName(uri.getScheme(), uri.getHost(),
                uri.getPort(), 22, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);

assertEquals(expectedURI,fileName.getURI());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Expected :&lt;a href=&quot;ftp://moocow:22/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://moocow:22/&lt;/a&gt;&lt;br/&gt;
Actual   :&lt;a href=&quot;ftp://moocow/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://moocow/&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12666394">VFS-491</key>
            <summary>Default port is not configurable</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="gadominas">Gediminas Siutilas</reporter>
                        <labels>
                    </labels>
                <created>Fri, 30 Aug 2013 20:56:50 +0000</created>
                <updated>Wed, 23 Sep 2015 21:40:25 +0000</updated>
                                            <version>2.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>346333</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 9 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1nq07:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>346634</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-490] [vfsclassloader] tries to open folders with .zip or .jar extension</title>
                <link>https://issues.apache.org/jira/browse/VFS-490</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;When adding folders with a name ending in &lt;tt&gt;.zip&lt;/tt&gt; or &lt;tt&gt;.jar&lt;/tt&gt; to the &lt;tt&gt;VFSClassLoader&lt;/tt&gt; will fail to load resources from this search path. &lt;/p&gt;

&lt;p&gt;It tries to open it as a layered filesystem. This can be fixed in the classloader by checking that the file type has content, but most likely it is a more generic bug in &lt;tt&gt;canCreateFileSystem()&lt;/tt&gt; which does not do this distinction.&lt;/p&gt;

&lt;p&gt;The following is a quick fixed version (it also inlines the Resource class)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/ecki/seeburger-vfs2/blob/master/vfs2provider-jdbctable/src/main/java/com/seeburger/vfs2/util/VFSClassLoader.java#L152&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/ecki/seeburger-vfs2/blob/master/vfs2provider-jdbctable/src/main/java/com/seeburger/vfs2/util/VFSClassLoader.java#L152&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12664163">VFS-490</key>
            <summary>[vfsclassloader] tries to open folders with .zip or .jar extension</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="b.eckenfels">Bernd Eckenfels</assignee>
                                    <reporter username="b.eckenfels">Bernd Eckenfels</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Aug 2013 23:12:58 +0000</created>
                <updated>Thu, 19 May 2016 18:26:03 +0000</updated>
                            <resolved>Thu, 1 Oct 2015 14:28:27 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13770374" author="b.eckenfels" created="Wed, 18 Sep 2013 03:26:25 +0000"  >&lt;p&gt;I proposed an alternative fix for `FileTypeMap#getScheme(FileObject)`&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/commons-vfs/pull/2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-vfs/pull/2&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13770743" author="garydgregory" created="Wed, 18 Sep 2013 13:00:04 +0000"  >&lt;p&gt;Bernd,&lt;/p&gt;

&lt;p&gt;Could you please create a patch for a unit test?&lt;/p&gt;

&lt;p&gt;Thank you,&lt;br/&gt;
Gary&lt;/p&gt;</comment>
                            <comment id="13770841" author="b.eckenfels" created="Wed, 18 Sep 2013 14:57:10 +0000"  >&lt;p&gt;Gary, I have one (will attach it later its on another machine) however it does not really work because it makes problems with the generic tast framework harness which I dont really understand. I will attach it here, maybe you can tell me what to do.&lt;/p&gt;

&lt;p&gt;When adding it to the VfsClassLoaderTest it sill run against all providers, which should work however it requires the manager to be reconfigued to have Replication and JAR provider added. But even when I do it it does not work on all Filesystems. So alternative option would be a stand alone test against a well constructed manager, but this seems to be kind of the wrong approach.&lt;/p&gt;</comment>
                            <comment id="13771989" author="b.eckenfels" created="Thu, 19 Sep 2013 15:56:50 +0000"  >&lt;p&gt;Started Question/Discussion on the commons-dev list: &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/commons-dev/201309.mbox/%3Cop.w3mhbqc47zan39%40eckenfels02.seeburger.de%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mail-archives.apache.org/mod_mbox/commons-dev/201309.mbox/%3Cop.w3mhbqc47zan39%40eckenfels02.seeburger.de%3E&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13774722" author="garydgregory" created="Mon, 23 Sep 2013 16:59:35 +0000"  >&lt;p&gt;Patches FileTypeMap as suggested but also shows more problems with using a folder with &quot;.jar&quot; in the name, see subdir4.jar.&lt;/p&gt;</comment>
                            <comment id="14935366" author="b.eckenfels" created="Tue, 29 Sep 2015 16:03:14 +0000"  >&lt;p&gt;Gary, can you elaborate some more, not sure I get the meaning.&lt;/p&gt;</comment>
                            <comment id="14935368" author="garydgregory" created="Tue, 29 Sep 2015 16:05:48 +0000"  >&lt;p&gt;That was two years ago, I do not recall off the top of my head... I might have time tomorrow night to look.&lt;/p&gt;</comment>
                            <comment id="14938257" author="b.eckenfels" created="Wed, 30 Sep 2015 18:45:06 +0000"  >&lt;p&gt;Think I have sorted out the test harness setup, will commit a fix with some unit tests.&lt;/p&gt;</comment>
                            <comment id="14939889" author="b.eckenfels" created="Thu, 1 Oct 2015 14:28:27 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/viewvc?rev=1706261&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1706261&amp;amp;view=rev&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15291794" author="b.eckenfels" created="Thu, 19 May 2016 18:26:03 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12604626" name="VFS-490.diff" size="6215" author="ggregory" created="Mon, 23 Sep 2013 16:59:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>344164</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ncnz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>344465</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-489] [tests] ProviderWriteTests#testListener does not fail cleanly</title>
                <link>https://issues.apache.org/jira/browse/VFS-489</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;When running ProviderTests against my new implementation the #testListener() test failed (expected). However the exception cause the listener to not be unregistered, which in turn leads to a (random) next test failing with unexpected events. A try/finally solves the problem.&lt;/p&gt;

&lt;p&gt;    public void testListener() throws Exception&lt;br/&gt;
    {&lt;br/&gt;
        final FileObject baseFile = createScratchFolder();&lt;/p&gt;

&lt;p&gt;        FileObject child = baseFile.resolveFile(&quot;newfile.txt&quot;);&lt;br/&gt;
        assertTrue(!child.exists());&lt;/p&gt;

&lt;p&gt;        FileSystem fs = baseFile.getFileSystem();&lt;br/&gt;
        TestListener listener = new TestListener(child);&lt;br/&gt;
        fs.addListener(child, listener);&lt;br/&gt;
+        try&lt;br/&gt;
+        &lt;/p&gt;
{
        // Create as a folder
...
+        }
&lt;p&gt; finally &lt;/p&gt;
{
            fs.removeListener(child, listener);
+        }
&lt;p&gt;       }&lt;/p&gt;

&lt;p&gt;The problem happens for me in 2.0, but trunk seems to have the same problem: &lt;a href=&quot;http://svn.apache.org/viewvc/commons/proper/vfs/trunk/core/src/test/java/org/apache/commons/vfs2/test/ProviderWriteTests.java?revision=1437556&amp;amp;view=markup&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/commons/proper/vfs/trunk/core/src/test/java/org/apache/commons/vfs2/test/ProviderWriteTests.java?revision=1437556&amp;amp;view=markup&lt;/a&gt; (Line 629)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12663338">VFS-489</key>
            <summary>[tests] ProviderWriteTests#testListener does not fail cleanly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="b.eckenfels">Bernd Eckenfels</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Aug 2013 01:16:44 +0000</created>
                <updated>Thu, 19 May 2016 18:25:34 +0000</updated>
                            <resolved>Tue, 13 Aug 2013 13:19:11 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13738178" author="garydgregory" created="Tue, 13 Aug 2013 13:19:11 +0000"  >&lt;p&gt;Thank you Bernd!&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;commit -m &quot;[VFS-489][tests] ProviderWriteTests#testListener does not fail cleanly. Thanks to Bernd Eckenfels.&quot; C:/vcs/svn/apache/commons/trunks-proper/vfs/src/changes/changes.xml C:/vcs/svn/apache/commons/trunks-proper/vfs/core/src/test/java/org/apache/commons/vfs2/test/ProviderWriteTests.java
    Sending        C:/vcs/svn/apache/commons/trunks-proper/vfs/core/src/test/java/org/apache/commons/vfs2/test/ProviderWriteTests.java
    Sending        C:/vcs/svn/apache/commons/trunks-proper/vfs/src/changes/changes.xml
    Transmitting file data ...
    Committed revision 1513473.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15291714" author="b.eckenfels" created="Thu, 19 May 2016 18:25:34 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>343339</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1n7lb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>343643</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-488] Java Program does not exit or throw an exception when a FileObject being read from is accessed by another process</title>
                <link>https://issues.apache.org/jira/browse/VFS-488</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Scenario:&lt;br/&gt;
1. Program A moves a large file &quot;abc.txt&quot; from source SFTP server to a target SFTP server.&lt;br/&gt;
2. While the file is being moved by Program A, Program B  resolves the same file &quot;abc.txt&quot; and starts writing to it OR renames the file &quot;abc.txt&quot;&lt;/p&gt;

&lt;p&gt;Issue:&lt;br/&gt;
1. Program A that has an open input stream to abc.txt does not exit or throw an exception&lt;br/&gt;
2. I&apos;m thinking Program A keeps waiting on inputstream.read() as it is a blocking operation&lt;/p&gt;

&lt;p&gt;Is this a known issue, and if it is, any work around? Or in other words, can Program B somehow determine that &quot;abc.txt&quot; is being written to by an external process?&lt;/p&gt;

</description>
                <environment>&lt;p&gt;Development&lt;/p&gt;</environment>
        <key id="12663134">VFS-488</key>
            <summary>Java Program does not exit or throw an exception when a FileObject being read from is accessed by another process</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sathish.sreedharan">Sathish Sreedharan</reporter>
                        <labels>
                            <label>Hanging</label>
                    </labels>
                <created>Mon, 12 Aug 2013 04:52:39 +0000</created>
                <updated>Wed, 23 Sep 2015 21:49:14 +0000</updated>
                                            <version>2.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13750841" author="sathish.sreedharan" created="Tue, 27 Aug 2013 01:12:29 +0000"  >&lt;p&gt;Hi guys, Is there a chance this can be looked at? Any feedback on if it is a bug on the product or on the way I&apos;m using it will help&lt;/p&gt;</comment>
                            <comment id="14905361" author="b.eckenfels" created="Wed, 23 Sep 2015 21:49:14 +0000"  >&lt;p&gt;I think thats a problem related to OS, sftp server and a comination thereof. What SFTP serers you are using on which OS. Is Program B accessing source or target server, locally or via the server? Can you provide a thread dump of program A while it hangs? (but generally speaking changes are low this can be fixed)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>343135</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 6 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1n6bz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>343439</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-487] File creation events missed when deleted then re-created within poll delay</title>
                <link>https://issues.apache.org/jira/browse/VFS-487</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;To reproduce:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;create a file monitor and add a directory with at least one child file&lt;/li&gt;
	&lt;li&gt;set delay to 5 seconds and start the monitor&lt;/li&gt;
	&lt;li&gt;delete a child file, wait for monitor to detect deletion&lt;/li&gt;
	&lt;li&gt;re-create the child file within 5 seconds&lt;/li&gt;
	&lt;li&gt;creation event is not detected&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This is mainly due to this block being at the start of the main loop instead of the end:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;            &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (!&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.deleteStack.empty())
            {
                &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.removeFile(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.deleteStack.pop());
            }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When this is executed the file is in the stack from the previous poll and the file has already been re-created. &lt;tt&gt;removeFile&lt;/tt&gt; calls &lt;tt&gt;FileMonitorAgent#resetChildrenList&lt;/tt&gt; which updates the children list for that agent (which will contain the newly created file), but doesn&apos;t update the monitor map. The subsequent call to &lt;tt&gt;FileMonitorAgent#check&lt;/tt&gt; in the main loop then doesn&apos;t detect the new file.&lt;/p&gt;

&lt;p&gt;Moving the above block to the end of the main loop would prevent most occurrences of this issue, but the implementation is still racy.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12662778">VFS-487</key>
            <summary>File creation events missed when deleted then re-created within poll delay</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="b.eckenfels">Bernd Eckenfels</assignee>
                                    <reporter username="shaldane">Sam Haldane</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Aug 2013 03:49:51 +0000</created>
                <updated>Thu, 19 May 2016 18:25:52 +0000</updated>
                            <resolved>Sun, 30 Nov 2014 09:49:42 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>5</votes>
                                    <watches>9</watches>
                                                                                                                <comments>
                            <comment id="13807059" author="vines" created="Mon, 28 Oct 2013 18:25:22 +0000"  >&lt;p&gt;What about explicitly removing files from the stack if they get added, to ensure that this condition doesn&apos;t occur?&lt;/p&gt;</comment>
                            <comment id="13924080" author="ryanleary" created="Fri, 7 Mar 2014 17:25:17 +0000"  >&lt;p&gt;Something is better than nothing here due to some issues it&apos;s causing in other projects. The code is still susceptible to some race conditions, but this offers an improvement. Unit test included.&lt;/p&gt;

&lt;p&gt;Please include this in 2.1 if possible.&lt;/p&gt;</comment>
                            <comment id="13926024" author="ryanleary" created="Mon, 10 Mar 2014 18:38:57 +0000"  >&lt;p&gt;Bueller?&lt;/p&gt;</comment>
                            <comment id="13929757" author="garydgregory" created="Tue, 11 Mar 2014 00:01:46 +0000"  >&lt;p&gt;Unlike Ferris, I have a real flu. I&apos;ll take a look later this week.&lt;/p&gt;</comment>
                            <comment id="14007699" author="elserj" created="Fri, 23 May 2014 21:00:03 +0000"  >&lt;p&gt;re-bump. Would be really nice to get some improvements here. Thanks.&lt;/p&gt;</comment>
                            <comment id="14029144" author="dlmarion" created="Thu, 12 Jun 2014 13:40:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=garydgregory&quot; class=&quot;user-hover&quot; rel=&quot;garydgregory&quot;&gt;garydgregory&lt;/a&gt; It would be nice to pull this into the 2.1 release seeing as how there is a patch for it&lt;/p&gt;</comment>
                            <comment id="14029153" author="garydgregory" created="Thu, 12 Jun 2014 13:48:37 +0000"  >&lt;p&gt;Except that the patch does not apply cleanly in trunk.&lt;/p&gt;</comment>
                            <comment id="14029487" author="ryanleary" created="Thu, 12 Jun 2014 17:45:41 +0000"  >&lt;p&gt;The patch doesn&apos;t fully address the issue, either. The code, in general, should probably be rewritten to be less racy.&lt;/p&gt;</comment>
                            <comment id="14029832" author="dlmarion" created="Thu, 12 Jun 2014 21:15:42 +0000"  >&lt;p&gt;Agreed, but if we can get something in that works and does not make the problem worse, then I vote for that. Rewriting the code to improve it should be a follow-on ticket.&lt;/p&gt;</comment>
                            <comment id="14032615" author="dlmarion" created="Mon, 16 Jun 2014 16:32:07 +0000"  >&lt;p&gt;I&apos;ll try to reformat this patch tonight&lt;/p&gt;</comment>
                            <comment id="14034605" author="dlmarion" created="Tue, 17 Jun 2014 23:36:39 +0000"  >&lt;p&gt;Updated patch that applies against trunk&lt;/p&gt;</comment>
                            <comment id="14229061" author="b.eckenfels" created="Sun, 30 Nov 2014 09:49:42 +0000"  >&lt;p&gt;Applied your patch, thanks.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/r1642533&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1642533&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15291764" author="b.eckenfels" created="Thu, 19 May 2016 18:25:52 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12652274">ACCUMULO-1507</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12650922" name="VFS-487-2.patch" size="2464" author="dlmarion" created="Tue, 17 Jun 2014 23:36:39 +0000"/>
                            <attachment id="12633403" name="VFS-487.patch" size="2693" author="ryanleary" created="Fri, 7 Mar 2014 17:25:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>342780</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1n453:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>343084</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-486] DefaultFileMonitor sleeps for twice the specified delay when checkPerRun &gt; 0</title>
                <link>https://issues.apache.org/jira/browse/VFS-486</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;There&apos;s a bug in &lt;tt&gt;DefaultFileMonitor&lt;/tt&gt; that causes the monitor thread to sleep twice if &lt;tt&gt;getChecksPerRun() &amp;gt; 0&lt;/tt&gt;. &lt;tt&gt;DefaultFileMonitor.checksPerRun&lt;/tt&gt; defaults to 1000.&lt;/p&gt;

&lt;p&gt;In the main loop:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;            &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; iterFileNames = 0; iterFileNames &amp;lt; fileNames.length; iterFileNames++)
            {
                &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; some stuff
&lt;/span&gt;                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (getChecksPerRun() &amp;gt; 0)
                {
                    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ((iterFileNames % getChecksPerRun()) == 0)
                    {
                        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;
                        {
                            &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.sleep(getDelay());
                        }
                        &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (InterruptedException e)
                        {
                            &lt;span class=&quot;code-comment&quot;&gt;// Woke up.
&lt;/span&gt;                        }
                    }
                }
                &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; more stuff
&lt;/span&gt;            }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and then at the end of the loop block:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;            &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;
            {
                &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.sleep(getDelay());
            }
            &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (InterruptedException e)
            {
                &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;;
            }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Workaround is to call &lt;tt&gt;setChecksPerRun(0)&lt;/tt&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12662756">VFS-486</key>
            <summary>DefaultFileMonitor sleeps for twice the specified delay when checkPerRun &gt; 0</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="shaldane">Sam Haldane</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Aug 2013 00:50:05 +0000</created>
                <updated>Thu, 19 May 2016 18:25:41 +0000</updated>
                            <resolved>Fri, 9 Aug 2013 23:45:07 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13734287" author="shaldane" created="Fri, 9 Aug 2013 01:03:52 +0000"  >&lt;p&gt;Diff attached.&lt;/p&gt;</comment>
                            <comment id="13735522" author="garydgregory" created="Fri, 9 Aug 2013 23:45:07 +0000"  >&lt;p&gt;Thank you Sam!&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;commit -m &quot;[VFS-486] DefaultFileMonitor sleeps for twice the specified delay when checkPerRun &amp;gt; 0. Thanks to Sam Haldane.&quot; C:/vcs/svn/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/impl/DefaultFileMonitor.java
    Sending        C:/vcs/svn/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/impl/DefaultFileMonitor.java
    Transmitting file data ...
    Committed revision 1512537.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15291733" author="b.eckenfels" created="Thu, 19 May 2016 18:25:41 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12342224">VFS-62</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12597002" name="VFS-486.diff" size="637" author="shaldane" created="Fri, 9 Aug 2013 01:03:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>342758</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1n407:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>343062</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-485] [HTTP] overwrites closeCommunicationLink</title>
                <link>https://issues.apache.org/jira/browse/VFS-485</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;The org.apache.commons.vfs2.provider.http.HttpFileSystem overwrites closeCommunicationLink() instead of the do... method. If this is intentional (no synchronisation), then it should be commented. All other providers seem to use the do method.&lt;/p&gt;</description>
                <environment>&lt;p&gt;source&lt;/p&gt;</environment>
        <key id="12662724">VFS-485</key>
            <summary>[HTTP] overwrites closeCommunicationLink</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="b.eckenfels">Bernd Eckenfels</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 Aug 2013 22:31:51 +0000</created>
                <updated>Thu, 8 Aug 2013 22:31:51 +0000</updated>
                                            <version>2.0</version>
                    <version>2.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>342726</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 12 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1n3t3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>343030</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-482] Wrong assertion messages in RAM provider test case</title>
                <link>https://issues.apache.org/jira/browse/VFS-482</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;The JUnit testcase org.apache.commons.vfs2.provider.ram.test.CustomRamProviderTest.testSmallFS() writes&lt;/p&gt;

&lt;p&gt;assertTrue(&quot;Both files should exist in different fs instances.&quot;, fo3&lt;br/&gt;
                .getFileSystem() == fo4.getFileSystem());&lt;/p&gt;

&lt;p&gt;Where the assert does not match the text, it should be &quot;Both files should exist in the same fs instance.&quot; like the asert before.&lt;/p&gt;

&lt;p&gt;The fail is also wrong text:&lt;/p&gt;

&lt;p&gt;            fail(&quot;It shouldn&apos;t save such a small file&quot;);&lt;/p&gt;

&lt;p&gt;it should read&lt;/p&gt;

&lt;p&gt;            fail(&quot;It should be able to save such a small file&quot;);&lt;/p&gt;


</description>
                <environment>&lt;p&gt;source&lt;/p&gt;</environment>
        <key id="12662503">VFS-482</key>
            <summary>Wrong assertion messages in RAM provider test case</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ggregory">Gary D. Gregory</assignee>
                                    <reporter username="b.eckenfels">Bernd Eckenfels</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 Aug 2013 22:13:35 +0000</created>
                <updated>Thu, 19 May 2016 18:26:23 +0000</updated>
                            <resolved>Thu, 8 Aug 2013 01:31:30 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13733035" author="garydgregory" created="Thu, 8 Aug 2013 01:31:30 +0000"  >&lt;p&gt;Thank you for the report!&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;commit -m &quot;[VFS-482] Wrong assertion messages in RAM provider test case.&quot; C:/vcs/svn/apache/commons/trunks-proper/vfs/core/src/test/java/org/apache/commons/vfs2/provider/ram/test/CustomRamProviderTest.java C:/vcs/svn/apache/commons/trunks-proper/vfs/src/changes/changes.xml
    Sending        C:/vcs/svn/apache/commons/trunks-proper/vfs/core/src/test/java/org/apache/commons/vfs2/provider/ram/test/CustomRamProviderTest.java
    Sending        C:/vcs/svn/apache/commons/trunks-proper/vfs/src/changes/changes.xml
    Transmitting file data ...
    Committed revision 1511553.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15291852" author="b.eckenfels" created="Thu, 19 May 2016 18:26:23 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>342506</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1n2gv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>342811</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-481] Default moveTo does not work for non-empty directories when it can&apos;t be done via renaming.</title>
                <link>https://issues.apache.org/jira/browse/VFS-481</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;The default implementation of moveTo in AbstractFileObject has no chance of working for a non-empty folder in cases where it can&apos;t be done via a rename. This is because it calls it calls copyFrom with Selectors.SELECT_SELF which will not copy the descendants and doDelete, which is documented as only supposed to be called when &quot;This file has no children, if a folder.&quot;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12660969">VFS-481</key>
            <summary>Default moveTo does not work for non-empty directories when it can&apos;t be done via renaming.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="svella">Shon Vella</reporter>
                        <labels>
                    </labels>
                <created>Wed, 31 Jul 2013 18:58:51 +0000</created>
                <updated>Wed, 31 Jul 2013 19:00:19 +0000</updated>
                                            <version>2.0</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13725596" author="svella" created="Wed, 31 Jul 2013 19:00:19 +0000"  >&lt;p&gt;This didn&apos;t work in 1.x either, but it was even worse there because it did a recursive delete after the non-recursive copy, thus deleting originals that were not copied.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>341158</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 14 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mu8f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>341476</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-480] [VFS] SoftRefFilesCache Doesn&apos;t Ever Clear Cache</title>
                <link>https://issues.apache.org/jira/browse/VFS-480</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;The SoftRefFilesCache doesn&apos;t ever clear its cache.  I found this out when I notice my JVM was sucking up hundreds of megs as it load, processed, and unloaded, thousands of files.&lt;/p&gt;

&lt;p&gt;I have attached an example program that demonstrates the problem with SoftRefFilesCache.java#startThread().  The thread is never actually launched.  I have only tried it on Java 1.7.   Basically, I am trying to demonstrate that calling AtomicReference#compareAndSet never returns true when &quot;expected&quot; is a null value.  So what happens is that the call returns false, the loop is re-entered, newThread gets blown away, the thread is found, and the loop exits, so the thread is never launched.  I&apos;m using VFS in a singleton fashion.  Well, I was using it before this issue.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12659473">VFS-480</key>
            <summary>[VFS] SoftRefFilesCache Doesn&apos;t Ever Clear Cache</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="b.eckenfels">Bernd Eckenfels</assignee>
                                    <reporter username="belugabehr">David Mollitor</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Jul 2013 01:24:26 +0000</created>
                <updated>Thu, 19 May 2016 18:26:06 +0000</updated>
                            <resolved>Wed, 23 Sep 2015 20:44:55 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14905212" author="b.eckenfels" created="Wed, 23 Sep 2015 20:44:55 +0000"  >&lt;p&gt;Fixed with a simple double checked lock in commit &lt;a href=&quot;http://svn.apache.org/viewvc?rev=1704932&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1704932&amp;amp;view=rev&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15291804" author="b.eckenfels" created="Thu, 19 May 2016 18:26:06 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12756155">VFS-548</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12756155">VFS-548</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12593825" name="AtomicRefThreadTest.java" size="906" author="belugabehr" created="Wed, 24 Jul 2013 01:24:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>339666</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ml27:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>339986</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-478] Documentation Incorrect For &quot;Zip, Jar and Tar&quot;</title>
                <link>https://issues.apache.org/jira/browse/VFS-478</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;An example presented in the documentation does not match the URI formats provided.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://commons.apache.org/proper/commons-vfs/filesystems.html#gzip_and_bzip2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/proper/commons-vfs/filesystems.html#gzip_and_bzip2&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Example: tar:gz:&lt;a href=&quot;http://anyhost/dir/mytar.tar.gz!/mytar.tar!/path/in/tar/README.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://anyhost/dir/mytar.tar.gz!/mytar.tar!/path/in/tar/README.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&quot;tar:gz&quot; is not listed as a URI format and in implementation, it is not allowable.  It causes an exception.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12655692">VFS-478</key>
            <summary>Documentation Incorrect For &quot;Zip, Jar and Tar&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="belugabehr">David Mollitor</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Jul 2013 02:45:29 +0000</created>
                <updated>Tue, 2 Jul 2013 02:45:29 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>335967</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 18 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ly9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>336291</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-474] FTP Connection isn&apos;t closed, when FtpFileObject is closed</title>
                <link>https://issues.apache.org/jira/browse/VFS-474</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;When a FtpFileObject is closed with the close() method, the Connection to the FTP Server is still open. The Connection is never closed.&lt;br/&gt;
Attached is a Patch, which closes the FtpFileSystem in FtpFileObject#doDetach().&lt;/p&gt;</description>
                <environment></environment>
        <key id="12651142">VFS-474</key>
            <summary>FTP Connection isn&apos;t closed, when FtpFileObject is closed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="so">so</reporter>
                        <labels>
                            <label>PatchAvailable</label>
                    </labels>
                <created>Wed, 5 Jun 2013 15:59:08 +0000</created>
                <updated>Tue, 14 Apr 2015 13:14:24 +0000</updated>
                            <resolved>Tue, 14 Apr 2015 13:14:24 +0000</resolved>
                                    <version>2.1</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13676064" author="so" created="Wed, 5 Jun 2013 16:02:31 +0000"  >&lt;p&gt;Patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-474&quot; title=&quot;FTP Connection isn&amp;#39;t closed, when FtpFileObject is closed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-474&quot;&gt;&lt;del&gt;VFS-474&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14494049" author="fiveo" created="Tue, 14 Apr 2015 12:42:38 +0000"  >&lt;p&gt;Closing a FTPFileObject does not mean to close the connection to the server too. The FileSystem could be used in another FileObject too. This ticket should be rejected.&lt;/p&gt;</comment>
                            <comment id="14494098" author="b.eckenfels" created="Tue, 14 Apr 2015 13:14:24 +0000"  >&lt;p&gt;I think the only location where the connection (pool) should be closed (besides idle timeout) is when the FS is closed. I agree that the close() method on the FO has other uses.&lt;/p&gt;

&lt;p&gt;We might want to add a feature request to be able to better control this (I am not sure how it behaves today).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12586342" name="VFS-474.patch" size="542" author="so" created="Wed, 5 Jun 2013 16:02:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>331468</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 29 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1l6mv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>331800</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-470] not able to connect to Mainframe system </title>
                <link>https://issues.apache.org/jira/browse/VFS-470</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;not able to connect using mainframe server using ftp&lt;br/&gt;
&lt;a href=&quot;ftp://username:password@servername/[dataset&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://username:password@servername/[dataset&lt;/a&gt; name]&lt;br/&gt;
Can you please help me on this.&lt;/p&gt;</description>
                <environment>&lt;p&gt;windows&lt;/p&gt;</environment>
        <key id="12635988">VFS-470</key>
            <summary>not able to connect to Mainframe system </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="joehni">Joerg Schaible</assignee>
                                    <reporter username="tsandeep1311">sandeep</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Mar 2013 09:29:42 +0000</created>
                <updated>Fri, 8 Mar 2013 09:42:19 +0000</updated>
                            <resolved>Fri, 8 Mar 2013 09:42:19 +0000</resolved>
                                    <version>2.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13596976" author="joehni" created="Fri, 8 Mar 2013 09:42:19 +0000"  >&lt;p&gt;Sorry, but this is not a bug report. Since JIRA is not a help forum, please use the user&apos;s list for such questions. Thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>316480</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 34 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ilzr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>316823</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-469] [WebDAV] Dependency javax.jrc:jcr is not used</title>
                <link>https://issues.apache.org/jira/browse/VFS-469</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;The WebDAV provider does not make use of the dependency to javax.jcr:jcr nor does the test provider.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12635156">VFS-469</key>
            <summary>[WebDAV] Dependency javax.jrc:jcr is not used</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="joehni">Joerg Schaible</assignee>
                                    <reporter username="joehni">Joerg Schaible</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Mar 2013 16:22:27 +0000</created>
                <updated>Thu, 19 May 2016 18:26:19 +0000</updated>
                            <resolved>Mon, 4 Mar 2013 16:24:58 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13592325" author="joehni" created="Mon, 4 Mar 2013 16:24:58 +0000"  >&lt;p&gt;commit -m &quot;Remove unused dependency to javax.jcr:jcr (&lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-469&quot; title=&quot;[WebDAV] Dependency javax.jrc:jcr is not used&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-469&quot;&gt;&lt;del&gt;VFS-469&lt;/del&gt;&lt;/a&gt;).&quot; &lt;br/&gt;
Sending        core/pom.xml&lt;br/&gt;
Sending        pom.xml&lt;br/&gt;
Sending        src/changes/changes.xml&lt;br/&gt;
Transmitting file data ...&lt;br/&gt;
Committed revision 1452370.&lt;/p&gt;</comment>
                            <comment id="15291838" author="b.eckenfels" created="Thu, 19 May 2016 18:26:19 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315649</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1igv3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315992</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-467] WebDAV: list children returns parent directory instead of ignoring it</title>
                <link>https://issues.apache.org/jira/browse/VFS-467</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;WebDAV seems to always include the parent folder when returning a list&lt;br/&gt;
of children for a directory. This is due to a wrong test in WebdavFileObject doListChildrenResolved:&lt;/p&gt;

&lt;p&gt;if (isCurrentFile(response.getHref(), name))&lt;br/&gt;
{&lt;br/&gt;
     continue;&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;where&lt;br/&gt;
private boolean isCurrentFile(String href, URLFileName fileName)&lt;br/&gt;
{&lt;br/&gt;
   String name = hrefString(fileName);&lt;br/&gt;
   if (href.endsWith(&quot;/&quot;) &amp;amp;&amp;amp; !name.endsWith(&quot;/&quot;))&lt;/p&gt;
   { 
      name += &quot;/&quot;; 
   }
&lt;p&gt;   return href.equals(name);&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;where the parent dir returned in the WedbDAV response should be ignored. However the test compares a RELATIVE href (first arg), with an ASBOLUTE href (second arg)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12634130">VFS-467</key>
            <summary>WebDAV: list children returns parent directory instead of ignoring it</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jmborer">Jean-Marc Borer</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Feb 2013 12:33:50 +0000</created>
                <updated>Wed, 1 May 2019 20:45:11 +0000</updated>
                                            <version>2.0</version>
                    <version>2.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="600">10m</timespent>
                                <comments>
                            <comment id="13587105" author="jmborer" created="Tue, 26 Feb 2013 13:14:29 +0000"  >&lt;p&gt;Not sure about my fix, but I suppose WebDAV returns always relatives paths. So test should be:&lt;/p&gt;

&lt;p&gt;private boolean isCurrentFile(String href, URLFileName fileName)&lt;br/&gt;
    {&lt;br/&gt;
        String name = fileName.getPath();&lt;br/&gt;
        if (href.endsWith(&quot;/&quot;) &amp;amp;&amp;amp; !name.endsWith(&quot;/&quot;))&lt;/p&gt;
        {
            name += &quot;/&quot;;
        }
&lt;p&gt;        return href.equals(name);&lt;br/&gt;
    }&lt;/p&gt;</comment>
                            <comment id="13592350" author="joehni" created="Mon, 4 Mar 2013 16:47:20 +0000"  >&lt;p&gt;Can you give a reference to support your assumption about the relative paths in WebDAV?&lt;/p&gt;</comment>
                            <comment id="13593207" author="jmborer" created="Tue, 5 Mar 2013 07:53:19 +0000"  >&lt;p&gt;What do you mean by reference? I know that my fix might not cover all cases, that is why I did not send a patch yet. I have still to write unit tests. &lt;/p&gt;

&lt;p&gt;However what is sure is that the test is wrong: it doesn&apos;t compare similar things (relative against absolute paths). As I had not enough time to study the VFS code, I hoped someone with a better understanding would react to my proposed solution. It is a simple fix otherwise I had to touch much more code and potentially break more things.&lt;/p&gt;</comment>
                            <comment id="13594534" author="joehni" created="Wed, 6 Mar 2013 09:46:22 +0000"  >&lt;p&gt;You said, that you suppose that WebDAV always returns relative paths and I wondered if this is just what you have observed running against Jackrabbit or if this behavior has to be expected by all WebDAV servers because it is specified somewhere in a RFC.&lt;/p&gt;</comment>
                            <comment id="13594538" author="jmborer" created="Wed, 6 Mar 2013 09:51:04 +0000"  >&lt;p&gt;It checked this with:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Tomcat + webdav servlet&lt;/li&gt;
	&lt;li&gt;Apache + webdav plugin&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;So I can certainly say it is supposed to work that way (which seems obviously logic to me, by the way). If someone can prove me the opposite, (s)he is welcome.&lt;/p&gt;

&lt;p&gt;I also tried to look for this information in the RFCs, but was not able to find it. I wanted also to know if the RFCs specify that a dir list should always include the parent itself. Not sure it is defined there...&lt;/p&gt;</comment>
                            <comment id="13594570" author="jmborer" created="Wed, 6 Mar 2013 10:19:35 +0000"  >&lt;p&gt;After further testing and reading the PROP_FIND (the method used for dir listings) section of RFC 4918 (&lt;a href=&quot;http://tools.ietf.org/html/rfc4918#page-35&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://tools.ietf.org/html/rfc4918#page-35&lt;/a&gt;), I can still observe that the href responses from my webdav servers return absolute paths relative to the root: hrefs without the host and port info as you usually encounter in links on website when your remain on the same site. &lt;/p&gt;

&lt;p&gt;However, this seems not to be constraint in the RFC since you find an example with fully qualified href, but for directory lists this wouldn&apos;t make sense anyway since you remain on the same site... &lt;/p&gt;</comment>
                            <comment id="13594574" author="jmborer" created="Wed, 6 Mar 2013 10:25:56 +0000"  >&lt;p&gt;Answer found: both RELATIVE and ABSOLUTE are possible. As I said earlier, all the webdavs I tested use RELATIVE. This was easy to fix in the code. Now if both must be supported (and this is only to exclude the parent entry), it will require further refactoring and testing. I will check that when I have more time.&lt;/p&gt;

&lt;p&gt;FYI, RFC 4918 states:&lt;/p&gt;

&lt;p&gt;8.3.  URL Handling&lt;/p&gt;

&lt;p&gt;   URLs appear in many places in requests and responses.&lt;br/&gt;
   Interoperability experience with &lt;span class=&quot;error&quot;&gt;&amp;#91;RFC2518&amp;#93;&lt;/span&gt; showed that many clients&lt;br/&gt;
   parsing Multi-Status responses did not fully implement the full&lt;br/&gt;
   Reference Resolution defined in Section 5 of &lt;span class=&quot;error&quot;&gt;&amp;#91;RFC3986&amp;#93;&lt;/span&gt;.  Thus,&lt;br/&gt;
   servers in particular need to be careful in handling URLs in&lt;br/&gt;
   responses, to ensure that clients have enough context to be able to&lt;br/&gt;
   interpret all the URLs.  The rules in this section apply not only to&lt;br/&gt;
   resource URLs in the &apos;href&apos; element in Multi-Status responses, but&lt;br/&gt;
   also to the Destination and If header resource URLs.&lt;/p&gt;

&lt;p&gt;   The sender has a choice between two approaches: using a relative&lt;br/&gt;
   reference, which is resolved against the Request-URI, or a full URI.&lt;br/&gt;
   A server MUST ensure that every &apos;href&apos; value within a Multi-Status&lt;br/&gt;
   response uses the same format.&lt;/p&gt;

&lt;p&gt;   WebDAV only uses one form of relative reference in its extensions,&lt;br/&gt;
   the absolute path.&lt;/p&gt;

&lt;p&gt;      Simple-ref = absolute-URI | ( path-absolute [ &quot;?&quot; query ] )&lt;/p&gt;

&lt;p&gt;   The absolute-URI, path-absolute and query productions are defined in&lt;br/&gt;
   Sections 4.3, 3.3, and 3.4 of &lt;span class=&quot;error&quot;&gt;&amp;#91;RFC3986&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;   Within Simple-ref productions, senders MUST NOT:&lt;/p&gt;

&lt;p&gt;   o  use dot-segments (&quot;.&quot; or &quot;..&quot;), or&lt;/p&gt;

&lt;p&gt;   o  have prefixes that do not match the Request-URI (using the&lt;br/&gt;
      comparison rules defined in Section 3.2.3 of &lt;span class=&quot;error&quot;&gt;&amp;#91;RFC2616&amp;#93;&lt;/span&gt;).&lt;/p&gt;

&lt;p&gt;   Identifiers for collections SHOULD end in a &apos;/&apos; character.&lt;/p&gt;

&lt;p&gt;8.3.1.  Example - Correct URL Handling&lt;/p&gt;

&lt;p&gt;   Consider the collection &lt;a href=&quot;http://example.com/sample/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://example.com/sample/&lt;/a&gt; with the internal&lt;br/&gt;
   member URL &lt;a href=&quot;http://example.com/sample/a%20test&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://example.com/sample/a%20test&lt;/a&gt; and the PROPFIND&lt;br/&gt;
   request below:&lt;/p&gt;

&lt;p&gt;   &amp;gt;&amp;gt;Request:&lt;/p&gt;

&lt;p&gt;     PROPFIND /sample/ HTTP/1.1&lt;br/&gt;
     Host: example.com&lt;br/&gt;
     Depth: 1&lt;/p&gt;

&lt;p&gt;   In this case, the server should return two &apos;href&apos; elements containing&lt;br/&gt;
   either&lt;/p&gt;

&lt;p&gt;   o  &apos;http://example.com/sample/&apos; and&lt;br/&gt;
      &apos;http://example.com/sample/a%20test&apos;, or&lt;/p&gt;

&lt;p&gt;   o  &apos;/sample/&apos; and &apos;/sample/a%20test&apos;&lt;/p&gt;

&lt;p&gt;   Note that even though the server may be storing the member resource&lt;br/&gt;
   internally as &apos;a test&apos;, it has to be percent-encoded when used inside&lt;br/&gt;
   a URI reference (see Section 2.1 of &lt;span class=&quot;error&quot;&gt;&amp;#91;RFC3986&amp;#93;&lt;/span&gt;).  Also note that a&lt;br/&gt;
   legal URI may still contain characters that need to be escaped within&lt;br/&gt;
   XML character data, such as the ampersand character.&lt;/p&gt;
</comment>
                            <comment id="13598816" author="jmborer" created="Mon, 11 Mar 2013 13:40:59 +0000"  >&lt;p&gt;OK just found an exception which breaks my tests: Jackrabbit. It returns absolute paths. I need to consolidate my test to check all possibilities.&lt;/p&gt;</comment>
                            <comment id="13598838" author="jmborer" created="Mon, 11 Mar 2013 14:12:34 +0000"  >&lt;p&gt;This version supports both relative and absolute hrefs&lt;/p&gt;

&lt;p&gt;private boolean isCurrentFile(String href, URLFileName fileName)&lt;br/&gt;
    {&lt;br/&gt;
        String name;&lt;br/&gt;
        // href is relative or absolute&lt;br/&gt;
        if (href.startsWith(&quot;/&quot;)) &lt;/p&gt;
{
            name = fileName.getPath();
        }
&lt;p&gt; else &lt;/p&gt;
{
            name = hrefString(fileName);
        }

&lt;p&gt;        // It must be a directory&lt;br/&gt;
        if (href.endsWith(&quot;/&quot;) &amp;amp;&amp;amp; !name.endsWith(&quot;/&quot;))&lt;/p&gt;
        {
            name += &quot;/&quot;;
        }

&lt;p&gt;        // we only take into account the end of the path&lt;br/&gt;
        return href.equals(name);&lt;br/&gt;
    }&lt;/p&gt;</comment>
                            <comment id="13598852" author="jmborer" created="Mon, 11 Mar 2013 14:26:58 +0000"  >&lt;p&gt;The only question that remains is: should the &quot;list&quot; return the parent or not? In my opinion, no since we want the children and we know the parent.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314623</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 34 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1iajj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314967</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-465] WebDAV: Cannot delete an empty directory</title>
                <link>https://issues.apache.org/jira/browse/VFS-465</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;WebDAV seems to always include the parent folder when returning a list&lt;br/&gt;
of children for a directory. In VFS, it is checked that a folder is&lt;br/&gt;
empty before allowing to delete it. However with WebDAV, all empty&lt;br/&gt;
dirs return one entry (themselfs) which prevents the deletion of the&lt;br/&gt;
directory.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12634087">VFS-465</key>
            <summary>WebDAV: Cannot delete an empty directory</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jmborer">Jean-Marc Borer</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Feb 2013 09:40:33 +0000</created>
                <updated>Tue, 26 Feb 2013 13:16:52 +0000</updated>
                                            <version>2.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13587108" author="jmborer" created="Tue, 26 Feb 2013 13:16:27 +0000"  >&lt;p&gt;The issue is in WebdavFileObject where the source directory should be ignored but the test is not formed properly. Therefore it is included and consequently, delete will not work.&lt;/p&gt;</comment>
                            <comment id="13587109" author="jmborer" created="Tue, 26 Feb 2013 13:16:52 +0000"  >&lt;p&gt;If issue &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-467&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/VFS-467&lt;/a&gt; is fixed, then it will work properly.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314580</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 36 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ia9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314924</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-464] StaticUserAuthenticator ignores requested authentication types</title>
                <link>https://issues.apache.org/jira/browse/VFS-464</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;The StaticUserAuthenticator does ignore the requested authentication types. Its method &apos;requestAuthentication&apos; should only return requested information.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12633908">VFS-464</key>
            <summary>StaticUserAuthenticator ignores requested authentication types</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="joehni">Joerg Schaible</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Feb 2013 14:10:50 +0000</created>
                <updated>Thu, 19 May 2016 18:26:24 +0000</updated>
                            <resolved>Mon, 25 Feb 2013 14:16:52 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13585875" author="joehni" created="Mon, 25 Feb 2013 14:16:52 +0000"  >&lt;p&gt;$ svn ci -m &quot;StaticUserAuthenticator should return only requested authentication data (&lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-464&quot; title=&quot;StaticUserAuthenticator ignores requested authentication types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-464&quot;&gt;&lt;del&gt;VFS-464&lt;/del&gt;&lt;/a&gt;).&quot;&lt;br/&gt;
Sending        core/src/main/java/org/apache/commons/vfs2/auth/StaticUserAuthenticator.java&lt;br/&gt;
Adding         core/src/test/java/org/apache/commons/vfs2/auth&lt;br/&gt;
Adding         core/src/test/java/org/apache/commons/vfs2/auth/StaticUserAuthenticatorTestCase.java&lt;br/&gt;
Sending        src/changes/changes.xml&lt;br/&gt;
Transmitting file data ...&lt;br/&gt;
Committed revision 1449714.&lt;/p&gt;</comment>
                            <comment id="15291854" author="b.eckenfels" created="Thu, 19 May 2016 18:26:24 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314402</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i96n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314747</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-461] [FTP/FTPS] Cannot set SoTimeout and Encoding with system properties</title>
                <link>https://issues.apache.org/jira/browse/VFS-461</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;FtpFileSystemConfigBuilder does not consider system properties for the configuration values of the SoTimeout and the Encoding.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12633396">VFS-461</key>
            <summary>[FTP/FTPS] Cannot set SoTimeout and Encoding with system properties</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="joehni">Joerg Schaible</assignee>
                                    <reporter username="joehni">Joerg Schaible</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Feb 2013 14:04:36 +0000</created>
                <updated>Thu, 19 May 2016 18:26:22 +0000</updated>
                            <resolved>Thu, 21 Feb 2013 14:12:41 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13583210" author="joehni" created="Thu, 21 Feb 2013 14:12:41 +0000"  >&lt;p&gt;$ svn ci -m &quot;ConfigBuilder does not consider system properties for the value of SoTimeout and Encoding.&quot;&lt;br/&gt;
Sending        core/src/main/java/org/apache/commons/vfs2/provider/ftp/FtpFileSystemConfigBuilder.java&lt;br/&gt;
Sending        src/changes/changes.xml&lt;br/&gt;
Transmitting file data ..&lt;br/&gt;
Committed revision 1448645.&lt;/p&gt;</comment>
                            <comment id="15291848" author="b.eckenfels" created="Thu, 19 May 2016 18:26:22 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>313891</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i613:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314236</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-460] commons-compress not optional</title>
                <link>https://issues.apache.org/jira/browse/VFS-460</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;commons-compress dependency is not declared as optional. On purpose or plain oversight?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12633355">VFS-460</key>
            <summary>commons-compress not optional</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="joehni">Joerg Schaible</assignee>
                                    <reporter username="joehni">Joerg Schaible</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Feb 2013 09:29:49 +0000</created>
                <updated>Thu, 19 May 2016 18:26:04 +0000</updated>
                            <resolved>Fri, 1 Mar 2013 11:29:20 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13583185" author="garydgregory" created="Thu, 21 Feb 2013 13:31:00 +0000"  >&lt;p&gt;Well, no dependency is declared as optional...&lt;/p&gt;</comment>
                            <comment id="13583191" author="joehni" created="Thu, 21 Feb 2013 13:41:29 +0000"  >&lt;p&gt;from core/pom.xml, non-test dependencies:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    &amp;lt;dependency&amp;gt;
      &amp;lt;groupId&amp;gt;commons-logging&amp;lt;/groupId&amp;gt;
      &amp;lt;artifactId&amp;gt;commons-logging&amp;lt;/artifactId&amp;gt;
    &amp;lt;/dependency&amp;gt;
    &amp;lt;dependency&amp;gt;
      &amp;lt;groupId&amp;gt;ant&amp;lt;/groupId&amp;gt;
      &amp;lt;artifactId&amp;gt;ant&amp;lt;/artifactId&amp;gt;
      &amp;lt;optional&amp;gt;true&amp;lt;/optional&amp;gt;
    &amp;lt;/dependency&amp;gt;
    &amp;lt;dependency&amp;gt;
      &amp;lt;groupId&amp;gt;commons-net&amp;lt;/groupId&amp;gt;
      &amp;lt;artifactId&amp;gt;commons-net&amp;lt;/artifactId&amp;gt;
      &amp;lt;optional&amp;gt;true&amp;lt;/optional&amp;gt;
    &amp;lt;/dependency&amp;gt;
    &amp;lt;dependency&amp;gt;
      &amp;lt;groupId&amp;gt;org.apache.commons&amp;lt;/groupId&amp;gt;
      &amp;lt;artifactId&amp;gt;commons-compress&amp;lt;/artifactId&amp;gt;
    &amp;lt;/dependency&amp;gt;
    &amp;lt;dependency&amp;gt;
      &amp;lt;groupId&amp;gt;commons-collections&amp;lt;/groupId&amp;gt;
      &amp;lt;artifactId&amp;gt;commons-collections&amp;lt;/artifactId&amp;gt;
      &amp;lt;optional&amp;gt;true&amp;lt;/optional&amp;gt;
    &amp;lt;/dependency&amp;gt;
    &amp;lt;dependency&amp;gt;
      &amp;lt;groupId&amp;gt;commons-httpclient&amp;lt;/groupId&amp;gt;
      &amp;lt;artifactId&amp;gt;commons-httpclient&amp;lt;/artifactId&amp;gt;
      &amp;lt;optional&amp;gt;true&amp;lt;/optional&amp;gt;
    &amp;lt;/dependency&amp;gt;
    &amp;lt;dependency&amp;gt;
      &amp;lt;groupId&amp;gt;org.apache.jackrabbit&amp;lt;/groupId&amp;gt;
      &amp;lt;artifactId&amp;gt;jackrabbit-webdav&amp;lt;/artifactId&amp;gt;
      &amp;lt;optional&amp;gt;true&amp;lt;/optional&amp;gt;
    &amp;lt;/dependency&amp;gt;
    &amp;lt;dependency&amp;gt;
      &amp;lt;groupId&amp;gt;com.jcraft&amp;lt;/groupId&amp;gt;
      &amp;lt;artifactId&amp;gt;jsch&amp;lt;/artifactId&amp;gt;
      &amp;lt;optional&amp;gt;true&amp;lt;/optional&amp;gt;
    &amp;lt;/dependency&amp;gt;

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13583215" author="garydgregory" created="Thu, 21 Feb 2013 14:14:41 +0000"  >&lt;p&gt;Hm. I wonder why they are not optional is the root POM. &lt;/p&gt;</comment>
                            <comment id="13583226" author="joehni" created="Thu, 21 Feb 2013 14:35:08 +0000"  >&lt;p&gt;??&lt;/p&gt;

&lt;p&gt;But they &lt;b&gt;are&lt;/b&gt; optional, just not commons-compress. IMHO this was a plain oversight.&lt;/p&gt;</comment>
                            <comment id="13583244" author="garydgregory" created="Thu, 21 Feb 2013 14:52:59 +0000"  >&lt;p&gt;OK.&lt;/p&gt;</comment>
                            <comment id="13590440" author="joehni" created="Fri, 1 Mar 2013 11:29:20 +0000"  >&lt;p&gt;commit -m &quot;Set commons-compress to optional.&quot;&lt;br/&gt;
Sending        core/pom.xml&lt;br/&gt;
Sending        src/changes/changes.xml&lt;br/&gt;
Transmitting file data ..&lt;br/&gt;
Committed revision 1451566.&lt;/p&gt;</comment>
                            <comment id="15291796" author="b.eckenfels" created="Thu, 19 May 2016 18:26:04 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>313851</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i5s7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314196</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-458] FTPS implementation incomplete and buggy compared to FTP</title>
                <link>https://issues.apache.org/jira/browse/VFS-458</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;The FTPS provider started as copy of the FTP implementation. Part of the code between the two providers were shared, other parts evolved individually. Therefore some options of the FTP provider were not present (although the shared part tried to use them) and some bug fixed were not automatically inherited.&lt;/p&gt;

&lt;p&gt;The FTPS implementation should inherit as much as possible.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12633245">VFS-458</key>
            <summary>FTPS implementation incomplete and buggy compared to FTP</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="joehni">Joerg Schaible</assignee>
                                    <reporter username="joehni">Joerg Schaible</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Feb 2013 18:20:12 +0000</created>
                <updated>Thu, 19 May 2016 18:25:57 +0000</updated>
                            <resolved>Wed, 20 Feb 2013 18:40:48 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13582407" author="joehni" created="Wed, 20 Feb 2013 18:40:48 +0000"  >&lt;p&gt;$ svn ci -m &quot;FTPS provider missed functionality and bug fixes already available for the FTP provider.&quot;&lt;br/&gt;
Sending        core/src/main/java/org/apache/commons/vfs2/provider/ftp/FTPClientWrapper.java&lt;br/&gt;
Sending        core/src/main/java/org/apache/commons/vfs2/provider/ftp/FtpClientFactory.java&lt;br/&gt;
Sending        core/src/main/java/org/apache/commons/vfs2/provider/ftp/FtpFileSystemConfigBuilder.java&lt;br/&gt;
Sending        core/src/main/java/org/apache/commons/vfs2/provider/ftps/FtpsClientFactory.java&lt;br/&gt;
Sending        core/src/main/java/org/apache/commons/vfs2/provider/ftps/FtpsClientWrapper.java&lt;br/&gt;
Sending        core/src/main/java/org/apache/commons/vfs2/provider/ftps/FtpsFileSystemConfigBuilder.java&lt;br/&gt;
Adding         core/src/test/java/org/apache/commons/vfs2/provider/ftps/test/AbstractFtpsProviderTestCase.java&lt;br/&gt;
Adding         core/src/test/java/org/apache/commons/vfs2/provider/ftps/test/FtpsProviderExplicitTestCase.java&lt;br/&gt;
Adding         core/src/test/java/org/apache/commons/vfs2/provider/ftps/test/FtpsProviderImplicitTestCase_Disabled.java&lt;br/&gt;
Sending        core/src/test/java/org/apache/commons/vfs2/provider/ftps/test/FtpsProviderPROTTestCase_Disabled.java&lt;br/&gt;
Deleting       core/src/test/java/org/apache/commons/vfs2/provider/ftps/test/FtpsProviderTestCase_Disabled.java&lt;br/&gt;
Sending        core/src/test/java/org/apache/commons/vfs2/provider/ftps/test/MultipleConnectionTestCase.java&lt;br/&gt;
Sending        src/changes/changes.xml&lt;br/&gt;
Transmitting file data ............&lt;br/&gt;
Committed revision 1448341.&lt;/p&gt;</comment>
                            <comment id="15291779" author="b.eckenfels" created="Thu, 19 May 2016 18:25:57 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>313741</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i53r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314086</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-454] FileSystemManager needs better lifecycle definition (SFTP: first access OK, second access: Unknown scheme)</title>
                <link>https://issues.apache.org/jira/browse/VFS-454</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;I access files from an SFTP server and accesm them roughly via&lt;/p&gt;

&lt;p&gt;-----------------&lt;br/&gt;
vfs.resolveFile(uri, opts);&lt;br/&gt;
...&lt;br/&gt;
vfs.resolveFile(cwd, directory);&lt;br/&gt;
...&lt;br/&gt;
cwd.getChildren();&lt;br/&gt;
...&lt;br/&gt;
vfs.resolveFile(fn);&lt;br/&gt;
...&lt;br/&gt;
((DefaultFileSystemManager) vfs).close();&lt;br/&gt;
--------------------------&lt;/p&gt;

&lt;p&gt;If the same code runs a second time, the first call to resolveFile() throws&lt;/p&gt;

&lt;p&gt;    Unknown scheme &quot;sftp&quot; in URI &quot;sftp://...&quot;&lt;/p&gt;

&lt;p&gt;I tried &lt;/p&gt;

&lt;p&gt;  vfs.closeFileSystem(children&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;.getFileSystem());&lt;/p&gt;

&lt;p&gt;like stated in &lt;a href=&quot;http://wiki.apache.org/commons/SimpleSftpFileDownload&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://wiki.apache.org/commons/SimpleSftpFileDownload&lt;/a&gt;, but this doesn&apos;t help!&lt;/p&gt;</description>
                <environment>&lt;p&gt;Java 1.7.0_13 64 Bit&lt;/p&gt;</environment>
        <key id="12631252">VFS-454</key>
            <summary>FileSystemManager needs better lifecycle definition (SFTP: first access OK, second access: Unknown scheme)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="4" iconUrl="https://issues.apache.org/jira/images/icons/statuses/reopened.png" description="This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.">Reopened</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="b.eckenfels">Bernd Eckenfels</assignee>
                                    <reporter username="mhilpert">MH</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Feb 2013 12:58:12 +0000</created>
                <updated>Wed, 29 Mar 2023 11:51:49 +0000</updated>
                                            <version>2.0</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13573446" author="mhilpert" created="Thu, 7 Feb 2013 13:02:36 +0000"  >&lt;p&gt;Forgot to note that this SFTP connection is established with a key:&lt;/p&gt;

&lt;p&gt;&amp;#8211; code start &amp;#8212;&lt;br/&gt;
final SftpFileSystemConfigBuilder cb = SftpFileSystemConfigBuilder.getInstance();&lt;br/&gt;
cb.setStrictHostKeyChecking(opts, &quot;no&quot;); //don&apos;t check, if host is in $HOME/.ssh/known_hosts&lt;br/&gt;
if (fileKey != null) {&lt;br/&gt;
   cb.setIdentities(opts, new File[]&lt;/p&gt;
{fileKey}
&lt;p&gt;); //set private key&lt;br/&gt;
}//else: DO NOT ADD null VALUES IN Identities! (or you&apos;ll get &quot; Could not connect to SFTP server&quot; errors!)&lt;br/&gt;
&amp;#8212; code end &amp;#8212;&lt;/p&gt;

&lt;p&gt;I tried many close() calls without success:&lt;/p&gt;

&lt;p&gt;&amp;#8212; code start &amp;#8212;&lt;br/&gt;
            if (vfs != null) {&lt;br/&gt;
                try {&lt;br/&gt;
LOGGER.info(&quot;--- clean up VFS &amp;#8212; 4&quot;);&lt;br/&gt;
                    if (dirRoot != null) &lt;/p&gt;
{
                        dirRoot.close();
                        vfs.closeFileSystem(dirRoot.getFileSystem());
                        ((StandardFileSystemManager) vfs).closeFileSystem(dirRoot.getFileSystem());
                    }
&lt;p&gt;                    ((StandardFileSystemManager) vfs).close();&lt;br/&gt;
                    ((DefaultFileSystemManager) vfs).close();&lt;br/&gt;
                    vfs.getFilesCache().close();&lt;/p&gt;

&lt;p&gt;                } catch (final Exception e) &lt;/p&gt;
{
                    LOGGER.warning(&quot;Can&apos;t close SFTP root: &quot;+e);
                }
&lt;p&gt;            }&lt;br/&gt;
&amp;#8212; code end &amp;#8212;&lt;/p&gt;</comment>
                            <comment id="13573536" author="mhilpert" created="Thu, 7 Feb 2013 14:29:39 +0000"  >&lt;p&gt;Temporary workaround:  remove (!!!) the closing call:&lt;/p&gt;

&lt;p&gt;&amp;#8212; code start &amp;#8212;&lt;br/&gt;
//((DefaultFileSystemManager) vfs).close(); //THIS CAUSES FileSystemException: Unknown scheme &quot;sftp&quot; in URI &quot;sftp://...&lt;br/&gt;
&amp;#8212; code end &amp;#8212;&lt;/p&gt;

&lt;p&gt;Without this close() call, subsequent calls work ...! So much to (&lt;a href=&quot;http://commons.apache.org/vfs/api.html):&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/vfs/api.html):&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&quot;You should make sure that you call close() on the manager when you are finished with it.&quot;&lt;/p&gt;

&lt;p&gt;...&lt;/p&gt;</comment>
                            <comment id="14000927" author="b.eckenfels" created="Sun, 18 May 2014 00:25:11 +0000"  >&lt;p&gt;Well, dont close the FileSystemManager if you want to use it later on. If you .close() it, you need to use a new instance for the second connection. The DefaultFileSystemManager unfortunatelly does not throw exceptions after you closed it, but anyway, dont do it. It will be in a unconfigured/uninitialized state.&lt;/p&gt;</comment>
                            <comment id="14001477" author="mhilpert" created="Mon, 19 May 2014 08:08:20 +0000"  >&lt;p&gt;So, calling close() is recommended but you must not call it if you want the manager again? I use it this way:&lt;/p&gt;

&lt;p&gt;1. vfs = VFS.getManager();&lt;br/&gt;
...&lt;br/&gt;
2. vfs.resolveFile(...&lt;br/&gt;
...&lt;br/&gt;
3. ((DefaultFileSystemManager) vfs).close();&lt;/p&gt;

&lt;p&gt;The next time I use VFS, these 3 steps are called again. So how should I get an vfs manager if not via VFS.getManager() so that I can close() on it (as recommended)? The constructor&lt;/p&gt;

&lt;p&gt;  private static FileSystemManager createManager(final String managerClassName)&lt;/p&gt;

&lt;p&gt;requires a name - looking into the source of VFS, &lt;/p&gt;

&lt;p&gt;   public static synchronized FileSystemManager getManager()&lt;/p&gt;

&lt;p&gt;uses hard coded &quot;org.apache.commons.vfs2.impl.StandardFileSystemManager&quot;. I don&apos;t think that it is good practise to call&lt;/p&gt;

&lt;p&gt;  createManager(&quot;org.apache.commons.vfs2.impl.StandardFileSystemManager&quot;)&lt;/p&gt;

&lt;p&gt;... is it?&lt;/p&gt;

&lt;p&gt;At least, you should make this clear in the Javadocs of close(), so that other developers don&apos;t ask the same question.&lt;/p&gt;
</comment>
                            <comment id="14001539" author="b.eckenfels" created="Mon, 19 May 2014 09:33:23 +0000"  >&lt;p&gt;Yes, you are right. The lifecycle needs to be docmented a bit better. Without looking too deep into the issue my answer is:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;if you use the VFS.getManager() singleton only close it on shutdown&lt;/li&gt;
	&lt;li&gt;if you use your own FileSystemManager instances dont use them after close&lt;/li&gt;
	&lt;li&gt;close your FSM as soon as you dont need them&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I typically direclty instantiate DefaultFileSystemManager (and not use the XML config). In your case however I think you can &quot;just&quot; use the createManager(). I will check if it makes sense to have a no-argument version of it until then, you can use the hardcoded name, it wont change so quickly &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;</comment>
                            <comment id="17706266" author="m." created="Wed, 29 Mar 2023 08:03:40 +0000"  >&lt;p&gt;It does not seem to have changed during the last 9 years ... i had to inspect therad dumps of our application and noticed hundreds of open jcraft sessions (which is used bei Apache VFS - we don&apos;t use jCraft API) and stumbled over this issue again.&#160; Is there any progress?&lt;/p&gt;</comment>
                            <comment id="17706367" author="garydgregory" created="Wed, 29 Mar 2023 11:51:49 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=M.&quot; class=&quot;user-hover&quot; rel=&quot;M.&quot;&gt;M.&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;Feel free to review git master and propose a PR.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>311748</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 30 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1hst3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>312094</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-452] HttpFileObject read/write attributes should reflect underlying FileSystem capabilities</title>
                <link>https://issues.apache.org/jira/browse/VFS-452</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;When you do a:&lt;br/&gt;
FileObject fo = fsManager.resolveFile(&quot;http://host:port/somefile.xml&quot;);&lt;br/&gt;
VFS will create a HTTP FileSystem that has only read capabilities. However, fo.isWritable() returns true where&lt;br/&gt;
fo.getFileSystem().hasCapability(Capability.WRITE_CONTENT)); return false as expected.&lt;/p&gt;

&lt;p&gt;This is inconsistent in my opinion and should be fixed or is it intentionally implemented that way?&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12630825">VFS-452</key>
            <summary>HttpFileObject read/write attributes should reflect underlying FileSystem capabilities</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ggregory">Gary D. Gregory</assignee>
                                    <reporter username="jmborer">Jean-Marc Borer</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 Feb 2013 08:05:23 +0000</created>
                <updated>Thu, 19 May 2016 18:25:53 +0000</updated>
                            <resolved>Tue, 19 Feb 2013 13:28:34 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13572487" author="garydgregory" created="Wed, 6 Feb 2013 15:23:18 +0000"  >&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;commit -m &quot;[VFS-452] HttpFileObject read/write attributes should reflect underlying FileSystem capabilities.&quot; C:/svn/org/apache/commons/trunks-proper/vfs/src/changes/changes.xml C:/svn/org/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/provider/http/HttpFileObject.java
    Sending        C:/svn/org/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/provider/http/HttpFileObject.java
    Sending        C:/svn/org/apache/commons/trunks-proper/vfs/src/changes/changes.xml
    Transmitting file data ...
    Committed revision 1443013.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13581259" author="garydgregory" created="Tue, 19 Feb 2013 13:27:08 +0000"  >&lt;p&gt;Reopen to complete task because the VFS WebDav file object is a subclass of the HTTP file object.&lt;/p&gt;</comment>
                            <comment id="13581261" author="garydgregory" created="Tue, 19 Feb 2013 13:28:04 +0000"  >&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;commit -m &quot;[VFS-452] HttpFileObject read/write attributes should reflect underlying FileSystem capabilities.&quot; C:/svn/org/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/provider/webdav/WebdavFileObject.java
    Sending        C:/svn/org/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/provider/webdav/WebdavFileObject.java
    Transmitting file data ...
    Committed revision 1447711.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13581262" author="garydgregory" created="Tue, 19 Feb 2013 13:28:28 +0000"  >&lt;p&gt;Oops, I meant to resolve, not close.&lt;/p&gt;</comment>
                            <comment id="15291768" author="b.eckenfels" created="Thu, 19 May 2016 18:25:53 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>311321</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1hq67:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>311667</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-451] Authentication fails using private key</title>
                <link>https://issues.apache.org/jira/browse/VFS-451</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Cannot connect to a ssh server with my private key.&lt;/p&gt;

&lt;p&gt;I believe the issue is due to an JSCH bug.&lt;/p&gt;

&lt;p&gt;Using the following lines: &lt;/p&gt;

&lt;p&gt;     session.setPassword(pass);&lt;br/&gt;
     jsch.addIdentity(identityfile);&lt;/p&gt;

&lt;p&gt;instead of&lt;/p&gt;

&lt;p&gt;     jsch.addIdentity(privateKeyFilePath,password);&lt;/p&gt;

&lt;p&gt;authentication fails.&lt;/p&gt;


</description>
                <environment>&lt;p&gt;windows as client&lt;br/&gt;
linux as ssh server&lt;/p&gt;</environment>
        <key id="12627294">VFS-451</key>
            <summary>Authentication fails using private key</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="joehni">Joerg Schaible</assignee>
                                    <reporter username="ilmarcoronchi">Marco Ronchi</reporter>
                        <labels>
                    </labels>
                <created>Sat, 12 Jan 2013 02:26:15 +0000</created>
                <updated>Thu, 19 May 2016 18:25:52 +0000</updated>
                            <resolved>Fri, 22 Feb 2013 07:27:30 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13551767" author="ilmarcoronchi" created="Sat, 12 Jan 2013 02:29:14 +0000"  >&lt;p&gt;The sftp client&lt;/p&gt;</comment>
                            <comment id="13551769" author="ilmarcoronchi" created="Sat, 12 Jan 2013 02:38:32 +0000"  >&lt;p&gt;1. Changing line 106 within SftpClientFactory (JSCH 0.1.48)&lt;br/&gt;
from &lt;br/&gt;
 jsch.addIdentity(privateKeyFile.getAbsolutePath());&lt;br/&gt;
to&lt;br/&gt;
 jsch.addIdentity(privateKeyFile.getAbsolutePath(),new String(password));&lt;/p&gt;

&lt;p&gt;2. removing lines from 142 to 145.&lt;/p&gt;

&lt;p&gt;Authentication works&lt;/p&gt;
</comment>
                            <comment id="13551995" author="garydgregory" created="Sat, 12 Jan 2013 18:52:12 +0000"  >&lt;p&gt;Could you please provide a patch? Preferably with a unit test. Thank you b&lt;/p&gt;</comment>
                            <comment id="13552239" author="ilmarcoronchi" created="Sun, 13 Jan 2013 16:59:52 +0000"  >&lt;p&gt;The patch&lt;/p&gt;</comment>
                            <comment id="13552357" author="garydgregory" created="Sun, 13 Jan 2013 23:44:57 +0000"  >&lt;p&gt;Can you please patch against trunk which should be revision 1428413 or greater? You patch is from revision 366, which sounds completely wrong. Thank you!&lt;/p&gt;</comment>
                            <comment id="13552362" author="ilmarcoronchi" created="Mon, 14 Jan 2013 00:31:57 +0000"  >&lt;p&gt;Sorry, I worked on released code.&lt;br/&gt;
The new patch is for trunk.&lt;/p&gt;</comment>
                            <comment id="13552370" author="garydgregory" created="Mon, 14 Jan 2013 00:51:33 +0000"  >&lt;p&gt;Thank you for the new patch. Unfortunately, it breaks existing unit tests:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Tests in error:
  junit.framework.TestSuite@20b00ec2(org.apache.commons.vfs2.provider.sftp.test.SftpProviderTestCase$BaseProviderTestSuite): Could not connect to SFTP server at &quot;sftp://testtest@localhost:53018/&quot;.
  junit.framework.TestSuite@fbb8694(org.apache.commons.vfs2.provider.sftp.test.SftpProviderTestCase$5): Could not connect to SFTP server at &quot;sftp://testtest@localhost:53018/&quot;.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;Please run &quot;mnv clean test&quot; before submitting a patch to make sure you are not creating a regression.&lt;/p&gt;

&lt;p&gt;Thank you,&lt;/p&gt;

&lt;p&gt;Gary&lt;/p&gt;</comment>
                            <comment id="13553202" author="ilmarcoronchi" created="Mon, 14 Jan 2013 22:23:21 +0000"  >&lt;p&gt;Gary, follow an extract of the regression test...&lt;/p&gt;

&lt;p&gt;==============================================================================================================&lt;br/&gt;
Running org.apache.commons.vfs2.provider.sftp.test.SftpProviderTestCase&lt;br/&gt;
created threads still running:&lt;br/&gt;
#1: main        pool-12-thread-1        not_a_daemon    class java.util.concurrent.ThreadPoolExecutor$Worker&lt;br/&gt;
#2: main        pool-11-thread-1        not_a_daemon    class java.util.concurrent.ThreadPoolExecutor$Worker&lt;br/&gt;
#3: main        pool-12-thread-2        not_a_daemon    class java.util.concurrent.ThreadPoolExecutor$Worker&lt;br/&gt;
#4: main        pool-12-thread-3        not_a_daemon    class java.util.concurrent.ThreadPoolExecutor$Worker&lt;br/&gt;
#5: main        pool-12-thread-4        not_a_daemon    class java.util.concurrent.ThreadPoolExecutor$Worker&lt;/p&gt;

&lt;p&gt;Tests run: 87, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 14.285 sec&lt;/p&gt;</comment>
                            <comment id="13553204" author="ilmarcoronchi" created="Mon, 14 Jan 2013 22:25:04 +0000"  >&lt;p&gt;The patch for revision 1433133&lt;/p&gt;</comment>
                            <comment id="13553384" author="garydgregory" created="Tue, 15 Jan 2013 01:31:29 +0000"  >&lt;p&gt;With your Jan 14 patch applied against trunk, I get errors:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Tests run: 2, Failures: 0, Errors: 2, Skipped: 0, Time elapsed: 1.007 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!
junit.framework.TestSuite@140fbbbc(org.apache.commons.vfs2.provider.sftp.test.SftpProviderTestCase$BaseProviderTestSuite)  Time elapsed: 931 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
org.apache.commons.vfs2.FileSystemException: Could not connect to SFTP server at &quot;sftp://testtest@localhost:59738/&quot;.
        at org.apache.commons.vfs2.provider.sftp.SftpFileProvider.doCreateFileSystem(SftpFileProvider.java:108)
        at org.apache.commons.vfs2.provider.AbstractOriginatingFileProvider.getFileSystem(AbstractOriginatingFileProvider.java:102)
        at org.apache.commons.vfs2.provider.AbstractOriginatingFileProvider.findFile(AbstractOriginatingFileProvider.java:80)
        at org.apache.commons.vfs2.provider.AbstractOriginatingFileProvider.findFile(AbstractOriginatingFileProvider.java:64)
        at org.apache.commons.vfs2.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:700)
        at org.apache.commons.vfs2.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:626)
        at org.apache.commons.vfs2.provider.sftp.test.SftpProviderTestCase.getBaseTestFolder(SftpProviderTestCase.java:448)
        at org.apache.commons.vfs2.test.AbstractTestSuite.setUp(AbstractTestSuite.java:166)
        at junit.extensions.TestSetup$1.protect(TestSetup.java:22)
        at junit.framework.TestResult.runProtected(TestResult.java:142)
        at junit.extensions.TestSetup.run(TestSetup.java:27)
        at junit.framework.TestSuite.runTest(TestSuite.java:255)
        at junit.framework.TestSuite.run(TestSuite.java:250)
        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:23)
        at junit.extensions.TestSetup$1.protect(TestSetup.java:23)
        at junit.framework.TestResult.runProtected(TestResult.java:142)
        at junit.extensions.TestSetup.run(TestSetup.java:27)
        at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:84)
        at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
        at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
        at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
        at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
        at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: java.lang.NullPointerException
        at java.lang.String.&amp;lt;init&amp;gt;(String.java:177)
        at org.apache.commons.vfs2.provider.sftp.SftpClientFactory.addIndentity(SftpClientFactory.java:199)
        at org.apache.commons.vfs2.provider.sftp.SftpClientFactory.addIdentities(SftpClientFactory.java:190)
        at org.apache.commons.vfs2.provider.sftp.SftpClientFactory.createConnection(SftpClientFactory.java:88)
        at org.apache.commons.vfs2.provider.sftp.SftpFileProvider.doCreateFileSystem(SftpFileProvider.java:97)
        ... 29 more

junit.framework.TestSuite@64811e10(org.apache.commons.vfs2.provider.sftp.test.SftpProviderTestCase$5)  Time elapsed: 987 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
org.apache.commons.vfs2.FileSystemException: Could not connect to SFTP server at &quot;sftp://testtest@localhost:59738/&quot;.
        at org.apache.commons.vfs2.provider.sftp.SftpFileProvider.doCreateFileSystem(SftpFileProvider.java:108)
        at org.apache.commons.vfs2.provider.AbstractOriginatingFileProvider.getFileSystem(AbstractOriginatingFileProvider.java:102)
        at org.apache.commons.vfs2.provider.AbstractOriginatingFileProvider.findFile(AbstractOriginatingFileProvider.java:80)
        at org.apache.commons.vfs2.provider.AbstractOriginatingFileProvider.findFile(AbstractOriginatingFileProvider.java:64)
        at org.apache.commons.vfs2.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:700)
        at org.apache.commons.vfs2.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:626)
        at org.apache.commons.vfs2.provider.sftp.test.SftpProviderTestCase.getBaseTestFolder(SftpProviderTestCase.java:448)
        at org.apache.commons.vfs2.test.AbstractTestSuite.setUp(AbstractTestSuite.java:166)
        at junit.extensions.TestSetup$1.protect(TestSetup.java:22)
        at junit.framework.TestResult.runProtected(TestResult.java:142)
        at junit.extensions.TestSetup.run(TestSetup.java:27)
        at junit.framework.TestSuite.runTest(TestSuite.java:255)
        at junit.framework.TestSuite.run(TestSuite.java:250)
        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:23)
        at junit.extensions.TestSetup$1.protect(TestSetup.java:23)
        at junit.framework.TestResult.runProtected(TestResult.java:142)
        at junit.extensions.TestSetup.run(TestSetup.java:27)
        at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:84)
        at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
        at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
        at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
        at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
        at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: java.lang.NullPointerException
        at java.lang.String.&amp;lt;init&amp;gt;(String.java:177)
        at org.apache.commons.vfs2.provider.sftp.SftpClientFactory.addIndentity(SftpClientFactory.java:199)
        at org.apache.commons.vfs2.provider.sftp.SftpClientFactory.addIdentities(SftpClientFactory.java:190)
        at org.apache.commons.vfs2.provider.sftp.SftpClientFactory.createConnection(SftpClientFactory.java:88)
        at org.apache.commons.vfs2.provider.sftp.SftpFileProvider.doCreateFileSystem(SftpFileProvider.java:97)
        ... 29 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I am guessing the patch does not handle null passwords.&lt;/p&gt;</comment>
                            <comment id="13553387" author="garydgregory" created="Tue, 15 Jan 2013 01:34:36 +0000"  >&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;In future patches, please follow the formatting in the file you patch, in particular it&apos;s &quot;method(arg1, arg2)&quot; and not &quot;method(arg1,arg2)&quot;.&lt;/p&gt;

&lt;p&gt;Thank you,&lt;br/&gt;
Gary&lt;/p&gt;</comment>
                            <comment id="13553391" author="garydgregory" created="Tue, 15 Jan 2013 01:39:15 +0000"  >&lt;p&gt;I tweaked the patch and applied it. Thank you.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;commit -m &quot;[VFS-451] Authentication fails using private key.&quot; C:/svn/org/apache/commons/trunks-proper/vfs/src/changes/changes.xml C:/svn/org/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/provider/sftp/SftpClientFactory.java
    Sending        C:/svn/org/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/provider/sftp/SftpClientFactory.java
    Sending        C:/svn/org/apache/commons/trunks-proper/vfs/src/changes/changes.xml
    Transmitting file data ...
    Committed revision 1433253.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Please get the latest from trunk, verify that the fix works for you, and post back here.&lt;/p&gt;

&lt;p&gt;Thank you!&lt;br/&gt;
Gary&lt;/p&gt;</comment>
                            <comment id="13553683" author="ilmarcoronchi" created="Tue, 15 Jan 2013 11:24:24 +0000"  >&lt;p&gt;Hi Gary,&lt;br/&gt;
I tested the trunk and everything works.&lt;/p&gt;

&lt;p&gt;I always used ssh-keygen and if you define an empty passphrase, it use as passphrase the OS password.&lt;br/&gt;
So, it sound to me strange to create Private Keys without passphrase.. but it is possible.&lt;/p&gt;


&lt;p&gt;Finally, I didn&apos;t understand your comments at 01:34.&lt;/p&gt;

&lt;p&gt;Marco&lt;/p&gt;</comment>
                            <comment id="13553832" author="garydgregory" created="Tue, 15 Jan 2013 14:18:23 +0000"  >&lt;p&gt;About code formatting? Compare your patch to what is in trunk and look at how spacing is used.&lt;/p&gt;</comment>
                            <comment id="13581128" author="joehni" created="Tue, 19 Feb 2013 08:36:20 +0000"  >&lt;p&gt;Patch has been applied and reporter confirmed successful operation.&lt;/p&gt;</comment>
                            <comment id="13583331" author="joehni" created="Thu, 21 Feb 2013 16:32:29 +0000"  >&lt;p&gt;IMHO this change is actually wrong. The password parameter is typically used for authentication if the password has to be sent as part of the URL. Now it is abused as passphrase for an identity file.&lt;/p&gt;

&lt;p&gt;We face with this solution two problems:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;the password is still used in the URL (!!!)&lt;/li&gt;
	&lt;li&gt;the generation of the SftpClient fails always if you have multiple identities and they do not all share the same passphrase&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Therefore we should actually rollback this change and implement a solution as proposed in &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-283&quot; title=&quot;SFTP can not use private keys protected by pass phrase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-283&quot;&gt;&lt;del&gt;VFS-283&lt;/del&gt;&lt;/a&gt; and reuse that mechanism for FTPS.&lt;/p&gt;</comment>
                            <comment id="13584052" author="joehni" created="Fri, 22 Feb 2013 07:27:30 +0000"  >&lt;p&gt;Changes reverted, resolved as duplicate, since &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-283&quot; title=&quot;SFTP can not use private keys protected by pass phrase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-283&quot;&gt;&lt;del&gt;VFS-283&lt;/del&gt;&lt;/a&gt; supersedes this issue. &lt;/p&gt;

&lt;p&gt;$ svn ci -m &quot;Reverted change 1433253 of &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-451&quot; title=&quot;Authentication fails using private key&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-451&quot;&gt;&lt;del&gt;VFS-451&lt;/del&gt;&lt;/a&gt;.&quot;&lt;br/&gt;
Sending        core/src/main/java/org/apache/commons/vfs2/provider/sftp/SftpClientFactory.java&lt;br/&gt;
Sending        src/changes/changes.xml&lt;br/&gt;
Sending        src/site/xdoc/testing.xml&lt;br/&gt;
Transmitting file data ..&lt;br/&gt;
Committed revision 1448916.&lt;/p&gt;</comment>
                            <comment id="15291763" author="b.eckenfels" created="Thu, 19 May 2016 18:25:52 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                                                <inwardlinks description="is superceded by">
                                        <issuelink>
            <issuekey id="12438182">VFS-283</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12564793" name="SftpClientFactory.java.patch" size="1888" author="ilmarcoronchi" created="Mon, 14 Jan 2013 22:25:04 +0000"/>
                            <attachment id="12564651" name="SimpleTest.java" size="958" author="ilmarcoronchi" created="Mon, 14 Jan 2013 00:43:34 +0000"/>
                            <attachment id="12564650" name="vfs-patch-2.txt" size="2079" author="ilmarcoronchi" created="Mon, 14 Jan 2013 00:32:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>304065</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17hxz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>251876</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-450] HDFSFileSystem.resolveFile() does not honor CacheStrategy.ON_RESOLVE</title>
                <link>https://issues.apache.org/jira/browse/VFS-450</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description></description>
                <environment></environment>
        <key id="12626865">VFS-450</key>
            <summary>HDFSFileSystem.resolveFile() does not honor CacheStrategy.ON_RESOLVE</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ggregory">Gary D. Gregory</assignee>
                                    <reporter username="dlmarion">Dave Marion</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Jan 2013 22:46:39 +0000</created>
                <updated>Thu, 19 May 2016 18:25:59 +0000</updated>
                            <resolved>Thu, 10 Jan 2013 14:18:25 +0000</resolved>
                                    <version>2.1</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="900">0.25h</timeoriginalestimate>
                            <timeestimate seconds="900">0.25h</timeestimate>
                                        <comments>
                            <comment id="13549140" author="dlmarion" created="Wed, 9 Jan 2013 22:47:12 +0000"  >&lt;p&gt;I know exactly what needs to happen here, should be able to put up a patch later tonight.&lt;/p&gt;</comment>
                            <comment id="13549287" author="dlmarion" created="Thu, 10 Jan 2013 01:55:15 +0000"  >&lt;p&gt;Patch attached.&lt;/p&gt;</comment>
                            <comment id="13549658" author="garydgregory" created="Thu, 10 Jan 2013 14:18:25 +0000"  >&lt;p&gt;Thank you for the patch!&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;commit -m &quot;[VFS-450] HDFSFileSystem.resolveFile() does not honor CacheStrategy.ON_RESOLVE.&quot; C:/svn/org/apache/commons/trunks-proper/vfs/src/changes/changes.xml C:/svn/org/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/provider/hdfs/HdfsFileSystem.java
    Sending        C:/svn/org/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/provider/hdfs/HdfsFileSystem.java
    Sending        C:/svn/org/apache/commons/trunks-proper/vfs/src/changes/changes.xml
    Transmitting file data ...
    Committed revision 1431376.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15291785" author="b.eckenfels" created="Thu, 19 May 2016 18:25:59 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12564085" name="VFS-450-1.patch" size="943" author="dlmarion" created="Thu, 10 Jan 2013 01:54:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303555</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17cbz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>250966</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-449] HDFS Provider is not removing cached files</title>
                <link>https://issues.apache.org/jira/browse/VFS-449</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;The HDFS file provider is not removing files from the local cache when the file is deleted from HDFS.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12626185">VFS-449</key>
            <summary>HDFS Provider is not removing cached files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dlmarion">Dave Marion</reporter>
                        <labels>
                            <label>cache</label>
                            <label>hdfs</label>
                    </labels>
                <created>Sat, 5 Jan 2013 16:08:07 +0000</created>
                <updated>Thu, 19 May 2016 18:26:22 +0000</updated>
                            <resolved>Sat, 5 Jan 2013 16:34:24 +0000</resolved>
                                    <version>2.1</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13544741" author="dlmarion" created="Sat, 5 Jan 2013 16:11:41 +0000"  >&lt;p&gt;Attached patch that clears the internal state appropriately and removes files from the local cache if the cache is being used.&lt;/p&gt;</comment>
                            <comment id="13544743" author="dlmarion" created="Sat, 5 Jan 2013 16:18:07 +0000"  >&lt;p&gt;Ignore Accumulo patch, I uploaded by mistake&lt;/p&gt;</comment>
                            <comment id="13544749" author="garydgregory" created="Sat, 5 Jan 2013 16:34:24 +0000"  >&lt;p&gt;Good catch and thank you for the patch.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;commit -m &quot;[VFS-449] HDFS Provider is not removing cached files.&quot; C:/svn/org/apache/commons/trunks-proper/vfs/src/changes/changes.xml C:/svn/org/apache/commons/trunks-proper/vfs/core/src/test/java/org/apache/commons/vfs2/provider/hdfs/test/HdfsFileProviderTest.java C:/svn/org/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/provider/hdfs/HdfsFileObject.java C:/svn/org/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/provider/hdfs/HdfsFileSystem.java
    Sending        C:/svn/org/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/provider/hdfs/HdfsFileObject.java
    Sending        C:/svn/org/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/provider/hdfs/HdfsFileSystem.java
    Sending        C:/svn/org/apache/commons/trunks-proper/vfs/core/src/test/java/org/apache/commons/vfs2/provider/hdfs/test/HdfsFileProviderTest.java
    Sending        C:/svn/org/apache/commons/trunks-proper/vfs/src/changes/changes.xml
    Transmitting file data ...
    Committed revision 1429326.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15291847" author="b.eckenfels" created="Thu, 19 May 2016 18:26:22 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12563430" name="ACCUMULO-927-2.patch" size="65501" author="dlmarion" created="Sat, 5 Jan 2013 16:17:31 +0000"/>
                            <attachment id="12563429" name="VFS-449-1.patch" size="7703" author="dlmarion" created="Sat, 5 Jan 2013 16:10:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302771</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i175bj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249830</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-447] Update Apache Commons Net to 3.2 from 3.1.</title>
                <link>https://issues.apache.org/jira/browse/VFS-447</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Update Apache Commons Net to 3.2 from 3.1.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Apache Maven 3.0.4 (r1232337; 2012-01-17 03:44:56-0500)&lt;br/&gt;
Maven home: C:\Java\apache-maven-3.0.4\bin\..&lt;br/&gt;
Java version: 1.6.0_35, vendor: Sun Microsystems Inc.&lt;br/&gt;
Java home: C:\Program Files\Java\jdk1.6.0_35\jre&lt;br/&gt;
Default locale: en_US, platform encoding: Cp1252&lt;br/&gt;
OS name: &quot;windows 7&quot;, version: &quot;6.1&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;&lt;/p&gt;</environment>
        <key id="12618562">VFS-447</key>
            <summary>Update Apache Commons Net to 3.2 from 3.1.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ggregory">Gary D. Gregory</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Dec 2012 13:16:31 +0000</created>
                <updated>Thu, 19 May 2016 18:26:11 +0000</updated>
                            <resolved>Mon, 3 Dec 2012 15:40:55 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13508810" author="garydgregory" created="Mon, 3 Dec 2012 15:40:55 +0000"  >&lt;p&gt;In SVN.&lt;/p&gt;</comment>
                            <comment id="15291817" author="b.eckenfels" created="Thu, 19 May 2016 18:26:11 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>293398</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0szhr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>167227</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-446] [SFTP] Undesired blocking during FileUtil.copyContent if destFile is SftpFileObject and the network connection to destFile goes away</title>
                <link>https://issues.apache.org/jira/browse/VFS-446</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;I&apos;m attempting to copy content of srcFile to destFile using FileUtil.copyContent(FileObject srcFile, FileObject destFile).  While the content is being transferred, but before it completes, I bring the network down on the destination sftp server.  No exception is thrown and thread blocks until what I can only assume is some long system timeout.  &lt;/p&gt;

&lt;p&gt;MonitorOutputStream appears to handle a client-side close fine but if the remote server closes the connection after the write already started then when the underlying BufferedOutputStream flushes to the underlying network stream it hangs until the system timeout expires.&lt;/p&gt;

&lt;p&gt;The subsequent destFile.getContent().getOutputStream().close() suffers the same fate as does the closing of destFile&apos;s FileSystemManager - I&apos;m guessing because each attempts to flush to the underlying network stream.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Ubuntu 12.04 &lt;br/&gt;
jdk 1.6.0_34-b04&lt;br/&gt;
jsch-0.1.48&lt;/p&gt;</environment>
        <key id="12616309">VFS-446</key>
            <summary>[SFTP] Undesired blocking during FileUtil.copyContent if destFile is SftpFileObject and the network connection to destFile goes away</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="powerchoke">BenD</reporter>
                        <labels>
                    </labels>
                <created>Thu, 15 Nov 2012 21:05:33 +0000</created>
                <updated>Thu, 15 Nov 2012 22:01:59 +0000</updated>
                                            <version>2.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13498343" author="powerchoke" created="Thu, 15 Nov 2012 21:14:53 +0000"  >&lt;p&gt;To work around I ditched using FileUtil.copyContent and implemented my own loop where each write to the output stream was executed using a Future and setting a reasonable timer.&lt;/p&gt;

&lt;p&gt;What is needed is a way for the underlying jsch.Session to signal/notify the SftpFileObject its connection has been closed.&lt;/p&gt;

</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>258069</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 50 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0kmbr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118434</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-444] ResourceFileProvider &quot;res://&quot; failed to obtain FileObject from resolved FileName</title>
                <link>https://issues.apache.org/jira/browse/VFS-444</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Given&lt;/p&gt;

&lt;p&gt;  // See if we can find it in the resources.&lt;br/&gt;
  String s0 = &quot;res://config.xml&quot;;&lt;br/&gt;
  FileName n0 = mgr.resolveURI(s0);&lt;/p&gt;

&lt;p&gt;  FileObject c1 = mgr.resolveFile(new File(n0.getBaseName()), n0.getPath());&lt;br/&gt;
      logger.info(&quot;c1: &quot; + c1 + &quot; : &quot; + c1.exists());&lt;/p&gt;

&lt;p&gt;The code seems to have worked because, I can see the logger has the right URL in the SoftResFilesCache&lt;/p&gt;

&lt;p&gt;12:43:29,734 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;StandardFileSystemManager&amp;#93;&lt;/span&gt; Skipping provider &quot;org.apache.commons.vfs2.provider.webdav.WebdavFileProvider&quot; because required class &quot;org.apache.jackrabbit.webdav.client.methods.DavMethod&quot; is not available.&lt;br/&gt;
12:43:29,765 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;SoftRefFilesCache&amp;#93;&lt;/span&gt; putFile: &lt;a href=&quot;file:///misc/build2/fpstats0/fpstats-experimental/config.xml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:///misc/build2/fpstats0/fpstats-experimental/config.xml&lt;/a&gt;&lt;br/&gt;
12:43:29,767 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;SoftRefFilesCache&amp;#93;&lt;/span&gt; putFile: &lt;a href=&quot;file:///config.xml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:///config.xml&lt;/a&gt;&lt;br/&gt;
12:43:29,767 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;Version&amp;#93;&lt;/span&gt; c1: &lt;a href=&quot;file:///config.xml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:///config.xml&lt;/a&gt; : false&lt;/p&gt;

&lt;p&gt;The file is there!&lt;/p&gt;

&lt;p&gt;But I cannot get a FileObject that gives me the absolute path.&lt;/p&gt;

&lt;p&gt;This would be useful for me. I want to be able to resolve a file out of the resources: jar files and classes/ directories. And keep that in reserve as I try and resolve the same file in -Duser.home and elsewhere.&lt;/p&gt;

&lt;p&gt;If it worked, and I believed it, I could then use the &quot;res://config.xml&quot; it for commons-configuration.&lt;/p&gt;

&lt;p&gt;But I can&apos;t.&lt;/p&gt;

&lt;p&gt;I just don&apos;t understand the API - is it complete? I can resolve a URL and get a FileName, but it won&apos;t tell me the FileSystem(s) without that I can&apos;t resolve it in this SoftResFilesCache.&lt;/p&gt;

&lt;p&gt;If it were me, I would just open the SoftResFilesCache and add a search for the base filename of a URL across all FileSystems.&lt;/p&gt;

&lt;p&gt;I use a filesystems to find things. I give it a hint where I saw it last and I want to track if it is still there and whether it has changed.&lt;/p&gt;</description>
                <environment>&lt;p&gt;java version &quot;1.6.0_26&quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.6.0_26-b03)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 20.1-b02, mixed mode)&lt;br/&gt;
Linux x 2.6.32-5-amd64 #1 SMP Sun May 6 04:00:17 UTC 2012 x86_64 GNU/Linux&lt;/p&gt;</environment>
        <key id="12615884">VFS-444</key>
            <summary>ResourceFileProvider &quot;res://&quot; failed to obtain FileObject from resolved FileName</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="eepgwde">Walter Eaves</reporter>
                        <labels>
                            <label>common-configuration</label>
                    </labels>
                <created>Tue, 13 Nov 2012 13:02:33 +0000</created>
                <updated>Thu, 29 Aug 2019 20:37:38 +0000</updated>
                            <resolved>Thu, 29 Aug 2019 20:37:38 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.5.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="604800">168h</timeoriginalestimate>
                            <timeestimate seconds="603600">167h 40m</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="13496297" author="garydgregory" created="Tue, 13 Nov 2012 16:21:58 +0000"  >&lt;p&gt;How about this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;FileObject fo = VFS.getManager().resolveFile(&lt;span class=&quot;code-quote&quot;&gt;&quot;res:test.txt&quot;&lt;/span&gt;);
File f = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(fo.getURL().getPath());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13497076" author="eepgwde" created="Wed, 14 Nov 2012 13:05:43 +0000"  >&lt;p&gt;Thanks. Yes, you would hope for that, but, ISTR, that approach failed for me because resolveFile() doesn&apos;t expect a URI.&lt;/p&gt;

&lt;p&gt;Even when you manage to get it to resolve to a FileName, the base of the FileName object is not part of the name, so you can&apos;t get it into a File object that works. It comes back as &lt;a href=&quot;file://test.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file://test.txt&lt;/a&gt;, relative to the base, which VFS won&apos;t tell you.&lt;/p&gt;

&lt;p&gt;But I will try what you suggested next time I have that code up. Thanks.&lt;/p&gt;
</comment>
                            <comment id="13502810" author="eepgwde" created="Thu, 22 Nov 2012 15:03:32 +0000"  >&lt;p&gt;Yes. I had tried that before. Here&apos;s the test code.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  @Test
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void test02() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
    &lt;span class=&quot;code-comment&quot;&gt;// See &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; we can find it in the resources.
&lt;/span&gt;    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; s0 = &lt;span class=&quot;code-quote&quot;&gt;&quot;res:/config.xml&quot;&lt;/span&gt;;
    FileObject fo = VFS.getManager().resolveFile(&lt;span class=&quot;code-quote&quot;&gt;&quot;res:/config.xml&quot;&lt;/span&gt;);
    File f = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(fo.getURL().getPath());
    logger.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;c1: &quot;&lt;/span&gt; + f + &lt;span class=&quot;code-quote&quot;&gt;&quot; : &quot;&lt;/span&gt; + f.exists());
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here&apos;s the test result:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Results :

Tests in error: 
  test02(TestConfiguration1): Badly formed URI &lt;span class=&quot;code-quote&quot;&gt;&quot;res:/config.xml&quot;&lt;/span&gt;.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But, of course, you probably got that result yourself when you ran your test, so you must be using a different version of the VFS2 component. One that is able to parse the URI. Can you tell me the version?&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="14295105" author="kalgon" created="Wed, 28 Jan 2015 12:48:48 +0000"  >&lt;p&gt;I&apos;ve got a similar problem, &lt;tt&gt;resolveFile()&lt;/tt&gt; does not accept names starting with &lt;tt&gt;res:/&lt;/tt&gt; or &lt;tt&gt;res://&lt;/tt&gt; but well with &lt;tt&gt;res:&lt;/tt&gt; while &lt;tt&gt;resolveURI()&lt;/tt&gt; does the opposite (it does not accept &lt;tt&gt;res:&lt;/tt&gt; but well &lt;tt&gt;res:/&lt;/tt&gt; or &lt;tt&gt;res:///////////&lt;/tt&gt;) which is totally inconsistent.&lt;/p&gt;

&lt;p&gt;I&apos;m trying to resolve an URI relative to an other (which returns something like &lt;tt&gt;res:///&lt;/tt&gt;) but as soon as I try to resolve it as file through &lt;tt&gt;resolveFile&lt;/tt&gt; it fails as no slash is allowed after &lt;tt&gt;res:&lt;/tt&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;	@Test
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void resolveFullPathURI0() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
		VFS.getManager().resolveURI(&lt;span class=&quot;code-quote&quot;&gt;&quot;res:META-INF/config.xml&quot;&lt;/span&gt;); &lt;span class=&quot;code-comment&quot;&gt;// not an absolute file name
&lt;/span&gt;	}

	@Test
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void resolveFullPathFile0() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
		VFS.getManager().resolveFile(&lt;span class=&quot;code-quote&quot;&gt;&quot;res:META-INF/config.xml&quot;&lt;/span&gt;); &lt;span class=&quot;code-comment&quot;&gt;// OK
&lt;/span&gt;	}

	@Test
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void resolveFullPathURI1() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
		VFS.getManager().resolveURI(&lt;span class=&quot;code-quote&quot;&gt;&quot;res:/META-INF/config.xml&quot;&lt;/span&gt;); &lt;span class=&quot;code-comment&quot;&gt;// OK (res:///META-INF/config.xml)
&lt;/span&gt;	}

	@Test
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void resolveFullPathFile1() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
		VFS.getManager().resolveFile(&lt;span class=&quot;code-quote&quot;&gt;&quot;res:/META-INF/config.xml&quot;&lt;/span&gt;); &lt;span class=&quot;code-comment&quot;&gt;// badly formed URI
&lt;/span&gt;	}

	@Test
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void resolveFullPathURI2() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
		VFS.getManager().resolveURI(&lt;span class=&quot;code-quote&quot;&gt;&quot;res:&lt;span class=&quot;code-comment&quot;&gt;//META-INF/config.xml&quot;&lt;/span&gt;); // OK (res:///META-INF/config.xml)
&lt;/span&gt;	}

	@Test
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void resolveFullPathFile2() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
		VFS.getManager().resolveFile(&lt;span class=&quot;code-quote&quot;&gt;&quot;res:&lt;span class=&quot;code-comment&quot;&gt;//META-INF/config.xml&quot;&lt;/span&gt;); // badly formed URI
&lt;/span&gt;	}

	@Test
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void resolvePartialPath1() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
		VFS.getManager().resolveURI(&lt;span class=&quot;code-quote&quot;&gt;&quot;res:META-INF&quot;&lt;/span&gt;); &lt;span class=&quot;code-comment&quot;&gt;// not an absolute file name
&lt;/span&gt;	}

	@Test
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void resolvePartialPath2() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
		FileName root = VFS.getManager().resolveURI(&lt;span class=&quot;code-quote&quot;&gt;&quot;res:/META-INF&quot;&lt;/span&gt;); &lt;span class=&quot;code-comment&quot;&gt;// OK
&lt;/span&gt;		FileName file = VFS.getManager().resolveName(root, &lt;span class=&quot;code-quote&quot;&gt;&quot;config.xml&quot;&lt;/span&gt;); &lt;span class=&quot;code-comment&quot;&gt;// OK
&lt;/span&gt;		&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; uri = file.getURI(); &lt;span class=&quot;code-comment&quot;&gt;// OK (res:///META-INF/config.xml)
&lt;/span&gt;		VFS.getManager().resolveFile(uri); &lt;span class=&quot;code-comment&quot;&gt;// badly formed URI
&lt;/span&gt;	}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16916685" author="elmuerte" created="Tue, 27 Aug 2019 12:42:59 +0000"  >&lt;p&gt;I am working on a patch for this issue as I ran into the problem of using an URI like &lt;tt&gt;jar:res:foo/bar.jar&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;I have got that part working. But now I&apos;m incorporating Xavier&apos;s test cases.&lt;/p&gt;

&lt;p&gt;The way resource loading works from the Java ClassLoader is that locations are always absolute, there is no such thing as relative locations. So, &quot;res:META-INF/config.xml&quot; is an absolute location.&lt;/p&gt;

&lt;p&gt;The patch I&apos;m creating will have ResourceFileNames with the specified uri like &quot;res:META-INF/config.xml&quot;.&lt;/p&gt;

&lt;p&gt;The above test cases also have URIs like:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;res:/META-INF/config.xml&lt;/li&gt;
	&lt;li&gt;res://META-INF/config.xml&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Both should be invalid uri&apos;s.&lt;/p&gt;

&lt;p&gt;The former because ClassLoader.getResource(&apos;/META-INF/config.xml&apos;) returns null.&lt;/p&gt;

&lt;p&gt;The latter because the &apos;//&apos; after the schema is used to identify that following it should be an &quot;authority&quot;. But there is no such thing as authority. (1)&lt;/p&gt;

&lt;p&gt;So I am inclined to have the above cases to always fail for &apos;/&apos; and &apos;//&apos; prefixes. Currently they have mixed results, so that&apos;s no good.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;(1) in the file protocol they support the empty authority, hence the three slashes: &lt;tt&gt;&lt;a href=&quot;file:///&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:///&lt;/a&gt;&lt;/tt&gt; but I don&apos;t think it&apos;s a good idea to support that too.&lt;/p&gt;</comment>
                            <comment id="16916769" author="elmuerte" created="Tue, 27 Aug 2019 14:35:46 +0000"  >&lt;p&gt;I have the patch mostly ready. Just doing some final verification against the API and documentation before I make a PR.&lt;/p&gt;

&lt;p&gt;I see that on the main &lt;a href=&quot;https://commons.apache.org/proper/commons-vfs/filesystems.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;filesystem documentation page&lt;/a&gt; it mentions that the resource URI format is &lt;tt&gt;res://[ &lt;em&gt;path&lt;/em&gt;]&lt;/tt&gt; but that&apos;s not correct. It does not work correctly as pointed out by Xavier. And with my patch it is absolutely not supported (see previous comment). &lt;/p&gt;

&lt;p&gt;So my patch does affect behavior previously, incorrectly, documented.&lt;/p&gt;</comment>
                            <comment id="16918933" author="garydgregory" created="Thu, 29 Aug 2019 20:37:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=elmuerte&quot; class=&quot;user-hover&quot; rel=&quot;elmuerte&quot;&gt;elmuerte&lt;/a&gt;&#160;[&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eepgwde&quot; class=&quot;user-hover&quot; rel=&quot;eepgwde&quot;&gt;eepgwde&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kalgon&quot; class=&quot;user-hover&quot; rel=&quot;kalgon&quot;&gt;kalgon&lt;/a&gt;]:&lt;/p&gt;

&lt;p&gt;In git master. Please verify and close.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=elmuerte&quot; class=&quot;user-hover&quot; rel=&quot;elmuerte&quot;&gt;elmuerte&lt;/a&gt;: Thank you for the patch and patience! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Gary&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>257369</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 8 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0jy5z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>114467</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-443] Need an easy way to convert from a FileObject to a File</title>
                <link>https://issues.apache.org/jira/browse/VFS-443</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;I&apos;ve seen the reasons why Apache does not want to provide an easy way to convert from a FileObject to a java.io.File and those reasons make sense - however, I think that some things are being overlooked and there are still valid reasons for needing to convert from a FileObject to a File.&lt;/p&gt;

&lt;p&gt;Firstly, I would like to always use Apache VFS for everything I do - even if I know it&apos;s only on the local file system. The reasons for this are:&lt;/p&gt;

&lt;p&gt;1. it makes the code more flexible (it might start of being local file system and then as specs change it could become a requirement to work over http or inside zip files for example). &lt;/p&gt;

&lt;p&gt;2. The API is nicer to use than the java.io.File and it&apos;s easier to write cross platform code using it (file separator is always &quot;/&quot; etc).&lt;/p&gt;

&lt;p&gt;So if I work with Apache VFS for local file system use I would like to be able to get back to a java.io.File in case I need to interface with same other library. I would like a method that converted to a File or null if not possible. This would allow me to take an alternate action (eg copy file to local temp file if it&apos;s not already a local file). There&apos;s no need to copy the file if it is already local.&lt;/p&gt;

&lt;p&gt;The simplest fix for this is to just make the getLocalFile() method in LocalFile public. Once the user knows it&apos;s a LocalFile object it makes sense to call this method to obtain the java.io.File. So I could write a method like this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;FileUtilities.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;/**
    * If the supplied {@link FileObject} represents a local file then &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; returns that, otherwise
    * returns &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;.
    */
   &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; File getLocalFile(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FileObject fileObject)
   {
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (fileObject &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; LocalFile)
      {
         &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; LocalFile localFile = (LocalFile)fileObject;

         &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; localFile.getLocalFile();
      }

      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
   }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12615857">VFS-443</key>
            <summary>Need an easy way to convert from a FileObject to a File</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="4" iconUrl="https://issues.apache.org/jira/images/icons/statuses/reopened.png" description="This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.">Reopened</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="ggregory">Gary D. Gregory</assignee>
                                    <reporter username="nickallen">Nick Allen</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Nov 2012 08:38:53 +0000</created>
                <updated>Mon, 15 Mar 2021 18:18:16 +0000</updated>
                                            <version>2.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13496185" author="garydgregory" created="Tue, 13 Nov 2012 13:25:39 +0000"  >&lt;p&gt;What about using:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;File f = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(fo.getURL().getPath());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Making getLocalFile() a public method is possible but against the current design. If you look at all the FileObject subclasses, the only public methods are @Override methods.&lt;/p&gt;</comment>
                            <comment id="13496484" author="nickallen" created="Tue, 13 Nov 2012 19:52:44 +0000"  >&lt;p&gt;That does not work if the url contains special characters (eg !,%, space etc) so is not a suitable replacement.&lt;/p&gt;</comment>
                            <comment id="13496487" author="nickallen" created="Tue, 13 Nov 2012 19:55:53 +0000"  >&lt;p&gt;I don&apos;t see why the only public methods have to be overrides. Why even expose the LocalFile class in that case? It can&apos;t do anything more than a FileObject can so as a client of the library I don&apos;t need to know about that class at all if I can access all it&apos;s functionality through its base class. It&apos;s a common design pattern that a sub-class can extend and add extra functionality so I don&apos;t really see why this should be a problem at all from a design point of view.&lt;/p&gt;</comment>
                            <comment id="13496505" author="garydgregory" created="Tue, 13 Nov 2012 20:16:36 +0000"  >&lt;p&gt;&quot;That does not work if the url contains special characters (eg !,%, space etc) s&quot;&lt;/p&gt;

&lt;p&gt;It depends on the file provider, this works (in trunk):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    @Test
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testFileObjectToFile() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; FileSystemException {
        FileObject fo = VFS.getManager().resolveFile(&lt;span class=&quot;code-quote&quot;&gt;&quot;file:&lt;span class=&quot;code-comment&quot;&gt;//C:\\Users\\ggregory\\Documents\\eclipse\\LDE\\Java6Tests\\src\\test\\resources\\test space.txt&quot;&lt;/span&gt;);
&lt;/span&gt;        File f = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(fo.getURL().getPath());
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(f + &lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt; + f.exists());
    }

    @Test
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testResFileObjectToAbsoluteFile() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; FileSystemException {
        FileObject fo = VFS.getManager().resolveFile(&lt;span class=&quot;code-quote&quot;&gt;&quot;res:test space.txt&quot;&lt;/span&gt;);
        File f = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(fo.getURL().getPath());
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(f + &lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt; + f.exists());
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Can you provide an example of what you want to do?&lt;/p&gt;

&lt;p&gt;Thank you,&lt;br/&gt;
Gary&lt;/p&gt;</comment>
                            <comment id="13496550" author="nickallen" created="Tue, 13 Nov 2012 21:16:36 +0000"  >&lt;p&gt;I added Junit tests to check that conversion works to some utility functions and they fail using the method that was suggested.&lt;/p&gt;

&lt;p&gt;Here are my unit tests:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;FileUtilityTests.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@Test
   &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testFileObjectConversion()
   {
      testFileObjectConversion(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;hello.txt&quot;&lt;/span&gt;));
      testFileObjectConversion(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;hello there.txt&quot;&lt;/span&gt;));
      testFileObjectConversion(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;hello!?%#.txt&quot;&lt;/span&gt;));
   }

   &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void testFileObjectConversion(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; File file)
   {
      &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FileObject fileObject = FileUtilities.getFileObject(file);
      &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; File localFile = FileUtilities.getLocalFile(fileObject);

      Assert.assertTrue(localFile != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
      Assert.assertEquals(file.getAbsoluteFile(), localFile);
   }

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And here are the functions that are tested:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;FileUtilities.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;/** Converts a {@link File} to a {@link FileObject}. */&lt;/span&gt;
   &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; FileObject getFileObject(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; File file)
   {
      &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;
      {
         &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; File absoluteFile = file.getAbsoluteFile();
         &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FileObject fileObject = VFS.getManager().toFileObject(absoluteFile);

         &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; fileObject != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
         &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; absoluteFile.equals(getLocalFile(fileObject));

         &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; fileObject;
      }
      &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FileSystemException e)
      {
         &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IllegalStateException(e);
      }
   }

   /**
    * If the supplied {@link FileObject} represents a local file then &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; returns that, otherwise
    * returns &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;.
    */
   &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; File getLocalFile(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FileObject fileObject)
   {
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (fileObject &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; LocalFile)
      {
         &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;
         {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(fileObject.getURL().getPath());
         }
         &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FileSystemException e)
         {
            &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IllegalStateException(e);
         }
      }

      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
   }

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13496556" author="nickallen" created="Tue, 13 Nov 2012 21:18:08 +0000"  >&lt;p&gt;The test for a file with space works but with ?!# chars it doesn&apos;t.&lt;/p&gt;</comment>
                            <comment id="13496815" author="garydgregory" created="Wed, 14 Nov 2012 03:39:04 +0000"  >&lt;p&gt;OK, you&apos;ve convinced me, &lt;tt&gt;getLocalFile()&lt;/tt&gt; is now public with a usage recommendation in the Javadoc.&lt;/p&gt;

&lt;p&gt;Please provide feedback on the Javadoc if you would. Or anything else in VFS2.&lt;/p&gt;

&lt;p&gt;Thank you!&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;commit -m &quot;[VFS-443] [Local] Need an easy way to convert from a FileObject to a File.&quot; C:/svn/org/apache/commons/trunks-proper/vfs/src/changes/changes.xml C:/svn/org/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/provider/local/LocalFile.java
    Sending        C:/svn/org/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/provider/local/LocalFile.java
    Sending        C:/svn/org/apache/commons/trunks-proper/vfs/src/changes/changes.xml
    Transmitting file data ...
    Committed revision 1409075.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13496963" author="joehni" created="Wed, 14 Nov 2012 09:11:46 +0000"  >&lt;p&gt;Hi Greg,&lt;/p&gt;

&lt;p&gt;actually I think this is not the proper action. Your code should be the obvious solution, but it fails, because it simply demonstrates a fundamental problem with VFS&apos; URL handling:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testFileNameWithSpaces() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; VirtualFileSystemException, URISyntaxException, IOException
{
  &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; File file = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;target&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;a name.txt&quot;&lt;/span&gt;);
  &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; fileURL = file.toURI().toURL().toExternalForm();
  assertEquals(file.getAbsoluteFile(), &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(file.toURI().getPath()));
  assertEquals(file.getAbsoluteFile(), &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; URL(fileURL).toURI().getPath()));

  &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FileSystemManager manager = VFS.getManager();
  &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FileObject fo = manager.resolveFile(fileURL);
  assertEquals(file.getAbsoluteFile(), &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; URL(fo.getURL().toExternalForm()).toURI().getPath()));
}

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testFileNameWithCharacters() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; VirtualFileSystemException, URISyntaxException, IOException
{
  &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; File file = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;target&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;+# %&amp;amp;.txt&quot;&lt;/span&gt;);
  &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; fileURL = file.toURI().toURL().toExternalForm();
  assertEquals(file.getAbsoluteFile(), &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(file.toURI().getPath()));
  assertEquals(file.getAbsoluteFile(), &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; URL(fileURL).toURI().getPath()));

  &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
    &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileOutputStream(file).close();
    assertTrue(file.exists());

    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FileSystemManager manager = VFS.getManager();
    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FileObject fo = manager.resolveFile(fileURL);
    assertTrue(fo.exists());
    assertEquals(file.getAbsoluteFile(), &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; URL(fo.getURL().toExternalForm()).toURI().getPath()));
  } &lt;span class=&quot;code-keyword&quot;&gt;finally&lt;/span&gt; {
    file.delete();
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Formally URLs are defined as subset of an URI in RFC 2396. However, java.net.URL has a long and sad story and the class does not ensure that the URL instance complies to this RFC. Even worse, the direct conversion between File and URL was never implemented properly and it will never be corrected, because too much code relies on the bad behavior (i.e. tries to fix the result afterwards). Therefore the JDK documents to do a proper conversion like in my unit test above using temporary URIs (see Javadoc for URL and URI).&lt;/p&gt;

&lt;p&gt;However, VFS fails here badly. The first test above fails in the last line with a URISyntaxException, because the URL returned from FileObject is no longer compliant - although a compliant URL was provided to VFS. The last assert in the second test fails, because the URL is truncated; VFS does no proper URL encoding/decoding.&lt;/p&gt;</comment>
                            <comment id="13496989" author="nickallen" created="Wed, 14 Nov 2012 09:53:49 +0000"  >&lt;p&gt;Thanks for making this public &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Is this now deployed as snapshot in maven repository yet? If so I can quickly update our maven dependency and check it works for you. The javadocs look good to me. I can&apos;t comment too much on the URL handling in VFS though...&lt;/p&gt;</comment>
                            <comment id="13496995" author="nickallen" created="Wed, 14 Nov 2012 10:01:10 +0000"  >&lt;p&gt;Looking at the LocalFile.java class it looks like the implementation has bugs in it. Just making getLocalFile() public will not work because this just directly returns the field and in my debugger I can see that this is null at this point. It seems the file has to be attached first. Looking at the LocalFile.doAttach() method it seems that this just uses the decoded path in the name but on Windows this should be with &quot;\&quot; not &quot;/&quot; and also the C:\ part is missing. I can&apos;t debug it yet to check but that is what I would expect to happen.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;LocalFile.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
/**
     * Returns the local file that &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; file object represents.
     */
    &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; File getLocalFile()
    {
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; file;
    }

    /**
     * Attaches &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; file object to its file resource.
     */
    @Override
    &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void doAttach() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception
    {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (file == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
        {
            &lt;span class=&quot;code-comment&quot;&gt;// Remove the &lt;span class=&quot;code-quote&quot;&gt;&quot;file:///&quot;&lt;/span&gt;
&lt;/span&gt;            &lt;span class=&quot;code-comment&quot;&gt;// LocalFileName localFileName = (LocalFileName) getName();
&lt;/span&gt;            &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; fileName = rootFile + getName().getPathDecoded();
            &lt;span class=&quot;code-comment&quot;&gt;// fileName = UriParser.decode(fileName);
&lt;/span&gt;            file = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(fileName);
        }
    }

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13497328" author="garydgregory" created="Wed, 14 Nov 2012 18:38:11 +0000"  >&lt;p&gt;@Joerge&apos;s &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-443?focusedCommentId=13496963&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13496963&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/VFS-443?focusedCommentId=13496963&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13496963&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Well, this is quite a mess. &lt;/p&gt;

&lt;p&gt;Is &lt;tt&gt;LocalFileName.getURI()&lt;/tt&gt; the only place at fault here?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    /**
     * Returns the absolute URI of the file.
     * @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; The absolute URI of the file.
     */
    @Override
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getURI()
    {
        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; uri = &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.getURI();

        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (uri != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; uri.length() &amp;gt; 0)
        {
            &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;
            {
                &lt;span class=&quot;code-comment&quot;&gt;// VFS-325: Handle URI special characters in filename
&lt;/span&gt;                &lt;span class=&quot;code-comment&quot;&gt;// Decode the base uri and re-encode with URI special characters
&lt;/span&gt;                uri = UriParser.decode(uri);

                uri = UriParser.encode(uri, RESERVED_URI_CHARS);
            }
            &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (FileSystemException e)
            {
                &lt;span class=&quot;code-comment&quot;&gt;// Default to base uri value
&lt;/span&gt;            }
        }

        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; uri;
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then we have:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-comment&quot;&gt;// URI Characters that are possible in local filenames, but must be escaped
&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; proper URI handling.
&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;//
&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;// How reserved URI chars were selected:
&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;//
&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;//  URIs can contain :, /, ?, #, @
&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;//      See http://download.oracle.com/javase/6/docs/api/java/net/URI.html
&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;//          http://tools.ietf.org/html/rfc3986#section-2.2
&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;//
&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;//  Since : and / occur before the path, only chars after path are escaped (i.e., # and ?)
&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;//  ? is a reserved filesystem character &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; Windows and Unix, so can&apos;t be part of a filename.
&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;//  Therefore only # is a reserved &lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt; in a URI as part of the path that can be in the filename.
&lt;/span&gt;    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt; RESERVED_URI_CHARS[] = {&lt;span class=&quot;code-quote&quot;&gt;&apos;#&apos;&lt;/span&gt;};
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Adding &lt;tt&gt;&apos; &apos;&lt;/tt&gt; (a space char) to the array causes the two tests above to pass. &lt;/p&gt;

&lt;p&gt;But this is a hack, and seems to go against the method as coded.&lt;/p&gt;

&lt;p&gt;Any thoughts on how to best fix this?&lt;/p&gt;</comment>
                            <comment id="13497351" author="joehni" created="Wed, 14 Nov 2012 19:06:19 +0000"  >&lt;p&gt;1/ I am -1 to make getLocalFile() public. The internal File instance was always meant to be a lazy object that is not necessarily created.&lt;/p&gt;

&lt;p&gt;2/ the comment lies for Unix &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ touch \?.txt
$ ls *.txt
?.txt
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and of course can a file in Unix also have characters &apos;&lt;br class=&quot;atl-forced-newline&quot; /&gt;&apos;, &apos;:&apos;, &apos;\&apos;&apos;, or  ... (well, as long as it does not save it into FAT).&lt;/p&gt;

&lt;p&gt;3/ For me it seems that VFS does not really separate between URL and URI. E.g. an URL cannot contain a space, while it is valid for an URI. Therefore, if something like FileObject.getURL() returns a URL, it should always be possible to create a URI from it - and this is not limited to file URLs only. Basically it is now at least possible to use the JDK for proper conversion, 1.4 was the last to fail. VFS is a lot older, but it looks like there is plenty of cruft left, that does not really work as expected either.&lt;/p&gt;</comment>
                            <comment id="13497403" author="garydgregory" created="Wed, 14 Nov 2012 20:17:31 +0000"  >&lt;p&gt;-1 it is:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;commit -m &quot;Revert to making getLocalFile() protected.&quot; C:/svn/org/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/provider/local/LocalFile.java
    Sending        C:/svn/org/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/provider/local/LocalFile.java
    Transmitting file data ...
    Committed revision 1409369.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14611158" author="b.eckenfels" created="Wed, 1 Jul 2015 23:16:30 +0000"  >&lt;p&gt;I think it is good to reduce the exposure of provider classes/packages. All access should be done through the main api packages (which needs to be defined&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Otherwise it would be really hard to gurante compatibility.&lt;/p&gt;

&lt;p&gt;We already have a `FileSystemManager#toFileObject(File)` so we can add a FileSystemManager#toFile(FileObject)` as well?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>257342</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0jxwv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>114426</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-441] FileObject.exists - Could not determine the type of the file</title>
                <link>https://issues.apache.org/jira/browse/VFS-441</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;We are using common-vfs-1.0.jar. And it used to work fined. But on and off in a random manner, we get the following exception&lt;/p&gt;

&lt;p&gt;org.apache.commons.vfs.FileSystemException: Could not determine the type of file &quot;https://.....&quot;.&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractFileObject.attach(AbstractFileObject.java:1305)&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractFileObject.getType(AbstractFileObject.java:412)&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractFileObject.exists(AbstractFileObject.java:402)&lt;/p&gt;

&lt;p&gt;Caused by: org.apache.commons.vfs.FileSystemException: HEAD method failed for &quot;https://....&quot;.&lt;br/&gt;
	at org.apache.commons.vfs.provider.http.HttpFileObject.doGetType(HttpFileObject.java:96)&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractFileObject.attach(AbstractFileObject.java:1296)&lt;/p&gt;

&lt;p&gt;Restarting the server will work smoothly. But why this error occuring , any help would be appreciated. Thanks in advance.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12611829">VFS-441</key>
            <summary>FileObject.exists - Could not determine the type of the file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="4" iconUrl="https://issues.apache.org/jira/images/icons/statuses/reopened.png" description="This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.">Reopened</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="vijayansm">vijayan</reporter>
                        <labels>
                    </labels>
                <created>Mon, 15 Oct 2012 12:54:50 +0000</created>
                <updated>Wed, 21 May 2014 18:31:33 +0000</updated>
                                            <version>1.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14000916" author="b.eckenfels" created="Sat, 17 May 2014 23:11:21 +0000"  >&lt;p&gt;I am reviewing some older bugs. Hope you still read this. If you say &quot;restarting server helps&quot;, do you mean the Web server is restarted or the application which checks for existence? From the short information provided it looks to me like the web server returns an error which is different from 404 or 410. &lt;/p&gt;

&lt;p&gt;With &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-385&quot; title=&quot;Add HTTP status code to HTTP file provider exception messages when available.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-385&quot;&gt;&lt;del&gt;VFS-385&lt;/del&gt;&lt;/a&gt; it was changed to include the actual error code, so you can check what the server returned. I will close this bug as not reproducible, but dont hesitate to reopen it if you have additional info.&lt;/p&gt;</comment>
                            <comment id="14004570" author="vijayansm" created="Wed, 21 May 2014 10:55:19 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;Thanks for your comment. I just noticed that the file system manager used in&lt;br/&gt;
the application has not been closed. Could this be an issue? As I said,&lt;br/&gt;
restaring the app server may release all the resources and a new file&lt;br/&gt;
system manager gets initiated.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="14004571" author="vijayansm" created="Wed, 21 May 2014 10:55:41 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;Thanks for your comment. I just noticed that the file system manager used in&lt;br/&gt;
the application has not been closed. Could this be an issue? As I said,&lt;br/&gt;
restaring the app server may release all the resources and a new file&lt;br/&gt;
system manager gets initiated.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="14005053" author="b.eckenfels" created="Wed, 21 May 2014 18:31:20 +0000"  >&lt;p&gt;Hello, I think the Bug is invalid (as I will explain below), but to avoid re-opening it, I have a number of questions to better understand what you are reporting:&lt;/p&gt;

&lt;p&gt;a) you have a web server (application) and a java application which is running VFS. I will call this second application &quot;client&quot;. Is this the same or different processes?&lt;br/&gt;
b) how long does the client access the server with no HEAD errors? How long (time) and how many requests (roughly) are processed sucessfully until then?&lt;br/&gt;
c) if the requests start to fail, will all requests fail or only a few randomly?&lt;br/&gt;
d) what is the application you access, what is it doing to provide the data? what do you see in the web server access and error log?&lt;br/&gt;
e) you say &quot;restart&quot;, are you talking about the web server, the client or both? if you restart both, try to restart only one and tell us if it helps.&lt;br/&gt;
f) when it starts to fail and before restart take a look at the open connections between both applications (netstat -tn | ESTABLISHED).&lt;/p&gt;

&lt;p&gt;So here is the thing: the exception you have shown is thrown whenever a HTTP HEAD request is ansewered by the server with an unexpected error code. It expects 200 (file is there) or 404/301 (file is not there). Everything else will result in the above exception. The newer version of VFS will actually write the error code in the exception, but you should already be able to see the error in the web server logs. &lt;/p&gt;

&lt;p&gt;One likely error code could be 500 internal error because of some programing error in the web app (for example resource leak). It could also be an overload situation or similiar, all not directly related or fixable in VFS.&lt;/p&gt;

&lt;p&gt;As for your question on close: no I dont think it is required or will help. The only thing I could imagine which makes your web server create more errors is the number of open connections. This is lomited by the http pool (can be configured). Closing is not the right solution if you app is limited, reduce the number of connections per host.&lt;/p&gt;

&lt;p&gt;Please answer all a-f questions above, otherwise we cant help. If it turns out the problem is not in VFS I would recommend you discuss it further on the users@commoins mailinglist (not in this bug). I am waiting for your answers before I close it (again).&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>248701</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 24 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i09xvb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>55928</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-439] StaticUserAuthenticator usage example wrong</title>
                <link>https://issues.apache.org/jira/browse/VFS-439</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;The API usage site &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; contains an example of StaticUserAuthenticator with wrong argument order. Since all arguments are Strings, it is not obviously visible to new users, why vfs throws an Auth failure exception. A fiex can be found at &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://svn.apache.org/repos/asf/commons/proper/vfs/trunk/src/site/xdoc/api.xml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/commons/proper/vfs/trunk/src/site/xdoc/api.xml&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/penSecIT/commons-vfs/commit/f7dec20e3e0936b9e2261851487377dd1cfbfd20&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/penSecIT/commons-vfs/commit/f7dec20e3e0936b9e2261851487377dd1cfbfd20&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12609557">VFS-439</key>
            <summary>StaticUserAuthenticator usage example wrong</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="pensecit">penSec.IT UG (haftungsbeschr&#228;nkt)</reporter>
                        <labels>
                            <label>site</label>
                    </labels>
                <created>Fri, 28 Sep 2012 16:15:44 +0000</created>
                <updated>Thu, 19 May 2016 18:26:12 +0000</updated>
                            <resolved>Fri, 28 Sep 2012 22:44:51 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="60">1m</timeoriginalestimate>
                            <timeestimate seconds="60">1m</timeestimate>
                                        <comments>
                            <comment id="13465978" author="garydgregory" created="Fri, 28 Sep 2012 22:44:51 +0000"  >&lt;p&gt;Thank you!&lt;/p&gt;</comment>
                            <comment id="15291820" author="b.eckenfels" created="Thu, 19 May 2016 18:26:12 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>244196</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05k2n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30349</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-437] [FTP] StackOverFlowError getting the type of a directory with a symbolic link to a parent directory with the same name</title>
                <link>https://issues.apache.org/jira/browse/VFS-437</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;With the setting below, StackOverFlow exceptions occur and server crashes&lt;/p&gt;

&lt;p&gt;set the builder.setUserDirlsRoot (opt, true)&lt;/p&gt;

&lt;p&gt;Attept to pull with:&lt;br/&gt;
&lt;a href=&quot;ftp://root:password@ip:/Vol1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://root:password@ip:/Vol1&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Vol directory has the following info&lt;br/&gt;
lrwxrwxrwx  1 root root        5 Oct  5  2007 Vol1 -&amp;gt; /Vol1&lt;/p&gt;


&lt;p&gt;When it tries to look for the parent of the Vol1, it goes back to the same Vol1, which causes a infinite loop that eventually creates stackoverflow exception.&lt;/p&gt;

&lt;p&gt;The problem is inside the doGetType() method in FtpFileObject&lt;br/&gt;
    @Override&lt;br/&gt;
    protected FileType doGetType()&lt;br/&gt;
        throws Exception&lt;br/&gt;
    {&lt;br/&gt;
        // &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-210&quot; title=&quot;Wrapper-Mode VFS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-210&quot;&gt;VFS-210&lt;/a&gt;&lt;br/&gt;
        synchronized (getFileSystem())&lt;br/&gt;
        {&lt;br/&gt;
            if (this.fileInfo == null)&lt;/p&gt;
            {
                getInfo(false);
            }

&lt;p&gt;            if (this.fileInfo == UNKNOWN)&lt;/p&gt;
            {
                return FileType.IMAGINARY;
            }
&lt;p&gt;            else if (this.fileInfo.isDirectory())&lt;/p&gt;
            {
                return FileType.FOLDER;
            }
&lt;p&gt;            else if (this.fileInfo.isFile())&lt;/p&gt;
            {
                return FileType.FILE;
            }
&lt;p&gt;            else if (this.fileInfo.isSymbolicLink())&lt;/p&gt;
            {
                return getLinkDestination().getType();
            }
&lt;p&gt;        }&lt;/p&gt;

&lt;p&gt;        throw new FileSystemException(&quot;vfs.provider.ftp/get-type.error&quot;, getName());&lt;br/&gt;
    }&lt;/p&gt;

&lt;p&gt;It will keep hitting the &quot;else if (this.fileinfo.isSymbolicLink())&quot; condition and the fileinfo displayed is always the Vol1 under root directory.&lt;/p&gt;

&lt;p&gt;Exception is shown below&lt;br/&gt;
java.lang.StackOverflowError&lt;br/&gt;
	at org.apache.commons.net.ftp.FTPFile.isDirectory(FTPFile.java:116)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.ftp.FtpFileObject.doGetType(FtpFileObject.java:334)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.AbstractFileObject.getType(AbstractFileObject.java:496)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.ftp.FtpFileObject.doGetType(FtpFileObject.java:344)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.AbstractFileObject.getType(AbstractFileObject.java:496)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.ftp.FtpFileObject.doGetType(FtpFileObject.java:344)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.AbstractFileObject.getType(AbstractFileObject.java:496)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.ftp.FtpFileObject.doGetType(FtpFileObject.java:344)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.AbstractFileObject.getType(AbstractFileObject.java:496)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.ftp.FtpFileObject.doGetType(FtpFileObject.java:344)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.AbstractFileObject.getType(AbstractFileObject.java:496)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.ftp.FtpFileObject.doGetType(FtpFileObject.java:344)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.AbstractFileObject.getType(AbstractFileObject.java:496)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.ftp.FtpFileObject.doGetType(FtpFileObject.java:344)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.AbstractFileObject.getType(AbstractFileObject.java:496)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.ftp.FtpFileObject.doGetType(FtpFileObject.java:344)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.AbstractFileObject.getType(AbstractFileObject.java:496)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.ftp.FtpFileObject.doGetType(FtpFileObject.java:344)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.AbstractFileObject.getType(AbstractFileObject.java:496)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.ftp.FtpFileObject.doGetType(FtpFileObject.java:344)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.AbstractFileObject.getType(AbstractFileObject.java:496)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.ftp.FtpFileObject.doGetType(FtpFileObject.java:344)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.AbstractFileObject.getType(AbstractFileObject.java:496)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.ftp.FtpFileObject.doGetType(FtpFileObject.java:344)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.AbstractFileObject.getType(AbstractFileObject.java:496)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.ftp.FtpFileObject.doGetType(FtpFileObject.java:344)&lt;/p&gt;
</description>
                <environment>&lt;p&gt;java version &quot;1.7.0_02&quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.7.0_02-b13)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 22.0-b10, mixed mode)&lt;/p&gt;

&lt;p&gt;Linux version 2.6.18-238.el5 (mockbuild@builder10.centos.org) (gcc version 4.1.2 20080704 (Red Hat 4.1.2-48)) #1 SMP Thu Jan 13 15:51:15 EST 2011&lt;/p&gt;</environment>
        <key id="12607979">VFS-437</key>
            <summary>[FTP] StackOverFlowError getting the type of a directory with a symbolic link to a parent directory with the same name</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jpowang">Jason</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Sep 2012 23:40:05 +0000</created>
                <updated>Thu, 19 May 2016 18:26:10 +0000</updated>
                            <resolved>Sat, 6 Oct 2012 11:41:43 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>2</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13458338" author="garydgregory" created="Wed, 19 Sep 2012 01:09:16 +0000"  >&lt;p&gt;Hello Jason,&lt;/p&gt;

&lt;p&gt;Can you give more details please?&lt;/p&gt;

&lt;p&gt;This works for me:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Vfs437TestCase
{

    /**
     * On Windows 7:
     * 
     * md /Vol1
     * 
     * cd /Vol1
     * 
     * mklink /D Vol1 \Vol1
     * 
     * @&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; FileSystemException
     */
    @Test
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void test() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; FileSystemException
    {
        FileSystemOptions opts = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileSystemOptions();
        FtpFileSystemConfigBuilder.getInstance().setUserDirIsRoot(opts, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FileObject file = VFS.getManager().resolveFile(&lt;span class=&quot;code-quote&quot;&gt;&quot;ftp:&lt;span class=&quot;code-comment&quot;&gt;//test:zing1@localhost/Vol1&quot;&lt;/span&gt;, opts);
&lt;/span&gt;        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(file);
        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (FileObject child : file.getChildren())
        {
            &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(child);
            &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (FileObject child2 : child.getChildren())
            {
                &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(child2);
            }
        }
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I am using FileZilla as a test server locally.&lt;/p&gt;</comment>
                            <comment id="13458342" author="jpowang" created="Wed, 19 Sep 2012 01:14:56 +0000"  >&lt;p&gt;The ftp server should be linux system&lt;/p&gt;</comment>
                            <comment id="13458990" author="garydgregory" created="Wed, 19 Sep 2012 19:12:59 +0000"  >&lt;p&gt;I have VirtualBox already installed with Ubuntu 12 and I can ping it from my Windows 7 host.&lt;/p&gt;

&lt;p&gt;Can you provide instructions to duplicate your issue please?&lt;/p&gt;</comment>
                            <comment id="13459111" author="jpowang" created="Wed, 19 Sep 2012 21:23:40 +0000"  >&lt;p&gt;On the remote ftp server (I used CentOs distribution)&lt;br/&gt;
1. Create a Voll directory under file system so the path is &quot;/Vol&quot;&lt;br/&gt;
2. Create a Vol1 directory under the user&apos;s home directory so the path is &quot;/user/Vol1&quot;&lt;br/&gt;
3. Make the Vol1 under step two soft link to the Vol1 in step one, so &quot;ls -al&quot; would show the following &lt;br/&gt;
        &quot;lrwxrwxrwx 1 root root 5 Oct 5 2007 Vol1 -&amp;gt; /Vol1&quot;&lt;/p&gt;

&lt;p&gt;I used the test case you&apos;ve written, I can actually reproduce the exception also. The only difference is my ftp server is not a localhost.&lt;/p&gt;

&lt;p&gt;    @Test&lt;br/&gt;
    public void test() throws FileSystemException&lt;br/&gt;
    {&lt;br/&gt;
        FileSystemOptions opts = new FileSystemOptions();&lt;br/&gt;
        FtpFileSystemConfigBuilder.getInstance().setUserDirIsRoot(opts, true);&lt;br/&gt;
        final FileObject file = VFS.getManager().resolveFile(&quot;ftp://test1:test1@remoteIp/Vol1&quot;, opts);&lt;br/&gt;
        System.out.println(file);&lt;br/&gt;
        for (FileObject child : file.getChildren())&lt;br/&gt;
        {&lt;br/&gt;
            System.out.println(child);&lt;br/&gt;
            for (FileObject child2 : child.getChildren())&lt;/p&gt;
            {
                System.out.println(child2);
            }
&lt;p&gt;        }&lt;br/&gt;
    }&lt;/p&gt;

&lt;p&gt;I reproduce this issue with scenario of Windows 7 and Linux(Centos) trying to access a Linux ftp remote server.&lt;/p&gt;</comment>
                            <comment id="13466076" author="denniszhu" created="Sat, 29 Sep 2012 01:26:09 +0000"  >&lt;p&gt;There is more to this problem:&lt;/p&gt;

&lt;p&gt;It will arise when the FTP&apos;s local_root directory is also set to Vol1&lt;/p&gt;

&lt;p&gt;so in the vsftpd.conf file, we have &quot;local_root=/Vol1/&quot;&lt;/p&gt;

&lt;p&gt;Inside this /Vol1/ folder, we have a symlink called Vol1 that links back to /Vol1&lt;/p&gt;

&lt;p&gt;This causes the getInfo( boolean flush) method in FtpFileObject to have problems at the lines:&lt;/p&gt;

&lt;p&gt;        if ( parent != null ) &lt;/p&gt;
{
            newFileInfo = parent.getChildFile( UriParser.decode( getName().getBaseName() ), flush );
        }

&lt;p&gt;Parent here is supposed to be &quot;/&quot; and we are looking for child file &quot;/Vol1&quot;, but getChildFile calls doGetChildren which instantiantiates another FtpClient object, and this object is looking at the local_root /Vol1 instead of looking at the &quot;/&quot; directory.&lt;/p&gt;</comment>
                            <comment id="13467637" author="garydgregory" created="Tue, 2 Oct 2012 12:11:07 +0000"  >&lt;p&gt;I&apos;m willing to take a look at this but I do not want to spend 1/2 day setting it up. Can you provide step by step instructions on creating the test bed?&lt;/p&gt;</comment>
                            <comment id="13467966" author="denniszhu" created="Tue, 2 Oct 2012 18:52:28 +0000"  >&lt;p&gt;Here it is:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-437&quot; title=&quot;[FTP] StackOverFlowError getting the type of a directory with a symbolic link to a parent directory with the same name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-437&quot;&gt;&lt;del&gt;VFS-437&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;1. Configure the remote FTP server&apos;s local_root to be a certain directory by modifying vsftpd.conf, for example &quot;local_root=/Vol1&quot;. This will cause all users who log in to this FTP server to see &quot;/Vol1&quot; as the root &quot;/&quot; folder.&lt;br/&gt;
2. Navigate to this local_root folder, and create a symbolic link with the same name that links to this folder. For example, we create a symlink also called &quot;Vol1&quot; that links to &quot;/Vol1&quot;, so that &quot;Vol1 -&amp;gt; /Vol1&quot;.&lt;br/&gt;
3. Use VFS to access this FTP server using a URL such as &quot;ftp://test:password@ftp.example.server/Vol1&quot;. For example, using the following test code:&lt;/p&gt;

&lt;p&gt;@Test&lt;br/&gt;
    public void test()&lt;br/&gt;
        throws FileSystemException {&lt;br/&gt;
        FileSystemOptions opts = new FileSystemOptions();&lt;br/&gt;
        FtpFileSystemConfigBuilder.getInstance().setUserDirIsRoot( opts, true );&lt;br/&gt;
        final FileObject file = VFS.getManager().resolveFile( &quot;ftp://test:password@ftp.example.server/Vol1&quot;, opts );&lt;br/&gt;
        System.out.println( file );&lt;br/&gt;
        for ( FileObject child : file.getChildren() ) {&lt;br/&gt;
            System.out.println( child );&lt;br/&gt;
            if ( child.getType() == FileType.FOLDER )&lt;br/&gt;
                for ( FileObject child2 : child.getChildren() ) &lt;/p&gt;
{
                    System.out.println( child2 );
                }
&lt;p&gt;        }&lt;br/&gt;
    }&lt;/p&gt;

&lt;p&gt;This will reproduce the StackOverFlow Exception because our URL tries to resolve the directory &quot;/Vol1&quot;, thinking that our root directory is the &quot;/&quot; directory. However, what actually happens is that our URL actually will try to resolve &quot;/Vol1/Vol1&quot; on the FTP file system. This is due to the fact that we have setUserDirIsRoot( opts, true ). Now, since resolving &quot;/Vol1&quot; will bring us back to the &quot;Vol1&quot; symbolic link itself and not the actual directory, we&apos;ll be infinitely trying to perform doGetType() in FtpFileObject on the symbolic link.&lt;/p&gt;

&lt;p&gt;In summary, the StackOverFlow is guaranteed to happen when the user is in relative path mode (setUserDirIsRoot to true) and using a symbolic link to access a file or directory, with the same name as the symbolic link, on the file system that he doesn&apos;t have access to. This is an edge case that is only likly to happen when the user sets up these kind of symbolic links that he&apos;s not supposed to use in an FTP server. However, this case WILL crash applications when it comes up.&lt;/p&gt;</comment>
                            <comment id="13468041" author="danttran" created="Tue, 2 Oct 2012 20:26:26 +0000"  >&lt;p&gt;Hi Gary, &lt;/p&gt;

&lt;p&gt;Dennis, Jason, and I work on the same team.  Other way to reproduce this issue is &lt;/p&gt;

&lt;p&gt;  1. use anonymous account on a linux ftp server &lt;br/&gt;
  2. On your anonymous workspace create a symlink ( Vol1 to /Vol1 ). The ftp&apos;ls command should show&lt;/p&gt;

&lt;p&gt;     ftp&amp;gt; ls -al&lt;br/&gt;
     200 PORT command successful. Consider using PASV.&lt;br/&gt;
     150 Here comes the directory listing.&lt;br/&gt;
     drwxr-xr-x    4 0        0            4096 Oct 02 19:02 .&lt;br/&gt;
     drwxr-xr-x    4 0        0            4096 Oct 02 19:02 ..&lt;br/&gt;
     lrwxrwxrwx    1 0        0               5 Oct 02 19:02 Vol1 -&amp;gt; /Vol1&lt;br/&gt;
     drwxr-xr-x    2 0        0            4096 Sep 03  2009 pub&lt;br/&gt;
     &lt;del&gt;rw-r&lt;/del&gt;&lt;del&gt;r&lt;/del&gt;-    1 0        0             224 Nov 09  2004 welcome.msg&lt;br/&gt;
     226 Directory send OK.&lt;br/&gt;
     ftp:385 bytes received in 0.00Seconds 385000.00Kbytes/sec.&lt;/p&gt;


&lt;p&gt;  3. Use vfs-maven-plugin to issue the following command ( provided that you have access to codehaus&apos;s snapshot repository&lt;/p&gt;


&lt;p&gt;     mvn vfs:list -DsourceId=ftp.anonymous -Dsource=&lt;a href=&quot;ftp://your.ftp.host/Vol1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://your.ftp.host/Vol1&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;This is very edgecase, however, it crashes our server application.  &lt;/p&gt;</comment>
                            <comment id="13468268" author="denniszhu" created="Wed, 3 Oct 2012 02:34:58 +0000"  >&lt;p&gt;Here&apos;s a proposed fix for the problem in FtpFileObject.java under the method doGetType() inside the if block that checks for the type of this.fileInfo:&lt;/p&gt;

&lt;p&gt;else if ( this.fileInfo.isSymbolicLink() ) {&lt;br/&gt;
                FileObject linkDest = getLinkDestination();&lt;/p&gt;

&lt;p&gt;                // &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-437&quot; title=&quot;[FTP] StackOverFlowError getting the type of a directory with a symbolic link to a parent directory with the same name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-437&quot;&gt;&lt;del&gt;VFS-437&lt;/del&gt;&lt;/a&gt;: We need to check if the symbolic link links back to the symbolic link itself&lt;br/&gt;
                if ( linkDest.getName().getPathDecoded().equals( this.getName().getPathDecoded() ) ) &lt;/p&gt;
{

                    // If the symbolic link links back to itself, treat it as an imaginary file to prevent following
                    // this link. If the user tries to access the link as a file or directory, the user will end up with
                    // a FileSystemException warning that the file cannot be accessed. This is to prevent the infinite
                    // call back to doGetType() to prevent the StackOverFlow
                    return FileType.IMAGINARY;

                }
&lt;p&gt;                return linkDest.getType();&lt;br/&gt;
            }&lt;/p&gt;

&lt;p&gt;The idea here is that if we detect this kind of a bad symbolic link, we return the type of the link as a &quot;FileType.IMAGINARY&quot; file, which means it cannot be accessed by any means through VFS. This will prevent the user from trying to open the link or navigate into the link as a directory.&lt;/p&gt;

&lt;p&gt;svndiff report and patch file comparing FtpFileObject.java is also attached&lt;/p&gt;</comment>
                            <comment id="13468694" author="danttran" created="Wed, 3 Oct 2012 17:39:21 +0000"  >&lt;p&gt;Proposed solution ( from Dennis )&lt;/p&gt;</comment>
                            <comment id="13469352" author="garydgregory" created="Thu, 4 Oct 2012 13:04:06 +0000"  >&lt;p&gt;The patch does break existing unit tests, which is nice &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Can you test this for longer circular dependencies?&lt;/p&gt;

&lt;p&gt;This patch looks to work for Vol1 -&amp;gt; /Vol1, but what about for Vol1 -&amp;gt; ... -&amp;gt; /Vol1?&lt;/p&gt;</comment>
                            <comment id="13469408" author="garydgregory" created="Thu, 4 Oct 2012 14:35:39 +0000"  >&lt;p&gt;Also, what about:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;doGetChildren()&lt;/li&gt;
	&lt;li&gt;doGetContentSize()&lt;/li&gt;
	&lt;li&gt;doGetLastModifiedTime()&lt;/li&gt;
	&lt;li&gt;doListChildrenResolved()&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;?&lt;/p&gt;</comment>
                            <comment id="13469475" author="garydgregory" created="Thu, 4 Oct 2012 16:14:02 +0000"  >&lt;p&gt;Use the same kind of logic as the first patch but fore more methods.&lt;/p&gt;</comment>
                            <comment id="13469476" author="garydgregory" created="Thu, 4 Oct 2012 16:15:09 +0000"  >&lt;p&gt;I&apos;ve attached a new patch that implements the same kind of logic but for more methods. &lt;/p&gt;

&lt;p&gt;Can you test this in your set up?&lt;/p&gt;

&lt;p&gt;Also, do you see doGetChildren() as needing to check for circular links as well?&lt;/p&gt;</comment>
                            <comment id="13470857" author="denniszhu" created="Sat, 6 Oct 2012 01:57:33 +0000"  >&lt;p&gt;I just tested again with my setup with your patch applied and the code seems to work: if the link is circular, then we return it as imaginary and does not allow the user to access it. Furthermore, I tested it on the case of Vol1 -&amp;gt; ... -&amp;gt; /Vol1 and ultimately VFS will evaluate through all the links and arrive at the same /Vol1 and catch the imaginary file and refuse to access the link. My setup was such that Vol1 will link to vol1, vol1 then links to vol3, then vol3 ultimately links back to /Vol1, so Vol1 -&amp;gt; vol1 -&amp;gt; vol3 -&amp;gt; /Vol1.&lt;/p&gt;

&lt;p&gt;Now, I am able to see a problem if I have this setup:&lt;/p&gt;

&lt;p&gt;Vol1 -&amp;gt; Vol3&lt;br/&gt;
Vol3 -&amp;gt; Vol1&lt;/p&gt;

&lt;p&gt;That WILL cause a StackOverFlowError. However, even though the user is allowed to setup that link, the Linux file system itself refuses to evaluate those links with the error &quot;-bash: cd: Vol1: Too many levels of symbolic links&quot;.&lt;/p&gt;

&lt;p&gt;As far as checking for circular links in doGetChildren(), I don&apos;t think there is a need because before we ever hit the doGetChildren code, we&apos;ll always hit the doGetType code first. Having a circular link check inside doGetChildren would be redundant. &lt;/p&gt;</comment>
                            <comment id="13470977" author="garydgregory" created="Sat, 6 Oct 2012 11:41:43 +0000"  >&lt;p&gt;commit -m &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-437&quot; title=&quot;[FTP] StackOverFlowError getting the type of a directory with a symbolic link to a parent directory with the same name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-437&quot;&gt;&lt;del&gt;VFS-437&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;FTP&amp;#93;&lt;/span&gt; StackOverFlowError getting the type of a directory with a symbolic link to a parent directory with the same name.&quot; C:/svn/org/apache/commons/trunks-proper/vfs/src/changes/changes.xml C:/svn/org/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/provider/ftp/FtpFileObject.java&lt;br/&gt;
    Sending        C:/svn/org/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/provider/ftp/FtpFileObject.java&lt;br/&gt;
    Sending        C:/svn/org/apache/commons/trunks-proper/vfs/src/changes/changes.xml&lt;br/&gt;
    Transmitting file data ...&lt;br/&gt;
    Committed revision 1395004.&lt;/p&gt;</comment>
                            <comment id="15291814" author="b.eckenfels" created="Thu, 19 May 2016 18:26:10 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12547564" name="VFS-437.diff" size="1457" author="danttran" created="Wed, 3 Oct 2012 17:39:21 +0000"/>
                            <attachment id="12547775" name="vfs-437-v2-gg.diff" size="4027" author="ggregory" created="Thu, 4 Oct 2012 16:14:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>239983</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i00v8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2994</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-436] [FTP] VFS doesn&apos;t pull correctly when pulling a directory that&apos;s symbolic linked</title>
                <link>https://issues.apache.org/jira/browse/VFS-436</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;With the setting below, VFS doesn&apos;t pull the ftp directory successfully.&lt;/p&gt;

&lt;p&gt;Attempt to pull with &lt;br/&gt;
&lt;a href=&quot;ftp://root:password@ip:/softLinkTest/yes&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://root:password@ip:/softLinkTest/yes&lt;/a&gt; &lt;/p&gt;

&lt;p&gt;yes directory has the following info&lt;br/&gt;
lrwxrwxrwx  1 root root   10 Sep 13 13:35 yes -&amp;gt; /root/tmp/&lt;/p&gt;

&lt;p&gt;I set builder.setUserDirIsRoot( opts, true ). It works fine when it sets it to false.&lt;/p&gt;

&lt;p&gt;When it runs through the getType() method after knowing it is a symbolic link, it tries to find the real directory&apos;s children but will return an empty array even though there&apos;s files listed under.&lt;/p&gt;

&lt;p&gt;I debugged through the source code, the reason is caused by the fix to 307 in FTPClientWrapper line 134&lt;/p&gt;

&lt;p&gt;        // &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-307&quot; title=&quot;VFS issues a lot of FTP commands when listing a directory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-307&quot;&gt;&lt;del&gt;VFS-307&lt;/del&gt;&lt;/a&gt;: no check if we can simply list the files, this might fail if there are spaces in the path&lt;br/&gt;
  files = getFtpClient().listFiles(relPath);&lt;br/&gt;
    if (FTPReply.isPositiveCompletion(getFtpClient().getReplyCode()))&lt;/p&gt;
	        {
	            return files;
	        }

&lt;p&gt;If those lines are removed, it will work successfully.&lt;/p&gt;

&lt;p&gt;Recommend to remove those lines&lt;/p&gt;

</description>
                <environment>&lt;p&gt;java version &quot;1.7.0_02&quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.7.0_02-b13)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 22.0-b10, mixed mode)&lt;/p&gt;

&lt;p&gt;Linux version 2.6.18-238.el5 (mockbuild@builder10.centos.org) (gcc version 4.1.2 20080704 (Red Hat 4.1.2-48)) #1 SMP Thu Jan 13 15:51:15 EST 2011&lt;/p&gt;</environment>
        <key id="12607695">VFS-436</key>
            <summary>[FTP] VFS doesn&apos;t pull correctly when pulling a directory that&apos;s symbolic linked</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jpowang">Jason</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Sep 2012 18:33:50 +0000</created>
                <updated>Wed, 23 Sep 2015 22:04:10 +0000</updated>
                                            <version>2.0</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13457807" author="garydgregory" created="Tue, 18 Sep 2012 13:20:49 +0000"  >&lt;p&gt;Do all the unit tests pass if you implement this change?&lt;/p&gt;</comment>
                            <comment id="13458264" author="jpowang" created="Tue, 18 Sep 2012 22:59:52 +0000"  >&lt;p&gt;Yes, ran all the general test cases and the FtpProviderTestCase. Everything passed&lt;/p&gt;</comment>
                            <comment id="13458328" author="garydgregory" created="Wed, 19 Sep 2012 00:29:08 +0000"  >&lt;p&gt;I think we need a different solution. This fix would undo &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-307&quot; title=&quot;VFS issues a lot of FTP commands when listing a directory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-307&quot;&gt;&lt;del&gt;VFS-307&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12494926">VFS-345</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>309706</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 7 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8vr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303032</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-435] FileSystemConfigBuilder does not use prefix for some system property lookups.</title>
                <link>https://issues.apache.org/jira/browse/VFS-435</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;In FileSystemConfigBuilder there are two references to &quot;PREFIX&quot; that should probably be &quot;this.prefix&quot;.  See attached patch.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12600786">VFS-435</key>
            <summary>FileSystemConfigBuilder does not use prefix for some system property lookups.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="george scott">George Scott</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Tue, 31 Jul 2012 06:29:57 +0000</created>
                <updated>Thu, 19 May 2016 18:26:08 +0000</updated>
                            <resolved>Tue, 31 Jul 2012 12:32:50 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13425707" author="garydgregory" created="Tue, 31 Jul 2012 12:32:50 +0000"  >&lt;p&gt;commit -m &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-435&quot; title=&quot;FileSystemConfigBuilder does not use prefix for some system property lookups.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-435&quot;&gt;&lt;del&gt;VFS-435&lt;/del&gt;&lt;/a&gt; FileSystemConfigBuilder does not use prefix for some system property lookups.&quot; C:/svn/org/apache/commons/trunks-proper/vfs/src/changes/changes.xml C:/svn/org/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/FileSystemConfigBuilder.java&lt;br/&gt;
    Sending        C:/svn/org/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/FileSystemConfigBuilder.java&lt;br/&gt;
    Sending        C:/svn/org/apache/commons/trunks-proper/vfs/src/changes/changes.xml&lt;br/&gt;
    Transmitting file data ...&lt;br/&gt;
    Committed revision 1367517.&lt;/p&gt;</comment>
                            <comment id="15291808" author="b.eckenfels" created="Thu, 19 May 2016 18:26:08 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12538508" name="FileSystemConfigBuilder.java.patch" size="1201" author="george scott" created="Tue, 31 Jul 2012 06:32:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>244197</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05k2v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30350</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-434] FileSystemException should reuse IOException&apos;s chained exception</title>
                <link>https://issues.apache.org/jira/browse/VFS-434</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;FileSystemException should reuse IOException&apos;s chained exception. Since Java 6, IOException has constructors with Throwable. FileSystemException no longer needs its own Throwable instance variable.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Apache Maven 3.0.4 (r1232337; 2012-01-17 03:44:56-0500)&lt;br/&gt;
Maven home: C:\Java\apache-maven-3.0.4\bin\..&lt;br/&gt;
Java version: 1.6.0_31, vendor: Sun Microsystems Inc.&lt;br/&gt;
Java home: C:\Program Files\Java\jdk1.6.0_31\jre&lt;br/&gt;
Default locale: en_US, platform encoding: Cp1252&lt;br/&gt;
OS name: &quot;windows 7&quot;, version: &quot;6.1&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;&lt;/p&gt;</environment>
        <key id="12600714">VFS-434</key>
            <summary>FileSystemException should reuse IOException&apos;s chained exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ggregory">Gary D. Gregory</reporter>
                        <labels>
                    </labels>
                <created>Mon, 30 Jul 2012 20:10:54 +0000</created>
                <updated>Thu, 19 May 2016 18:25:52 +0000</updated>
                            <resolved>Mon, 30 Jul 2012 20:22:49 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13425191" author="garydgregory" created="Mon, 30 Jul 2012 20:22:49 +0000"  >&lt;p&gt;commit -m &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-434&quot; title=&quot;FileSystemException should reuse IOException&amp;#39;s chained exception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-434&quot;&gt;&lt;del&gt;VFS-434&lt;/del&gt;&lt;/a&gt; FileSystemException should reuse IOException&apos;s chained exception.&quot; C:/svn/org/apache/commons/trunks-proper/vfs/src/changes/changes.xml C:/svn/org/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/FileSystemException.java&lt;br/&gt;
    Sending        C:/svn/org/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/FileSystemException.java&lt;br/&gt;
    Sending        C:/svn/org/apache/commons/trunks-proper/vfs/src/changes/changes.xml&lt;br/&gt;
    Transmitting file data ...&lt;br/&gt;
    Committed revision 1367265.&lt;/p&gt;</comment>
                            <comment id="15291766" author="b.eckenfels" created="Thu, 19 May 2016 18:25:52 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12598982">VFS-428</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>244198</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05k33:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30351</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-433] Message &quot;vfs.provider.webdav/propfind.error&quot; is not defined.</title>
                <link>https://issues.apache.org/jira/browse/VFS-433</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Unknown message with code &quot;Unknown message with code &quot;vfs.provider.webdav/propfind.error&quot;.&quot;.
org.apache.commons.vfs2.FileSystemException: Unknown message with code &quot;Unknown message with code &quot;vfs.provider.webdav/propfind.error&quot;.&quot;.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;Apache Maven 3.0.4 (r1232337; 2012-01-17 03:44:56-0500)&lt;br/&gt;
Maven home: C:\Java\apache-maven-3.0.4\bin\..&lt;br/&gt;
Java version: 1.6.0_31, vendor: Sun Microsystems Inc.&lt;br/&gt;
Java home: C:\Program Files\Java\jdk1.6.0_31\jre&lt;br/&gt;
Default locale: en_US, platform encoding: Cp1252&lt;br/&gt;
OS name: &quot;windows 7&quot;, version: &quot;6.1&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;&lt;/p&gt;</environment>
        <key id="12600658">VFS-433</key>
            <summary>Message &quot;vfs.provider.webdav/propfind.error&quot; is not defined.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ggregory">Gary D. Gregory</reporter>
                        <labels>
                    </labels>
                <created>Mon, 30 Jul 2012 13:31:36 +0000</created>
                <updated>Thu, 19 May 2016 18:25:55 +0000</updated>
                            <resolved>Mon, 30 Jul 2012 15:46:45 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13424932" author="garydgregory" created="Mon, 30 Jul 2012 15:46:45 +0000"  >&lt;p&gt;commit -m &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-433&quot; title=&quot;Message &amp;quot;vfs.provider.webdav/propfind.error&amp;quot; is not defined.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-433&quot;&gt;&lt;del&gt;VFS-433&lt;/del&gt;&lt;/a&gt; Message &quot;vfs.provider.webdav/propfind.error&quot; is not defined. Replaced &quot;vfs.provider.webdav/propfind.error&quot; with three new references:...&quot; C:/svn/org/apache/commons/trunks-proper/vfs/src/changes/changes.xml C:/svn/org/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/Resources.properties C:/svn/org/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/provider/webdav/WebdavFileObject.java&lt;br/&gt;
    Sending        C:/svn/org/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/Resources.properties&lt;br/&gt;
    Sending        C:/svn/org/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/provider/webdav/WebdavFileObject.java&lt;br/&gt;
    Sending        C:/svn/org/apache/commons/trunks-proper/vfs/src/changes/changes.xml&lt;br/&gt;
    Transmitting file data ...&lt;br/&gt;
    Committed revision 1367128.&lt;/p&gt;</comment>
                            <comment id="15291772" author="b.eckenfels" created="Thu, 19 May 2016 18:25:55 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12598982">VFS-428</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>244199</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05k3b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30352</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-432] [HTTP][WebDAV] Allow HTTP follow redirect</title>
                <link>https://issues.apache.org/jira/browse/VFS-432</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Allow VFS HTTP file objects to use HTTP&apos;s follow redirect feature. Because the VFS WebDAV implementation subclasses HTTP classes, VFS WebDAV also gets this feature.&lt;/p&gt;

&lt;p&gt;For example:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; followRedirect = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FileSystemOptions opts = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileSystemOptions();
HttpFileSystemConfigBuilder.getInstance().setFollowRedirect(opts, followRedirect);
&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FileObject file = VFS.getManager().resolveFile(uri, opts);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;Apache Maven 3.0.4 (r1232337; 2012-01-17 03:44:56-0500)&lt;br/&gt;
Maven home: C:\Java\apache-maven-3.0.4\bin\..&lt;br/&gt;
Java version: 1.6.0_31, vendor: Sun Microsystems Inc.&lt;br/&gt;
Java home: C:\Program Files\Java\jdk1.6.0_31\jre&lt;br/&gt;
Default locale: en_US, platform encoding: Cp1252&lt;br/&gt;
OS name: &quot;windows 7&quot;, version: &quot;6.1&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;&lt;/p&gt;</environment>
        <key id="12599799">VFS-432</key>
            <summary>[HTTP][WebDAV] Allow HTTP follow redirect</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ggregory">Gary D. Gregory</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Jul 2012 03:04:05 +0000</created>
                <updated>Thu, 19 May 2016 18:25:42 +0000</updated>
                            <resolved>Mon, 23 Jul 2012 03:27:48 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13420411" author="garydgregory" created="Mon, 23 Jul 2012 03:27:48 +0000"  >&lt;p&gt;Committed revision 1364484.&lt;/p&gt;</comment>
                            <comment id="15291738" author="b.eckenfels" created="Thu, 19 May 2016 18:25:42 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12386775">VFS-194</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>244200</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05k3j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30353</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-431] FileSystemOption does not implement toString()</title>
                <link>https://issues.apache.org/jira/browse/VFS-431</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;The class FileSystemOption does not implement toString(), it should.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Apache Maven 3.0.4 (r1232337; 2012-01-17 03:44:56-0500)&lt;br/&gt;
Maven home: C:\Java\apache-maven-3.0.4\bin\..&lt;br/&gt;
Java version: 1.6.0_31, vendor: Sun Microsystems Inc.&lt;br/&gt;
Java home: C:\Program Files\Java\jdk1.6.0_31\jre&lt;br/&gt;
Default locale: en_US, platform encoding: Cp1252&lt;br/&gt;
OS name: &quot;windows 7&quot;, version: &quot;6.1&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;&lt;/p&gt;</environment>
        <key id="12599792">VFS-431</key>
            <summary>FileSystemOption does not implement toString()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ggregory">Gary D. Gregory</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Jul 2012 00:31:00 +0000</created>
                <updated>Thu, 19 May 2016 18:26:13 +0000</updated>
                            <resolved>Mon, 23 Jul 2012 00:33:46 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13420376" author="garydgregory" created="Mon, 23 Jul 2012 00:33:46 +0000"  >&lt;p&gt;Committed revision 1364469.&lt;/p&gt;</comment>
                            <comment id="15291825" author="b.eckenfels" created="Thu, 19 May 2016 18:26:13 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>244201</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05k3r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30354</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-430] The SoftRefFilesCache class logs clear text password</title>
                <link>https://issues.apache.org/jira/browse/VFS-430</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;The &lt;tt&gt;org.apache.commons.vfs2.cache.SoftRefFilesCache&lt;/tt&gt; class logs &lt;tt&gt;FileName&lt;/tt&gt; in the &lt;tt&gt;putFile&lt;/tt&gt; method with the &lt;tt&gt;FileName.toString()&lt;/tt&gt; that returns URL with clear password while it should be using the &lt;tt&gt;FileName.getFriendlyURI()&lt;/tt&gt; method.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12599761">VFS-430</key>
            <summary>The SoftRefFilesCache class logs clear text password</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="antonin.stefanutti">Antonin Stefanutti</reporter>
                        <labels>
                    </labels>
                <created>Sun, 22 Jul 2012 14:54:43 +0000</created>
                <updated>Thu, 19 May 2016 18:25:45 +0000</updated>
                            <resolved>Mon, 23 Jul 2012 04:36:36 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13420260" author="garydgregory" created="Sun, 22 Jul 2012 17:59:49 +0000"  >&lt;p&gt;Thank you for report. Would you care to provide a patch, prefferably with a unit test?&lt;/p&gt;</comment>
                            <comment id="13420422" author="garydgregory" created="Mon, 23 Jul 2012 04:36:36 +0000"  >&lt;p&gt;Committed revision 1364490.&lt;/p&gt;</comment>
                            <comment id="13420451" author="garydgregory" created="Mon, 23 Jul 2012 05:52:15 +0000"  >&lt;p&gt;Do you know of other places where the password shows up in the log?&lt;/p&gt;</comment>
                            <comment id="13420757" author="antonin.stefanutti" created="Mon, 23 Jul 2012 16:31:10 +0000"  >&lt;p&gt;I don&apos;t know any other places. I&apos;ll let you know if I stumble upon new places during my development tests.&lt;/p&gt;

&lt;p&gt;One suggestion would be to update the &lt;tt&gt;FileName.toString()&lt;/tt&gt; implementation by relying on the &lt;tt&gt;FileName.getFriendlyURI()&lt;/tt&gt;. That would prevent the logging of clear text password inadvertently.&lt;/p&gt;</comment>
                            <comment id="13420767" author="garydgregory" created="Mon, 23 Jul 2012 16:42:06 +0000"  >&lt;p&gt;Good suggestion but I wonder if some callers /expect/ the password to be there... might be tricky to check because you&apos;d need to see if a FileName is used in a String expression.&lt;/p&gt;</comment>
                            <comment id="13420817" author="antonin.stefanutti" created="Mon, 23 Jul 2012 17:49:31 +0000"  >&lt;p&gt;I would rather be defensive in that sensitive case and make sure that clear type password isn&apos;t logged inadvertently. But you&apos;re right that might break somehow the behavior of the API.&lt;/p&gt;</comment>
                            <comment id="15291748" author="b.eckenfels" created="Thu, 19 May 2016 18:25:45 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>244202</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05k3z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30355</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-428] DavException: (301) Moved Permanently </title>
                <link>https://issues.apache.org/jira/browse/VFS-428</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Running the WebdavProviderTestCase using mvn -P webdav clean test -Dtest.webdav.uri=webdav://vfsusr:vfstest@localhost/vfstest -Dtest=WebdavProviderTestCase results in &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;DavException: (301) Moved Permanently
Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.645 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!

Results :

Tests in error: 
  junit.framework.TestSuite@55c9be00(org.apache.commons.vfs2.provider.webdav.test.WebdavProviderTestCase$1): Could not determine the type of file &lt;span class=&quot;code-quote&quot;&gt;&quot;webdav:&lt;span class=&quot;code-comment&quot;&gt;//vfsusr:****@localhost/vfstest/read-tests&quot;&lt;/span&gt;.
&lt;/span&gt;
Tests run: 1, Failures: 0, Errors: 1, Skipped: 0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The deeper Problem is, that the HttpClient using by VFS does not append a trailing slash and mod_dir of httpd has &quot;DirectorySlash On&quot; per default. So httpd send 301 redirect to the same url with / appended.&lt;br/&gt;
I know that for this reason of problematic webdav client apache introduced &quot;redirect-carefully&quot; for some user agents using the &quot;BrowserMatch&quot; directive. So I just tried adding the following into my &amp;lt;Directory&amp;gt; directive&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;BrowserMatch &lt;span class=&quot;code-quote&quot;&gt;&quot;^Jakarta-Commons-VFS&quot;&lt;/span&gt; redirect-carefully
BrowserMatch &lt;span class=&quot;code-quote&quot;&gt;&quot;^Jakarta Commons-HttpClient/3.0&quot;&lt;/span&gt; redirect-carefully
BrowserMatch &lt;span class=&quot;code-quote&quot;&gt;&quot;^Jakarta Commons-HttpClient/3.1&quot;&lt;/span&gt; redirect-carefully
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Its needed to have Jakarta-Commons-VFS &lt;b&gt;and&lt;/b&gt; Jakarta Commons-HttpClient because of two requests from commons vfs using two different user agents.&lt;br/&gt;
But instead of solving the issue, I get for every FileObject.getChildren() call at least one FileObject of type imaginary with the same basename as the parent. Thats not a problem at all (besides that this is totally wrong!) but deleting a parent just dont work anymore, because of an &lt;b&gt;non-existent&lt;/b&gt; imaginary file inside the dir which cannot be deleted of course.&lt;/p&gt;


&lt;p&gt;To cut a long story short, what is the right httpd webdav server config to use 2.0 Release version of VFS?&lt;/p&gt;</description>
                <environment>&lt;p&gt;Apache 2.2.22 as Testerver and setted up like &lt;a href=&quot;http://commons.apache.org/vfs/testserver.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/vfs/testserver.html&lt;/a&gt; (but changed the &apos;crypt&apos; password)&lt;/p&gt;</environment>
        <key id="12598982">VFS-428</key>
            <summary>DavException: (301) Moved Permanently </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rkorn">Robert Kornmesser</reporter>
                        <labels>
                            <label>webdav</label>
                    </labels>
                <created>Mon, 16 Jul 2012 15:42:31 +0000</created>
                <updated>Fri, 2 May 2014 22:09:03 +0000</updated>
                                            <version>2.0</version>
                    <version>2.1</version>
                                                        <due></due>
                            <votes>2</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="13420150" author="garydgregory" created="Sun, 22 Jul 2012 12:20:25 +0000"  >&lt;p&gt;Some questions:&lt;/p&gt;

&lt;p&gt;Are you saying that VFS should add a / to certain requests? Which ones? &lt;/p&gt;

&lt;p&gt;Are you saying that this is a code bug or a documentation bug? &lt;/p&gt;

&lt;p&gt;Should VFS offer an option to follow redirects?&lt;/p&gt;

&lt;p&gt;Can you post your whole configuration with instructions such that it can be reproduced by anyone?&lt;/p&gt;</comment>
                            <comment id="13420153" author="rkorn" created="Sun, 22 Jul 2012 12:47:44 +0000"  >&lt;p&gt;&lt;cite&gt;Are you saying that VFS should add a / to certain requests? Which ones&lt;/cite&gt;?&lt;br/&gt;
Yes and no. For sure requests to directories have to have a trailing slash. But of course VFS does not know at request level wich request is a possible directory. But Maybe the root request has to be a directory. so that this request should end with a /. From the root level on, VFS should know the directory structure.&lt;/p&gt;

&lt;p&gt;&lt;cite&gt;Are you saying that this is a code bug or a documentation bug&lt;/cite&gt;?&lt;br/&gt;
Imho both! Requests to directories should either end with a trailing slash or the httpclient should be configurable to follow redirects. The documentation mentioned at &lt;a href=&quot;http://commons.apache.org/vfs/testserver.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/vfs/testserver.html&lt;/a&gt; cann not work with the current code.&lt;/p&gt;

&lt;p&gt;&lt;cite&gt;Should VFS offer an option to follow redirects&lt;/cite&gt;?&lt;br/&gt;
Yes, would be nice. I dont really know the webdav internals, why this denied by default.&lt;/p&gt;

&lt;p&gt;&lt;cite&gt;Can you post your whole configuration with instructions such that it can be reproduced by anyone&lt;/cite&gt;?&lt;br/&gt;
&lt;b&gt;Webdav-Server&lt;/b&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Apache HTTPD 2.2.22&lt;/li&gt;
	&lt;li&gt;&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;/etc/apache2/conf.d/vfstest.conf&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Alias /vfstest /vfstest/

DAVLockDB /&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/lib/apache2/dav.lockDB
DAVMinTimeout 600

&amp;lt;Directory /vfstest&amp;gt;
    Options None
    AllowOverride None
    Order allow,deny
    Allow from all
&amp;lt;/Directory&amp;gt;

&amp;lt;Location /&amp;gt;
        DAV On
        Options Indexes MultiViews
        AllowOverride None

        AuthType Basic
        AuthName vfstest_zone
        AuthUserFile /etc/apache2/passwd
        &amp;lt;Limit PUT POST DELETE PROPFIND PROPPATCH MKCOL COPY MOVE LOCK UNLOCK&amp;gt;
                Require user vfsusr
        &amp;lt;/Limit&amp;gt;
&amp;lt;/Location&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;htpasswd2 -cmb /etc/apache2/passwd  vfsusr &apos;vfstest&apos;&lt;/li&gt;
	&lt;li&gt;&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;ls -R /vfstest/&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;/vfstest/:
insgesamt 3204
drwxr-xr-x 4 http http    4096 16. Jul 17:14 .
drwxr-xr-x 3 http http    4096 16. Jul 11:11 ..
-rw-r--r-- 1 http http 3130982 16. Jul 17:14 largefile.tar.gz
-rw-r--r-- 1 http http    1858 16. Jul 17:14 nested.jar
-rw-r--r-- 1 http http   40960 16. Jul 17:14 nested.tar
-rw-r--r-- 1 http http    1317 16. Jul 17:14 nested.tbz2
-rw-r--r-- 1 http http    1159 16. Jul 17:14 nested.tgz
-rw-r--r-- 1 http http    5028 16. Jul 17:14 nested.zip
drwxr-xr-x 3 http http    4096 16. Jul 17:14 read-tests
-rw-r--r-- 1 http http     106 16. Jul 17:14 test-hash-#test.txt
-rw-r--r-- 1 http http    4710 16. Jul 17:14 test.jar
-rw-r--r-- 1 http http     254 16. Jul 17:14 test.mf
-rw-r--r-- 1 http http    3211 16. Jul 17:14 test.policy
-rw-r--r-- 1 http http   30720 16. Jul 17:14 test.tar
-rw-r--r-- 1 http http     918 16. Jul 17:14 test.tbz2
-rw-r--r-- 1 http http    1001 16. Jul 17:14 test.tgz
-rw-r--r-- 1 http http    4880 16. Jul 17:14 test.zip
drwxr-xr-x 2 http http    4096 16. Jul 17:14 write-tests

/vfstest/read-tests:
insgesamt 24
drwxr-xr-x 3 http http 4096 16. Jul 17:14 .
drwxr-xr-x 4 http http 4096 16. Jul 17:14 ..
drwxr-xr-x 5 http http 4096 16. Jul 17:14 dir1
-rw-r--r-- 1 http http    0 16. Jul 17:14 empty.txt
-rw-r--r-- 1 http http   20 16. Jul 17:14 file1.txt
-rw-r--r-- 1 http http   20 16. Jul 17:14 file space.txt
-rw-r--r-- 1 http http   20 16. Jul 17:14 file%.txt

/vfstest/read-tests/dir1:
insgesamt 32
drwxr-xr-x 5 http http 4096 16. Jul 17:14 .
drwxr-xr-x 3 http http 4096 16. Jul 17:14 ..
-rw-r--r-- 1 http http   12 16. Jul 17:14 file1.txt
-rw-r--r-- 1 http http   12 16. Jul 17:14 file2.txt
-rw-r--r-- 1 http http   12 16. Jul 17:14 file3.txt
drwxr-xr-x 2 http http 4096 16. Jul 17:14 subdir1
drwxr-xr-x 2 http http 4096 16. Jul 17:14 subdir2
drwxr-xr-x 2 http http 4096 16. Jul 17:14 subdir3

/vfstest/read-tests/dir1/subdir1:
insgesamt 20
drwxr-xr-x 2 http http 4096 16. Jul 17:14 .
drwxr-xr-x 5 http http 4096 16. Jul 17:14 ..
-rw-r--r-- 1 http http   12 16. Jul 17:14 file1.txt
-rw-r--r-- 1 http http   12 16. Jul 17:14 file2.txt
-rw-r--r-- 1 http http   12 16. Jul 17:14 file3.txt

/vfstest/read-tests/dir1/subdir2:
insgesamt 20
drwxr-xr-x 2 http http 4096 16. Jul 17:14 .
drwxr-xr-x 5 http http 4096 16. Jul 17:14 ..
-rw-r--r-- 1 http http   12 16. Jul 17:14 file1.txt
-rw-r--r-- 1 http http   12 16. Jul 17:14 file2.txt
-rw-r--r-- 1 http http   12 16. Jul 17:14 file3.txt

/vfstest/read-tests/dir1/subdir3:
insgesamt 20
drwxr-xr-x 2 http http 4096 16. Jul 17:14 .
drwxr-xr-x 5 http http 4096 16. Jul 17:14 ..
-rw-r--r-- 1 http http   12 16. Jul 17:14 file1.txt
-rw-r--r-- 1 http http   12 16. Jul 17:14 file2.txt
-rw-r--r-- 1 http http   12 16. Jul 17:14 file3.txt

/vfstest/write-tests:
insgesamt 12
drwxr-xr-x 2 http http 4096 16. Jul 17:14 .
drwxr-xr-x 4 http http 4096 16. Jul 17:14 ..
-rw-r--r-- 1 http http   44 16. Jul 17:14 dummy.txt
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;svn co &lt;a href=&quot;http://svn.apache.org/repos/asf/commons/proper/vfs/tags/commons-vfs2-project-2.0/core/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/commons/proper/vfs/tags/commons-vfs2-project-2.0/core/&lt;/a&gt; /tmp/vfs2&lt;/li&gt;
	&lt;li&gt;cd /tmp/vfs2&lt;/li&gt;
	&lt;li&gt;&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;src/test/resources/log4j.properties&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
log4j.rootLogger=DEBUG, R
log4j.appender.R=org.apache.log4j.ConsoleAppender
log4j.appender.R.layout=org.apache.log4j.PatternLayout
og4j.appender.R.layout.ConversionPattern=%-4r %-5p [%t] %37c %3x - %m%n
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;mvn -P webdav clean test -Dtest.webdav.uri=webdav://vfsusr:vfstest@localhost/vfstest -Dtest=WebdavProviderTestCase&lt;/li&gt;
	&lt;li&gt;Result:
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 T E S T S
-------------------------------------------------------
Running org.apache.commons.vfs2.provider.webdav.test.WebdavProviderTestCase
Using &lt;span class=&quot;code-quote&quot;&gt;&quot;/tmp/vfs2/target/test-classes/test-data/temp&quot;&lt;/span&gt; as temporary files store.
Set parameter http.useragent = Jakarta Commons-HttpClient/3.1
Set parameter http.protocol.version = HTTP/1.1
Set parameter http.connection-manager.class = &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.commons.httpclient.SimpleHttpConnectionManager
Set parameter http.protocol.cookie-policy = &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;
Set parameter http.protocol.element-charset = US-ASCII
Set parameter http.protocol.content-charset = ISO-8859-1
Set parameter http.method.retry-handler = org.apache.commons.httpclient.DefaultHttpMethodRetryHandler@1c8a1c9d
Set parameter http.dateparser.patterns = [EEE, dd MMM yyyy HH:mm:ss zzz, EEEE, dd-MMM-yy HH:mm:ss zzz, EEE MMM d HH:mm:ss yyyy, EEE, dd-MMM-yyyy HH:mm:ss z, EEE, dd-MMM-yyyy HH-mm-ss z, EEE, dd MMM yy HH:mm:ss z, EEE dd-MMM-yyyy HH:mm:ss z, EEE dd MMM yyyy HH:mm:ss z, EEE dd-MMM-yyyy HH-mm-ss z, EEE dd-MMM-yy HH:mm:ss z, EEE dd MMM yy HH:mm:ss z, EEE,dd-MMM-yy HH:mm:ss z, EEE,dd-MMM-yyyy HH:mm:ss z, EEE, dd-MM-yyyy HH:mm:ss z]
Java version: 1.7.0_05
Java vendor: Oracle Corporation
Java &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;path: /tmp/vfs2/target/test-classes:/tmp/vfs2/target/classes:/home/setti/.m2/repository/commons-logging/commons-logging/1.1.1/commons-logging-1.1.1.jar:/home/setti/.m2/repository/ant/ant/1.6.2/ant-1.6.2.jar:/home/setti/.m2/repository/commons-net/commons-net/2.2/commons-net-2.2.jar:/home/setti/.m2/repository/org/apache/commons/commons-compress/1.1/commons-compress-1.1.jar:/home/setti/.m2/repository/commons-collections/commons-collections/3.1/commons-collections-3.1.jar:/home/setti/.m2/repository/commons-httpclient/commons-httpclient/3.1/commons-httpclient-3.1.jar:/home/setti/.m2/repository/commons-codec/commons-codec/1.2/commons-codec-1.2.jar:/home/setti/.m2/repository/org/apache/jackrabbit/jackrabbit-webdav/1.5.2/jackrabbit-webdav-1.5.2.jar:/home/setti/.m2/repository/org/apache/jackrabbit/jackrabbit-jcr-commons/1.5.2/jackrabbit-jcr-commons-1.5.2.jar:/home/setti/.m2/repository/com/jcraft/jsch/0.1.42/jsch-0.1.42.jar:/home/setti/.m2/repository/junit/junit/4.8.2/junit-4.8.2.jar:/home/setti/.m2/repository/org/slf4j/slf4j-api/1.5.6/slf4j-api-1.5.6.jar:/home/setti/.m2/repository/org/slf4j/slf4j-log4j12/1.5.6/slf4j-log4j12-1.5.6.jar:/home/setti/.m2/repository/log4j/log4j/1.2.14/log4j-1.2.14.jar:/home/setti/.m2/repository/org/apache/maven/scm/maven-scm-api/1.4/maven-scm-api-1.4.jar:/home/setti/.m2/repository/org/codehaus/plexus/plexus-utils/1.5.6/plexus-utils-1.5.6.jar:/home/setti/.m2/repository/org/apache/maven/scm/maven-scm-provider-svnexe/1.4/maven-scm-provider-svnexe-1.4.jar:/home/setti/.m2/repository/org/apache/maven/scm/maven-scm-provider-svn-commons/1.4/maven-scm-provider-svn-commons-1.4.jar:/home/setti/.m2/repository/regexp/regexp/1.3/regexp-1.3.jar:
Operating system name: Linux
Operating system architecture: amd64
Operating system version: 3.4.5-1-ARCH
SUN 1.7: SUN (DSA key/parameter generation; DSA signing; SHA-1, MD5 digests; SecureRandom; X.509 certificates; JKS keystore; PKIX CertPathValidator; PKIX CertPathBuilder; LDAP, Collection CertStores, JavaPolicy Policy; JavaLoginConfig Configuration)
SunRsaSign 1.7: Sun RSA signature provider
SunEC 1.7: Sun Elliptic Curve provider (EC, ECDSA, ECDH)
SunJSSE 1.7: Sun JSSE provider(PKCS12, SunX509 key/trust factories, SSLv3, TLSv1)
SunJCE 1.7: SunJCE Provider (&lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; RSA, DES, Triple DES, AES, Blowfish, ARCFOUR, RC2, PBE, Diffie-Hellman, HMAC)
SunJGSS 1.7: Sun (Kerberos v5, SPNEGO)
SunSASL 1.7: Sun SASL provider(&lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; client mechanisms &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;: DIGEST-MD5, GSSAPI, EXTERNAL, PLAIN, CRAM-MD5, NTLM; server mechanisms &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;: DIGEST-MD5, GSSAPI, CRAM-MD5, NTLM)
XMLDSig 1.0: XMLDSig (DOM XMLSignatureFactory; DOM KeyInfoFactory)
SunPCSC 1.7: Sun PC/SC provider
Set parameter http.connection-manager.max-per-host = {HostConfiguration[host=http:&lt;span class=&quot;code-comment&quot;&gt;//localhost]=5}
&lt;/span&gt;Set parameter http.connection-manager.max-total = 50
HttpConnectionManager.getConnection:  config = HostConfiguration[host=http:&lt;span class=&quot;code-comment&quot;&gt;//localhost], timeout = 0
&lt;/span&gt;Allocating &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; connection, hostConfig=HostConfiguration[host=http:&lt;span class=&quot;code-comment&quot;&gt;//localhost]
&lt;/span&gt;Open connection to localhost:80
&amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;HEAD / HTTP/1.1[\r][\n]&quot;&lt;/span&gt;
Adding Host request header
&amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;User-Agent: Jakarta Commons-HttpClient/3.1[\r][\n]&quot;&lt;/span&gt;
&amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Host: localhost[\r][\n]&quot;&lt;/span&gt;
&amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[\r][\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;HTTP/1.1 200 OK[\r][\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;HTTP/1.1 200 OK[\r][\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Date: Sun, 22 Jul 2012 12:45:12 GMT[\r][\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Server: Apache/2.2.22 (Unix) mod_ssl/2.2.22 OpenSSL/1.0.1c DAV/2 PHP/5.4.5[\r][\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Type: text/html;charset=ISO-8859-1[\r][\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[\r][\n]&quot;&lt;/span&gt;
Resorting to protocol version &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; close connection policy
Should NOT close connection, using HTTP/1.1
Releasing connection back to connection manager.
Freeing connection, hostConfig=HostConfiguration[host=http:&lt;span class=&quot;code-comment&quot;&gt;//localhost]
&lt;/span&gt;Adding connection at: 1342961112824
Notifying no-one, there are no waiting threads
putFile: webdav:&lt;span class=&quot;code-comment&quot;&gt;//vfsusr:vfstest@localhost/vfstest
&lt;/span&gt;putFile: webdav:&lt;span class=&quot;code-comment&quot;&gt;//vfsusr:vfstest@localhost/vfstest/read-tests
&lt;/span&gt;putFile: webdav:&lt;span class=&quot;code-comment&quot;&gt;//vfsusr:vfstest@localhost/vfstest/write-tests
&lt;/span&gt;HttpConnectionManager.getConnection:  config = HostConfiguration[host=http:&lt;span class=&quot;code-comment&quot;&gt;//localhost], timeout = 0
&lt;/span&gt;Getting free connection, hostConfig=HostConfiguration[host=http:&lt;span class=&quot;code-comment&quot;&gt;//localhost]
&lt;/span&gt;&amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;PROPFIND /vfstest/read-tests HTTP/1.1[\r][\n]&quot;&lt;/span&gt;
Adding Host request header
&amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Depth: 0[\r][\n]&quot;&lt;/span&gt;
&amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;User-Agent: Jakarta-Commons-VFS[\r][\n]&quot;&lt;/span&gt;
&amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Cache-control: no-cache[\r][\n]&quot;&lt;/span&gt;
&amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Cache-store: no-store[\r][\n]&quot;&lt;/span&gt;
&amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Pragma: no-cache[\r][\n]&quot;&lt;/span&gt;
&amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Expires: 0[\r][\n]&quot;&lt;/span&gt;
&amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Host: localhost[\r][\n]&quot;&lt;/span&gt;
&amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Length: 112[\r][\n]&quot;&lt;/span&gt;
&amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Type: text/xml; charset=UTF-8[\r][\n]&quot;&lt;/span&gt;
&amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[\r][\n]&quot;&lt;/span&gt;
&amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;?xml version=&quot;&lt;/span&gt;1.0&lt;span class=&quot;code-quote&quot;&gt;&quot; encoding=&quot;&lt;/span&gt;UTF-8&lt;span class=&quot;code-quote&quot;&gt;&quot;?&amp;gt;&amp;lt;D:propfind xmlns:D=&quot;&lt;/span&gt;DAV:&lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;gt;&amp;lt;D:prop&amp;gt;&amp;lt;D:resourcetype/&amp;gt;&amp;lt;/D:prop&amp;gt;&amp;lt;/D:propfind&amp;gt;&quot;&lt;/span&gt;
Request body sent
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;HTTP/1.1 401 Authorization Required[\r][\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;HTTP/1.1 401 Authorization Required[\r][\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Date: Sun, 22 Jul 2012 12:45:12 GMT[\r][\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Server: Apache/2.2.22 (Unix) mod_ssl/2.2.22 OpenSSL/1.0.1c DAV/2 PHP/5.4.5[\r][\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;WWW-Authenticate: Basic realm=&quot;&lt;/span&gt;vfstest_zone&lt;span class=&quot;code-quote&quot;&gt;&quot;[\r][\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Vary: accept-language,accept-charset[\r][\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Accept-Ranges: bytes[\r][\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Length: 589[\r][\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Type: text/html; charset=iso-8859-1[\r][\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Language: en[\r][\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[\r][\n]&quot;&lt;/span&gt;
Authorization required
Supported authentication schemes in the order of preference: [ntlm, digest, basic]
Challenge &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; ntlm authentication scheme not available
Challenge &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; digest authentication scheme not available
basic authentication scheme selected
Using authentication scheme: basic
Authorization challenge processed
Authentication scope: BASIC &lt;span class=&quot;code-quote&quot;&gt;&apos;vfstest_zone&apos;&lt;/span&gt;@localhost:80
Retry authentication
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;!--#set &lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;=&quot;&lt;/span&gt;TITLE&lt;span class=&quot;code-quote&quot;&gt;&quot; value=&quot;&lt;/span&gt;Authentication required!&lt;span class=&quot;code-quote&quot;&gt;&quot;[\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;--&amp;gt;&amp;lt;!--#include virtual=&quot;&lt;/span&gt;include/top.html&lt;span class=&quot;code-quote&quot;&gt;&quot; --&amp;gt;[\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;    This server could not verify that you are authorized to access[\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;    the URL &quot;&lt;/span&gt;&amp;lt;!--#echo encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;url&quot;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;REDIRECT_URL&quot;&lt;/span&gt; --&amp;gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;.[\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;    You either supplied the wrong credentials (e.g., bad password), or your[\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;    browser doesn&apos;t understand how to supply the credentials required.[\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;  &amp;lt;!--#include virtual=&quot;&lt;/span&gt;include/spacer.html&lt;span class=&quot;code-quote&quot;&gt;&quot; --&amp;gt;[\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;    In &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; you are allowed to request the document, please[\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;    check your user-id and password and &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; again.[\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;!--#include virtual=&quot;&lt;/span&gt;include/bottom.html&lt;span class=&quot;code-quote&quot;&gt;&quot; --&amp;gt;[\n]&quot;&lt;/span&gt;
Resorting to protocol version &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; close connection policy
Should NOT close connection, using HTTP/1.1
Authenticating with BASIC &lt;span class=&quot;code-quote&quot;&gt;&apos;vfstest_zone&apos;&lt;/span&gt;@localhost:80
Credential charset not configured, using HTTP element charset
&amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;PROPFIND /vfstest/read-tests HTTP/1.1[\r][\n]&quot;&lt;/span&gt;
Adding Host request header
&amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Depth: 0[\r][\n]&quot;&lt;/span&gt;
&amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;User-Agent: Jakarta-Commons-VFS[\r][\n]&quot;&lt;/span&gt;
&amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Cache-control: no-cache[\r][\n]&quot;&lt;/span&gt;
&amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Cache-store: no-store[\r][\n]&quot;&lt;/span&gt;
&amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Pragma: no-cache[\r][\n]&quot;&lt;/span&gt;
&amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Expires: 0[\r][\n]&quot;&lt;/span&gt;
&amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Length: 112[\r][\n]&quot;&lt;/span&gt;
&amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Type: text/xml; charset=UTF-8[\r][\n]&quot;&lt;/span&gt;
&amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Authorization: Basic dmZzdXNyOnZmc3Rlc3Q=[\r][\n]&quot;&lt;/span&gt;
&amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Host: localhost[\r][\n]&quot;&lt;/span&gt;
&amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[\r][\n]&quot;&lt;/span&gt;
&amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;?xml version=&quot;&lt;/span&gt;1.0&lt;span class=&quot;code-quote&quot;&gt;&quot; encoding=&quot;&lt;/span&gt;UTF-8&lt;span class=&quot;code-quote&quot;&gt;&quot;?&amp;gt;&amp;lt;D:propfind xmlns:D=&quot;&lt;/span&gt;DAV:&lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;gt;&amp;lt;D:prop&amp;gt;&amp;lt;D:resourcetype/&amp;gt;&amp;lt;/D:prop&amp;gt;&amp;lt;/D:propfind&amp;gt;&quot;&lt;/span&gt;
Request body sent
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;HTTP/1.1 301 Moved Permanently[\r][\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;HTTP/1.1 301 Moved Permanently[\r][\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Date: Sun, 22 Jul 2012 12:45:12 GMT[\r][\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Server: Apache/2.2.22 (Unix) mod_ssl/2.2.22 OpenSSL/1.0.1c DAV/2 PHP/5.4.5[\r][\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Location: http:&lt;span class=&quot;code-comment&quot;&gt;//localhost/vfstest/read-tests/[\r][\n]&quot;&lt;/span&gt;
&lt;/span&gt;&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Length: 363[\r][\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Type: text/html; charset=iso-8859-1[\r][\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[\r][\n]&quot;&lt;/span&gt;
Redirect required
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;!&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;D&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;O&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;CTYPE HTML PUBLIC &quot;&lt;/span&gt;-&lt;span class=&quot;code-comment&quot;&gt;//IETF//&quot;
&lt;/span&gt;&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;DTD HTML 2.0&lt;span class=&quot;code-comment&quot;&gt;//EN&quot;&lt;/span&gt;&amp;gt;[\n]&quot;
&lt;/span&gt;&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;html&amp;gt;&amp;lt;head&amp;gt;[\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;title&amp;gt;301 Moved Permanently&amp;lt;/title&amp;gt;[\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;/head&amp;gt;&amp;lt;body&amp;gt;[\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;h1&amp;gt;Moved Permanently&amp;lt;/h1&amp;gt;[\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;p&amp;gt;The document has moved &amp;lt;a href=&quot;&lt;/span&gt;http:&lt;span class=&quot;code-comment&quot;&gt;//localhost/vfstest/read-tests/&lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;gt;here&amp;lt;/a&amp;gt;.&amp;lt;/p&amp;gt;[\n]&quot;&lt;/span&gt;
&lt;/span&gt;&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;hr&amp;gt;[\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;address&amp;gt;Apache/2.2.22 (Unix) mod_ssl/2.2.22 OpenSSL/1.0.1c DAV/2 PHP/5.4.5 Server at localhost Port 80&amp;lt;/address&amp;gt;[\n]&quot;&lt;/span&gt;
&amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;[\n]&quot;&lt;/span&gt;
Resorting to protocol version &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; close connection policy
Should NOT close connection, using HTTP/1.1
Releasing connection back to connection manager.
Freeing connection, hostConfig=HostConfiguration[host=http:&lt;span class=&quot;code-comment&quot;&gt;//localhost]
&lt;/span&gt;Adding connection at: 1342961112947
Notifying no-one, there are no waiting threads
DavException: (301) Moved Permanently
Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.449 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!

Results :

Tests in error: 
  junit.framework.TestSuite@3a2128d0(org.apache.commons.vfs2.provider.webdav.test.WebdavProviderTestSuite): Could not determine the type of file &lt;span class=&quot;code-quote&quot;&gt;&quot;webdav:&lt;span class=&quot;code-comment&quot;&gt;//vfsusr:***@localhost/vfstest/read-tests&quot;&lt;/span&gt;.
&lt;/span&gt;
Tests run: 1, Failures: 0, Errors: 1, Skipped: 0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13420415" author="garydgregory" created="Mon, 23 Jul 2012 04:01:21 +0000"  >&lt;p&gt;Please see &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-432&quot; title=&quot;[HTTP][WebDAV] Allow HTTP follow redirect&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-432&quot;&gt;&lt;del&gt;VFS-432&lt;/del&gt;&lt;/a&gt;. Can you try the latest code from trunk?&lt;/p&gt;</comment>
                            <comment id="13420471" author="rkorn" created="Mon, 23 Jul 2012 06:53:47 +0000"  >&lt;p&gt;Tried it inside my own project, because Maven Test still fails and I dont know if i can set a maven property to follow redirects.&lt;br/&gt;
To my own testcase fails to with this new error:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Unknown message with code &lt;span class=&quot;code-quote&quot;&gt;&quot;Unknown message with code &quot;&lt;/span&gt;vfs.provider.webdav/propfind.error&lt;span class=&quot;code-quote&quot;&gt;&quot;.&quot;&lt;/span&gt;.
org.apache.commons.vfs2.FileSystemException: Unknown message with code &lt;span class=&quot;code-quote&quot;&gt;&quot;Unknown message with code &quot;&lt;/span&gt;vfs.provider.webdav/propfind.error&lt;span class=&quot;code-quote&quot;&gt;&quot;.&quot;&lt;/span&gt;.
	at org.apache.commons.vfs2.provider.webdav.WebdavFileObject.doListChildrenResolved(WebdavFileObject.java:197)
	at org.apache.commons.vfs2.provider.AbstractFileObject.getChildren(AbstractFileObject.java:888)
	at de.gfz.liferay.hooks.mediaRepository.webdav.TestWebdav.testLogin(TestWebdav.java:37)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:300)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)
Caused by: org.apache.commons.vfs2.FileSystemException: Unknown message with code &lt;span class=&quot;code-quote&quot;&gt;&quot;vfs.provider.webdav/propfind.error&quot;&lt;/span&gt;.
	at org.apache.commons.vfs2.provider.webdav.WebdavFileObject.getProperties(WebdavFileObject.java:532)
	at org.apache.commons.vfs2.provider.webdav.WebdavFileObject.getProperties(WebdavFileObject.java:485)
	at org.apache.commons.vfs2.provider.webdav.WebdavFileObject.getProperty(WebdavFileObject.java:478)
	at org.apache.commons.vfs2.provider.webdav.WebdavFileObject.getProperty(WebdavFileObject.java:470)
	at org.apache.commons.vfs2.provider.webdav.WebdavFileObject.isDirectory(WebdavFileObject.java:450)
	at org.apache.commons.vfs2.provider.webdav.WebdavFileObject.doListChildrenResolved(WebdavFileObject.java:149)
	... 25 more
Caused by: java.lang.IllegalArgumentException: Entity enclosing requests cannot be redirected without user intervention
	at org.apache.commons.httpclient.methods.EntityEnclosingMethod.setFollowRedirects(EntityEnclosingMethod.java:221)
	at org.apache.commons.vfs2.provider.webdav.WebdavFileObject.setupMethod(WebdavFileObject.java:399)
	at org.apache.commons.vfs2.provider.webdav.WebdavFileObject.getProperties(WebdavFileObject.java:509)
	... 30 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13424850" author="garydgregory" created="Mon, 30 Jul 2012 13:32:28 +0000"  >&lt;p&gt;Oops, looks like we have an unrelated bug, the error message is missing. I created &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-433&quot; title=&quot;Message &amp;quot;vfs.provider.webdav/propfind.error&amp;quot; is not defined.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-433&quot;&gt;&lt;del&gt;VFS-433&lt;/del&gt;&lt;/a&gt; to address this side issue.&lt;/p&gt;</comment>
                            <comment id="13424933" author="garydgregory" created="Mon, 30 Jul 2012 15:48:48 +0000"  >&lt;p&gt;Hi Robert,&lt;/p&gt;

&lt;p&gt;Can you please try again with latest from trunk?&lt;/p&gt;

&lt;p&gt;I fixed &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-433&quot; title=&quot;Message &amp;quot;vfs.provider.webdav/propfind.error&amp;quot; is not defined.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-433&quot;&gt;&lt;del&gt;VFS-433&lt;/del&gt;&lt;/a&gt; which should give us a useful error message.&lt;/p&gt;

&lt;p&gt;Thank you,&lt;br/&gt;
Gary&lt;/p&gt;</comment>
                            <comment id="13425190" author="garydgregory" created="Mon, 30 Jul 2012 20:22:27 +0000"  >&lt;p&gt;Actually, now try from trunk please. I fixed &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-434&quot; title=&quot;FileSystemException should reuse IOException&amp;#39;s chained exception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-434&quot;&gt;&lt;del&gt;VFS-434&lt;/del&gt;&lt;/a&gt;, which should give us the root cause in the stack trace!&lt;/p&gt;</comment>
                            <comment id="13425566" author="rkorn" created="Tue, 31 Jul 2012 07:00:58 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Unknown message with code &lt;span class=&quot;code-quote&quot;&gt;&quot;Could not get property &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;: &quot;&lt;/span&gt;webdav:&lt;span class=&quot;code-comment&quot;&gt;//vfsusr:***@localhost/vfstest/&lt;span class=&quot;code-quote&quot;&gt;&quot;, name=&quot;&lt;/span&gt;webdav://vfsusr:***@localhost/vfstest/&lt;span class=&quot;code-quote&quot;&gt;&quot;, type=&quot;&lt;/span&gt;0&lt;span class=&quot;code-quote&quot;&gt;&quot;, nameSet=&quot;&lt;/span&gt;[{DAV:}resourcetype]&lt;span class=&quot;code-quote&quot;&gt;&quot;, addEncoding=&quot;&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;.&quot;&lt;/span&gt;.
&lt;/span&gt;org.apache.commons.vfs2.FileSystemException: Unknown message with code &lt;span class=&quot;code-quote&quot;&gt;&quot;Could not get property &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;: &quot;&lt;/span&gt;webdav:&lt;span class=&quot;code-comment&quot;&gt;//vfsusr:***@localhost/vfstest/&lt;span class=&quot;code-quote&quot;&gt;&quot;, name=&quot;&lt;/span&gt;webdav://vfsusr:***@localhost/vfstest/&lt;span class=&quot;code-quote&quot;&gt;&quot;, type=&quot;&lt;/span&gt;0&lt;span class=&quot;code-quote&quot;&gt;&quot;, nameSet=&quot;&lt;/span&gt;[{DAV:}resourcetype]&lt;span class=&quot;code-quote&quot;&gt;&quot;, addEncoding=&quot;&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;.&quot;&lt;/span&gt;.
&lt;/span&gt;	at org.apache.commons.vfs2.provider.webdav.WebdavFileObject.doListChildrenResolved(WebdavFileObject.java:193)
	at org.apache.commons.vfs2.provider.AbstractFileObject.getChildren(AbstractFileObject.java:888)
	at de.gfz.liferay.hooks.mediaRepository.webdav.TestWebdav.testLogin(TestWebdav.java:37)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:300)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)
Caused by: org.apache.commons.vfs2.FileSystemException: Could not get property &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;webdav:&lt;span class=&quot;code-comment&quot;&gt;//vfsusr:***@localhost/vfstest/&quot;&lt;/span&gt;, name=&lt;span class=&quot;code-quote&quot;&gt;&quot;webdav://vfsusr:***@localhost/vfstest/&quot;&lt;/span&gt;, type=&lt;span class=&quot;code-quote&quot;&gt;&quot;0&quot;&lt;/span&gt;, nameSet=&lt;span class=&quot;code-quote&quot;&gt;&quot;[{DAV:}resourcetype]&quot;&lt;/span&gt;, addEncoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&quot;&lt;/span&gt;.
&lt;/span&gt;	at org.apache.commons.vfs2.provider.webdav.WebdavFileObject.getProperties(WebdavFileObject.java:528)
	at org.apache.commons.vfs2.provider.webdav.WebdavFileObject.getProperties(WebdavFileObject.java:481)
	at org.apache.commons.vfs2.provider.webdav.WebdavFileObject.getProperty(WebdavFileObject.java:474)
	at org.apache.commons.vfs2.provider.webdav.WebdavFileObject.getProperty(WebdavFileObject.java:466)
	at org.apache.commons.vfs2.provider.webdav.WebdavFileObject.isDirectory(WebdavFileObject.java:446)
	at org.apache.commons.vfs2.provider.webdav.WebdavFileObject.doListChildrenResolved(WebdavFileObject.java:145)
	... 25 more
Caused by: java.lang.IllegalArgumentException: Entity enclosing requests cannot be redirected without user intervention
	at org.apache.commons.httpclient.methods.EntityEnclosingMethod.setFollowRedirects(EntityEnclosingMethod.java:225)
	at org.apache.commons.vfs2.provider.webdav.WebdavFileObject.setupMethod(WebdavFileObject.java:395)
	at org.apache.commons.vfs2.provider.webdav.WebdavFileObject.getProperties(WebdavFileObject.java:505)
	... 30 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The root cause was also visible before your update?!&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Caused by: java.lang.IllegalArgumentException: Entity enclosing requests cannot be redirected without user intervention
	at org.apache.commons.httpclient.methods.EntityEnclosingMethod.setFollowRedirects(EntityEnclosingMethod.java:225)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So httpclient already denies setFollowRedirect.&lt;/p&gt;</comment>
                            <comment id="13425753" author="garydgregory" created="Tue, 31 Jul 2012 13:33:06 +0000"  >&lt;p&gt;I can see the root cause from your last post. I did not try the set up.&lt;/p&gt;

&lt;p&gt;It looks like the HttpClient 3.1 implementation is correct. I read this Javadoc in &lt;tt&gt;org.apache.commons.httpclient.methods.EntityEnclosingMethod.setFollowRedirects(boolean)&lt;/tt&gt;:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Entity enclosing requests cannot be redirected without user intervention according to RFC 2616.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;In RFC 2616, section 10.3.2, I read:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;If the 301 status code is received in response to a request other than GET or HEAD, the user agent MUST NOT automatically redirect the request unless it can be confirmed by the user, since this might change the conditions under which the request was issued. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;See &lt;a href=&quot;http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.3&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;When I look at JackRabbit 1.6.5 (the WebDAV library VFS uses), I see a that JR uses a class called org.apache.jackrabbit.webdav.client.methods.PropFindMethod. This is a custom JR WebDAV class.&lt;/p&gt;

&lt;p&gt;This explains the failure because it is neither an HTTP GET or HEAD.&lt;/p&gt;

&lt;p&gt;I&apos;m not sure what to do here. There are many newer versions of JR available but I&apos;ve not upgraded VFS because JR no longer delivers an all-in-one jar.&lt;/p&gt;

&lt;p&gt;You could try to use the current version of JR and see what happens. This may require changes to code and will certainly need some changes to the VFS POM.&lt;/p&gt;</comment>
                            <comment id="13586963" author="jmborer" created="Tue, 26 Feb 2013 09:38:03 +0000"  >&lt;p&gt;I am having the same kind of issues. After a long investigation whith try and errors, I found out:&lt;br/&gt;
1) org.apache.commons.httpclient.methods.EntityEnclosingMethod.setFollowRedirects(false) is actually prevented by HTTPClient 3.x, because of RFC 2616. There is nothing you can do here. The solution would probably be to upgrade to HTTPClient 4, which seems to much better support redirection. However, even if VFS moves to the new version of HTTPClient, the Jackrabbit guys have not plans to upgrade: too much work and stick to to 3.x for a unknown time.&lt;br/&gt;
2) trailing slash support is tricky apparently. I need it also for supporting list feature with HTTP scheme. However internally VFS wants paths without trailing slashes. This is fine if your webserver is configured to redirect paths without trailing slash to trailing ones. However this is problematic when you try to access the same path with WebDAV (my case) where the redirection will not be supported.&lt;/p&gt;

&lt;p&gt;Very tricky issue.&lt;/p&gt;</comment>
                            <comment id="13587090" author="garydgregory" created="Tue, 26 Feb 2013 13:00:28 +0000"  >&lt;p&gt;Tangent: We should migrate to HTTPClient 4 anyway.&lt;/p&gt;</comment>
                            <comment id="13587095" author="jmborer" created="Tue, 26 Feb 2013 13:05:31 +0000"  >&lt;p&gt;Yes, but we have then either to convince the JackRabbit team to upgrade or to use another webdav library like &lt;a href=&quot;https://code.google.com/p/sardine/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://code.google.com/p/sardine/&lt;/a&gt; which already uses HTTPClient 4 &lt;/p&gt;</comment>
                            <comment id="13587117" author="garydgregory" created="Tue, 26 Feb 2013 13:36:06 +0000"  >&lt;p&gt;VFS can migrate to HC 4 for HTTP&lt;span class=&quot;error&quot;&gt;&amp;#91;S&amp;#93;&lt;/span&gt;. What ever happens in the WebDAV provider is it&apos;s business. HC3 and 4 can coexist since they are packaged separately.&lt;/p&gt;</comment>
                            <comment id="13587119" author="garydgregory" created="Tue, 26 Feb 2013 13:37:14 +0000"  >&lt;p&gt;&quot;2) trailing slash support is tricky apparently. I need it also for supporting list feature with HTTP scheme. However internally VFS wants paths without trailing slashes. This is fine if your webserver is configured to redirect paths without trailing slash to trailing ones. However this is problematic when you try to access the same path with WebDAV (my case) where the redirection will not be supported.&quot;&lt;/p&gt;

&lt;p&gt;I&apos;ve run into this pain as well &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I&apos;m not sure how to proceed on this one yet...&lt;/p&gt;</comment>
                            <comment id="13588112" author="jmborer" created="Wed, 27 Feb 2013 08:15:38 +0000"  >&lt;p&gt;Not sure HC3 and 4 can coexist: Webdav provider files inherit from Http provider. If the latter uses HC4, it will probably break the webdav provider which relies on Jackrabbit which in turn requires HC3. Tricky issue.&lt;/p&gt;</comment>
                            <comment id="13588115" author="jmborer" created="Wed, 27 Feb 2013 08:21:11 +0000"  >&lt;p&gt;I&apos;ve found a solution for the trailing slashes that seems to work not too badly: in the HttpFileObject&apos;s setupMethod, I add a trailing slash to the requset path when VFS.isUriStyle is false and the file type is supposed to be a folder.   &lt;/p&gt;

&lt;p&gt;    protected void setupMethod(final HttpMethod method) throws FileSystemException, URIException&lt;br/&gt;
    {&lt;br/&gt;
        String pathEncoded = ((URLFileName) getName()).getPathQueryEncoded(urlCharset);&lt;br/&gt;
        if (!VFS.isUriStyle()&lt;br/&gt;
            &amp;amp;&amp;amp; (getName().getType() == FileType.FOLDER)&lt;br/&gt;
            &amp;amp;&amp;amp; !pathEncoded.endsWith(&quot;/&quot;) ) &lt;/p&gt;
{
            pathEncoded = pathEncoded + &quot;/&quot;;
        }
&lt;p&gt;        method.setPath(pathEncoded);&lt;br/&gt;
        method.setFollowRedirects(true);&lt;br/&gt;
        method.setRequestHeader(&quot;User-Agent&quot;, &quot;Jakarta-Commons-VFS&quot;);&lt;br/&gt;
    }&lt;/p&gt;

&lt;p&gt;This seems to work not too badly (at least with my unit tests), but it is required that that the file that is resolved in the first place ends with a trailing slash:&lt;/p&gt;

&lt;p&gt;FileObject fo = VFS.getManager().resolveFile(&quot;http://localhost:8080/dav/conf/test/&quot;);&lt;/p&gt;

&lt;p&gt;I did not provide a patch yet, because I integrated this fix in my own code which is a fork of VFS 2.0. It is taking too much time to integrate those patches into VFS trunk and get a new release of the lib. Can&apos;t wait until that, but I will try to port the patch to trunk when I have some time.&lt;/p&gt;</comment>
                            <comment id="13987154" author="b.eckenfels" created="Thu, 1 May 2014 23:12:45 +0000"  >&lt;p&gt;Can we downgrade this bug to Major? I would like to have only Blocker Bugs which actually block a 2.1 release.&lt;/p&gt;</comment>
                            <comment id="13987704" author="garydgregory" created="Fri, 2 May 2014 13:48:05 +0000"  >&lt;p&gt;Fine with me, RERO.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12600658">VFS-433</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12600714">VFS-434</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>309702</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 26 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8uv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303028</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-427] [HTTP] NPE on HttpFileObject.getContent().getContentInfo()</title>
                <link>https://issues.apache.org/jira/browse/VFS-427</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;It looks like the &quot;head&quot; httpMethod is getting set to null, but is used in the getContentInfo() call.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12598440">VFS-427</key>
            <summary>[HTTP] NPE on HttpFileObject.getContent().getContentInfo()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="awelynant">Craig Skinfill</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Jul 2012 19:46:51 +0000</created>
                <updated>Thu, 19 May 2016 18:25:46 +0000</updated>
                            <resolved>Mon, 16 Jul 2012 20:19:26 +0000</resolved>
                                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13411999" author="garydgregory" created="Wed, 11 Jul 2012 21:10:13 +0000"  >&lt;p&gt;What version are you using?&lt;/p&gt;

&lt;p&gt;Please get the latest from trunk and see:&lt;/p&gt;

&lt;p&gt;org.apache.commons.vfs2.test.ProviderReadTests.testContentInfo()&lt;/p&gt;

&lt;p&gt;Can you reproduce your problems there? Or provide reproducible test case in code?&lt;/p&gt;

&lt;p&gt;Thank you,&lt;br/&gt;
Gary&lt;/p&gt;</comment>
                            <comment id="13412015" author="awelynant" created="Wed, 11 Jul 2012 21:28:04 +0000"  >&lt;p&gt;Here&apos;s what I&apos;m seeing&lt;/p&gt;


&lt;p&gt;FileSystemManager fsManager = VFS.getManager();&lt;br/&gt;
FileObject fo = fsManager.resolveFile(&quot;http://www.google.com/images/logos/ps_logo2.png&quot;);&lt;br/&gt;
FileContent content = fo.getContent();&lt;br/&gt;
content.getContentInfo();&lt;/p&gt;

&lt;p&gt;java.lang.NullPointerException&lt;br/&gt;
	at org.apache.commons.vfs2.provider.http.HttpFileContentInfoFactory.create(HttpFileContentInfoFactory.java:43)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.DefaultFileContent.getContentInfo(DefaultFileContent.java:731)&lt;/p&gt;


&lt;p&gt;However, it appears to work fine if I put&lt;br/&gt;
FileObject fo = fsManager.resolveFile(uri2use);&lt;br/&gt;
fo.getType();&lt;br/&gt;
FileContent content = fo.getContent();&lt;br/&gt;
content.getContentInfo();&lt;/p&gt;

&lt;p&gt;or if I do&lt;br/&gt;
FileObject fo = fsManager.resolveFile(uri2use);&lt;br/&gt;
FileContent content = fo.getContent();&lt;br/&gt;
content.getSize();&lt;br/&gt;
content.getContentInfo();&lt;/p&gt;

&lt;p&gt;In those two cases it works properly (no NPE).  Looks like the headMethod in the HttpFileObject needs to be initialized earlier?&lt;/p&gt;</comment>
                            <comment id="13412472" author="garydgregory" created="Thu, 12 Jul 2012 03:00:28 +0000"  >&lt;p&gt;1) You did not reply to which version of VFS you are using.&lt;/p&gt;

&lt;p&gt;2) Can you dupliicate this with trunk?&lt;/p&gt;

&lt;p&gt;I added another test in trunk: org.apache.commons.vfs2.provider.http.test.HttpProviderTestCase.testGetContentInfo()&lt;/p&gt;

&lt;p&gt;I can see where the code might cause an NPE, but I&apos;d like to have a test case in trunk that breaks before I change any code.&lt;/p&gt;</comment>
                            <comment id="13412494" author="awelynant" created="Thu, 12 Jul 2012 03:59:57 +0000"  >&lt;p&gt;1) I&apos;m using version 2.0 from maven repo.&lt;/p&gt;

&lt;p&gt;2) I haven&apos;t tried against trunk.  I&apos;ll try tomorrow.&lt;/p&gt;</comment>
                            <comment id="13415366" author="garydgregory" created="Mon, 16 Jul 2012 16:37:20 +0000"  >&lt;p&gt;Any more info?&lt;/p&gt;</comment>
                            <comment id="13415374" author="awelynant" created="Mon, 16 Jul 2012 16:50:32 +0000"  >&lt;p&gt;I tried it against trunk, and it still threw the exception if i don&apos;t call fo.getType() first.&lt;/p&gt;</comment>
                            <comment id="13415397" author="garydgregory" created="Mon, 16 Jul 2012 17:08:08 +0000"  >&lt;p&gt;Ok, I can reproduce, will fix today or tomorrow...&lt;/p&gt;</comment>
                            <comment id="13415600" author="garydgregory" created="Mon, 16 Jul 2012 20:19:26 +0000"  >&lt;p&gt;commit -m &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-427&quot; title=&quot;[HTTP] NPE on HttpFileObject.getContent().getContentInfo()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-427&quot;&gt;&lt;del&gt;VFS-427&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;HTTP&amp;#93;&lt;/span&gt; NPE on HttpFileObject.getContent().getContentInfo().&quot; (7 paths specified)&lt;br/&gt;
    Sending        C:/svn/org/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/provider/http/HttpFileContentInfoFactory.java&lt;br/&gt;
    Sending        C:/svn/org/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/provider/http/HttpFileObject.java&lt;br/&gt;
    Adding         C:/svn/org/apache/commons/trunks-proper/vfs/core/src/test/java/org/apache/commons/vfs2/provider/http/test/GetContentInfoFunctionalTest.java&lt;br/&gt;
    Adding         C:/svn/org/apache/commons/trunks-proper/vfs/core/src/test/java/org/apache/commons/vfs2/provider/https&lt;br/&gt;
    Adding         C:/svn/org/apache/commons/trunks-proper/vfs/core/src/test/java/org/apache/commons/vfs2/provider/https/test&lt;br/&gt;
    Adding         C:/svn/org/apache/commons/trunks-proper/vfs/core/src/test/java/org/apache/commons/vfs2/provider/https/test/GetContentInfoFunctionalTest.java&lt;br/&gt;
    Sending        C:/svn/org/apache/commons/trunks-proper/vfs/src/changes/changes.xml&lt;br/&gt;
    Transmitting file data ...&lt;br/&gt;
    Committed revision 1362235.&lt;/p&gt;</comment>
                            <comment id="15291749" author="b.eckenfels" created="Thu, 19 May 2016 18:25:46 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12965235">VFS-605</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>244203</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05k47:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30356</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-426] HTTP URL query string not part of cache key</title>
                <link>https://issues.apache.org/jira/browse/VFS-426</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;I am using commons-vfs amongst other things to download http files. When resolving different URLs where only the query string differs, the default cache returns the wrong URL sometimes (returning a previously accessed URL where only the query string differs).&lt;/p&gt;

&lt;p&gt;I think this is because the key property of URLFileName does not include the query string. The &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;createURI()&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; method of URLFileName does include it, but when constructing the key the &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;createURI(&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; useAbsolutePath, &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; usePassword)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; method of AbstractFileName is used. This method only includes the path. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12596392">VFS-426</key>
            <summary>HTTP URL query string not part of cache key</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="daniel.bergholm@keybroker.com">Daniel Bergholm</reporter>
                        <labels>
                    </labels>
                <created>Fri, 29 Jun 2012 12:46:49 +0000</created>
                <updated>Thu, 19 May 2016 18:26:11 +0000</updated>
                            <resolved>Tue, 3 Jul 2012 20:39:00 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13403962" author="garydgregory" created="Fri, 29 Jun 2012 15:17:10 +0000"  >&lt;p&gt;Daniel,&lt;/p&gt;

&lt;p&gt;Can you provide a unit test or example?&lt;/p&gt;

&lt;p&gt;Thank you,&lt;br/&gt;
Gary&lt;/p&gt;</comment>
                            <comment id="13404167" author="daniel.bergholm@keybroker.com" created="Fri, 29 Jun 2012 20:16:24 +0000"  >&lt;p&gt;Certainly:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@Test
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void shouldResolveUrls() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; FileSystemException {
        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; firstUrl = &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//commons.apache.org/vfs&quot;&lt;/span&gt;;
&lt;/span&gt;        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; secondUrl = &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//commons.apache.org/vfs?query=string&quot;&lt;/span&gt;;
&lt;/span&gt;
        FileSystemManager fileSystemManager = VFS.getManager();

        FileObject firstResult = fileSystemManager.resolveFile(firstUrl);
        assertEquals(firstUrl, firstResult.getURL().toExternalForm());

        FileObject secondResult = fileSystemManager.resolveFile(secondUrl);
        assertEquals(secondUrl, secondResult.getURL().toExternalForm()); &lt;span class=&quot;code-comment&quot;&gt;// fails
&lt;/span&gt;}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13404228" author="daniel.bergholm@keybroker.com" created="Fri, 29 Jun 2012 21:26:51 +0000"  >&lt;p&gt;My workaround is to use a FileSystemManager with a NullFilesCache (Spring bean declaration):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;bean id=&lt;span class=&quot;code-quote&quot;&gt;&quot;fileSystemManager&quot;&lt;/span&gt; class=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.commons.vfs2.impl.StandardFileSystemManager&quot;&lt;/span&gt; init-method=&lt;span class=&quot;code-quote&quot;&gt;&quot;init&quot;&lt;/span&gt; destroy-method=&lt;span class=&quot;code-quote&quot;&gt;&quot;close&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;filesCache&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;bean class=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.commons.vfs2.cache.NullFilesCache&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/bean&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Of course this workaround might not be good enough in cases where the performance hit of not using a cache is a problem. &lt;/p&gt;


&lt;p&gt;I think a fix for this bug would be to use &lt;tt&gt;org.apache.commons.vfs2.provider.AbstractFileName#createURI&lt;/tt&gt; (which is then overriden in this case by &lt;tt&gt;org.apache.commons.vfs2.provider.URLFileName#createURI()&lt;/tt&gt;) when creating the key in &lt;tt&gt;org.apache.commons.vfs2.provider.AbstractFileName#getKey()&lt;/tt&gt;, since the key is then used in &lt;tt&gt;org.apache.commons.vfs2.provider.AbstractFileName#equals(Object o)&lt;/tt&gt; and &lt;tt&gt;org.apache.commons.vfs2.provider.AbstractFileName#hashCode()&lt;/tt&gt;, which are then used in cache implementations (such as HashMaps)&lt;/p&gt;</comment>
                            <comment id="13404493" author="garydgregory" created="Sat, 30 Jun 2012 13:32:23 +0000"  >&lt;p&gt;I added the following test case to illustrate the issue:&lt;/p&gt;

&lt;p&gt;org.apache.commons.vfs2.provider.http.test.HttpFilesCacheTestCase&lt;/p&gt;

&lt;p&gt;Changing &lt;tt&gt;org.apache.commons.vfs2.provider.AbstractFileName#getKey(&lt;/tt&gt; to:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getKey()
    {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (key == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
        {
            key = createURI();
        }
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; key;
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;or better:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getKey()
    {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (key == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
        {
            key = getURI();
        }
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; key;
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;does work for the new test case and no other test fails.&lt;/p&gt;

&lt;p&gt;Note that this can make the &lt;tt&gt;key&lt;/tt&gt; and the &lt;tt&gt;uri&lt;/tt&gt; ivars the same depending on the implementation of &lt;tt&gt;createURI()&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Does anyone see a problem with this?&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;I&apos;ll wait a day or so for comments before committing.&lt;/b&gt;&lt;/p&gt;
</comment>
                            <comment id="13404748" author="garydgregory" created="Sun, 1 Jul 2012 15:38:21 +0000"  >&lt;p&gt;Proposed fix and test.&lt;/p&gt;</comment>
                            <comment id="13406018" author="garydgregory" created="Tue, 3 Jul 2012 20:39:00 +0000"  >&lt;p&gt;commit -m &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-426&quot; title=&quot;HTTP URL query string not part of cache key&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-426&quot;&gt;&lt;del&gt;VFS-426&lt;/del&gt;&lt;/a&gt; HTTP URL query string not part of cache key &quot; C:/svn/org/apache/commons/trunks-proper/vfs/src/changes/changes.xml C:/svn/org/apache/commons/trunks-proper/vfs/core/src/test/java/org/apache/commons/vfs2/provider/http/test/HttpFilesCacheTestCase.java C:/svn/org/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/provider/AbstractFileName.java&lt;br/&gt;
    Sending        C:/svn/org/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/provider/AbstractFileName.java&lt;br/&gt;
    Sending        C:/svn/org/apache/commons/trunks-proper/vfs/core/src/test/java/org/apache/commons/vfs2/provider/http/test/HttpFilesCacheTestCase.java&lt;br/&gt;
    Sending        C:/svn/org/apache/commons/trunks-proper/vfs/src/changes/changes.xml&lt;br/&gt;
    Transmitting file data ...&lt;br/&gt;
    Committed revision 1356923.&lt;/p&gt;</comment>
                            <comment id="15291818" author="b.eckenfels" created="Thu, 19 May 2016 18:26:11 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12534162" name="vfs-426.diff" size="1629" author="ggregory" created="Sun, 1 Jul 2012 15:38:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>244204</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05k4f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30357</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-424] VFS 2.0 class loading breaks in OSGi, regression from 1.0</title>
                <link>https://issues.apache.org/jira/browse/VFS-424</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Class loading changed between version 1.0 and 2.0 in org.apache.commons.vfs2.impl.StandardFileSystemManager.init()&lt;/p&gt;

&lt;p&gt;This breaks our app server running under OSGi (Equinox) like this:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.commons.vfs2.FileSystemException: Could not create a file system manager of class &quot;org.apache.commons.vfs2.impl.StandardFileSystemManager&quot;.
    at org.apache.commons.vfs2.VFS.createManager(VFS.java:99)
    at org.apache.commons.vfs2.VFS.getManager(VFS.java:50)
    at com.seagullsw.toolbox.config.ConfigurationDirectory.resolveFileObject(ConfigurationDirectory.java:315)
    at com.seagullsw.toolbox.config.Configuration.resolveFileObject(Configuration.java:135)
&amp;lt;Snip: ...my app frames...&amp;gt;
    at com.seagullsw.appinterface.server.osgi.JCicsOsgiTestCase.testJcicsOsgiRoundtrip(JCicsOsgiTestCase.java:226)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
    at java.lang.reflect.Method.invoke(Unknown Source)
    at org.junit.internal.runners.TestMethod.invoke(TestMethod.java:66)
    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:307)
    at org.junit.internal.runners.MethodRoadie$2.run(MethodRoadie.java:86)
    at org.junit.internal.runners.MethodRoadie.runBeforesThenTestThenAfters(MethodRoadie.java:94)
    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.executeTest(PowerMockJUnit44RunnerDelegateImpl.java:294)
    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTestInSuper(PowerMockJUnit47RunnerDelegateImpl.java:112)
    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTest(PowerMockJUnit47RunnerDelegateImpl.java:73)
    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runBeforesThenTestThenAfters(PowerMockJUnit44RunnerDelegateImpl.java:282)
    at org.junit.internal.runners.MethodRoadie.runTest(MethodRoadie.java:84)
    at org.junit.internal.runners.MethodRoadie.run(MethodRoadie.java:49)
    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:207)
    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.runMethods(PowerMockJUnit44RunnerDelegateImpl.java:146)
    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$1.run(PowerMockJUnit44RunnerDelegateImpl.java:120)
    at org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:34)
    at org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:44)
    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.run(PowerMockJUnit44RunnerDelegateImpl.java:118)
    at org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:102)
    at org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:53)
    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)
    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)
Caused by: org.apache.commons.vfs2.FileSystemException: Could not load VFS configuration from &quot;bundleresource://7.fwk545215872:34/org/apache/commons/vfs2/impl/providers.xml&quot;.
    at org.apache.commons.vfs2.impl.StandardFileSystemManager.configure(StandardFileSystemManager.java:199)
    at org.apache.commons.vfs2.impl.StandardFileSystemManager.init(StandardFileSystemManager.java:123)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
    at java.lang.reflect.Method.invoke(Unknown Source)
    at org.apache.commons.vfs2.VFS.createManager(VFS.java:88)
    ... 49 more
Caused by: java.lang.ClassCastException: org.apache.commons.vfs2.provider.local.DefaultLocalFileProvider cannot be cast to org.apache.commons.vfs2.provider.FileProvider
    at org.apache.commons.vfs2.impl.StandardFileSystemManager.addProvider(StandardFileSystemManager.java:371)
    at org.apache.commons.vfs2.impl.StandardFileSystemManager.configure(StandardFileSystemManager.java:270)
    at org.apache.commons.vfs2.impl.StandardFileSystemManager.configure(StandardFileSystemManager.java:195)
    ... 55 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Which I work around with this hack:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void initVfs() {
        StandardFileSystemManager fsm = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; StandardFileSystemManager();
        fsm.setClassLoader(fsm.getClass().getClassLoader());
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
            FieldUtils.writeDeclaredStaticField(VFS.class, &lt;span class=&quot;code-quote&quot;&gt;&quot;instance&quot;&lt;/span&gt;, fsm, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
            fsm.init();
        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (FileSystemException e) {
            ...
        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IllegalAccessException e) {
            ...
        }
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Two questions:&lt;/p&gt;

&lt;p&gt;(1) Why is org.apache.commons.vfs2.VFS.getManager() coded with a class name ref instead of the a real Class object or an actual instance:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;synchronized&lt;/span&gt; FileSystemManager getManager()
        &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; FileSystemException
    {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (instance == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
        {
            instance = createManager(&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.commons.vfs2.impl.StandardFileSystemManager&quot;&lt;/span&gt;);
        }
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; instance;
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Why not:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;synchronized&lt;/span&gt; FileSystemManager getManager()
        &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; FileSystemException
    {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (instance == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
        {
            instance = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; StandardFileSystemManager();
            &lt;span class=&quot;code-comment&quot;&gt;// where the StandardFileSystemManager constructor calls init();
&lt;/span&gt;        }
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; instance;
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If not, what about adding a setManager(FileSystemManager)?&lt;/p&gt;

&lt;p&gt;This did not happen in 1.0, it worked fine in OSGi.&lt;/p&gt;

&lt;p&gt;In 1.0, the init() method is:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void init() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; FileSystemException
    {
        &lt;span class=&quot;code-comment&quot;&gt;// Set the replicator and temporary file store (use the same component)
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; DefaultFileReplicator replicator = createDefaultFileReplicator();
        setReplicator(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PrivilegedFileReplicator(replicator));
        setTemporaryFileStore(replicator);

        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (classLoader == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
        {
            &lt;span class=&quot;code-comment&quot;&gt;// Use &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; classloader
&lt;/span&gt;            classLoader = getClass().getClassLoader();
        }
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (configUri == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
        {
            &lt;span class=&quot;code-comment&quot;&gt;// Use &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; config
&lt;/span&gt;            &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; URL url = getClass().getResource(CONFIG_RESOURCE);
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (url == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
            {
                &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileSystemException(&lt;span class=&quot;code-quote&quot;&gt;&quot;vfs.impl/find-config-file.error&quot;&lt;/span&gt;, CONFIG_RESOURCE);
            }
            configUri = url;
        }

        &lt;span class=&quot;code-comment&quot;&gt;// Configure
&lt;/span&gt;        configure(configUri);

        &lt;span class=&quot;code-comment&quot;&gt;// Configure Plugins
&lt;/span&gt;        configurePlugins();

        &lt;span class=&quot;code-comment&quot;&gt;// Initialise &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;-class
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.init();
    }

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In 2.0, the init() method is:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void init() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; FileSystemException
    {
        &lt;span class=&quot;code-comment&quot;&gt;// Set the replicator and temporary file store (use the same component)
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; DefaultFileReplicator replicator = createDefaultFileReplicator();
        setReplicator(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PrivilegedFileReplicator(replicator));
        setTemporaryFileStore(replicator);

        /* replaced by findClassLoader
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (classLoader == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
        {
            &lt;span class=&quot;code-comment&quot;&gt;// Use &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; classloader
&lt;/span&gt;            classLoader = getClass().getClassLoader();
        }
        */

        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (configUri == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
        {
            &lt;span class=&quot;code-comment&quot;&gt;// Use &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; config
&lt;/span&gt;            &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; URL url = getClass().getResource(CONFIG_RESOURCE);
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (url == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
            {
                &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileSystemException(&lt;span class=&quot;code-quote&quot;&gt;&quot;vfs.impl/find-config-file.error&quot;&lt;/span&gt;, CONFIG_RESOURCE);
            }
            configUri = url;
        }

        &lt;span class=&quot;code-comment&quot;&gt;// Configure
&lt;/span&gt;        configure(configUri);

        &lt;span class=&quot;code-comment&quot;&gt;// Configure Plugins
&lt;/span&gt;        configurePlugins();

        &lt;span class=&quot;code-comment&quot;&gt;// Initialise &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;-class
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.init();
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;Apache Maven 3.0.4 (r1232337; 2012-01-17 03:44:56-0500)&lt;br/&gt;
Maven home: C:\Java\apache-maven-3.0.4\bin\..&lt;br/&gt;
Java version: 1.6.0_31, vendor: Sun Microsystems Inc.&lt;br/&gt;
Java home: C:\Program Files\Java\jdk1.6.0_31\jre&lt;br/&gt;
Default locale: en_US, platform encoding: Cp1252&lt;br/&gt;
OS name: &quot;windows 7&quot;, version: &quot;6.1&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;&lt;/p&gt;</environment>
        <key id="12595515">VFS-424</key>
            <summary>VFS 2.0 class loading breaks in OSGi, regression from 1.0</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="b.eckenfels">Bernd Eckenfels</assignee>
                                    <reporter username="ggregory">Gary D. Gregory</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Jun 2012 01:24:56 +0000</created>
                <updated>Thu, 11 Aug 2016 17:24:13 +0000</updated>
                            <resolved>Fri, 2 Oct 2015 15:14:10 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>2</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13399062" author="garydgregory" created="Fri, 22 Jun 2012 01:27:54 +0000"  >&lt;p&gt;ML discussion started here: &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/commons-dev/201206.mbox/%3CCACZkXPxuSFDURpaMkwF31re2GxD%2BOUtrNOHMBVy8eqmMbfXvDQ%40mail.gmail.com%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mail-archives.apache.org/mod_mbox/commons-dev/201206.mbox/%3CCACZkXPxuSFDURpaMkwF31re2GxD%2BOUtrNOHMBVy8eqmMbfXvDQ%40mail.gmail.com%3E&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14941242" author="b.eckenfels" created="Fri, 2 Oct 2015 15:14:10 +0000"  >&lt;p&gt;Fixed in this commit: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=1706429&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1706429&amp;amp;view=rev&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15291729" author="b.eckenfels" created="Thu, 19 May 2016 18:25:39 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                            <comment id="15417073" author="barak066" created="Thu, 11 Aug 2016 11:43:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=b.eckenfels&quot; class=&quot;user-hover&quot; rel=&quot;b.eckenfels&quot;&gt;b.eckenfels&lt;/a&gt;&lt;br/&gt;
I am facing the same error even on version 2.1 &lt;/p&gt;

&lt;p&gt;org.apache.commons.vfs2.FileSystemException: Could not load VFS configuration from &quot;jar:&lt;a href=&quot;file:/C:/Users/User/.m2/repository/org/apache/commons/commons-vfs2/2.1/commons-vfs2-2.1.jar!/org/apache/commons/vfs2/impl/providers.xml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:/C:/Users/User/.m2/repository/org/apache/commons/commons-vfs2/2.1/commons-vfs2-2.1.jar!/org/apache/commons/vfs2/impl/providers.xml&lt;/a&gt;&quot;.&lt;br/&gt;
java.util.concurrent.ExecutionException: org.apache.commons.vfs2.FileSystemException: Could not load VFS configuration from &quot;jar:&lt;a href=&quot;file:/C:/Users/User/.m2/repository/org/apache/commons/commons-vfs2/2.1/commons-vfs2-2.1.jar!/org/apache/commons/vfs2/impl/providers.xml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:/C:/Users/User/.m2/repository/org/apache/commons/commons-vfs2/2.1/commons-vfs2-2.1.jar!/org/apache/commons/vfs2/impl/providers.xml&lt;/a&gt;&quot;. &lt;br/&gt;
at java.util.concurrent.FutureTask.report(FutureTask.java:122) &lt;br/&gt;
at java.util.concurrent.FutureTask.get(FutureTask.java:206) &lt;/p&gt;</comment>
                            <comment id="15417588" author="garydgregory" created="Thu, 11 Aug 2016 17:00:55 +0000"  >&lt;p&gt;See also &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-621&quot; title=&quot;Add API VFS.setManager(FileSystemManager)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-621&quot;&gt;&lt;del&gt;VFS-621&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15417628" author="b.eckenfels" created="Thu, 11 Aug 2016 17:24:13 +0000"  >&lt;p&gt;Do you deploy VFS as its own bundle or is it embedded or shadowed in the application bundle or a different service bundle? In the later case, did you include the xml resources as well?&lt;/p&gt;

&lt;p&gt;I am using VFS in OSGi without the VFS.getManager(). I simply instantiate the manager myself. I think this is much better as it avoids sharing the instance and you have better control over classloading and configuration.&lt;/p&gt;

&lt;p&gt;(That said, yes we should fix it anyway, using the (new) setter does not look like we should require it for OSGi use)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12996127">VFS-621</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>258118</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 11 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0kn0f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118545</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-423] FileSystemException for invalid URI path doesn&apos;t hide the password</title>
                <link>https://issues.apache.org/jira/browse/VFS-423</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;While trying to access a remote server through FTP Connection, with an invalid password, it will throw a FileSystemException for invalid URI path and show the complete URI path without the password being encrypted. &lt;/p&gt;

&lt;p&gt;Code:&lt;br/&gt;
  FileSystemManager fsManager = VFS.getManager();&lt;br/&gt;
  rfConfig.setPassword( &quot;ABCDEFG/ABCDEFG&quot; );&lt;br/&gt;
  FileSystemOptions opts = factory.getFileSystemOptions( rfConfig.getUrl(),   rfConfig.getUserName(), rfConfig.getPassword() );                                            &lt;br/&gt;
  FileObject sourceDir = fsManager.resolveFile( completeUrl( rfConfig ), opts );&lt;/p&gt;


&lt;p&gt;Exception shown in Console:&lt;br/&gt;
org.apache.commons.vfs2.FileSystemException: Invalid absolute URI &quot;ftp://root:ABCDEFG/ABCDEFG@10.20.25.11/Vol1/a.txt&quot;.&lt;br/&gt;
	at org.apache.commons.vfs2.provider.AbstractOriginatingFileProvider.findFile(AbstractOriginatingFileProvider.java:61)&lt;br/&gt;
	at org.apache.commons.vfs2.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:693)&lt;br/&gt;
	at org.apache.commons.vfs2.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:621)&lt;/p&gt;

&lt;p&gt;Let me know if more details is needed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12595506">VFS-423</key>
            <summary>FileSystemException for invalid URI path doesn&apos;t hide the password</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jpowang">Jason</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Jun 2012 23:44:35 +0000</created>
                <updated>Fri, 29 Jun 2012 15:18:36 +0000</updated>
                            <resolved>Fri, 22 Jun 2012 18:30:39 +0000</resolved>
                                    <version>2.0</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13399284" author="garydgregory" created="Fri, 22 Jun 2012 12:28:54 +0000"  >&lt;p&gt;Can you provide an example that compiles?&lt;/p&gt;
</comment>
                            <comment id="13399497" author="jpowang" created="Fri, 22 Jun 2012 18:30:39 +0000"  >&lt;p&gt;False alarm. Reconstructed url with user name and password whereas I should have  just used FileSystemOptions for it.&lt;/p&gt;</comment>
                            <comment id="13403963" author="garydgregory" created="Fri, 29 Jun 2012 15:18:36 +0000"  >&lt;p&gt;Closing, reporter says &quot;Not a problem.&quot;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>295709</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 18 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i13cmn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>227676</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-420] SFTP : USING SLASH (/) SYMBOLS AS DIRECTORY NAME PREFIXES</title>
                <link>https://issues.apache.org/jira/browse/VFS-420</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;When using SFTP with a directory whose name contains &apos;//&apos; as prefix which is common in IBM z/OS the following error occurs &lt;/p&gt;

&lt;p&gt;org.apache.commons.vfs.FileSystemException: Could not determine&lt;br/&gt;
the type of file &quot;sftp://REMOTEHOST/DW.ORACLE.TEST/CH&quot;.&lt;br/&gt;
at&lt;br/&gt;
org.apache.commons.vfs.provider.AbstractFileObject.attach(AbstractFileObject.j&lt;br/&gt;
ava:1305)&lt;br/&gt;
at&lt;br/&gt;
org.apache.commons.vfs.provider.AbstractFileObject.getType(AbstractFileObject.&lt;br/&gt;
java:412)&lt;br/&gt;
at&lt;br/&gt;
org.apache.commons.vfs.provider.AbstractFileObject.exists(AbstractFileObject.j&lt;br/&gt;
ava:402)&lt;br/&gt;
at&lt;br/&gt;
org.apache.commons.vfs.provider.AbstractFileObject.isWriteable(AbstractFileObj&lt;br/&gt;
ect.java:468)&lt;/p&gt;</description>
                <environment>&lt;p&gt;IBM z/OS&lt;/p&gt;</environment>
        <key id="12560335">VFS-420</key>
            <summary>SFTP : USING SLASH (/) SYMBOLS AS DIRECTORY NAME PREFIXES</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="apshetty">airody prasad shetty</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Jun 2012 12:04:29 +0000</created>
                <updated>Mon, 16 Jul 2012 20:07:20 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13294495" author="garydgregory" created="Wed, 13 Jun 2012 14:34:07 +0000"  >&lt;p&gt;Can you give a code example?&lt;/p&gt;

&lt;p&gt;The &lt;tt&gt;//&lt;/tt&gt; work:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.format(&lt;span class=&quot;code-quote&quot;&gt;&quot;sftp:&lt;span class=&quot;code-comment&quot;&gt;//%s@localhost:%d&quot;&lt;/span&gt;, DEFAULT_USER, SocketPort);&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;in &lt;tt&gt;org.apache.commons.vfs2.provider.sftp.test.SftpProviderTestCase.SftpProviderTestCase()&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="13415589" author="garydgregory" created="Mon, 16 Jul 2012 20:07:20 +0000"  >&lt;p&gt;Can you provide a test case I can reproduce? Even with an internet resource, we can put it in a *FunctionalTest class.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>309704</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 16 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8vb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303030</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-419] JarFileSystem incorrectly resolves file if it has been removed from the cache</title>
                <link>https://issues.apache.org/jira/browse/VFS-419</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;If I call fileSystemManager.resolveFile(&quot;jar: ... &quot;) and the file was removed from cache, JarFileSystem calls method createFile(AbstractFileName name). This method is not overridden from ZipFileManager and works wrong (its return ZipFileObject instead JarFileObject). But i can override it and make return JarFileObject case this object won&apos;t have children and JarURLConnectionImpl won&apos;t work. It should reinvalidate cache and return the object with children objects.&lt;/p&gt;

&lt;p&gt;I&apos;ve added a patch to fix this problem.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12558732">VFS-419</key>
            <summary>JarFileSystem incorrectly resolves file if it has been removed from the cache</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sergeygrigorev">Sergey Grigorev</reporter>
                        <labels>
                            <label>core</label>
                            <label>patch</label>
                    </labels>
                <created>Thu, 31 May 2012 06:58:01 +0000</created>
                <updated>Mon, 16 Jul 2012 20:08:41 +0000</updated>
                                            <version>2.0</version>
                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="1800">0.5h</timeoriginalestimate>
                            <timeestimate seconds="1800">0.5h</timeestimate>
                                        <comments>
                            <comment id="13286376" author="sergeygrigorev" created="Thu, 31 May 2012 06:58:33 +0000"  >&lt;p&gt;patch&lt;/p&gt;</comment>
                            <comment id="13286381" author="sergeygrigorev" created="Thu, 31 May 2012 07:15:44 +0000"  >&lt;p&gt;sorry for my English ))&lt;/p&gt;</comment>
                            <comment id="13286506" author="garydgregory" created="Thu, 31 May 2012 11:58:26 +0000"  >&lt;p&gt;It seems our unit tests are lacking in this area &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;My first impression is that implementing this should be sufficient:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    @Override
    &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; FileObject createFile(AbstractFileName name) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; FileSystemException
    {
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JarFileObject(name, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;All other implementations of createFile(AbstractFileName) follow this pattern.&lt;/p&gt;

&lt;p&gt;Can you demonstrate otherwise? In a unit test &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Gary&lt;/p&gt;</comment>
                            <comment id="13286818" author="sergeygrigorev" created="Thu, 31 May 2012 18:46:16 +0000"  >&lt;p&gt;&quot;return new JarFileObject(name, null, this, false)&quot; doesn&apos;t create children for this object (in normal mode the object always has children). I&apos;ve checked it and it fails. If there are no children JarURLConnectionImpl can&apos;t load classes from an archive (it loads objects such as xml files but not any classes at all). In my case I have to load classes from this jar file and run. I don&apos;t know how to make unit test to demonstrate this problem (only show some lines of code of my product maybe)&lt;/p&gt;</comment>
                            <comment id="13286881" author="garydgregory" created="Thu, 31 May 2012 19:59:03 +0000"  >&lt;p&gt;Yes, please provide code, I need some kind of use case.&lt;/p&gt;</comment>
                            <comment id="13287090" author="garydgregory" created="Fri, 1 Jun 2012 01:48:13 +0000"  >&lt;p&gt;I added &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://svn.apache.org/repos/asf/commons/proper/vfs/trunk/core/src/test/java/org/apache/commons/vfs2/provider/jar/test/JarAttributesTestCase.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/commons/proper/vfs/trunk/core/src/test/java/org/apache/commons/vfs2/provider/jar/test/JarAttributesTestCase.java&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;which I thought would show the need for implementing the &lt;tt&gt;createFile&lt;/tt&gt; method, but the tests pass without it.&lt;/p&gt;

&lt;p&gt;So I am still looking for a test that:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;shows the method is required&lt;/li&gt;
	&lt;li&gt;shows that the method should do more than just &lt;tt&gt;return new JarFileObject(name, null, this, false);&lt;/tt&gt;&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="13287098" author="garydgregory" created="Fri, 1 Jun 2012 02:04:55 +0000"  >&lt;p&gt;BTW, are you using a &lt;tt&gt;VFSClassLoader&lt;/tt&gt;?&lt;/p&gt;

&lt;p&gt;Please see &lt;tt&gt;org.apache.commons.vfs2.impl.test.VfsClassLoaderTests.testLoadClass()&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="13415591" author="garydgregory" created="Mon, 16 Jul 2012 20:08:41 +0000"  >&lt;p&gt;Sergey, do you have a better test case?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12530343" name="JarFileSystem.java.patch" size="759" author="sergeygrigorev" created="Thu, 31 May 2012 06:58:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>301454</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 16 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i16t5z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>247857</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-418] Update to Apache Commons Compress 1.4.1</title>
                <link>https://issues.apache.org/jira/browse/VFS-418</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Update to Apache Commons Compress 1.4.1&lt;/p&gt;</description>
                <environment>&lt;p&gt;Apache Maven 3.0.4 (r1232337; 2012-01-17 03:44:56-0500)&lt;br/&gt;
Maven home: C:\Java\apache-maven-3.0.4\bin\..&lt;br/&gt;
Java version: 1.6.0_31, vendor: Sun Microsystems Inc.&lt;br/&gt;
Java home: C:\Program Files\Java\jdk1.6.0_31\jre&lt;br/&gt;
Default locale: en_US, platform encoding: Cp1252&lt;br/&gt;
OS name: &quot;windows 7&quot;, version: &quot;6.1&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;&lt;/p&gt;</environment>
        <key id="12556994">VFS-418</key>
            <summary>Update to Apache Commons Compress 1.4.1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ggregory">Gary D. Gregory</assignee>
                                    <reporter username="ggregory">Gary D. Gregory</reporter>
                        <labels>
                    </labels>
                <created>Wed, 23 May 2012 12:38:45 +0000</created>
                <updated>Wed, 27 Jul 2016 21:04:54 +0000</updated>
                            <resolved>Wed, 23 May 2012 20:20:47 +0000</resolved>
                                    <version>1.0</version>
                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13281871" author="garydgregory" created="Wed, 23 May 2012 20:20:47 +0000"  >&lt;p&gt;Committed revision 1342015.&lt;/p&gt;</comment>
                            <comment id="15291712" author="b.eckenfels" created="Thu, 19 May 2016 18:25:33 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>244205</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05k4n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30358</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-413] [FTP] No support for FTP servers with non Latin-1 control encoding</title>
                <link>https://issues.apache.org/jira/browse/VFS-413</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;It should be possible to set the client.setControlEncoding with a sensible value.&lt;/p&gt;

&lt;p&gt;Being able to set that value is a must, but a FTPClient (commons-net) that somehow can detect what control encoding is used, would automagically solve a lot of issues. FileZilla automatically detects that Alfresco&apos;s FTP server is doing UTF8.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Java client talking to Java FTP server (Alfresco)&lt;/p&gt;</environment>
        <key id="12554682">VFS-413</key>
            <summary>[FTP] No support for FTP servers with non Latin-1 control encoding</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="vbonamy">Vincent Bonamy</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 May 2012 13:36:08 +0000</created>
                <updated>Thu, 19 May 2016 18:25:48 +0000</updated>
                            <resolved>Wed, 16 May 2012 14:19:56 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13272329" author="vbonamy" created="Thu, 10 May 2012 13:40:56 +0000"  >&lt;p&gt;Finally I made a clone of the issue 305 so that it is marked as unresolved (for better visibility).&lt;br/&gt;
In brief, I had to apply the patch named &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-305&quot; title=&quot;[FTP] Support FTP servers with non Latin-1 control encoding&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-305&quot;&gt;&lt;del&gt;VFS-305&lt;/del&gt;&lt;/a&gt;(commands).patch&quot; today to effectivly use UTF8 FTP Server.&lt;br/&gt;
Thank you.&lt;/p&gt;</comment>
                            <comment id="13272978" author="garydgregory" created="Fri, 11 May 2012 01:49:01 +0000"  >&lt;p&gt;Hi Vincent,&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Can you provide a patch for trunk please? This patch looks to be for VFS 1.&lt;/li&gt;
	&lt;li&gt;Make sure you grant license to the ASF.&lt;/li&gt;
	&lt;li&gt;Unit tests would be most welcome.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Thank you,&lt;br/&gt;
Gary&lt;/p&gt;</comment>
                            <comment id="13276761" author="garydgregory" created="Wed, 16 May 2012 14:19:56 +0000"  >&lt;p&gt;Committed revision 1339182.&lt;/p&gt;</comment>
                            <comment id="15291753" author="b.eckenfels" created="Thu, 19 May 2016 18:25:47 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                            <outwardlinks description="is a clone of">
                                        <issuelink>
            <issuekey id="12460229">VFS-305</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12526343" name="ASF.LICENSE.NOT.GRANTED--VFS-305(commands).patch" size="1253" author="vbonamy" created="Thu, 10 May 2012 13:36:09 +0000"/>
                            <attachment id="12526344" name="ASF.LICENSE.NOT.GRANTED--VFS-305.patch" size="2205" author="vbonamy" created="Thu, 10 May 2012 13:36:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>238932</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05k4v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30359</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-410] [SFTP] SftpFileObject getInputStream(long) reads the whole file into memory</title>
                <link>https://issues.apache.org/jira/browse/VFS-410</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;The method &lt;tt&gt;getInputStream(long filePointer)&lt;/tt&gt; in &lt;tt&gt;SftpFileObject.java&lt;/tt&gt; reads the complete file into memory to create the input stream.&lt;br/&gt;
Newer versions of JSch provide a method &lt;br/&gt;
&lt;tt&gt;channel.get(file, monitor, filePointer);&lt;/tt&gt;&lt;br/&gt;
that is much faster.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12551677">VFS-410</key>
            <summary>[SFTP] SftpFileObject getInputStream(long) reads the whole file into memory</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mstockhammer">Martin Stockhammer</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Apr 2012 20:57:30 +0000</created>
                <updated>Thu, 19 May 2016 18:26:00 +0000</updated>
                            <resolved>Fri, 20 Apr 2012 12:18:14 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13257812" author="mstockhammer" created="Thu, 19 Apr 2012 21:01:52 +0000"  >&lt;p&gt;Here is a patch that uses the new method. I added a version check for JSch to be sure the method is allowed.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Index: src/main/java/org/apache/commons/vfs2/provider/sftp/SftpFileObject.java
===================================================================
--- src/main/java/org/apache/commons/vfs2/provider/sftp/SftpFileObject.java	(revision 1327822)
+++ src/main/java/org/apache/commons/vfs2/provider/sftp/SftpFileObject.java	(working copy)
@@ -42,6 +42,7 @@
 
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; com.jcraft.jsch.ChannelSftp;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; com.jcraft.jsch.ChannelSftp.LsEntry;
+&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; com.jcraft.jsch.JSch;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; com.jcraft.jsch.SftpATTRS;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; com.jcraft.jsch.SftpException;
 
@@ -53,7 +54,25 @@
 &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;SftpFileObject &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; AbstractFileObject
 {
     &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; MOD_TIME_FACTOR = 1000L;
+    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; useInputStream = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
 
+    &lt;span class=&quot;code-comment&quot;&gt;// Checking &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; JSch version. Versions &amp;gt;= 0.1.46 use the InputStream from
&lt;/span&gt;+    &lt;span class=&quot;code-comment&quot;&gt;// the SftpChannel.
&lt;/span&gt;+    &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; {
+        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
+            &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] versions = JSch.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;getDeclaredField(&lt;span class=&quot;code-quote&quot;&gt;&quot;VERSION&quot;&lt;/span&gt;)
+                    .get(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;).toString().split(&lt;span class=&quot;code-quote&quot;&gt;&quot;\\.&quot;&lt;/span&gt;);
+            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (versions.length == 3) {
+                &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;[] vers = { &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.parseInt(versions[0]),
+                        &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.parseInt(versions[1]),
+                        &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.parseInt(versions[2]) };
+                useInputStream = vers[0] &amp;gt; 0 || vers[1] &amp;gt; 1
+                        || (vers[1] == 1 &amp;amp;&amp;amp; vers[2] &amp;gt;= 46);
+            }
+        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Exception e) {
+            &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.err.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Retrieval of JSch version failed&quot;&lt;/span&gt;);
+        }
+    }
     &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; SftpFileSystem fileSystem;
     &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; SftpATTRS attrs;
     &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; relPath;
@@ -447,32 +466,39 @@
 
     /**
      * Creates an input stream to read the file content from.
+     * The input stream is starting at the given position in the file.
      */
     InputStream getInputStream(&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; filePointer) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException
     {
         &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; ChannelSftp channel = fileSystem.getChannel();
-        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;
-        {
-            &lt;span class=&quot;code-comment&quot;&gt;// hmmm - using the in memory method is soooo much faster ...
&lt;/span&gt;-            &lt;span class=&quot;code-comment&quot;&gt;// TODO - Don&apos;t read the entire file into memory. Use the
&lt;/span&gt;-            &lt;span class=&quot;code-comment&quot;&gt;// stream-based methods on ChannelSftp once they work properly &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt;
&lt;/span&gt;-            &lt;span class=&quot;code-comment&quot;&gt;// .... no stream based method with resume???
&lt;/span&gt;-            ByteArrayOutputStream outstr = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ByteArrayOutputStream();
-            &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;
-            {
-                channel.get(getName().getPathDecoded(), outstr, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,
-                        ChannelSftp.RESUME, filePointer);
-            }
-            &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (SftpException e)
-            {
+        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (useInputStream) {
+            &lt;span class=&quot;code-comment&quot;&gt;// Using InputStream directly from the channel.
&lt;/span&gt;+            &lt;span class=&quot;code-comment&quot;&gt;// Its much faster than the memory method.
&lt;/span&gt;+            &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
+                InputStream is = channel.get(getName().getPathDecoded(), &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,
+                        filePointer);
+                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; SftpInputStream(channel, is);
+            } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (SftpException e) {
+                fileSystem.putChannel(channel);
                 &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileSystemException(e);
+            } 
+
+        } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
+            &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
+                &lt;span class=&quot;code-comment&quot;&gt;// Reading completely into the memory.
&lt;/span&gt;+                ByteArrayOutputStream outstr = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ByteArrayOutputStream();
+                &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
+                    channel.get(getName().getPathDecoded(), outstr, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,
+                            ChannelSftp.RESUME, filePointer);
+                } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (SftpException e) {
+                    &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileSystemException(e);
+                }
+                outstr.close();
+                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ByteArrayInputStream(outstr.toByteArray());
+
+            } &lt;span class=&quot;code-keyword&quot;&gt;finally&lt;/span&gt; {
+                fileSystem.putChannel(channel);
             }
-            outstr.close();
-            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ByteArrayInputStream(outstr.toByteArray());
-        }
-        &lt;span class=&quot;code-keyword&quot;&gt;finally&lt;/span&gt;
-        {
-            fileSystem.putChannel(channel);
         }
     }
 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13257970" author="garydgregory" created="Fri, 20 Apr 2012 01:47:20 +0000"  >&lt;p&gt;Hi Martin,&lt;/p&gt;

&lt;p&gt;In order to use a patch, it must be attached to this issue as a patch file and granted the Apache license.&lt;/p&gt;

&lt;p&gt;I would not bother with the version check, the POM already specifies 0.1.46 and I am testing a build with 0.1.47 as we speak...&lt;/p&gt;

&lt;p&gt;Thank you,&lt;br/&gt;
Gary&lt;/p&gt;</comment>
                            <comment id="13258053" author="mstockhammer" created="Fri, 20 Apr 2012 06:50:57 +0000"  >&lt;p&gt;Ok, I removed the version check and attached the patch  as file with license grant. I hope it has the correct format. &lt;/p&gt;</comment>
                            <comment id="13258176" author="garydgregory" created="Fri, 20 Apr 2012 12:18:14 +0000"  >&lt;p&gt;Martin,&lt;/p&gt;

&lt;p&gt;Thank you for providing the patch. &lt;br/&gt;
It has been applied with only slight changes. &lt;br/&gt;
Committed revision 1328346.&lt;/p&gt;

&lt;p&gt;Gary&lt;/p&gt;</comment>
                            <comment id="15291789" author="b.eckenfels" created="Thu, 19 May 2016 18:26:00 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12523459" name="SftpFileObject.java.patch" size="2160" author="mstockhammer" created="Fri, 20 Apr 2012 06:50:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>236485</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05k53:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30360</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-408] CompressedFileFileObject Exception thrown when container file has no extension</title>
                <link>https://issues.apache.org/jira/browse/VFS-408</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;CompressedFileFileObject blindly performs a substring operation on an unchecked String index lookup value.  If that value happens to be -1 (lookup not found), then an Index Out Of Bounds error is thrown.  The lookup is for a &quot;.&quot; to find the base file name.&lt;/p&gt;

&lt;p&gt;This happens when trying to decompress a file with no file extension.&lt;/p&gt;

&lt;p&gt;subversion revision: 1159220 for CompressedFileFileObject.java&lt;/p&gt;

&lt;p&gt;code in repository: line 42:&lt;/p&gt;

&lt;p&gt;        // todo, add getBaseName(String) to FileName&lt;br/&gt;
        String basename = container.getName().getBaseName();&lt;br/&gt;
        int pos = basename.lastIndexOf(&apos;.&apos;);&lt;br/&gt;
        basename = basename.substring(0, pos);&lt;/p&gt;


&lt;p&gt;should alter that last line to something like:&lt;/p&gt;

&lt;p&gt;if (pos &amp;gt; 0)&lt;br/&gt;
    basename = basename.substring(0, pos);&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12547662">VFS-408</key>
            <summary>CompressedFileFileObject Exception thrown when container file has no extension</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="anilm2@yahoo.com">Anil Mahajan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Mar 2012 19:02:26 +0000</created>
                <updated>Thu, 19 May 2016 18:25:44 +0000</updated>
                            <resolved>Wed, 16 May 2012 16:34:38 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13276861" author="garydgregory" created="Wed, 16 May 2012 16:34:38 +0000"  >&lt;p&gt;Committed revision 1339256.&lt;/p&gt;</comment>
                            <comment id="15291744" author="b.eckenfels" created="Thu, 19 May 2016 18:25:44 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>232760</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05jmn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30277</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-407] [RAM] Reading a RAM FileSystem file fails because it never returns EOF -1.</title>
                <link>https://issues.apache.org/jira/browse/VFS-407</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;RamFileRandomAccessContent&lt;/p&gt;

&lt;p&gt;ORIGINAL&lt;br/&gt;
@Override&lt;br/&gt;
            public int read(byte[] b, int off, int len) throws IOException&lt;/p&gt;
            {
                int retLen = Math.min(len, getLeftBytes());
                RamFileRandomAccessContent.this.readFully(b, off, retLen);
                return retLen;
            }
&lt;p&gt;// getLeftBytes() returns 0 when empty. retLen is 0 when empty and never -1.&lt;/p&gt;

&lt;p&gt;FIXED&lt;br/&gt;
            // HACK Patched to return -1 when empty previously it returned 0&lt;br/&gt;
            @Override&lt;br/&gt;
            public int read(final byte[] b, final int off, final int len) throws IOException {&lt;br/&gt;
                int retLen = InputStreams.END;&lt;br/&gt;
                final int left = RamFileRandomAccessContent.this.getLeftBytes();&lt;br/&gt;
                if (left &amp;gt; 0) &lt;/p&gt;
{
                    retLen = Math.min(len, left);
                    RamFileRandomAccessContent.this.readFully(b, off, retLen);
                }
&lt;p&gt;                return retLen;&lt;br/&gt;
            }&lt;/p&gt;</description>
                <environment></environment>
        <key id="12547144">VFS-407</key>
            <summary>[RAM] Reading a RAM FileSystem file fails because it never returns EOF -1.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mp1">Miroslav Pokorny</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Mar 2012 04:51:21 +0000</created>
                <updated>Thu, 19 May 2016 18:25:56 +0000</updated>
                            <resolved>Thu, 22 Mar 2012 13:48:23 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="300">5m</timeoriginalestimate>
                            <timeestimate seconds="300">5m</timeestimate>
                                        <comments>
                            <comment id="13234426" author="garydgregory" created="Wed, 21 Mar 2012 15:31:14 +0000"  >&lt;p&gt;Can you please provide a patch against trunk and grant the ASF license (a check box when you upload)? &lt;/p&gt;

&lt;p&gt;A unit test that shows the problem if the suggested fix is not in place would be best.&lt;/p&gt;

&lt;p&gt;Thank you,&lt;br/&gt;
Gary&lt;/p&gt;</comment>
                            <comment id="13235292" author="mp1" created="Thu, 22 Mar 2012 02:13:59 +0000"  >&lt;p&gt;Trunk seems to be fixed but not included in the latest release for download. I believe i reported this same bug previously when VFS was 1.x but trunk has no tests.&lt;/p&gt;

&lt;p&gt;I have submitted the tests as a raw file *.java and in  patch form. At the least these tests should help stop regressions.&lt;/p&gt;</comment>
                            <comment id="13235579" author="garydgregory" created="Thu, 22 Mar 2012 13:48:23 +0000"  >&lt;p&gt;Patch applied, in SVN, thank you!&lt;/p&gt;</comment>
                            <comment id="15291776" author="b.eckenfels" created="Thu, 19 May 2016 18:25:56 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12519390" name="CustomRamProviderTest.java" size="9046" author="mp1" created="Thu, 22 Mar 2012 02:13:59 +0000"/>
                            <attachment id="12519391" name="EmptyRamProviderFileBugTests-from-miroslav.pokorny-20120322.patch" size="5654" author="mp1" created="Thu, 22 Mar 2012 02:13:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>232302</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05k5b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30361</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-406] [RAM] resize throws ArrayOOBE when shrinking in size.</title>
                <link>https://issues.apache.org/jira/browse/VFS-406</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Im targetting 2.0 as it is the official download.&lt;/p&gt;

&lt;p&gt;The fix is quite simple.&lt;/p&gt;

&lt;p&gt;FILE: RamFileObject&lt;/p&gt;

&lt;p&gt;ORIGINAL&lt;br/&gt;
    void resize(int newSize)&lt;/p&gt;
    {
        int size = this.size();
        byte[] newBuf = new byte[newSize];
        System.arraycopy(this.buffer, 0, newBuf, 0, size);
        this.buffer = newBuf;
        updateLastModified();
    }
&lt;p&gt;// when shrinking size &amp;gt; newSize thus an AOOBE will be thrown.&lt;/p&gt;

&lt;p&gt;FIXED&lt;br/&gt;
    void resize(final int newSize) &lt;/p&gt;
{
        final int size = this.size();
        final byte[] newBuf = new byte[newSize];

        // HACK fixed error which prevented resizing to a small buffer.
        System.arraycopy(this.buffer, 0, newBuf, 0, Math.min(newSize, size));
        this.buffer = newBuf;
        this.updateLastModified();
    }
</description>
                <environment></environment>
        <key id="12547143">VFS-406</key>
            <summary>[RAM] resize throws ArrayOOBE when shrinking in size.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ggregory">Gary D. Gregory</assignee>
                                    <reporter username="mp1">Miroslav Pokorny</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Mar 2012 04:48:01 +0000</created>
                <updated>Thu, 19 May 2016 18:26:16 +0000</updated>
                            <resolved>Thu, 17 May 2012 20:07:00 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="300">5m</timeoriginalestimate>
                            <timeestimate seconds="300">5m</timeestimate>
                                        <comments>
                            <comment id="13276835" author="garydgregory" created="Wed, 16 May 2012 16:00:50 +0000"  >&lt;p&gt;Looking at trunk now, I am not sure how this can happen because the method is only used in two contexts: a RAM output stream, which only grows, never shrinks. The other context is the RAM random access file, which does not have a setLength method to shrink a file. &lt;/p&gt;

&lt;p&gt;Can you provide test case that shows this happening?&lt;/p&gt;</comment>
                            <comment id="13277563" author="mp1" created="Thu, 17 May 2012 05:00:41 +0000"  >&lt;p&gt;Hi Gary&lt;/p&gt;

&lt;p&gt;Your commentary is correct, it is not possible to shrink a RAM file using&lt;br/&gt;
the unmodified API. I however needed to add the ability to shrink a RAM&lt;br/&gt;
file so i simply made RamFileObject.resize(int] public. After this i was&lt;br/&gt;
able to call it. I have demonstrated a simple TestCase below which uses&lt;br/&gt;
reflection to call the resize method, where upon an AIOOBE will be thrown.&lt;br/&gt;
My fix makes the resize or shrink work. At some future time perhaps you&lt;br/&gt;
might wish to make shrinking part of the public API and with this it will&lt;br/&gt;
work.&lt;/p&gt;





&lt;p&gt;&amp;#8211; &lt;br/&gt;
mP&lt;/p&gt;</comment>
                            <comment id="13278198" author="garydgregory" created="Thu, 17 May 2012 20:07:00 +0000"  >&lt;p&gt;Committed revision 1339834.&lt;/p&gt;</comment>
                            <comment id="15291832" author="b.eckenfels" created="Thu, 19 May 2016 18:26:16 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12527780" name="ASF.LICENSE.NOT.GRANTED--ApacheVfsRamShrinkBugDemoTest.java" size="2894" author="mp1" created="Thu, 17 May 2012 05:00:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>232301</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05k5j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30362</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-399] Custom VFSes over ZIP crashes with Null pointer Exception</title>
                <link>https://issues.apache.org/jira/browse/VFS-399</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;When I implement any intermediate VFS provider and try to connect it to ZIP VFS provider like jar:myprovider:///myurl/myclasses.jar I get Null Pointer Exception due to wrong implementation of ZIP provider. Because it initializes NULL zip entry and tries to get last modification time of this entry without checking for null value.&lt;/p&gt;

&lt;p&gt;I suggest the solution for this issue in two steps.&lt;/p&gt;

&lt;p&gt;1. For elimination of issue in class org.apache.commons.vfs2.provider.zip.ZipFileObject.java in method doGetLastModifiedTime() &lt;font color=&quot;red&quot;&gt;line 149&lt;/font&gt; &lt;br/&gt;
change code: &lt;span class=&quot;error&quot;&gt;&amp;#91;&lt;font color=&quot;red&quot;&gt; return entry.getTime();&lt;/font&gt;&amp;#93;&lt;/span&gt;&lt;br/&gt;
to code &lt;span class=&quot;error&quot;&gt;&amp;#91;&lt;font color=&quot;red&quot;&gt;return entry==null ? 0 : entry.getTime();&lt;/font&gt;&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;2. For correct passing of last modification tate from parent VFS to ZIP VFS in class org.apache.commons.vfs2.provider.zip.ZipFileSystem.java method init() &lt;font color=&quot;red&quot;&gt;line 115&lt;/font&gt;&lt;br/&gt;
change code &lt;span class=&quot;error&quot;&gt;&amp;#91;&lt;font color=&quot;red&quot;&gt;parent = createZipFileObject(parentName, null);&lt;/font&gt;&amp;#93;&lt;/span&gt;&lt;br/&gt;
to code [&lt;font color=&quot;red&quot;&gt;&lt;br/&gt;
ZipEntry parentEntry = new ZipEntry(getParentLayer().getFileSystem().getRoot().getName().getPath());&lt;br/&gt;
parentEntry.setSize(0);&lt;br/&gt;
try {&lt;br/&gt;
     parentEntry.setTime(getParentLayer().getFileSystem().getRoot().getContent().getLastModifiedTime());&lt;br/&gt;
} catch (Exception e) { }&lt;br/&gt;
&lt;br/&gt;
parent = createZipFileObject(parentName, entry);&lt;/font&gt;&lt;br/&gt;
]&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows XP x64&lt;br/&gt;
Oracle JDK 1.6.0.27&lt;/p&gt;</environment>
        <key id="12538484">VFS-399</key>
            <summary>Custom VFSes over ZIP crashes with Null pointer Exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kwk">Konstantin Kasatkin</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Jan 2012 08:12:46 +0000</created>
                <updated>Thu, 1 May 2014 23:14:00 +0000</updated>
                                            <version>2.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="300">5m</timeoriginalestimate>
                            <timeestimate seconds="300">5m</timeestimate>
                                        <comments>
                            <comment id="13187180" author="garydgregory" created="Mon, 16 Jan 2012 20:59:32 +0000"  >&lt;p&gt;The test &lt;tt&gt;org.apache.commons.vfs2.provider.zip.test.NestedZipTestCase&lt;/tt&gt; works in trunk. I am guessing it worked when 2.0 was released. &lt;/p&gt;

&lt;p&gt;Can you provide a test case patch that shows the problem? Perhaps using other VFS file providers?&lt;/p&gt;

&lt;p&gt;Thank you.&lt;/p&gt;</comment>
                            <comment id="13187514" author="kwk" created="Tue, 17 Jan 2012 07:50:26 +0000"  >&lt;p&gt;I&apos;ve attached complete example based on org.apache.commons.vfs2.example.ShowProperties class. There are two run scripts: first - with original 2.0 VFS, second - with patched zip provider.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12510817" name="test.zip" size="813075" author="kwk" created="Tue, 17 Jan 2012 07:50:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>223988</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 42 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i16swv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>247816</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-398] FtpFileObject.getChildren() fails when a folder contains a file with a colon in the name</title>
                <link>https://issues.apache.org/jira/browse/VFS-398</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;In line 767 of DefaultFileSystemManager.java the UriParser&apos;s extractScheme() method is called:&lt;/p&gt;

&lt;p&gt;        String scheme = UriParser.extractScheme(buffer.toString());&lt;/p&gt;

&lt;p&gt;This code was added in revision 780730&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=780730&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=780730&lt;/a&gt;&lt;br/&gt;
It is not clear to me why this change was made.&lt;/p&gt;

&lt;p&gt;For the FTP provider, buffer contains a plain file name (i.e. without a path and definitely not in URI form)&lt;/p&gt;

&lt;p&gt;A colon is a valid character for a file name.&lt;br/&gt;
However a colon will be interpreted as a URI scheme name.&lt;br/&gt;
This causes an exception when the resolved path is checked using AbstractFileName.checkName()&lt;/p&gt;

&lt;p&gt;Sample code:&lt;/p&gt;

&lt;p&gt;FileObject fo = VFS.getManager().resolveFile(&quot;ftp://user:pass@host/some/path/some.file&quot;);&lt;br/&gt;
fo.getParent().getChildren();&lt;/p&gt;

&lt;p&gt;If /some/path/ contains a child such as PREFIX:SUFFIX then an exception is thrown:&lt;/p&gt;

&lt;p&gt;Exception in thread &quot;main&quot; org.apache.commons.vfs2.FileSystemException: Invalid descendent file name &quot;PREFIX:SUFFIX&quot;.&lt;br/&gt;
	at org.apache.commons.vfs2.impl.DefaultFileSystemManager.resolveName(DefaultFileSystemManager.java:791)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.AbstractFileObject.getChildren(AbstractFileObject.java:710)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.ftp.FtpFileObject.getChildren(FtpFileObject.java:420)&lt;/p&gt;

&lt;p&gt;Therefore calling code is unable to list the children of the specified folder.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Connecting via FTP to a host running SunOS 5.10&lt;/p&gt;</environment>
        <key id="12537519">VFS-398</key>
            <summary>FtpFileObject.getChildren() fails when a folder contains a file with a colon in the name</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="otto">Otto Fowler</assignee>
                                    <reporter username="markjleonard">Mark Leonard</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Jan 2012 15:02:21 +0000</created>
                <updated>Wed, 20 Apr 2022 15:22:11 +0000</updated>
                            <resolved>Thu, 24 Jan 2019 22:52:08 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.3</fixVersion>
                                        <due></due>
                            <votes>9</votes>
                                    <watches>14</watches>
                                                                                                                <comments>
                            <comment id="13181372" author="markjleonard" created="Fri, 6 Jan 2012 15:08:27 +0000"  >&lt;p&gt;I searched for existing issues and found only the following:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-312&quot; title=&quot;Add FileObjectResolver to provide custom FileObject resolution (FileSystem.resolveFile(...))&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-312&quot;&gt;VFS-312&lt;/a&gt; (relating to creation of a file with a colon in the name on Windows)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-376&quot; title=&quot;SFTP uri is throwing error when .. is using in path&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-376&quot;&gt;VFS-376&lt;/a&gt; (which mentions normalization of a URI that contains a colon character)&lt;/p&gt;

&lt;p&gt;As an aside, I looked at RFC1378 and this confirms that a colon is valid in the path element of the FTP URI scheme. This isn&apos;t really relevant to the issue I&apos;ve raised, which concerns treating a plain file name as a URI.&lt;/p&gt;</comment>
                            <comment id="13181403" author="markjleonard" created="Fri, 6 Jan 2012 15:50:36 +0000"  >&lt;p&gt;A quick solution might be to escape the colon character when the file name is URI encoded&lt;/p&gt;

&lt;p&gt;FtpFileObject.doListChildren() calls UriParser.encode(childNames)&lt;/p&gt;

&lt;p&gt;In the following method:&lt;/p&gt;

&lt;p&gt;    public static String encode(final String decodedStr)&lt;/p&gt;
    {
        return encode(decodedStr, null);
    }

&lt;p&gt;The set of &quot;reserved&quot; (meaning &quot;to be encoded&quot;) characters is null - should a colon be considered &quot;reserved&quot;?&lt;/p&gt;</comment>
                            <comment id="13182660" author="markjleonard" created="Mon, 9 Jan 2012 17:39:00 +0000"  >&lt;p&gt;A similar error occurs using the SFTP provider:&lt;/p&gt;

&lt;p&gt;Exception in thread &quot;main&quot; org.apache.commons.vfs2.FileSystemException: Invalid descendent file name &quot;PREFIX:SUFFIX&quot;.&lt;br/&gt;
	at org.apache.commons.vfs2.impl.DefaultFileSystemManager.resolveName(DefaultFileSystemManager.java:791)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.sftp.SftpFileObject.doListChildrenResolved(SftpFileObject.java:395)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.AbstractFileObject.getChildren(AbstractFileObject.java:654)&lt;/p&gt;</comment>
                            <comment id="13195075" author="pkcinna" created="Fri, 27 Jan 2012 20:35:33 +0000"  >&lt;p&gt;This happens to be a show stopper for my app since many files have a colon in the name. &lt;/p&gt;

&lt;p&gt;org.apache.commons.vfs2.FileSystemException: Invalid descendent file name &quot;jcr:lastModified.txt&quot;.&lt;br/&gt;
	at org.apache.commons.vfs2.impl.DefaultFileSystemManager.resolveName(DefaultFileSystemManager.java:791)&lt;/p&gt;

&lt;p&gt;Is there a workaround?&lt;/p&gt;</comment>
                            <comment id="13196346" author="garydgregory" created="Mon, 30 Jan 2012 19:27:02 +0000"  >&lt;p&gt;Try to percent-encode the reserved URI character &quot;:&quot; according to RFC3986 (&lt;a href=&quot;https://tools.ietf.org/html/rfc3986)?&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://tools.ietf.org/html/rfc3986)?&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;For example: &quot;ftp://user:pass@host/some/path/some%3Afile&quot; instead of &quot;ftp://user:pass@host/some/path/some:file&quot;&lt;/p&gt;</comment>
                            <comment id="13206014" author="pkcinna" created="Sat, 11 Feb 2012 04:38:02 +0000"  >&lt;p&gt;As a user of the API, this is in the context of FtpFileObject.getChildren() so it is not possible to percent-encode.  From Mark&apos;s findings, it looks like this is a major bug that has to be fixed internally right? &lt;/p&gt;</comment>
                            <comment id="13502213" author="vbonamy" created="Wed, 21 Nov 2012 19:19:29 +0000"  >&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;As Mark Leonard said, the goal of the commit 780730 is not very clear for me too.&lt;br/&gt;
And this issue broke my app so that I had to fork commons-vfs2-project-2.0&lt;/p&gt;

&lt;p&gt;You can see the patch/diff I make on github here : &lt;br/&gt;
&lt;a href=&quot;https://github.com/vbonamy/commons-vfs2-project-2.0/commit/43de7e38a6a27f846c034eb3b824edd2e3b0fe12&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/vbonamy/commons-vfs2-project-2.0/commit/43de7e38a6a27f846c034eb3b824edd2e3b0fe12&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It would be nice if this issue can find a resolution. Maybe my patch can be applied simply ?&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Vincent.&lt;/p&gt;
</comment>
                            <comment id="13502278" author="garydgregory" created="Wed, 21 Nov 2012 20:23:28 +0000"  >&lt;p&gt;The issue description mentions RFC1378 which is... AppleTalk? That must be a typo.&lt;/p&gt;</comment>
                            <comment id="13502293" author="garydgregory" created="Wed, 21 Nov 2012 20:34:17 +0000"  >&lt;p&gt;Since Ralph committed &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=780730&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=780730&lt;/a&gt; I&apos;d like to hear his take on this patch.&lt;/p&gt;</comment>
                            <comment id="13502307" author="markjleonard" created="Wed, 21 Nov 2012 20:57:05 +0000"  >&lt;p&gt;Sorry - I meant to type RFC1738 which is the Uniform Resource Locators (URL) specification&lt;/p&gt;</comment>
                            <comment id="14021306" author="cobexer" created="Sun, 8 Jun 2014 20:14:32 +0000"  >&lt;p&gt;this also just bit me (and users of my app) is there any progress yet? I can even trigger if if the local filesystem contains a file with a colon in it&apos;s name - when listing the parent directory, which means that there is absolutely nothing I can do to avoid that.&lt;/p&gt;

&lt;p&gt;any ideas?&lt;/p&gt;

&lt;p&gt;Br,&lt;br/&gt;
cobexer&lt;/p&gt;</comment>
                            <comment id="14025476" author="garydgregory" created="Mon, 9 Jun 2014 18:11:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ralph_goers%40dslextreme.com&quot; class=&quot;user-hover&quot; rel=&quot;ralph_goers@dslextreme.com&quot;&gt;ralph_goers@dslextreme.com&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ralph.goers%40dslextreme.com&quot; class=&quot;user-hover&quot; rel=&quot;ralph.goers@dslextreme.com&quot;&gt;ralph.goers@dslextreme.com&lt;/a&gt; Can you help us by commenting on your commit and any hints you may have here?&lt;/p&gt;</comment>
                            <comment id="14025548" author="ralph.goers@dslextreme.com" created="Mon, 9 Jun 2014 18:53:57 +0000"  >&lt;p&gt;Gee, a commit that happened 5 years ago...&lt;/p&gt;

&lt;p&gt;In looking at the code it looks to me that it is trying to determine whether the path is relative or absolute.   A path with a svheme would be absolute.  This was almost certainly done when I was adding WebDAV support via Jackrabbit. However I don&apos;t remember what the specific problem was that required this fix. I can&apos;t really say what impact Vincent&apos;s fix would have without running all the tests.&lt;/p&gt;
</comment>
                            <comment id="14026105" author="pkcinna" created="Tue, 10 Jun 2014 04:15:06 +0000"  >&lt;p&gt;Please fix this if someone knows a solution!  We have been waiting for a 2.1 release to fix this bug for over a year and a half.  It cripples our app that uses webdav and sftp (both are effected).   There are lots of files starting with &quot;jcr:&quot; on our servers with webdav services.&lt;/p&gt;</comment>
                            <comment id="14026174" author="garydgregory" created="Tue, 10 Jun 2014 06:40:15 +0000"  >&lt;p&gt;A recent commit has messed up the build. Once that is fixed, I could test the proposed fix to see if breaks anything. If it does not, that is a good sign but there is no unit tests to prove that the change fixes anything, so that is needed.&lt;/p&gt;

&lt;p&gt;If you or anyone wants to help this issue move forward, please create a patch with a fix for trunk &lt;em&gt;with&lt;/em&gt; a unit test.&lt;/p&gt;

&lt;p&gt;Issues with patches usually go through the whole process a lot faster and smoother. We are all volunteers here with limited availability.&lt;/p&gt;

&lt;p&gt;Gary&lt;/p&gt;</comment>
                            <comment id="14220697" author="b.eckenfels" created="Fri, 21 Nov 2014 09:04:13 +0000"  >&lt;p&gt;Hm yes, extracting the scheme might be a problem here, on the other hand it is also possible that actually ftp has to escape the string before passing it to a URI handler.&lt;/p&gt;</comment>
                            <comment id="14710104" author="paul.williams@datuhealth.com" created="Mon, 24 Aug 2015 21:35:21 +0000"  >&lt;p&gt;I see this same behavior when accessing a LOCAL file that has a colon in it.  Like the OP, I&apos;m not passing a specific file name, rather using `FileObject.getChildren()` to get all the files in a directory.  Seems like a pretty severe bug.&lt;/p&gt;</comment>
                            <comment id="14710169" author="pkcinna" created="Mon, 24 Aug 2015 22:28:40 +0000"  >&lt;p&gt;Maybe this project is no longer active. &#160;I believe we submitted a bug for this a few years ago.&lt;br/&gt;
      From: Paul Williams (JIRA) &amp;lt;jira@apache.org&amp;gt;&lt;br/&gt;
 To: pkcinna@yahoo.com &lt;br/&gt;
 Sent: Monday, August 24, 2015 5:35 PM&lt;br/&gt;
 Subject: &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Commented&amp;#93;&lt;/span&gt; (&lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-398&quot; title=&quot;FtpFileObject.getChildren() fails when a folder contains a file with a colon in the name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-398&quot;&gt;&lt;del&gt;VFS-398&lt;/del&gt;&lt;/a&gt;) FtpFileObject.getChildren() fails when a folder contains a file with a colon in the name&lt;/p&gt;


&lt;p&gt;&#160; &#160; [ &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-398?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&amp;amp;focusedCommentId=14710104#comment-14710104&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/VFS-398?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&amp;amp;focusedCommentId=14710104#comment-14710104&lt;/a&gt; ] &lt;/p&gt;

&lt;p&gt;Paul Williams commented on &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-398&quot; title=&quot;FtpFileObject.getChildren() fails when a folder contains a file with a colon in the name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-398&quot;&gt;&lt;del&gt;VFS-398&lt;/del&gt;&lt;/a&gt;:&lt;br/&gt;
-----------------------------------&lt;/p&gt;

&lt;p&gt;I see this same behavior when accessing a LOCAL file that has a colon in it.&#160; Like the OP, I&apos;m not passing a specific file name, rather using `FileObject.getChildren()` to get all the files in a directory.&#160; Seems like a pretty severe bug.&lt;/p&gt;




&lt;p&gt;&amp;#8211;&lt;br/&gt;
This message was sent by Atlassian JIRA&lt;br/&gt;
(v6.3.4#6332)&lt;/p&gt;

</comment>
                            <comment id="14710250" author="b.eckenfels" created="Mon, 24 Aug 2015 23:17:06 +0000"  >&lt;p&gt;Please attach the patch if you have one.&lt;/p&gt;</comment>
                            <comment id="14876219" author="simon04" created="Fri, 18 Sep 2015 19:31:57 +0000"  >&lt;p&gt;I cannot reproduce:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;$ cd /tmp
$ mkdir foo:bar:baz
$ cd foo:bar:baz
$ touch `seq 10`
$ cd /tmp
$ python -m pyftpdlib
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Afterwards, both of the following calls list the files 1&#8230;10:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;tt&gt;VFS.getManager().resolveFile(&quot;ftp://localhost:2121/foo:bar:baz&quot;).getChildren()&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;VFS.getManager().resolveFile(&quot;/tmp/foo:bar:baz&quot;).getChildren()&lt;/tt&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14877307" author="markjleonard" created="Sat, 19 Sep 2015 20:16:16 +0000"  >&lt;p&gt;To reproduce the problem it is not sufficient to have a colon in the full file path. It is necessary to have a colon in the file name (relative to its parent folder). Your chosen file name of `seq 10` does not contain a colon. If you additionally create a second file named &apos;seq:10&apos; does your test code still run successfully?&lt;/p&gt;
</comment>
                            <comment id="14906967" author="simon04" created="Thu, 24 Sep 2015 20:40:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markjleonard&quot; class=&quot;user-hover&quot; rel=&quot;markjleonard&quot;&gt;markjleonard&lt;/a&gt;, thank you for the clarification.&lt;/p&gt;

&lt;p&gt;Consider a file &lt;tt&gt;/foo:bar:baz/foo:bar&lt;/tt&gt; relative to FTP root and calling &lt;tt&gt;VFS.getManager().resolveFile(&quot;ftp://localhost:2121/foo:bar:baz&quot;).getChildren()&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;In &lt;tt&gt;org.apache.commons.vfs2.impl.DefaultFileSystemManager#resolveName(org.apache.commons.vfs2.FileName, java.lang.String, org.apache.commons.vfs2.NameScope)&lt;/tt&gt; from the method parameter &lt;tt&gt;name&lt;/tt&gt; (which is considered relative to the root) a scheme is extracted. This yields &lt;tt&gt;foo&lt;/tt&gt; as scheme and subsequent test &lt;tt&gt;(scheme == null &amp;amp;&amp;amp; buffer.charAt(0) != FileName.SEPARATOR_CHAR)&lt;/tt&gt; is negative.&lt;/p&gt;

&lt;p&gt;The scheme extraction for the relative &lt;tt&gt;name&lt;/tt&gt; has been integrated in revision 780730.  I wonder why.&lt;/p&gt;</comment>
                            <comment id="15785760" author="wodencafe" created="Thu, 29 Dec 2016 17:48:06 +0000"  >&lt;p&gt;Building upon Gary&apos;s comment, here is how we worked around this issue successfully by overriding the resolveName method in DefaultFileSystemManager&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;DefaultFileSystemManager workaround&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DefaultFileSystemManager()
{
        @Override
        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; FileName resolveName( &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FileName base, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; name, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; NameScope scope )
                &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; FileSystemException
        {
                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.resolveName( base, name.replace( &lt;span class=&quot;code-quote&quot;&gt;&quot;:&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;%3A&quot;&lt;/span&gt; ), scope );
        }

};
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16366257" author="ottobackwards" created="Thu, 15 Feb 2018 21:04:32 +0000"  >&lt;p&gt;resolveName takes a&#160;base name and the name.&lt;/p&gt;

&lt;p&gt;The issue is that the code was written to support the base name being a full URI as opposed to being &apos;just&apos; a name.&lt;/p&gt;

&lt;p&gt;So it supports both:&lt;/p&gt;

&lt;p&gt;base -&amp;gt; foo://test/data&lt;/p&gt;

&lt;p&gt;name -&amp;gt;bar&lt;/p&gt;

&lt;p&gt;AND&lt;/p&gt;

&lt;p&gt;base -&amp;gt; foo://test/data&lt;/p&gt;

&lt;p&gt;name -&amp;gt; foo://test/data/bar&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;It therefore needs to get the scheme from the &apos;name&apos; so it can decide if it needs to prepend the base or not.&lt;/p&gt;

&lt;p&gt;The issue is that the code to extract the schema just searches for the first &apos;:&apos; as the schema marker.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Therefore IF you pass in a &apos;name&apos; parameter that is NOT a full URI,&#160;&lt;/p&gt;

&lt;p&gt;base -&amp;gt; foo://test/data&lt;/p&gt;

&lt;p&gt;name -&amp;gt; b:ar&lt;/p&gt;

&lt;p&gt;You will see this because we then try to normalize the uri, thinking it has a scheme but it doesn&apos;t.&lt;/p&gt;

&lt;p&gt;If you have a full URI parameter, then you will probably not see this.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I ran this test in LocalProviderTestCase, FileNameTest&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testColonNames() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
     &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FileObject readFolder = getReadFolder();
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FileObject dirOfDeath = readFolder.resolveFile(&lt;span class=&quot;code-quote&quot;&gt;&quot;dirOfDeath&quot;&lt;/span&gt;);
        Assert.assertTrue(&lt;span class=&quot;code-quote&quot;&gt;&quot;Missing dirOfDeath&quot;&lt;/span&gt;, dirOfDeath.exists());

        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FileName noBoom = getManager().resolveName(dirOfDeath.getName(), dirOfDeath.getURL() + &lt;span class=&quot;code-quote&quot;&gt;&quot;/file:GoBoom&quot;&lt;/span&gt;);
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Made it!&quot;&lt;/span&gt;);
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
          &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FileName boom = getManager().resolveName(dirOfDeath.getName(), &lt;span class=&quot;code-quote&quot;&gt;&quot;file:GoBoom&quot;&lt;/span&gt;);
        }&lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt;(Exception e) {
          Assert.assertTrue(&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
        }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Made it!

java.lang.AssertionError
at org.junit.Assert.fail(Assert.java:86)
at org.junit.Assert.assertTrue(Assert.java:41)
at org.junit.Assert.assertTrue(Assert.java:52)
at org.apache.commons.vfs2.provider.local.test.FileNameTests.testColonNames(FileNameTests.java:60)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;So there is no need to mark up the names, or override. &#160;I think the correct fix is to have the parse schema function be a little smarter.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16366353" author="ottobackwards" created="Thu, 15 Feb 2018 22:28:49 +0000"  >&lt;p&gt;Would propose the following implementation/changes UriParser :&lt;/p&gt;

&lt;p&gt;I can do a PR if the change is acceptable.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; extractScheme(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; uri, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; StringBuilder buffer) {
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (buffer != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
        buffer.setLength(0);
        buffer.append(uri);
    }

    &lt;span class=&quot;code-comment&quot;&gt;// search &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; :/ &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the scheme marker
&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;// we look &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; both because some filesystems
&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;// support : in the name
&lt;/span&gt;    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; maxPos = uri.length();
    &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; markColon = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; pos = 0; pos &amp;lt; maxPos; pos++) {
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt; ch = uri.charAt(pos);

        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (ch == &lt;span class=&quot;code-quote&quot;&gt;&apos;:&apos;&lt;/span&gt;) {
            markColon = !markColon;
            &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;;
        }
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (ch == &lt;span class=&quot;code-quote&quot;&gt;&apos;/&apos;&lt;/span&gt;) {
            &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; is the second slash in :/
&lt;/span&gt;            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (markColon) {
                &lt;span class=&quot;code-comment&quot;&gt;// Found the end of the scheme
&lt;/span&gt;                &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; scheme = uri.substring(0, pos - 1);
                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (scheme.length() &amp;lt;= 1 &amp;amp;&amp;amp; Os.isFamily(Os.OS_FAMILY_WINDOWS)) {
                    &lt;span class=&quot;code-comment&quot;&gt;// This is not a scheme, but a Windows drive letter
&lt;/span&gt;                    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
                }
                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (buffer != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
                    buffer.delete(0, pos);
                }
                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; scheme.intern();
            } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
                &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
            }

        }
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(markColon) {
            &lt;span class=&quot;code-comment&quot;&gt;// : not followed by a /
&lt;/span&gt;            &lt;span class=&quot;code-comment&quot;&gt;// no scheme
&lt;/span&gt;            &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
        }
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ((ch &amp;gt;= &lt;span class=&quot;code-quote&quot;&gt;&apos;a&apos;&lt;/span&gt; &amp;amp;&amp;amp; ch &amp;lt;= &lt;span class=&quot;code-quote&quot;&gt;&apos;z&apos;&lt;/span&gt;) || (ch &amp;gt;= &lt;span class=&quot;code-quote&quot;&gt;&apos;A&apos;&lt;/span&gt; &amp;amp;&amp;amp; ch &amp;lt;= &lt;span class=&quot;code-quote&quot;&gt;&apos;Z&apos;&lt;/span&gt;)) {
            &lt;span class=&quot;code-comment&quot;&gt;// A scheme character
&lt;/span&gt;            &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;;
        }
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (pos &amp;gt; 0 &amp;amp;&amp;amp; ((ch &amp;gt;= &lt;span class=&quot;code-quote&quot;&gt;&apos;0&apos;&lt;/span&gt; &amp;amp;&amp;amp; ch &amp;lt;= &lt;span class=&quot;code-quote&quot;&gt;&apos;9&apos;&lt;/span&gt;) || ch == &lt;span class=&quot;code-quote&quot;&gt;&apos;+&apos;&lt;/span&gt; || ch == &lt;span class=&quot;code-quote&quot;&gt;&apos;-&apos;&lt;/span&gt; || ch == &lt;span class=&quot;code-quote&quot;&gt;&apos;.&apos;&lt;/span&gt;)) {
            &lt;span class=&quot;code-comment&quot;&gt;// A scheme character (these are not allowed as the first
&lt;/span&gt;            &lt;span class=&quot;code-comment&quot;&gt;// character of the scheme, but can be used as subsequent
&lt;/span&gt;            &lt;span class=&quot;code-comment&quot;&gt;// characters.
&lt;/span&gt;            &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;;
        }

        &lt;span class=&quot;code-comment&quot;&gt;// Not a scheme character
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
    }

    &lt;span class=&quot;code-comment&quot;&gt;// No scheme in URI
&lt;/span&gt;    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
}

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16366566" author="ottobackwards" created="Fri, 16 Feb 2018 03:20:48 +0000"  >&lt;p&gt;Actually, I needed to read the spec again, the above is wrong wrt the spec. My apologies.&lt;/p&gt;</comment>
                            <comment id="16366599" author="ottobackwards" created="Fri, 16 Feb 2018 04:33:34 +0000"  >&lt;p&gt;OK.&lt;/p&gt;

&lt;p&gt;After further reflection and review, here it is:&lt;/p&gt;

&lt;p&gt;The code wants to support a string the may be a url or may not be at the same time.&lt;/p&gt;

&lt;p&gt;The issue is, that no matter what we do we can never know if the &apos;:&apos; is the scheme marker or part of the file name.&lt;/p&gt;

&lt;p&gt;each scheme by definition supports a different scheme part ( the part after the : ) and some don&apos;t even have one.&lt;/p&gt;

&lt;p&gt;Add to this, that the scheme is used in the system to map to a provider, and those can be registered with whatever scheme a developer wants.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;My proposal is to limit the recognized scheme&apos;s returned by extractScheme to those registered in the system. &#160;I believe this is the most correct way to do this.&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;it is only way to be sure that it is a scheme and not just a &apos;:&apos;&lt;/li&gt;
	&lt;li&gt;the system can only support registered schemes anyway&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I have all system tests passing ( along with new tests for this issue ) with the following replacement method being used in place of extractScheme&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; extractSupportedScheme(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Set&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; supportedScheme, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; uri) {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; extractSupportedScheme(supportedScheme, uri, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
}

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; extractSupportedScheme(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Set&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; supportedScheme, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; uri, StringBuilder buffer) {
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (buffer != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
        buffer.setLength(0);
        buffer.append(uri);
    }

    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; schema : supportedScheme) {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(uri.startsWith(schema + &lt;span class=&quot;code-quote&quot;&gt;&quot;:&quot;&lt;/span&gt;)) {
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (buffer != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
                buffer.delete(0, uri.indexOf(&lt;span class=&quot;code-quote&quot;&gt;&apos;:&apos;&lt;/span&gt;) + 1);
            }
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; schema;
        }
    }
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Thoughts? &#160;Improvements?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16366602" author="ottobackwards" created="Fri, 16 Feb 2018 04:37:41 +0000"  >&lt;p&gt;A note on this, is that another layer of checks may be necessary.&lt;/p&gt;

&lt;p&gt;Because each scheme has a different scheme part but we do not verify that ftp:FOO &#160;and &lt;a href=&quot;ftp://foo/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://foo&lt;/a&gt;&#160;will both resolve to ftp scheme, but ftp:FOO is not a valid ftp url by definition.&lt;/p&gt;

&lt;p&gt;I think it is correct that we extract scheme this way, and leavel the invalid url error for later, but someone may disagree&lt;/p&gt;</comment>
                            <comment id="16367321" author="ottobackwards" created="Fri, 16 Feb 2018 13:55:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=garydgregory&quot; class=&quot;user-hover&quot; rel=&quot;garydgregory&quot;&gt;garydgregory&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="16367903" author="b.eckenfels" created="Fri, 16 Feb 2018 21:31:52 +0000"  >&lt;p&gt;I agree that the design here is incomplete and that checking for registered prefixes/schema seems to be the most robust workaround.&lt;/p&gt;</comment>
                            <comment id="16370895" author="ottobackwards" created="Wed, 21 Feb 2018 03:05:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/commons-vfs/pull/29&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-vfs/pull/29&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16394181" author="ottobackwards" created="Sat, 10 Mar 2018 14:09:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=b.eckenfels&quot; class=&quot;user-hover&quot; rel=&quot;b.eckenfels&quot;&gt;b.eckenfels&lt;/a&gt;: Is it enough to change the DefaultFileSystemManager? &#160;any chance you can throw a review on the PR?&lt;/p&gt;</comment>
                            <comment id="16515102" author="ottobackwards" created="Sun, 17 Jun 2018 15:07:45 +0000"  >&lt;p&gt;PR&#160;&lt;/p&gt;</comment>
                            <comment id="16515103" author="ottobackwards" created="Sun, 17 Jun 2018 15:08:45 +0000"  >&lt;p&gt;Any chance of a review / comment / merge on this issue?&lt;/p&gt;</comment>
                            <comment id="16515258" author="pkcinna" created="Mon, 18 Jun 2018 00:08:00 +0000"  >&lt;p&gt;How is the list of accepted schemes initially populated?&#160; I see in test case they are explicitly assigned but would there have to be some default list so it is somewhat backward compatible?&lt;/p&gt;

&lt;p&gt;      From: Otto Fowler (JIRA) &amp;lt;jira@apache.org&amp;gt;&lt;br/&gt;
 To: pkcinna@yahoo.com &lt;br/&gt;
 Sent: Sunday, June 17, 2018 11:09 AM&lt;br/&gt;
 Subject: &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Commented&amp;#93;&lt;/span&gt; (&lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-398&quot; title=&quot;FtpFileObject.getChildren() fails when a folder contains a file with a colon in the name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-398&quot;&gt;&lt;del&gt;VFS-398&lt;/del&gt;&lt;/a&gt;) FtpFileObject.getChildren() fails when a folder contains a file with a colon in the name&lt;/p&gt;


&lt;p&gt;&#160; &#160; [ &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-398?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&amp;amp;focusedCommentId=16515103#comment-16515103&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/VFS-398?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&amp;amp;focusedCommentId=16515103#comment-16515103&lt;/a&gt; ] &lt;/p&gt;

&lt;p&gt;Otto Fowler commented on &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-398&quot; title=&quot;FtpFileObject.getChildren() fails when a folder contains a file with a colon in the name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-398&quot;&gt;&lt;del&gt;VFS-398&lt;/del&gt;&lt;/a&gt;:&lt;br/&gt;
---------------------------------&lt;/p&gt;

&lt;p&gt;Any chance of a review / comment / merge on this issue?&lt;/p&gt;




&lt;p&gt;&amp;#8211;&lt;br/&gt;
This message was sent by Atlassian JIRA&lt;br/&gt;
(v7.6.3#76005)&lt;/p&gt;</comment>
                            <comment id="16515614" author="ottobackwards" created="Mon, 18 Jun 2018 11:44:16 +0000"  >&lt;p&gt;The DefaultFileSystemManager sends in the providers, see the changes to that file.&lt;/p&gt;</comment>
                            <comment id="16697185" author="ottobackwards" created="Fri, 23 Nov 2018 14:14:23 +0000"  >&lt;p&gt;Any chance anyone can ok this and land the pr? &#160;I hate having things laying around forever.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=garydgregory&quot; class=&quot;user-hover&quot; rel=&quot;garydgregory&quot;&gt;garydgregory&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=b.eckenfels&quot; class=&quot;user-hover&quot; rel=&quot;b.eckenfels&quot;&gt;b.eckenfels&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16709105" author="ottobackwards" created="Tue, 4 Dec 2018 18:56:30 +0000"  >&lt;p&gt;so, where are we at?&lt;/p&gt;</comment>
                            <comment id="16712066" author="garydgregory" created="Thu, 6 Dec 2018 21:58:21 +0000"  >&lt;p&gt;Hi&#160;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ottobackwards&quot; class=&quot;user-hover&quot; rel=&quot;ottobackwards&quot;&gt;ottobackwards&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I&apos;ve taken your patch and updated it as &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12950897/12950897_VFS-398-gg-00.patch&quot; title=&quot;VFS-398-gg-00.patch attached to VFS-398&quot;&gt;VFS-398-gg-00.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Name changes&lt;/li&gt;
	&lt;li&gt;Javadoc changes&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;What remains are the uses of the APIs you deprecated, namely:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;tt&gt;org.apache.commons.vfs2.provider.UriParser.extractScheme(String)&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;org.apache.commons.vfs2.provider.UriParser.extractScheme(String, StringBuilder)&lt;/tt&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The callers of these APIs must be updated to the new APIs. If not, you must rethink the need and/or usage of the new vs. old APIs...&lt;/p&gt;

&lt;p&gt;Thank you,&lt;br/&gt;
Gary&lt;/p&gt;</comment>
                            <comment id="16712168" author="ottobackwards" created="Fri, 7 Dec 2018 00:21:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=garydgregory&quot; class=&quot;user-hover&quot; rel=&quot;garydgregory&quot;&gt;garydgregory&lt;/a&gt; Thanks for the feedback. &#160;I will apply your patch, and get to work on that.&lt;/p&gt;</comment>
                            <comment id="16712748" author="ottobackwards" created="Fri, 7 Dec 2018 12:01:05 +0000"  >&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;~/src/apache/forks/commons-vfs &#57520; &#57504; VFS-398 &#57520; git apply 12950897_VFS-398-gg-00.patch
error: patch failed: pom.xml:135
error: pom.xml: patch does not apply
error: patch failed: commons-vfs2/src/main/java/org/apache/commons/vfs2/impl/DefaultFileSystemManager.java:764
error: commons-vfs2/src/main/java/org/apache/commons/vfs2/impl/DefaultFileSystemManager.java: patch does not apply
error: patch failed: commons-vfs2/src/main/java/org/apache/commons/vfs2/provider/UriParser.java:16
error: commons-vfs2/src/main/java/org/apache/commons/vfs2/provider/UriParser.java: patch does not apply
error: patch failed: commons-vfs2/src/test/java/org/apache/commons/vfs2/provider/UriParserTestCase.java:16
error: commons-vfs2/src/test/java/org/apache/commons/vfs2/provider/UriParserTestCase.java: patch does not apply
error: patch failed: commons-vfs2/src/test/java/org/apache/commons/vfs2/provider/local/test/FileNameTests.java:17
error: commons-vfs2/src/test/java/org/apache/commons/vfs2/provider/local/test/FileNameTests.java: patch does not apply&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I&apos;m going to hand apply the changes. &#160;I&apos;ll tag you in the commit&lt;/p&gt;</comment>
                            <comment id="16712758" author="ottobackwards" created="Fri, 7 Dec 2018 12:09:38 +0000"  >&lt;p&gt;Actually, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=garydgregory&quot; class=&quot;user-hover&quot; rel=&quot;garydgregory&quot;&gt;garydgregory&lt;/a&gt;, what is this patch? &#160;It is a patch on top of my changes, or a patch that includes my changes against trunk?&lt;/p&gt;

&lt;p&gt;Can you do a patch of just your changes that I can apply or submit a PR to my github branch?&lt;/p&gt;</comment>
                            <comment id="16712806" author="ottobackwards" created="Fri, 7 Dec 2018 12:46:25 +0000"  >&lt;p&gt;Nevermind, i was able to bring changes over from apache/&lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-398&quot; title=&quot;FtpFileObject.getChildren() fails when a folder contains a file with a colon in the name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-398&quot;&gt;&lt;del&gt;VFS-398&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16718900" author="ottobackwards" created="Wed, 12 Dec 2018 12:11:56 +0000"  >&lt;p&gt;If you look at latest, I think it is what you are looking for &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=garydgregory&quot; class=&quot;user-hover&quot; rel=&quot;garydgregory&quot;&gt;garydgregory&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16726201" author="ottobackwards" created="Thu, 20 Dec 2018 20:28:42 +0000"  >&lt;p&gt;ping&lt;/p&gt;</comment>
                            <comment id="16726317" author="garydgregory" created="Thu, 20 Dec 2018 23:29:24 +0000"  >&lt;p&gt;I am on the road with a dead laptop. It will be a few days before I can do anything, maybe even a week...&lt;/p&gt;</comment>
                            <comment id="16745066" author="ottobackwards" created="Thu, 17 Jan 2019 13:53:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=garydgregory&quot; class=&quot;user-hover&quot; rel=&quot;garydgregory&quot;&gt;garydgregory&lt;/a&gt; I would like to get this in, and possibly we can talk about a release, or other things that we want to land pursuant to a release. &#160;What do you think?&lt;/p&gt;</comment>
                            <comment id="16745277" author="garydgregory" created="Thu, 17 Jan 2019 16:46:07 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ottobackwards&quot; class=&quot;user-hover&quot; rel=&quot;ottobackwards&quot;&gt;ottobackwards&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;I&apos;m back with a new laptop. What is the state of the patch? I see my version of your patch attached to this ticket. How about my comments in &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-398?focusedCommentId=16712066&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16712066&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/VFS-398?focusedCommentId=16712066&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16712066&lt;/a&gt; ?&lt;/p&gt;

&lt;p&gt;Gary&lt;/p&gt;</comment>
                            <comment id="16745296" author="ottobackwards" created="Thu, 17 Jan 2019 17:05:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=garydgregory&quot; class=&quot;user-hover&quot; rel=&quot;garydgregory&quot;&gt;garydgregory&lt;/a&gt; :&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/commons-vfs/pull/29/commits/c7f5944f5c6d7b3e9bba49344bf5389346982f47&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-vfs/pull/29/commits/c7f5944f5c6d7b3e9bba49344bf5389346982f47&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16745377" author="garydgregory" created="Thu, 17 Jan 2019 18:43:51 +0000"  >&lt;p&gt;Looking at &lt;a href=&quot;https://github.com/apache/commons-vfs/pull/29/files&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-vfs/pull/29/files&lt;/a&gt;, I see no new tests &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16745463" author="ottobackwards" created="Thu, 17 Jan 2019 20:21:13 +0000"  >&lt;p&gt;There is a new test in the URIParserTestCase for the issue reported. &#160;What tests do you mean?&lt;/p&gt;</comment>
                            <comment id="16746265" author="garydgregory" created="Fri, 18 Jan 2019 13:05:32 +0000"  >&lt;p&gt;Apologies, I was looking the wrong PR!&lt;/p&gt;</comment>
                            <comment id="16746274" author="garydgregory" created="Fri, 18 Jan 2019 13:19:32 +0000"  >&lt;p&gt;The main PR applies cleanly and build is OK. I might not have the time to review today. A second set of eyes would help as this is a large-ish patch. I had to hand edit the test case class.&lt;/p&gt;</comment>
                            <comment id="16746328" author="ottobackwards" created="Fri, 18 Jan 2019 14:16:36 +0000"  >&lt;p&gt;maybe &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=b.eckenfels&quot; class=&quot;user-hover&quot; rel=&quot;b.eckenfels&quot;&gt;b.eckenfels&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="16746342" author="b.eckenfels" created="Fri, 18 Jan 2019 14:30:07 +0000"  >&lt;p&gt;I think the overall idea of checking for known schemes is an option to solve this dilemma (unclear when URI and when file names are used), but I am not sure about the implementation details: the change seems to use getScheme() very often and this method constructs a new response object every time, that might be performance critical (I havent measured it yet, but in the past I say a lot of resolves in normal operations).&lt;/p&gt;

&lt;p&gt;Also changing the sequence of cleanup when closing the manager was very tricky in the past, so hopefully providers.clear() is ok in the new patch.&lt;/p&gt;</comment>
                            <comment id="16746347" author="ottobackwards" created="Fri, 18 Jan 2019 14:33:18 +0000"  >&lt;p&gt;The point about getSchemes is a good one. &#160;I was more concerned with &apos;how to get the schemes correctly&apos; than that issue. &#160;Let me think about that and see if I can make it better.&lt;/p&gt;</comment>
                            <comment id="16747120" author="ottobackwards" created="Sat, 19 Jan 2019 14:32:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=b.eckenfels&quot; class=&quot;user-hover&quot; rel=&quot;b.eckenfels&quot;&gt;b.eckenfels&lt;/a&gt; please see the latest, i have tried to cut down on temp object creation, and cached the schemes.&lt;/p&gt;</comment>
                            <comment id="16751666" author="garydgregory" created="Thu, 24 Jan 2019 22:51:55 +0000"  >&lt;p&gt;In svn trunk. Please verify and close.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;commit -m &quot;[VFS-398] FtpFileObject.getChildren() fails when a folder contains a file with a colon in the name....&quot; -N (14 paths specified)
    Sending        C:/svn/apache/commons-vfs2/commons-vfs2/src/main/java/org/apache/commons/vfs2/impl/DefaultFileSystemManager.java
    Sending        C:/svn/apache/commons-vfs2/commons-vfs2/src/main/java/org/apache/commons/vfs2/provider/AbstractFileObject.java
    Sending        C:/svn/apache/commons-vfs2/commons-vfs2/src/main/java/org/apache/commons/vfs2/provider/CompositeFileProvider.java
    Sending        C:/svn/apache/commons-vfs2/commons-vfs2/src/main/java/org/apache/commons/vfs2/provider/DefaultURLStreamHandler.java
    Sending        C:/svn/apache/commons-vfs2/commons-vfs2/src/main/java/org/apache/commons/vfs2/provider/HostFileNameParser.java
    Sending        C:/svn/apache/commons-vfs2/commons-vfs2/src/main/java/org/apache/commons/vfs2/provider/LayeredFileNameParser.java
    Sending        C:/svn/apache/commons-vfs2/commons-vfs2/src/main/java/org/apache/commons/vfs2/provider/UriParser.java
    Sending        C:/svn/apache/commons-vfs2/commons-vfs2/src/main/java/org/apache/commons/vfs2/provider/local/LocalFileNameParser.java
    Sending        C:/svn/apache/commons-vfs2/commons-vfs2/src/main/java/org/apache/commons/vfs2/provider/res/ResourceFileProvider.java
    Sending        C:/svn/apache/commons-vfs2/commons-vfs2/src/main/java/org/apache/commons/vfs2/provider/temp/TemporaryFileProvider.java
    Sending        C:/svn/apache/commons-vfs2/commons-vfs2/src/test/java/org/apache/commons/vfs2/provider/UriParserTestCase.java
    Sending        C:/svn/apache/commons-vfs2/commons-vfs2/src/test/java/org/apache/commons/vfs2/provider/local/test/FileNameTests.java
    Sending        C:/svn/apache/commons-vfs2/pom.xml
    Sending        C:/svn/apache/commons-vfs2/src/changes/changes.xml
    Transmitting file data ...
    Unknown action received: commit finalizing
    Committed revision 1852077.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16752740" author="ottobackwards" created="Fri, 25 Jan 2019 22:14:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=garydgregory&quot; class=&quot;user-hover&quot; rel=&quot;garydgregory&quot;&gt;garydgregory&lt;/a&gt; I cannot close this jira. &#160;Can you check my rights?&lt;/p&gt;</comment>
                            <comment id="16752779" author="garydgregory" created="Fri, 25 Jan 2019 23:01:07 +0000"  >&lt;p&gt;I would guess that you are not in the Jira group &quot;Apache Commons Developer&quot; a.k.a. commons-developers &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=issues%40commons.apache.org&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=issues%40commons.apache.org&lt;/a&gt;&#160;which is likely due to a fact that you are not an official committer for Commons according to &lt;a href=&quot;https://people.apache.org/committer-index.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://people.apache.org/committer-index.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The good news which you know already is that as an Apache committer, you can commit to Commons since we&apos;ve opened up Commons to all Apache Committer.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16752780" author="garydgregory" created="Fri, 25 Jan 2019 23:01:24 +0000"  >&lt;p&gt;Closing by request from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ottobackwards&quot; class=&quot;user-hover&quot; rel=&quot;ottobackwards&quot;&gt;ottobackwards&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16753114" author="ottobackwards" created="Sat, 26 Jan 2019 15:52:30 +0000"  >&lt;p&gt;Yeah, my Jira login pre-dates my apache id, I am in that list, but as &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;mailto:otto@apache.org.&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;otto@apache.org.&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/mail_small.gif&quot; height=&quot;12&quot; width=&quot;13&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Who is on the PMC of commons who can give me rights in jira?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Once vfs is in git ( having gotten a couple of PRs landed ) I&apos;ll be more comfortable doing commit then review.&lt;/p&gt;</comment>
                            <comment id="16753126" author="garydgregory" created="Sat, 26 Jan 2019 16:26:26 +0000"  >&lt;p&gt;I was hoping I could but it is not a Jira thing I think. I think you need to be in the proper LDAP group OR infra needs to give you Jira karma specifically. Not 100% sure.&#160;&lt;/p&gt;</comment>
                            <comment id="16753130" author="ottobackwards" created="Sat, 26 Jan 2019 16:58:13 +0000"  >&lt;p&gt;A PMC member should be able to get into the project dashboard and assign users to roles. &#160;I can do this with METRON as I am on the pmc&lt;/p&gt;</comment>
                            <comment id="16753436" author="garydgregory" created="Sun, 27 Jan 2019 15:33:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ottobackwards&quot; class=&quot;user-hover&quot; rel=&quot;ottobackwards&quot;&gt;ottobackwards&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;May you attach a screen shot? I might have karma...&lt;/p&gt;</comment>
                            <comment id="16753969" author="ottobackwards" created="Mon, 28 Jan 2019 12:46:24 +0000"  >&lt;p&gt;&lt;img src=&quot;https://issues.apache.org/jira/images/icons/attach/noimage.png&quot; imagetext=&quot;image-2019-01-28-07-46-13-524.png&quot; align=&quot;absmiddle&quot; border=&quot;0&quot; /&gt;&lt;/p&gt;</comment>
                            <comment id="16753971" author="ottobackwards" created="Mon, 28 Jan 2019 12:47:18 +0000"  >&lt;p&gt;Here&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12950897" name="VFS-398-gg-00.patch" size="28827" author="ggregory" created="Thu, 6 Dec 2018 21:54:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12311024" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>External issue ID</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>29</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311020" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>External issue URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[https://github.com/apache/commons-vfs/pull/29]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>223025</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 39 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lom7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124638</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-396] RAM FileSystem allows the file system size to exceed the max size limit.</title>
                <link>https://issues.apache.org/jira/browse/VFS-396</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;When a new file is created in the RAM file system, and content is written to its outputstream, there is a check in place for ensuring that file system size does not exceed the max limit set. But that check is wrong.&lt;/p&gt;

&lt;p&gt;In RamFileOutputStream.write(), you calculate the size, newsize and call file.resize(newSize)&lt;br/&gt;
And in the RamFileObject.resize(), there is a check &lt;br/&gt;
 if (fs.size() + newSize - this.size() &amp;gt; maxSize)&lt;/p&gt;
            {
                throw new IOException(&quot;FileSystem capacity (&quot; + maxSize
                        + &quot;) exceeded.&quot;);
            }

&lt;p&gt;This check is wrong. &lt;br/&gt;
Consider this case of a new file system where the file system size is set to 5 MB and I am trying to create a file of 10 MB in the RAM file system. the file is being written in the chunk of 8 kb. For every resize check, fs.size() would be 0 and (newsize - this.size()) would be 8 kb and therefore the check never passes.&lt;/p&gt;

&lt;p&gt; It could have been correct if the &quot;old size&quot; was locked down to the size that was registered with the file system but the old size (this.size()) keeps changing at every write. Thus the difference in newSize and this.size() would always be the chunk size (typically 8 kb) and therefore no exception would be thrown ever.&lt;/p&gt;</description>
                <environment>&lt;p&gt;All&lt;/p&gt;</environment>
        <key id="12532848">VFS-396</key>
            <summary>RAM FileSystem allows the file system size to exceed the max size limit.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rupesh106">Rupesh Kumar</reporter>
                        <labels>
                    </labels>
                <created>Sun, 27 Nov 2011 20:48:38 +0000</created>
                <updated>Tue, 16 Jun 2020 02:50:51 +0000</updated>
                                            <version>2.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="1800">0.5h</timeoriginalestimate>
                            <timeestimate seconds="1800">0.5h</timeestimate>
                                        <comments>
                            <comment id="13158036" author="garydgregory" created="Sun, 27 Nov 2011 21:47:38 +0000"  >&lt;p&gt;Can you provide a patch with a unit test please?&lt;/p&gt;

&lt;p&gt;&amp;#8211; Posted from Bugbox for iPhone&lt;/p&gt;</comment>
                            <comment id="13553887" author="tn" created="Tue, 15 Jan 2013 15:28:11 +0000"  >&lt;p&gt;I did a small test myself but I can not confirm the observation:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;
    FileSystemOptions largeSized = new FileSystemOptions();

    public void setup() {
        RamFileSystemConfigBuilder.getInstance().setMaxSize(largeSized, 5000000);        
    }

...

    @Test
    public void testChunkFileWrite() throws Exception
    {
        // Default FS
        final FileObject fo1 = manager.resolveFile(&quot;ram:/fo1&quot;, largeSized);

        fo1.createFile();
        try
        {
            final OutputStream os = fo1.getContent().getOutputStream();
            // write file in chunks of 8kbytes (total 10.000.000 bytes)
            for (int i = 0; i &amp;lt; 1220; i++) {
                os.write(new byte[8192]);
            }
            os.close();
            fail(&quot;It shouldn&apos;t save such a big file&quot;);
        } catch (final FileSystemException e)
        {
            // Expected
        }

    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The test successfully detects that the file will be too large, see also the debug output of the check in RamFileObject#resize():&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;afs.size()=0
newSize=8192
this.size()=0
afs.size()=8192
newSize=16384
this.size()=8192
afs.size()=16384
newSize=24576
this.size()=16384
afs.size()=24576
newSize=32768
this.size()=24576
afs.size()=32768
newSize=40960
this.size()=32768
afs.size()=40960
newSize=49152
this.size()=40960
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13554892" author="tn" created="Wed, 16 Jan 2013 10:00:50 +0000"  >&lt;p&gt;I just realized that there is a potential glitch that could/should be improved:&lt;/p&gt;

&lt;p&gt;the write method of the RAMFileOutputStream will only throw an IOException, while the close may throw a (delayed) FileSystemException.&lt;br/&gt;
As the OutputStream as received by FileContent.getOutputStream will be wrapped by another, buffered stream, a user may either receive the actual exception when calling flush or close and it will be an FileSystemException instead of the IOException if the content is immediately written by write.&lt;/p&gt;</comment>
                            <comment id="13559330" author="garydgregory" created="Tue, 22 Jan 2013 03:05:59 +0000"  >&lt;p&gt;Feel free to patch &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17135656" author="csmdev" created="Mon, 15 Jun 2020 09:18:26 +0000"  >&lt;p&gt;I can&apos;t see this problem in my test. The RamFileSystem can detect the file&apos;s size become too large and throw Exception.&lt;/p&gt;

&lt;p&gt;I notice this issue&apos;s description says :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
there is a check
 &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (fs.size() + newSize - &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.size() &amp;gt; maxSize)
....
For every resize check, fs.size() would be 0&#160;
&#160;&#160;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In current VFS project, the check is&#160; &quot;if (afs.size() + newSize - this.size() &amp;gt; maxSize)&quot;,&lt;/p&gt;

&lt;p&gt;And I can see &quot;afs.size()&quot; is the file system current size instead of 0 .&#160;&lt;/p&gt;

&lt;p&gt;So I think this check work and maybe this issue should close.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>218581</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 19 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i16tb3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>247880</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-395] [POM] Remove maven-scm-* dependencies.</title>
                <link>https://issues.apache.org/jira/browse/VFS-395</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;VFS2 includes weird dependencies: maven-scm-api, maven-scm-provider-svnexe.&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;http://commons.apache.org/vfs/commons-vfs2/dependencies.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/vfs/commons-vfs2/dependencies.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12532691">VFS-395</key>
            <summary>[POM] Remove maven-scm-* dependencies.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kalgon">Xavier Dury</reporter>
                        <labels>
                    </labels>
                <created>Fri, 25 Nov 2011 09:44:23 +0000</created>
                <updated>Thu, 19 May 2016 18:25:37 +0000</updated>
                            <resolved>Fri, 20 Apr 2012 13:16:59 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13185548" author="joehni" created="Fri, 13 Jan 2012 11:10:54 +0000"  >&lt;p&gt;These artifacts may not be declared at dependencies at all, because it&apos;s simply wrong. If they are needed for the release plugin, they must be declared as extensions.&lt;/p&gt;</comment>
                            <comment id="13186258" author="ralph.goers@dslextreme.com" created="Sat, 14 Jan 2012 16:51:46 +0000"  >&lt;p&gt;These are almost certainly not required. I&apos;m pretty sure they were added by accident when I was trying to figure out how to generated the release notes from changes.xml during execution of the release plugin. I finally gave up as it required changes to the Maven changes plugin to make its API available. &lt;/p&gt;

&lt;p&gt;Interestingly, the commit where these were added is marked as a rollback of the maven release plugin.&lt;/p&gt;

&lt;p&gt;These two should be removed.&lt;/p&gt;</comment>
                            <comment id="13257940" author="ksperling" created="Fri, 20 Apr 2012 00:30:58 +0000"  >&lt;p&gt;If additional wagon / SCM provider dependencies are necessary, they can be defined on the &amp;lt;plugin&amp;gt; element for the release plugin. Having them as project dependencies is extremely broken.&lt;/p&gt;</comment>
                            <comment id="13258222" author="garydgregory" created="Fri, 20 Apr 2012 13:16:59 +0000"  >&lt;p&gt;Removed the offeding plugins.&lt;br/&gt;
Committed revision 1328366.&lt;/p&gt;</comment>
                            <comment id="15291720" author="b.eckenfels" created="Thu, 19 May 2016 18:25:37 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>218424</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05k5r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30363</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-394] java.io.EOFException: Unexpected end of ZLIB input stream</title>
                <link>https://issues.apache.org/jira/browse/VFS-394</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;am trying to read one line at a time using bufferedReader like following&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FileObject fileObject = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; OnCallRefreshFileObject(VFS.getManager().resolveFile(&lt;span class=&quot;code-quote&quot;&gt;&quot;Myfilepath&quot;&lt;/span&gt;));
 BufferedReader br = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; BufferedReader (&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; InputStreamReader(fileObject.getContent().getInputStream(), &lt;span class=&quot;code-quote&quot;&gt;&quot;utf-8&quot;&lt;/span&gt;));
 br.readLine();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and I am getting the following stack trace on calling br.readline().I am reading a zipped csv file.&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.io.EOFException: Unexpected end of ZLIB input stream
at java.util.zip.ZipFile$1.fill(ZipFile.java:240)
at java.util.zip.InflaterInputStream.read(InflaterInputStream.java:141)
at java.io.BufferedInputStream.fill(BufferedInputStream.java:218)
at java.io.BufferedInputStream.read1(BufferedInputStream.java:258)
at java.io.BufferedInputStream.read(BufferedInputStream.java:317)
at org.apache.commons.vfs.util.MonitorInputStream.read(MonitorInputStream.java:74)
at sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:264)
at sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:306)
at sun.nio.cs.StreamDecoder.read(StreamDecoder.java:158)
at java.io.InputStreamReader.read(InputStreamReader.java:167)
at java.io.BufferedReader.fill(BufferedReader.java:136)
at java.io.BufferedReader.readLine(BufferedReader.java:299)
at java.io.BufferedReader.readLine(BufferedReader.java:362)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and sometimes it gives me this exception&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.util.zip.ZipException: ZIP_Read: error reading zip file
	at java.util.zip.ZipFile.read(Native Method)
	at java.util.zip.ZipFile.access$1200(ZipFile.java:31)
	at java.util.zip.ZipFile$ZipFileInputStream.read(ZipFile.java:460)
	at java.util.zip.ZipFile$1.fill(ZipFile.java:243)
	at java.util.zip.InflaterInputStream.read(InflaterInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:218)
	at java.io.BufferedInputStream.read1(BufferedInputStream.java:258)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:317)
	at org.apache.commons.vfs.util.MonitorInputStream.read(MonitorInputStream.java:74)
	at sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:264)
	at sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:306)
	at sun.nio.cs.StreamDecoder.read(StreamDecoder.java:158)
	at java.io.InputStreamReader.read(InputStreamReader.java:167)
	at java.io.BufferedReader.fill(BufferedReader.java:136)
	at java.io.BufferedReader.readLine(BufferedReader.java:299)
	at java.io.BufferedReader.readLine(BufferedReader.java:362)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;windows&lt;/p&gt;</environment>
        <key id="12532655">VFS-394</key>
            <summary>java.io.EOFException: Unexpected end of ZLIB input stream</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="saurabh">Saurabh</reporter>
                        <labels>
                            <label>vfs</label>
                    </labels>
                <created>Thu, 24 Nov 2011 21:40:40 +0000</created>
                <updated>Mon, 28 Nov 2011 13:12:28 +0000</updated>
                                            <version>1.0</version>
                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="7200">2h</timeoriginalestimate>
                            <timeestimate seconds="7200">2h</timeestimate>
                                        <comments>
                            <comment id="13156981" author="garydgregory" created="Fri, 25 Nov 2011 04:27:40 +0000"  >&lt;p&gt;Can you test this with the trunk code or at least 2.0? Can you attach your data file? Thank you. &lt;/p&gt;

&lt;p&gt;&amp;#8211; Posted from Bugbox for iPhone&lt;/p&gt;</comment>
                            <comment id="13157009" author="saurabh" created="Fri, 25 Nov 2011 07:34:01 +0000"  >&lt;p&gt;I tested it with 2.0 also. The problem is for first couple of times everything goes good. But after sometime the exception starts and once it starts it continues. The most annoying part is that everytime when the exception is thrown the lines are somehow different.&lt;/p&gt;</comment>
                            <comment id="13158412" author="saurabh" created="Mon, 28 Nov 2011 13:12:28 +0000"  >&lt;p&gt;There is bug similar to the bug I got. &lt;a href=&quot;http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4040920&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4040920&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>218388</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 49 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i16tq7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>247948</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-393] The ls command allways returns the cached data</title>
                <link>https://issues.apache.org/jira/browse/VFS-393</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;We have follwed the below steps to reproduce the issue&lt;/p&gt;

&lt;p&gt;1. Created a folder under /home/xyz with name abc&lt;br/&gt;
2. Tried to get the Childrens of /home/xyz&lt;br/&gt;
3. I have got the folder listed as &apos;abc&apos; although there are few other childrens which are not considered and listed&lt;br/&gt;
4. Deleted the folder &apos;abc&apos;&lt;br/&gt;
5. Tried to get the Childrens of /home/xyz&lt;br/&gt;
6. It is still listing the folder &apos;abc&apos;&lt;/p&gt;

&lt;p&gt;We have also tried all three possible cache strategy but no luck.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Red hat Linux&lt;/p&gt;</environment>
        <key id="12532466">VFS-393</key>
            <summary>The ls command allways returns the cached data</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="prasadt">Prasad Kulkarni</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Wed, 23 Nov 2011 12:25:11 +0000</created>
                <updated>Fri, 11 Dec 2015 23:15:15 +0000</updated>
                                            <version>2.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13261715" author="markjleonard" created="Wed, 25 Apr 2012 15:30:48 +0000"  >&lt;p&gt;Is this using the FTP provider?&lt;/p&gt;

&lt;p&gt;I&apos;ve noticed that the FtpFileObject method doGetType() queries the parent FtpFileObject object by calling getInfo(false) so therefore the cached children are not flushed.&lt;/p&gt;

&lt;p&gt;    @Override&lt;br/&gt;
    protected FileType doGetType() throws Exception {&lt;br/&gt;
        synchronized (getFileSystem()) {&lt;br/&gt;
            if (this.fileInfo == null) &lt;/p&gt;
{
                getInfo(false);  // Should this be true?
            }</comment>
                            <comment id="13987157" author="b.eckenfels" created="Thu, 1 May 2014 23:17:09 +0000"  >&lt;p&gt;Can you please attach sample code or otherwise show why this is a major issue? Refresh semantics are in quite a few places configurable and documented.&lt;/p&gt;</comment>
                            <comment id="14493671" author="fiveo" created="Tue, 14 Apr 2015 06:34:38 +0000"  >&lt;p&gt;I would recommend to remove this ticket from the roadmap for 2.1 as long as the ticket is not more clear. We don&apos;t even know for which protocol this ticket was created (FTP, SFTP, SMB) or even being able to reproduce. &lt;/p&gt;</comment>
                            <comment id="14494070" author="b.eckenfels" created="Tue, 14 Apr 2015 13:00:02 +0000"  >&lt;p&gt;We (or at least I) do not use the fix version for planning (because everybody can set it). I only use it when things are resolved (and keep track of blockers via the Wiki page). Every now and then I remove those unconfirmed fix versions, but you can also ignore them.&lt;/p&gt;</comment>
                            <comment id="14494082" author="fiveo" created="Tue, 14 Apr 2015 13:09:40 +0000"  >&lt;p&gt;Thanks for the comment. I just checked out the &lt;a href=&quot;http://wiki.apache.org/commons/VfsReleaseState&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;wiki&lt;/a&gt;. Because we are really interested of having a next VFS release with the fixed bugs from 2.0. I would be happy to help fixing the open tickets that are blocking for the 2.1 release. &lt;/p&gt;</comment>
                            <comment id="15053682" author="tn" created="Fri, 11 Dec 2015 22:20:41 +0000"  >&lt;p&gt;This can indeed happen as the list of children are cached for a LocalFile implementation. A simple testcase illustrating the issue can be seen below:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        &lt;span class=&quot;code-comment&quot;&gt;// Locate file by absolute file name
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; fileName = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;testdir&quot;&lt;/span&gt;).getAbsolutePath();
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FileSystemManager mgr = VFS.getManager();
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FileObject dir = mgr.resolveFile(fileName);
        
        dir.createFolder();

        FileObject child = dir.resolveFile(&lt;span class=&quot;code-quote&quot;&gt;&quot;abc&quot;&lt;/span&gt;);
        child.createFile();
        
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;first&quot;&lt;/span&gt;);
        FileObject[] children = dir.getChildren();
        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (FileObject c : children) {
            &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(c.getName());
        }

        &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;testdir/abc&quot;&lt;/span&gt;).delete();
        &lt;span class=&quot;code-comment&quot;&gt;//child.delete();
&lt;/span&gt;
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;again&quot;&lt;/span&gt;);
        children = dir.getChildren();
        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (FileObject c : children) {
            &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(c.getName());
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;in this case, the created file &quot;testdir/abc&quot; is deleted again via the standard java API, thus the VFS object does not get noticed about the change and returns the cached list of children.&lt;/p&gt;

&lt;p&gt;Now this can happen also when the file is removed from the filesystem by other means, so in this case you can do two things:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;use a file monitor to listen for changes in the directory&lt;/li&gt;
	&lt;li&gt;call refresh() on the file object&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>218199</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 46 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8uf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303026</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-382] SFTP getChildren() does not fail when called on a file</title>
                <link>https://issues.apache.org/jira/browse/VFS-382</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;SFTP test testChildren(org.apache.commons.vfs2.test.ContentTests) fails&lt;/p&gt;

&lt;p&gt;I&apos;ve tried this with &lt;b&gt;Apache SSHd&lt;/b&gt; and &lt;b&gt;Bitvise WinSSHD&lt;/b&gt; and I get the same failure.&lt;/p&gt;

&lt;p&gt;The test &lt;tt&gt;org.apache.commons.vfs2.test.ContentTests&lt;/tt&gt; asks for the children (&lt;tt&gt;getChildren()&lt;/tt&gt;) of a &lt;tt&gt;file1.txt&lt;/tt&gt; file (not a folder) and does not fail.&lt;/p&gt;

&lt;p&gt;The test expects the &lt;tt&gt;getChildren()&lt;/tt&gt; method to throw an exception.&lt;/p&gt;

&lt;p&gt;Instead, it returns one file, file1.txt itself.&lt;/p&gt;

&lt;p&gt;Under the covers, we do a &quot;ls file1.txt&quot;, which returns &quot;file1.txt&quot;.&lt;/p&gt;

&lt;p&gt;It looks like &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-210&quot; title=&quot;Wrapper-Mode VFS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-210&quot;&gt;VFS-210&lt;/a&gt; was an effort to optimize and reduce roundtrips but it may have broken this code.&lt;/p&gt;

&lt;p&gt;Thoughts on fixing this?&lt;/p&gt;

&lt;p&gt;In &lt;tt&gt;org.apache.commons.vfs2.provider.sftp.SftpFileObject.doListChildrenResolved()&lt;/tt&gt;?&lt;/p&gt;</description>
                <environment>&lt;p&gt;Apache Maven 3.0.3 (r1075438; 2011-02-28 12:31:09-0500)&lt;br/&gt;
Maven home: C:\Java\apache-maven-3.0.3\bin\..&lt;br/&gt;
Java version: 1.6.0_29, vendor: Sun Microsystems Inc.&lt;br/&gt;
Java home: C:\Program Files\Java\jdk1.6.0_29\jre&lt;br/&gt;
Default locale: en_US, platform encoding: Cp1252&lt;br/&gt;
OS name: &quot;windows 7&quot;, version: &quot;6.1&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;&lt;/p&gt;</environment>
        <key id="12530777">VFS-382</key>
            <summary>SFTP getChildren() does not fail when called on a file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ggregory">Gary D. Gregory</assignee>
                                    <reporter username="ggregory">Gary D. Gregory</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Nov 2011 22:27:47 +0000</created>
                <updated>Thu, 19 May 2016 18:26:09 +0000</updated>
                            <resolved>Wed, 9 Nov 2011 23:00:28 +0000</resolved>
                                    <version>Nightly Builds</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13146612" author="garydgregory" created="Tue, 8 Nov 2011 22:35:35 +0000"  >&lt;p&gt;Patch that shows the problem using Apache SSHd, which removes the need for a manually configured SSH server.&lt;/p&gt;</comment>
                            <comment id="13147348" author="garydgregory" created="Wed, 9 Nov 2011 23:00:28 +0000"  >&lt;p&gt;Committed revision 1200015.&lt;/p&gt;</comment>
                            <comment id="15291813" author="b.eckenfels" created="Thu, 19 May 2016 18:26:09 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12502975" name="vfs-382.diff" size="13747" author="ggregory" created="Tue, 8 Nov 2011 22:35:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>216515</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i134gv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226354</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-380] FTP connect.error message used instead of SFTP connect.error message</title>
                <link>https://issues.apache.org/jira/browse/VFS-380</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;If connecting to SFTP fails, the code uses the message key &lt;tt&gt;vfs.provider.ftp/connect.error&lt;/tt&gt; but the resource file defines the SFTP specific message &lt;tt&gt;vfs.provider.sftp/connect.error&lt;/tt&gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Apache Maven 3.0.3 (r1075438; 2011-02-28 12:31:09-0500)&lt;br/&gt;
Maven home: C:\Java\apache-maven-3.0.3\bin\..&lt;br/&gt;
Java version: 1.6.0_29, vendor: Sun Microsystems Inc.&lt;br/&gt;
Java home: C:\Program Files\Java\jdk1.6.0_29\jre&lt;br/&gt;
Default locale: en_US, platform encoding: Cp1252&lt;br/&gt;
OS name: &quot;windows 7&quot;, version: &quot;6.1&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;&lt;/p&gt;</environment>
        <key id="12530046">VFS-380</key>
            <summary>FTP connect.error message used instead of SFTP connect.error message</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ggregory">Gary D. Gregory</assignee>
                                    <reporter username="ggregory">Gary D. Gregory</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Nov 2011 13:48:24 +0000</created>
                <updated>Thu, 19 May 2016 18:26:21 +0000</updated>
                            <resolved>Thu, 3 Nov 2011 14:05:30 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13143184" author="garydgregory" created="Thu, 3 Nov 2011 14:05:30 +0000"  >&lt;p&gt;Committed revision 1197120.&lt;/p&gt;</comment>
                            <comment id="15291845" author="b.eckenfels" created="Thu, 19 May 2016 18:26:21 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>215905</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i134ev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226345</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-378] Tar error message are missing from resource file</title>
                <link>https://issues.apache.org/jira/browse/VFS-378</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Right you get:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&quot;Unknown message with code &quot;vfs.provider.tar/open-tar-file.error&quot;.&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Instead of:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&quot;Could not open Tar file &quot;C:\some\path\to\a\file&quot;.&quot;.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The following are missing from &lt;tt&gt;core/bin/org/apache/commons/vfs2/Resources.properties&lt;/tt&gt;:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;vfs.provider.tar/open-tar-file.error=Could not open Tar file &quot;{0}&quot;.
vfs.provider.tar/close-tar-file.error=Could not close Tar file &quot;{0}&quot;.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;Apache Maven 3.0.3 (r1075438; 2011-02-28 12:31:09-0500)&lt;br/&gt;
Maven home: C:\Java\apache-maven-3.0.3\bin\..&lt;br/&gt;
Java version: 1.6.0_29, vendor: Sun Microsystems Inc.&lt;br/&gt;
Java home: C:\Program Files\Java\jdk1.6.0_29\jre&lt;br/&gt;
Default locale: en_US, platform encoding: Cp1252&lt;br/&gt;
OS name: &quot;windows 7&quot;, version: &quot;6.1&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;&lt;/p&gt;</environment>
        <key id="12529873">VFS-378</key>
            <summary>Tar error message are missing from resource file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ggregory">Gary D. Gregory</assignee>
                                    <reporter username="ggregory">Gary D. Gregory</reporter>
                        <labels>
                    </labels>
                <created>Wed, 2 Nov 2011 15:14:02 +0000</created>
                <updated>Thu, 19 May 2016 18:26:21 +0000</updated>
                            <resolved>Wed, 2 Nov 2011 15:40:30 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13142219" author="garydgregory" created="Wed, 2 Nov 2011 15:40:30 +0000"  >&lt;p&gt;Committed revision 1196638.&lt;/p&gt;</comment>
                            <comment id="15291844" author="b.eckenfels" created="Thu, 19 May 2016 18:26:21 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>215732</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i134cn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226335</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-376] SFTP uri is throwing error when .. is using in path</title>
                <link>https://issues.apache.org/jira/browse/VFS-376</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Hi&lt;br/&gt;
We are using apache commons vfs2 for sftp file upload &amp;amp; download , but in one scenario it is always giving an error like&lt;br/&gt;
&quot;SEVERE: FileSystemException -&amp;gt;org.apache.commons.vfs2.FileSystemException: Invalid absolute URI &quot;&lt;/p&gt;

&lt;p&gt;The uri is like &quot;sftp://sftpuser:&lt;/p&gt;
{AFF12398KYUJN982FGTB}@172.24.0.114:22/../../../../app/utenti/sftpuser/output/transaction_CARTASI_20200429083817.csv&quot;&lt;br/&gt;
&lt;br/&gt;
The user home directory of sftpuser is &apos;app/utenti/sftpuser&apos; , we want to use another directory which is not under app/utenti/sftpuser, so we tried to traverse the parent directory using ../../ but UriParser:normalisePath() method is always giving error ,&lt;br/&gt;
in the below code portion&lt;br/&gt;
&lt;br/&gt;
// A &apos;..&apos; element - remove the previous element&lt;br/&gt;
                if (startElem == startFirstElem)&lt;br/&gt;
                {
                    // Previous element is missing
                    throw new FileSystemException(
                            &quot;vfs.provider/invalid-relative-path.error&quot;);
                }&lt;br/&gt;
&lt;br/&gt;
But in jdk URI it is saying that&lt;br/&gt;
&lt;br/&gt;
public URI normalize()&lt;br/&gt;
&lt;br/&gt;
    Normalizes this URI&apos;s path.&lt;br/&gt;
&lt;br/&gt;
    If this URI is opaque, or if its path is already in normal form, then this URI is returned. Otherwise a new URI is constructed that is identical to this URI except that its path is computed by normalizing this URI&apos;s path in a manner consistent with RFC 2396, section 5.2, step 6, sub-steps c through f; that is:&lt;br/&gt;
&lt;br/&gt;
       1.&lt;br/&gt;
&lt;br/&gt;
          All &quot;.&quot; segments are removed.&lt;br/&gt;
       2.&lt;br/&gt;
&lt;br/&gt;
          If a &quot;..&quot; segment is preceded by a non-&quot;..&quot; segment then both of these segments are removed. This step is repeated until it is no longer applicable.&lt;br/&gt;
       3.&lt;br/&gt;
&lt;br/&gt;
          If the path is relative, and if its first segment contains a colon character (&apos;:&apos;), then a &quot;.&quot; segment is prepended. This prevents a relative URI with a path such as &quot;a:b/c/d&quot; from later being re-parsed as an opaque URI with a scheme of &quot;a&quot; and a scheme-specific part of &quot;b/c/d&quot;. (Deviation from RFC 2396) &lt;br/&gt;
&lt;br/&gt;
    A normalized path will begin with one or more &quot;..&quot; segments if there were insufficient non-&quot;..&quot; segments preceding them to allow their removal. A normalized path will begin with a &quot;.&quot; segment if one was inserted by step 3 above. Otherwise, a normalized path will not contain any &quot;.&quot; or &quot;..&quot; segments.&lt;br/&gt;
&lt;br/&gt;
    Returns:&lt;br/&gt;
        A URI equivalent to this URI, but whose path is in normal form&lt;br/&gt;
&lt;br/&gt;
So can you please tell us how can we use ../../ in a uri for traversing to the parent directory.&lt;br/&gt;
&lt;br/&gt;
If we are passing the path like&lt;br/&gt;
&lt;br/&gt;
sftp://sftpuser:{AFF12398KYUJN982FGTB}
&lt;p&gt;@172.24.0.114:22/output/transaction_CARTASI_20200429083817.csv this it is working fine, in this case &apos;output&apos; directory is under sftpuser&apos;s home directory (app/utenti/sftpuser}&lt;/p&gt;

&lt;p&gt;Please treat it as urgent and pls help us&lt;/p&gt;

&lt;p&gt;Thanks in advance&lt;/p&gt;

&lt;p&gt;Ajesh Babu&lt;/p&gt;</description>
                <environment></environment>
        <key id="12529842">VFS-376</key>
            <summary>SFTP uri is throwing error when .. is using in path</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="babuajesh">Ajesh babu</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Wed, 2 Nov 2011 12:34:59 +0000</created>
                <updated>Thu, 24 Sep 2015 21:03:36 +0000</updated>
                                            <version>2.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="10800">3h</timeoriginalestimate>
                            <timeestimate seconds="10800">3h</timeestimate>
                                        <comments>
                            <comment id="13987163" author="b.eckenfels" created="Thu, 1 May 2014 23:20:23 +0000"  >&lt;p&gt;Are you saying your sftp server is treating absolute path names as relative? Do you maybe know what product that is? I will downgrade the bug, as there is not really a regression blocking the 2.1 release.&lt;/p&gt;</comment>
                            <comment id="14907027" author="simon04" created="Thu, 24 Sep 2015 21:03:36 +0000"  >&lt;p&gt;Traversing upwards is not necessary when one uses &lt;tt&gt;org.apache.commons.vfs2.provider.sftp.SftpFileSystemConfigBuilder#setUserDirIsRoot&lt;/tt&gt; beforehand. I would close this issue as INVALID.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>215701</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 5 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i16tdz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>247893</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-374] Incorrect lazy initialization of static field org.apache.commons.vfs2.util.Messages.resources in org.apache.commons.vfs2.util.Messages.findMessage(String)</title>
                <link>https://issues.apache.org/jira/browse/VFS-374</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;FindBugs Eclipse plugin reports:&lt;br/&gt;
Bug: Incorrect lazy initialization of static field org.apache.commons.vfs2.util.Messages.resources in org.apache.commons.vfs2.util.Messages.findMessage(String)&lt;/p&gt;

&lt;p&gt;This method contains an unsynchronized lazy initialization of a non-volatile static field. Because the compiler or processor may reorder instructions, threads are not guaranteed to see a completely initialized object, if the method can be called by multiple threads. You can make the field volatile to correct the problem. For more information, see the Java Memory Model web site. &lt;/p&gt;

&lt;p&gt;Confidence: Normal, Rank: Troubling (14)&lt;br/&gt;
Pattern: LI_LAZY_INIT_STATIC &lt;br/&gt;
Type: LI, Category: MT_CORRECTNESS (Multithreaded correctness)&lt;/p&gt;
</description>
                <environment>&lt;p&gt;Apache Maven 3.0.3 (r1075438; 2011-02-28 12:31:09-0500)&lt;br/&gt;
Maven home: C:\Java\apache-maven-3.0.3\bin\..&lt;br/&gt;
Java version: 1.6.0_29, vendor: Sun Microsystems Inc.&lt;br/&gt;
Java home: C:\Program Files\Java\jdk1.6.0_29\jre&lt;br/&gt;
Default locale: en_US, platform encoding: Cp1252&lt;br/&gt;
OS name: &quot;windows 7&quot;, version: &quot;6.1&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;&lt;/p&gt;</environment>
        <key id="12529612">VFS-374</key>
            <summary>Incorrect lazy initialization of static field org.apache.commons.vfs2.util.Messages.resources in org.apache.commons.vfs2.util.Messages.findMessage(String)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ggregory">Gary D. Gregory</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Nov 2011 02:31:50 +0000</created>
                <updated>Thu, 19 May 2016 18:26:28 +0000</updated>
                            <resolved>Tue, 1 Nov 2011 02:34:41 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13140862" author="garydgregory" created="Tue, 1 Nov 2011 02:34:41 +0000"  >&lt;p&gt;Committed revision 1195775.&lt;/p&gt;</comment>
                            <comment id="15291869" author="b.eckenfels" created="Thu, 19 May 2016 18:26:28 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>215471</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1340v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226282</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-369] Compilation error with newer versions of Jackrabbit</title>
                <link>https://issues.apache.org/jira/browse/VFS-369</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;When I try to compile VFS on my computer I&apos;ve got compilation errors due maybe because I use a more recent version of jackrabbit. I patched the code and now it compiles.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;diff -rupN original//org/apache/commons/vfs2/provider/webdav/ExceptionConverter.java patched//org/apache/commons/vfs2/provider/webdav/ExceptionConverter.java
--- original//org/apache/commons/vfs2/provider/webdav/ExceptionConverter.java	2011-08-18 06:57:10.000000000 +0200
+++ patched//org/apache/commons/vfs2/provider/webdav/ExceptionConverter.java	2011-10-24 20:35:41.000000000 +0200
@@ -50,7 +50,7 @@ public final class ExceptionConverter
         {
             try
             {
-                Element error = davExc.toXml(DomUtil.BUILDER_FACTORY.newDocumentBuilder().newDocument());
+                Element error = davExc.toXml(DomUtil.createDocument());
                 if (DomUtil.matches(error, DavException.XML_ERROR, DavConstants.NAMESPACE))
                 {
                     if (DomUtil.hasChildElement(error, &quot;exception&quot;, null))
diff -rupN original//org/apache/commons/vfs2/provider/webdav/WebdavFileObject.java patched//org/apache/commons/vfs2/provider/webdav/WebdavFileObject.java
--- original//org/apache/commons/vfs2/provider/webdav/WebdavFileObject.java	2011-08-18 06:57:10.000000000 +0200
+++ patched//org/apache/commons/vfs2/provider/webdav/WebdavFileObject.java	2011-10-24 20:35:41.000000000 +0200
@@ -292,19 +292,17 @@ public class WebdavFileObject extends Ht
             URLFileName fileName = (URLFileName) getName();
             DavPropertySet properties = getProperties(fileName, PropFindMethod.PROPFIND_ALL_PROP,
                     new DavPropertyNameSet(), false);
-            @SuppressWarnings(&quot;unchecked&quot;) // iterator() is documented to return DavProperty instances
-            Iterator&amp;lt;DavProperty&amp;gt; iter = properties.iterator();
+            Iterator iter = properties.iterator();
             while (iter.hasNext())
             {
-                DavProperty property = iter.next();
+                DavProperty property = (DavProperty)iter.next();
                 attributes.put(property.getName().toString(), property.getValue());
             }
             properties = getPropertyNames(fileName);
-            @SuppressWarnings(&quot;unchecked&quot;) // iterator() is documented to return DavProperty instances
-            Iterator&amp;lt;DavProperty&amp;gt; iter2 = properties.iterator();
+            Iterator iter2 = properties.iterator();
             while (iter2.hasNext())
             {
-                DavProperty property = iter2.next();
+                DavProperty property = (DavProperty)iter2.next();
                 if (!attributes.containsKey(property.getName().getName()))
                 {
                     property = getProperty(fileName, property.getName());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12528736">VFS-369</key>
            <summary>Compilation error with newer versions of Jackrabbit</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cedric.nanni">Cedric Nanni</reporter>
                        <labels>
                    </labels>
                <created>Tue, 25 Oct 2011 19:08:01 +0000</created>
                <updated>Fri, 22 Feb 2013 20:38:53 +0000</updated>
                                            <version>2.0</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13140126" author="garydgregory" created="Mon, 31 Oct 2011 13:06:22 +0000"  >&lt;p&gt;Cedric,&lt;/p&gt;

&lt;p&gt;In order to for us consider this, please attach a patch file and grant the ASF license.&lt;/p&gt;

&lt;p&gt;Thank you!&lt;br/&gt;
Gary&lt;/p&gt;</comment>
                            <comment id="13140561" author="cedric.nanni" created="Mon, 31 Oct 2011 21:12:22 +0000"  >&lt;p&gt;Hi Gary,&lt;/p&gt;

&lt;p&gt;Please find attached the patch.&lt;/p&gt;

&lt;p&gt;Cedric.&lt;/p&gt;</comment>
                            <comment id="13566412" author="olivermatz" created="Wed, 30 Jan 2013 12:20:49 +0000"  >&lt;p&gt;I have run into the basically same problem, but at runtime: I am using jackrabbit-webdav 2.4.3 together with commons-vfs2 2.0 and get the following:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.IllegalAccessError: tried to access field org.apache.jackrabbit.webdav.xml.DomUtil.BUILDER_FACTORY from &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.commons.vfs2.provider.webdav.ExceptionConverter
 	at org.apache.commons.vfs2.provider.webdav.ExceptionConverter.generate(ExceptionConverter.java:53)
 	at org.apache.commons.vfs2.provider.webdav.ExceptionConverter.generate(ExceptionConverter.java:42)
 	at org.apache.commons.vfs2.provider.webdav.WebdavFileObject.execute(WebdavFileObject.java:435)
 	at org.apache.commons.vfs2.provider.webdav.WebdavFileObject.getProperties(WebdavFileObject.java:510)
 	at org.apache.commons.vfs2.provider.webdav.WebdavFileObject.getProperties(WebdavFileObject.java:485)
 	at org.apache.commons.vfs2.provider.webdav.WebdavFileObject.getProperty(WebdavFileObject.java:478)
 	at org.apache.commons.vfs2.provider.webdav.WebdavFileObject.getProperty(WebdavFileObject.java:470)
 	at org.apache.commons.vfs2.provider.webdav.WebdavFileObject.isDirectory(WebdavFileObject.java:450)
 	at org.apache.commons.vfs2.provider.webdav.WebdavFileObject.doListChildrenResolved(WebdavFileObject.java:148)
 	at org.apache.commons.vfs2.provider.AbstractFileObject.getChildren(AbstractFileObject.java:654)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The nasty thing is that this seems to happen only as a consequence of preceding other exceptions.&lt;/p&gt;</comment>
                            <comment id="13566518" author="garydgregory" created="Wed, 30 Jan 2013 14:56:27 +0000"  >&lt;p&gt;It seems that in order to update VFS to a current version of Jackrabbit we need:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Updated VFS POMs to point to the latest Jackrabbit jars. This will likely mean expanding the dependencies since there is no all-in-one jars for newer versions of Jackrabbit.&lt;/li&gt;
	&lt;li&gt;Updated Jackrabit call sites to deal with Jackrabbit API changes.&lt;/li&gt;
	&lt;li&gt;Updated tests to deal with any changes in testing with an embedded Jackrabbit.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Patches welcome!&lt;/p&gt;

&lt;p&gt;Gary&lt;/p&gt;</comment>
                            <comment id="13566566" author="garydgregory" created="Wed, 30 Jan 2013 16:12:56 +0000"  >&lt;p&gt;The patch &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12567150/vfs-369-JR-2.5.3.diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12567150/vfs-369-JR-2.5.3.diff&lt;/a&gt; updates VFS trunk to Jackrabbit 2.5.3 but causes the test goal to fail:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Running org.apache.commons.vfs2.provider.webdav.test.WebdavProviderTestCase
Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 17.631 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!
junit.framework.TestSuite@5e1c0e6e(org.apache.commons.vfs2.provider.webdav.test.WebdavProviderTestCase$1)  Time elapsed: 17631 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
junit.framework.AssertionFailedError: Folder does not exist: webdav://admin@localhost:55406/repository/default/read-tests
        at junit.framework.Assert.fail(Assert.java:57)
        at junit.framework.Assert.assertTrue(Assert.java:22)
        at org.apache.commons.vfs2.test.AbstractTestSuite.setUp(AbstractTestSuite.java:171)
        at org.apache.commons.vfs2.provider.webdav.test.WebdavProviderTestCase$1.setUp(WebdavProviderTestCase.java:279)
        at junit.extensions.TestSetup$1.protect(TestSetup.java:22)
        at junit.framework.TestResult.runProtected(TestResult.java:142)
        at junit.extensions.TestSetup.run(TestSetup.java:27)
        at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:84)
        at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
        at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
        at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
        at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
        at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;My set up:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Apache Maven 3.0.4 (r1232337; 2012-01-17 03:44:56-0500)
Maven home: C:\Java\apache-maven-3.0.4\bin\..
Java version: 1.6.0_38, vendor: Sun Microsystems Inc.
Java home: C:\Program Files\Java\jdk1.6.0_38\jre
Default locale: en_US, platform encoding: Cp1252
OS name: &quot;windows 7&quot;, version: &quot;6.1&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13572485" author="jmborer" created="Wed, 6 Feb 2013 15:23:05 +0000"  >&lt;p&gt;Did it work before with 1.5.2?&lt;/p&gt;

&lt;p&gt;What I can already say it that upgrading to 2.5.3 makes VFS work with my Apache and Tomcat WebDAV servers.&lt;/p&gt;</comment>
                            <comment id="13572494" author="garydgregory" created="Wed, 6 Feb 2013 15:25:51 +0000"  >&lt;p&gt;All the tests pass with trunk files as is on my set up.&lt;/p&gt;</comment>
                            <comment id="13572500" author="jmborer" created="Wed, 6 Feb 2013 15:29:40 +0000"  >&lt;p&gt;Do you mean all test pass on your setup with Jackrabbit 1.5.2, but you got the test failure above (I also have the same) with 2.5.3?&lt;/p&gt;</comment>
                            <comment id="13572519" author="jmborer" created="Wed, 6 Feb 2013 15:54:50 +0000"  >&lt;p&gt;I&apos;ve found the reason: Jackrabbit has an internal error. By looking at the logs I see:&lt;/p&gt;

&lt;p&gt;06.02.2013 15:49:32 &lt;b&gt;ERROR&lt;/b&gt; log: failed Webdav&lt;br/&gt;
java.lang.IllegalAccessError: tried to access field org.apache.jackrabbit.webdav.xml.DomUtil.BUILDER_FACTORY from class org.apache.jackrabbit.webdav.simple.ResourceConfig&lt;br/&gt;
	at org.apache.jackrabbit.webdav.simple.ResourceConfig.parse(ResourceConfig.java:95)&lt;br/&gt;
	at org.apache.jackrabbit.webdav.simple.SimpleWebdavServlet.init(SimpleWebdavServlet.java:157)&lt;br/&gt;
	at javax.servlet.GenericServlet.init(GenericServlet.java:241)&lt;br/&gt;
	at org.mortbay.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:431)&lt;br/&gt;
	at org.mortbay.jetty.servlet.ServletHolder.doStart(ServletHolder.java:263)&lt;br/&gt;
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)&lt;br/&gt;
	at org.mortbay.jetty.servlet.ServletHandler.initialize(ServletHandler.java:643)&lt;br/&gt;
	at org.mortbay.jetty.servlet.Context.startContext(Context.java:140)&lt;br/&gt;
	at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1234)&lt;br/&gt;
	at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:517)&lt;br/&gt;
	at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:460)&lt;br/&gt;
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)&lt;br/&gt;
	at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)&lt;br/&gt;
	at org.mortbay.jetty.handler.RequestLogHandler.doStart(RequestLogHandler.java:115)&lt;br/&gt;
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)&lt;br/&gt;
	at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)&lt;br/&gt;
	at org.mortbay.jetty.Server.doStart(Server.java:222)&lt;br/&gt;
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.webdav.test.JackrabbitMain.run(JackrabbitMain.java:243)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.webdav.test.WebdavProviderTestCase.startJackrabbit(WebdavProviderTestCase.java:265)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.webdav.test.WebdavProviderTestCase.setUpClass(WebdavProviderTestCase.java:242)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.webdav.test.WebdavProviderTestCase.access$100(WebdavProviderTestCase.java:55)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.webdav.test.WebdavProviderTestCase$1.setUp(WebdavProviderTestCase.java:277)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:22)&lt;br/&gt;
	at junit.framework.TestResult.runProtected(TestResult.java:142)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:27)&lt;br/&gt;
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:84)&lt;br/&gt;
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)&lt;br/&gt;
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)&lt;br/&gt;
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)&lt;/p&gt;

&lt;p&gt;This is exactly what makes VFS compilation fail when you use the code from 1.5.2 and try to run it with 2.5.3.&lt;/p&gt;

&lt;p&gt;To fix the issue we will have to find out a way to make the standalone jackrabbit server use jackrabbit-webdav version 1.5.2 instead of 2.5.3. Then the tests will pass.&lt;/p&gt;</comment>
                            <comment id="13572540" author="jmborer" created="Wed, 6 Feb 2013 16:18:13 +0000"  >&lt;p&gt;I think I have an idea.&lt;/p&gt;</comment>
                            <comment id="13573294" author="jmborer" created="Thu, 7 Feb 2013 08:04:45 +0000"  >&lt;p&gt;I found a solution. However the test continues to fail, but this time not because of a compilation error.&lt;/p&gt;

&lt;p&gt;You have to modify the root POM: exclude the default dependencies of jackrabbit-standalone and provide your own ones with the proper version. Root POM Patch included&lt;/p&gt;</comment>
                            <comment id="13573297" author="jmborer" created="Thu, 7 Feb 2013 08:05:35 +0000"  >&lt;p&gt;Patch for the root POM&lt;/p&gt;</comment>
                            <comment id="13573356" author="jmborer" created="Thu, 7 Feb 2013 09:51:06 +0000"  >&lt;p&gt;Hmmm. I was too quick. In fact in still doesn&apos;t work because the jackrabbit-standalone-1.6.5jar has uses an old call. The solution would be to use jackrabbit-standalone-2.5.3.jar which exists &lt;a href=&quot;http://archive.apache.org/dist/jackrabbit/2.5.3/jackrabbit-standalone-2.5.3.jar&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://archive.apache.org/dist/jackrabbit/2.5.3/jackrabbit-standalone-2.5.3.jar&lt;/a&gt; but is not published on official Maven repositories. What are they waiting for?&lt;/p&gt;</comment>
                            <comment id="13573360" author="jmborer" created="Thu, 7 Feb 2013 10:02:39 +0000"  >&lt;p&gt;After searching on the internet how to get rid off standalone and start an jackrabbit instance otherwise I found: &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-3284&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/JCR-3284&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Let&apos;s see if I can manage to modify the test case to get rid off jackrabbit-standalone dependency.&lt;/p&gt;</comment>
                            <comment id="13574509" author="garydgregory" created="Fri, 8 Feb 2013 14:25:05 +0000"  >&lt;p&gt;Any progress?&lt;/p&gt;</comment>
                            <comment id="13575665" author="jmborer" created="Mon, 11 Feb 2013 08:10:54 +0000"  >&lt;p&gt;I am currently trying to rewrite the unit test to use an embedded version of Jetty and version 2.5.3 of Jackrabbit instead of the old standalone Jackrabbit. I&apos;ve managed to run it, but for some reasons, WebDAV applet seems not to work yet as expected: instead of being able to get the content of a file, I get then jcr:content node. &lt;/p&gt;</comment>
                            <comment id="13581122" author="olivermatz" created="Tue, 19 Feb 2013 08:29:12 +0000"  >&lt;p&gt;Ich bin bis einschlie&#223;lich Fr, den  01.03.2013 au&#223;er Haus.&lt;/p&gt;

&lt;p&gt;I am out of the office up to and including Fr Mar 3rd, 2013.&lt;/p&gt;

&lt;p&gt;&amp;#8211;&lt;br/&gt;
  Oliver Matz&lt;/p&gt;</comment>
                            <comment id="13581127" author="jmborer" created="Tue, 19 Feb 2013 08:36:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=joehni&quot; class=&quot;user-hover&quot; rel=&quot;joehni&quot;&gt;joehni&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;OK, As you can read above, I was also able to compile VFS with Jackrabbit 2.5.3 after some code adaptations. However the unit tests no longer work. This is what I currently try to fix.&lt;/p&gt;</comment>
                            <comment id="13581131" author="joehni" created="Tue, 19 Feb 2013 08:44:34 +0000"  >&lt;p&gt;Hi Jean-Marc, I simply made the original comment readable, fixing the formatting.&lt;/p&gt;

&lt;p&gt;However, thanks for the update. I came here in first place, because I have failing unit tests for the currently used version 1.6.5 of jackrabbit and wondered if I should investigate or wait for you supporting the new one &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Tests in error: 
  testRenameFile(org.apache.commons.vfs2.test.ProviderRenameTests): Could not rename &quot;webdav://admin@localhost:56969/repository/default/write-tests/file1.txt&quot; because &quot;webdav://admin@localhost:56969/repository/default/write-tests&quot; is read-only.
  testRenameFileAndLeaveFolderEmpty(org.apache.commons.vfs2.test.ProviderRenameTests): Could not rename &quot;webdav://admin@localhost:56969/repository/default/write-tests/folder/file1.txt&quot; because &quot;webdav://admin@localhost:56969/repository/default/write-tests/folder&quot; is read-only.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13581133" author="jmborer" created="Tue, 19 Feb 2013 08:52:16 +0000"  >&lt;p&gt;Hi Joerg,&lt;/p&gt;

&lt;p&gt;Basically the idea is to no longer use the standalone version of Jackrabbit, but start a jetty server, instanciate your own jackrabbit webdav servlet and use the previously create repository data directly as suggested here &lt;a href=&quot;http://svn.apache.org/repos/asf/jackrabbit/trunk/jackrabbit-jcr-server/src/test/java/org/apache/jackrabbit/webdav/simple/LitmusTest.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/jackrabbit/trunk/jackrabbit-jcr-server/src/test/java/org/apache/jackrabbit/webdav/simple/LitmusTest.java&lt;/a&gt;. However, I manage to start the server and servlet, but instead of getting the file content for file, all files appear as nodes (folders) with a &quot;content&quot; child node. Somehow, the translation of the JCR repository to webdav does not work. This is what I am currently investigating. Maybe I can send you my code and you could give me some insights as I am not very comfortable with servlets and JCR even though I start understanding it better now. &lt;/p&gt;</comment>
                            <comment id="13581144" author="joehni" created="Tue, 19 Feb 2013 09:10:42 +0000"  >&lt;p&gt;Sorry, but I am the wrong one here. I know that jackrabbit and JCR exists, but that&apos;s nearly my complete expertise in this area currently.&lt;/p&gt;</comment>
                            <comment id="13581265" author="garydgregory" created="Tue, 19 Feb 2013 13:32:40 +0000"  >&lt;p&gt;I fixed the issue for comment &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-369?focusedCommentId=13581131&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13581131&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/VFS-369?focusedCommentId=13581131&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13581131&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This was caused by an incomplete implementation of &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-452&quot; title=&quot;HttpFileObject read/write attributes should reflect underlying FileSystem capabilities&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-452&quot;&gt;&lt;del&gt;VFS-452&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13581280" author="garydgregory" created="Tue, 19 Feb 2013 13:52:32 +0000"  >&lt;p&gt;Now that the previous error is fixed in SVN, with the simple patch &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12567150/vfs-369-JR-2.5.3.diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12567150/vfs-369-JR-2.5.3.diff&lt;/a&gt; I still get the error:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 14.969 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!
junit.framework.TestSuite@3fee6db8(org.apache.commons.vfs2.provider.webdav.test.WebdavProviderTestCase$1)  Time elapsed: 14968 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
junit.framework.AssertionFailedError: Folder does not exist: webdav://admin@localhost:63116/repository/default/read-tests
        at junit.framework.Assert.fail(Assert.java:57)
        at junit.framework.Assert.assertTrue(Assert.java:22)
        at org.apache.commons.vfs2.test.AbstractTestSuite.setUp(AbstractTestSuite.java:171)
        at org.apache.commons.vfs2.provider.webdav.test.WebdavProviderTestCase$1.setUp(WebdavProviderTestCase.java:279)
        at junit.extensions.TestSetup$1.protect(TestSetup.java:22)
        at junit.framework.TestResult.runProtected(TestResult.java:142)
        at junit.extensions.TestSetup.run(TestSetup.java:27)
        at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:84)
        at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
        at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
        at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
        at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
        at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13582627" author="jmborer" created="Wed, 20 Feb 2013 22:57:14 +0000"  >&lt;p&gt;That&apos;s &quot;normal&quot;. The unit tests no longer run properly with version 2.5.3 of Jackrabbit. See my previous comments higher above. I am still struggling with the issue. Moreover, on my Mac almost all HDFS unit tests fail, but not on my PC at work...&lt;/p&gt;</comment>
                            <comment id="13584401" author="jmborer" created="Fri, 22 Feb 2013 16:30:46 +0000"  >&lt;p&gt;Success! I&apos;ve managed to make the unit test run without jackrabbit-standalone. Patch coming soon. We will finally able to upgrade Jackrabbit to 2.5.3 with its unit tests.&lt;/p&gt;</comment>
                            <comment id="13584409" author="garydgregory" created="Fri, 22 Feb 2013 16:33:21 +0000"  >&lt;p&gt;Nice! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13584426" author="jmborer" created="Fri, 22 Feb 2013 16:50:58 +0000"  >&lt;p&gt;Gary, will you provide the patched Pom and src and I the patched test sources?&lt;/p&gt;</comment>
                            <comment id="13584660" author="garydgregory" created="Fri, 22 Feb 2013 20:38:53 +0000"  >&lt;p&gt;Yes: I can apply the same &apos;main&apos; patch that I have been talking about that is already attached to this issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12501670" name="VFS-369.patch" size="3362" author="cedric.nanni" created="Mon, 31 Oct 2011 21:10:24 +0000"/>
                            <attachment id="12568381" name="pom.xml.patch" size="42825" author="jmborer" created="Thu, 7 Feb 2013 08:05:35 +0000"/>
                            <attachment id="12567150" name="vfs-369-JR-2.5.3.diff" size="2956" author="ggregory" created="Wed, 30 Jan 2013 16:12:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214596</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 36 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8tj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303022</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-368] SFTP documentation implies that &quot;userDirIsRoot&quot; defaults to true</title>
                <link>https://issues.apache.org/jira/browse/VFS-368</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;On this documentation page:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://commons.apache.org/vfs/filesystems.html#SFTP&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/vfs/filesystems.html#SFTP&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It says:&lt;/p&gt;

&lt;p&gt;    SFTP&lt;/p&gt;

&lt;p&gt;    Provides access to the files on an SFTP server (that is, an SSH or SCP server).&lt;/p&gt;

&lt;p&gt;    URI Format&lt;/p&gt;

&lt;p&gt;    sftp://[ username&lt;span class=&quot;error&quot;&gt;&amp;#91;: password&amp;#93;&lt;/span&gt;@] hostname&lt;span class=&quot;error&quot;&gt;&amp;#91;: port&amp;#93;&lt;/span&gt;[ absolute-path]&lt;/p&gt;

&lt;p&gt;    Examples&lt;/p&gt;

&lt;p&gt;        sftp://myusername:mypassword@somehost/pub/downloads/somefile.tgz&lt;/p&gt;

&lt;p&gt;The default is actually that the path is relative from the user&apos;s home directory. This can be changed by running:&lt;/p&gt;

&lt;p&gt;    SftpFileSystemConfigBuilder&lt;br/&gt;
    .getInstance()&lt;br/&gt;
    .setUserDirIsRoot(options, false);&lt;/p&gt;

&lt;p&gt;I suggest changing the documentation to say [ relative-path ] and adding a note about absolute paths (but I&apos;m not sure how to make it fit the style of this page).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12527051">VFS-368</key>
            <summary>SFTP documentation implies that &quot;userDirIsRoot&quot; defaults to true</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="korin43">Brendan Long</reporter>
                        <labels>
                            <label>sftp</label>
                    </labels>
                <created>Thu, 13 Oct 2011 17:10:44 +0000</created>
                <updated>Thu, 19 May 2016 18:26:04 +0000</updated>
                            <resolved>Tue, 13 Aug 2013 14:21:45 +0000</resolved>
                                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>3</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13273908" author="andreasp" created="Sat, 12 May 2012 09:42:07 +0000"  >&lt;p&gt;The same is true for ftps. (But not for ftp, unless the patch in &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-265&quot; title=&quot;[FTP] Set user dir as root dir by default&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-265&quot;&gt;&lt;del&gt;VFS-265&lt;/del&gt;&lt;/a&gt; is accepted.)&lt;/p&gt;

&lt;p&gt;(Note that the behavior was changed: before the patch in &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-264&quot; title=&quot;FTPS support for VFS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-264&quot;&gt;&lt;del&gt;VFS-264&lt;/del&gt;&lt;/a&gt; the default value for UserDirIsRoot in sftp actually was false. I found that a bit strange, as &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-264&quot; title=&quot;FTPS support for VFS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-264&quot;&gt;&lt;del&gt;VFS-264&lt;/del&gt;&lt;/a&gt; was about ftps, not sftp. I asked the author of that patch if the sftp change was intentional, and indeed it wasn&apos;t, see &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/commons-dev/201101.mbox/%3c1DCE895F45843C42B615CA046BA82158142CA258DB@walle%3e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mail-archives.apache.org/mod_mbox/commons-dev/201101.mbox/%3c1DCE895F45843C42B615CA046BA82158142CA258DB@walle%3e&lt;/a&gt;. No action was made  in spite of this, so VFS 2.0 shipped with UserDirIsRoot default true for sftp and ftps, but false for ftp.)&lt;/p&gt;</comment>
                            <comment id="13738264" author="garydgregory" created="Tue, 13 Aug 2013 14:14:33 +0000"  >&lt;p&gt;I changed the title from &quot;SFTP documentation implies that &quot;userDirIsRoot&quot; defaults to true (but it defaults to false)&quot; to &quot;SFTP documentation implies that &quot;userDirIsRoot&quot; defaults to true&quot; because the current code (trunk) does in fact defaults to true:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    /**
     * Returns &amp;lt;code&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;lt;/code&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the user directory is the root directory. Defaults to &amp;lt;code&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;lt;/code&amp;gt;.
     * 
     * @param opts
     *            The FileSystemOptions.
     * @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &amp;lt;code&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;lt;/code&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the user directory is the root; defaults to &amp;lt;code&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;lt;/code&amp;gt;.
     * @see #setUserDirIsRoot
     */
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Boolean&lt;/span&gt; getUserDirIsRoot(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FileSystemOptions opts)
    {
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.getBoolean(opts, USER_DIR_IS_ROOT, &lt;span class=&quot;code-object&quot;&gt;Boolean&lt;/span&gt;.TRUE);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I&apos;ve improved the Javadoc and site documentation (trunk, not actually on the live site.)&lt;/p&gt;

&lt;p&gt;To see the site, checkout trunk, and run &quot;mvn site&quot; then open &quot;target/site/index.html&quot;.&lt;/p&gt;</comment>
                            <comment id="13738275" author="garydgregory" created="Tue, 13 Aug 2013 14:21:45 +0000"  >&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;commit -m &quot;[VFS-265][FTP] Set user dir as root dir by default.&quot; C:/vcs/svn/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/provider/ftp/FtpFileSystemConfigBuilder.java C:/vcs/svn/apache/commons/trunks-proper/vfs/src/changes/changes.xml
    Sending        C:/vcs/svn/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/provider/ftp/FtpFileSystemConfigBuilder.java
    Sending        C:/vcs/svn/apache/commons/trunks-proper/vfs/src/changes/changes.xml
    Transmitting file data ...
    Committed revision 1513484.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15291799" author="b.eckenfels" created="Thu, 19 May 2016 18:26:04 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>85417</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8tr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303023</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-364] WebdavFileObject.isCurrentFile fails if response.getHref returns just the path.</title>
                <link>https://issues.apache.org/jira/browse/VFS-364</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;WebdavFileObject checks the returned list of children to exclude the current directory from the list of children. This fails with Oracle XML DB as it only returns the path and does not include the protocol, host and port.&lt;/p&gt;</description>
                <environment>&lt;p&gt;OS/X&lt;/p&gt;</environment>
        <key id="12524505">VFS-364</key>
            <summary>WebdavFileObject.isCurrentFile fails if response.getHref returns just the path.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rgoers">Ralph Goers</assignee>
                                    <reporter username="rgoers">Ralph Goers</reporter>
                        <labels>
                    </labels>
                <created>Sat, 24 Sep 2011 07:12:21 +0000</created>
                <updated>Fri, 20 May 2016 10:01:47 +0000</updated>
                            <resolved>Thu, 11 Dec 2014 16:12:29 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13113920" author="ralph.goers@dslextreme.com" created="Sat, 24 Sep 2011 07:21:09 +0000"  >&lt;p&gt;isCurrentFile now checks for just a matching path in addition to a full match.&lt;/p&gt;</comment>
                            <comment id="13113921" author="ralph.goers@dslextreme.com" created="Sat, 24 Sep 2011 07:21:27 +0000"  >&lt;p&gt;Fix validated&lt;/p&gt;</comment>
                            <comment id="14242742" author="b.eckenfels" created="Thu, 11 Dec 2014 16:12:20 +0000"  >&lt;p&gt;Resolved till shipped.&lt;/p&gt;</comment>
                            <comment id="15291797" author="b.eckenfels" created="Thu, 19 May 2016 18:26:04 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                            <comment id="15292857" author="felixjongleur42" created="Fri, 20 May 2016 07:02:03 +0000"  >&lt;p&gt;I can confirm that this is still a bug, talking to a Milton WebDAV Server.&lt;br/&gt;
The code&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isCurrentFile(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; href, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; URLFileName fileName)
    {
        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; name = hrefString(fileName);
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (href.endsWith(&lt;span class=&quot;code-quote&quot;&gt;&quot;/&quot;&lt;/span&gt;) &amp;amp;&amp;amp; !name.endsWith(&lt;span class=&quot;code-quote&quot;&gt;&quot;/&quot;&lt;/span&gt;))
        {
            name += &lt;span class=&quot;code-quote&quot;&gt;&quot;/&quot;&lt;/span&gt;;
        }
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; href.equals(name) || href.equals(fileName.getPath());
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I had the case where in the last line:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;name is the complete URL&lt;/li&gt;
	&lt;li&gt;href is the relative URL with a trailing slash, and&lt;/li&gt;
	&lt;li&gt;fileName.getPath() returns the relative path &lt;b&gt;without&lt;/b&gt; the trailing slash&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;thus the method returns false where it should return true.&lt;/p&gt;</comment>
                            <comment id="15293101" author="felixjongleur42" created="Fri, 20 May 2016 10:01:47 +0000"  >&lt;p&gt;Oh, and this also breaks&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;org.apache.commons.vfs2.FileObject.deleteAll()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;which is quite a pain.&lt;br/&gt;
This does not only affect OS/X obviously, my tests are under Windows 8.1&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>59445</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05k5z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30364</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-363] Wrong EOF detection in CBZip2InputStream</title>
                <link>https://issues.apache.org/jira/browse/VFS-363</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/COMPRESS-157&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/COMPRESS-157&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12523346">VFS-363</key>
            <summary>Wrong EOF detection in CBZip2InputStream</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Sep 2011 15:18:02 +0000</created>
                <updated>Sat, 24 Sep 2011 19:24:12 +0000</updated>
                            <resolved>Sat, 24 Sep 2011 19:24:12 +0000</resolved>
                                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13114049" author="ralph.goers@dslextreme.com" created="Sat, 24 Sep 2011 19:24:12 +0000"  >&lt;p&gt;Duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-191&quot; title=&quot;Bad integer comparison in CBZip2InputStream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-191&quot;&gt;&lt;del&gt;VFS-191&lt;/del&gt;&lt;/a&gt;. This seems to have been fixed a long time ago.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12523320">COMPRESS-157</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>59422</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 6 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i138bb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226977</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-362] &quot;java.io.IOException: Stream closed&quot; is thrown if file name contains nonbreaking space (0x00A0)</title>
                <link>https://issues.apache.org/jira/browse/VFS-362</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;If filename of file in zip archive contains nonbreaking space (0x00A0).&lt;br/&gt;
During reading archive exception &quot;java.io.IOException: Stream closed&quot; is thrown.&lt;/p&gt;

&lt;p&gt;Stack trace:&lt;/p&gt;

&lt;p&gt;Exception in thread &quot;main&quot; java.io.IOException: Stream closed&lt;br/&gt;
	at java.io.BufferedInputStream.getInIfOpen(BufferedInputStream.java:134)&lt;br/&gt;
	at java.io.BufferedInputStream.read1(BufferedInputStream.java:256)&lt;br/&gt;
	at java.io.BufferedInputStream.read(BufferedInputStream.java:317)&lt;br/&gt;
	at org.apache.commons.vfs.util.MonitorInputStream.read(MonitorInputStream.java:75)&lt;br/&gt;
	at java.io.FilterInputStream.read(FilterInputStream.java:90)&lt;/p&gt;


&lt;p&gt;Source code:&lt;/p&gt;

&lt;p&gt;for (FileObject fo:fObjs)&lt;br/&gt;
{&lt;br/&gt;
...&lt;br/&gt;
is = fo.getContent().getInputStream();&lt;br/&gt;
...&lt;br/&gt;
while ((length = is.read(bytes)) &amp;gt;= 0)  --&amp;gt; Exception is thrown&lt;br/&gt;
...		&lt;br/&gt;
}&lt;/p&gt;</description>
                <environment>&lt;p&gt;Java: jdk1.6.0_24&lt;/p&gt;</environment>
        <key id="12520905">VFS-362</key>
            <summary>&quot;java.io.IOException: Stream closed&quot; is thrown if file name contains nonbreaking space (0x00A0)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="user100001">M Majkl</reporter>
                        <labels>
                    </labels>
                <created>Wed, 31 Aug 2011 10:26:14 +0000</created>
                <updated>Sat, 24 Sep 2011 19:49:42 +0000</updated>
                                            <version>1.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13114059" author="ralph.goers@dslextreme.com" created="Sat, 24 Sep 2011 19:49:42 +0000"  >&lt;p&gt;Do you have a unit test that can be used to debug this?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>59417</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 6 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8tz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303024</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-359] It is possible to delete a ram://file (RamFileObject) while using a RandomAccessContent.</title>
                <link>https://issues.apache.org/jira/browse/VFS-359</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;The fix is quite simple, adding a guard to RamFileObject.delete() fixes the problem. I have my own FileSystem abstract and its tests continue to pass. I thus assume running the tests for RamFileProvider will pass, thus this fix should not break anything.&lt;/p&gt;

&lt;p&gt;RamFileObject&lt;br/&gt;
=============&lt;br/&gt;
    /*&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(non-Javadoc)&lt;/li&gt;
	&lt;li&gt;&lt;/li&gt;
	&lt;li&gt;@see org.apache.commons.vfs.provider.AbstractFileObject#doDelete()&lt;br/&gt;
     */&lt;br/&gt;
    @Override&lt;br/&gt;
    protected void doDelete() throws Exception 
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {        // HACK inserted check to deny attempts to delete while reading/writing        if (this.isContentOpen()) {
            throw new FileSystemException(&quot;open for reading/writing&quot;);
        }        this.fs.delete(this);    }&lt;/span&gt; &lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;note HACK is my own marker that a chnage has been made to a third party *.java.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12514983">VFS-359</key>
            <summary>It is possible to delete a ram://file (RamFileObject) while using a RandomAccessContent.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mp1">Miroslav Pokorny</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Jul 2011 01:47:32 +0000</created>
                <updated>Thu, 19 May 2016 18:26:04 +0000</updated>
                            <resolved>Sun, 25 Sep 2011 06:16:48 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13114158" author="ralph.goers@dslextreme.com" created="Sun, 25 Sep 2011 06:16:48 +0000"  >&lt;p&gt;Patch applied. Please verify and close.&lt;/p&gt;</comment>
                            <comment id="15291798" author="b.eckenfels" created="Thu, 19 May 2016 18:26:04 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3488</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05k67:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30365</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-358] RamFileRandomAccessContent.close() does *NOT* call RamFileObject.close().</title>
                <link>https://issues.apache.org/jira/browse/VFS-358</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;The problem manifests itself if one uses RandomAccessContent from a FileObject which is from ram://. Closing any stream from the RAC does not cleanup some counters which means future calls to FileObject.isContentOpen() return true which is wrong because the RAC.close().&lt;/p&gt;

&lt;p&gt;The fix to RamFileRandomAccessContent.close() is a simple one liner.&lt;/p&gt;

&lt;p&gt;    /*&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(non-Javadoc)&lt;/li&gt;
	&lt;li&gt;&lt;/li&gt;
	&lt;li&gt;@see org.apache.commons.vfs.RandomAccessContent#close()&lt;br/&gt;
     */&lt;br/&gt;
    @Override&lt;br/&gt;
    public void close() throws IOException 
{
        // do not try and call rafis.close() which does nothing but call this method.
        this.file.close();
    }&lt;/li&gt;
&lt;/ul&gt;

</description>
                <environment></environment>
        <key id="12514982">VFS-358</key>
            <summary>RamFileRandomAccessContent.close() does *NOT* call RamFileObject.close().</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mp1">Miroslav Pokorny</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Jul 2011 01:31:53 +0000</created>
                <updated>Sun, 25 Sep 2011 06:37:08 +0000</updated>
                                            <version>1.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13114161" author="ralph.goers@dslextreme.com" created="Sun, 25 Sep 2011 06:37:08 +0000"  >&lt;p&gt;From what I can see none of the RandomAccessContent implementations close their associated FileObject so I&apos;m not sure why that should be done here. It seems to me the RandomAccessContent needs to be invalidated during close and any further calls should throw an exception.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3485</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 6 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8sv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303019</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-357] FtpFileSystemConfigBuilder and other builders are all singletons which leads to problems if one wishes ftp connections with different incompatible settings.</title>
                <link>https://issues.apache.org/jira/browse/VFS-357</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;RamFileSystemConfigBuilder also exhibits the same problem. The documentation does not make it sure if the max size is read during the factory or while running...&lt;br/&gt;
I believe it would be simpler to remove the singletonness and allow different objects to be created and set with their own properties.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12514561">VFS-357</key>
            <summary>FtpFileSystemConfigBuilder and other builders are all singletons which leads to problems if one wishes ftp connections with different incompatible settings.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mp1">Miroslav Pokorny</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Jul 2011 09:39:03 +0000</created>
                <updated>Sat, 24 Sep 2011 19:57:08 +0000</updated>
                            <resolved>Sat, 24 Sep 2011 19:57:08 +0000</resolved>
                                    <version>1.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13067595" author="mp1" created="Tue, 19 Jul 2011 09:42:13 +0000"  >&lt;p&gt;Im sorry my original statement was wrong, either way it would lead to less confusion (at least for me) if the builder wasnt a singleton or the doco stated it doenst contain state.&lt;/p&gt;</comment>
                            <comment id="13114064" author="ralph.goers@dslextreme.com" created="Sat, 24 Sep 2011 19:57:08 +0000"  >&lt;p&gt;While I agree with this - I actually looked into providing an alternative to the ConfigBuilders a while ago - it just isn&apos;t worth the trouble in the current code base. VFS 3.0 should be based on Java 7 which should help clean this up.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>59416</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 6 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1386n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226956</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-356] RamFileRandomAccessContent.seek() allows seeking before file start.</title>
                <link>https://issues.apache.org/jira/browse/VFS-356</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;MRAC simply calls RFRAC with no attempt to clip pos which results in filepoitner being set to negative values which are wrong.&lt;/p&gt;

&lt;p&gt;MonitorRandomAccessContent {&lt;br/&gt;
    public void seek(long pos) throws IOException&lt;/p&gt;
    {
        content.seek(pos);
    }
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;RamFileRandomAccessContent&lt;br/&gt;
    public void seek(long pos) throws IOException &lt;/p&gt;
{
        this.filePointer = (int) pos;
    }</description>
                <environment>&lt;p&gt;None.&lt;/p&gt;</environment>
        <key id="12514543">VFS-356</key>
            <summary>RamFileRandomAccessContent.seek() allows seeking before file start.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mp1">Miroslav Pokorny</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Jul 2011 05:28:52 +0000</created>
                <updated>Thu, 19 May 2016 18:26:26 +0000</updated>
                            <resolved>Thu, 11 Dec 2014 16:11:56 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13114175" author="ralph.goers@dslextreme.com" created="Sun, 25 Sep 2011 07:32:55 +0000"  >&lt;p&gt;seek will now verify that the position is not less than zero and will throw an IOException if it is. Please verify and close.&lt;/p&gt;</comment>
                            <comment id="13117774" author="mp1" created="Fri, 30 Sep 2011 00:22:53 +0000"  >&lt;p&gt;!&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14242741" author="b.eckenfels" created="Thu, 11 Dec 2014 16:11:43 +0000"  >&lt;p&gt;Will keep it in &quot;Resolved&quot; state till 2.1 is shipped.&lt;/p&gt;</comment>
                            <comment id="15291862" author="b.eckenfels" created="Thu, 19 May 2016 18:26:26 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3481</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05k6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30366</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-355] RamFileProvider: ReadingRamFileRandomAccessContent InputStream of file does not return -1 when empty...</title>
                <link>https://issues.apache.org/jira/browse/VFS-355</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;RamFileRandomAccessContent&lt;/p&gt;

&lt;p&gt;public int read(byte b[], int off, int len) throws IOException&lt;/p&gt;
			{
				int retLen = Math.min(len, getLeftBytes());
				RamFileRandomAccessContent.this.readFully(b, off, retLen);
				return retLen;
			}

&lt;p&gt;Notice retLen should return 1 if getLeftBytes() returns 0 but it doesnt. When empty it simply returns 0 which means if one reads until -1 it never happens...&lt;/p&gt;</description>
                <environment>&lt;p&gt;N/A&lt;/p&gt;</environment>
        <key id="12514538">VFS-355</key>
            <summary>RamFileProvider: ReadingRamFileRandomAccessContent InputStream of file does not return -1 when empty...</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mp1">Miroslav Pokorny</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Jul 2011 05:02:15 +0000</created>
                <updated>Thu, 19 May 2016 18:26:25 +0000</updated>
                            <resolved>Thu, 11 Dec 2014 16:11:09 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13067498" author="mp1" created="Tue, 19 Jul 2011 05:06:19 +0000"  >&lt;p&gt;replacing RamFileRandomAccessContent.InputStream.read(byte[],int,int) with the code below &lt;b&gt;WORKS&lt;/b&gt;...&lt;/p&gt;

&lt;p&gt;@Override&lt;br/&gt;
            public int read(byte b[], int off, int len) throws IOException {&lt;br/&gt;
                int count = -1;&lt;br/&gt;
                final int left = getLeftBytes();&lt;br/&gt;
                if (left &amp;gt; 0) &lt;/p&gt;
{
                    count = Math.min(len, left);
                    RamFileRandomAccessContent.this.readFully(b, off, count);
                    ;
                }
&lt;p&gt;                return count;&lt;br/&gt;
            }&lt;/p&gt;</comment>
                            <comment id="13114383" author="ralph.goers@dslextreme.com" created="Sun, 25 Sep 2011 22:52:37 +0000"  >&lt;p&gt;Path applied. Please verify and close.&lt;/p&gt;</comment>
                            <comment id="13117779" author="mp1" created="Fri, 30 Sep 2011 00:29:04 +0000"  >&lt;p&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14242739" author="b.eckenfels" created="Thu, 11 Dec 2014 16:10:54 +0000"  >&lt;p&gt;Will keep it in &quot;Resolved&quot; state till 2.1 is shipped.&lt;/p&gt;</comment>
                            <comment id="15291859" author="b.eckenfels" created="Thu, 19 May 2016 18:26:25 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3407</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05k6n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30367</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-354] RamFileProvider: moving dir with children fails to move children...</title>
                <link>https://issues.apache.org/jira/browse/VFS-354</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Below is a simple program which creates a vfs using a RamFileProvider. Note i have not verified if this works on other providers which are backed by a real filesystem. Im guessing moving on those will work because it would be a disaster for the hose os and it makes no sense that vfs does the moving of individual files.&lt;/p&gt;

&lt;p&gt;Note refreshing the FileObject by fetching them again with resolveFile makes no difference, the &quot;moved&quot; directory remains empty but the file/dir are avaiable by using their absolute paths.&lt;/p&gt;


&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;@param args&lt;br/&gt;
     */&lt;br/&gt;
    public static void main(String[] args) throws Exception {&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;        DefaultFileSystemManager manager = new DefaultFileSystemManager();&lt;br/&gt;
        manager.addProvider(&quot;ram&quot;, new RamFileProvider());&lt;br/&gt;
        manager.init();&lt;/p&gt;

&lt;p&gt;        final FileObject from = manager.resolveFile(&quot;ram://from&quot;);&lt;br/&gt;
        from.createFolder();&lt;/p&gt;

&lt;p&gt;        final FileObject move = manager.resolveFile(&quot;ram://from/move&quot;);&lt;br/&gt;
        move.createFolder();&lt;/p&gt;

&lt;p&gt;        final FileObject fromMoveFile = manager.resolveFile(&quot;ram://from/move/file&quot;);&lt;br/&gt;
        fromMoveFile.createFile();&lt;/p&gt;

&lt;p&gt;        final FileObject fromMoveSub = manager.resolveFile(&quot;ram://from/move/sub&quot;);&lt;br/&gt;
        fromMoveSub.createFolder();&lt;/p&gt;

&lt;p&gt;        final FileObject to = manager.resolveFile(&quot;ram://to&quot;);&lt;br/&gt;
        to.createFolder();&lt;/p&gt;

&lt;p&gt;        final FileObject moveAfter = manager.resolveFile(&quot;ram://to/move&quot;);&lt;br/&gt;
        System.out.println(&quot;target of move &quot; + moveAfter + &quot; exists + &quot; + moveAfter.exists());&lt;/p&gt;

&lt;p&gt;        move.moveTo(moveAfter);&lt;br/&gt;
        System.out.println(&quot;move from &quot; + move);&lt;br/&gt;
        System.out.println(&quot;\texists &quot; + move.exists());&lt;br/&gt;
        try &lt;/p&gt;
{
            System.out.println(&quot;\tchildren &quot; + Arrays.toString(move.getChildren()));
        }
&lt;p&gt; catch (final Exception expected) &lt;/p&gt;
{
            // ignore expected because folder was moved...
        }
&lt;p&gt;        System.out.println(&quot;move to &quot; + moveAfter);&lt;br/&gt;
        System.out.println(&quot;\texists &quot; + moveAfter.exists());&lt;br/&gt;
        System.out.println(&quot;\tchildren &quot; + Arrays.toString(moveAfter.getChildren()));&lt;/p&gt;

&lt;p&gt;        // these tests should print false because they were moved but it prints true...&lt;br/&gt;
        System.out.println(&quot;original file &quot; + fromMoveFile + &quot; exists &quot; + fromMoveFile.exists());&lt;br/&gt;
        System.out.println(&quot;original sub dir &quot; + fromMoveSub + &quot; exists &quot; + fromMoveSub.exists());&lt;/p&gt;

&lt;p&gt;        // repeating tests with &quot;refreshed&quot; FileObjects problem remains.&lt;br/&gt;
        final FileObject fromMoveFileX = manager.resolveFile(&quot;ram://from/move/file&quot;);&lt;br/&gt;
        System.out.println(&quot;refreshed &quot; + fromMoveFileX + &quot; &quot; + fromMoveFile.exists());&lt;/p&gt;

&lt;p&gt;        final FileObject fromMoveSubX = manager.resolveFile(&quot;ram://from/move/sub&quot;);&lt;br/&gt;
        System.out.println(&quot;refreshed &quot; + fromMoveSubX + &quot; &quot; + fromMoveSubX.exists());&lt;/p&gt;

&lt;p&gt;        // file and dir should have moved but havent.&lt;br/&gt;
        final FileObject toMoveFile = manager.resolveFile(&quot;ram://to/move/file&quot;);&lt;br/&gt;
        System.out.println(&quot;target &quot; + toMoveFile + &quot; &quot; + toMoveFile.exists());&lt;/p&gt;

&lt;p&gt;        final FileObject toMoveSub = manager.resolveFile(&quot;ram://to/move/sub&quot;);&lt;br/&gt;
        System.out.println(&quot;target &quot; + toMoveSub + &quot; &quot; + toMoveSub.exists());&lt;br/&gt;
    }&lt;/p&gt;


&lt;p&gt;prints...&lt;/p&gt;

&lt;p&gt;target of move ram:///to/move exists + false&lt;br/&gt;
move from ram:///from/move&lt;br/&gt;
	exists false&lt;br/&gt;
move to ram:///to/move&lt;br/&gt;
	exists true&lt;br/&gt;
	children []&lt;br/&gt;
original file ram:///from/move/file exists true&lt;br/&gt;
original sub dir ram:///from/move/sub exists true&lt;br/&gt;
refreshed ram:///from/move/file true&lt;br/&gt;
refreshed ram:///from/move/sub true&lt;br/&gt;
target ram:///to/move/file false&lt;br/&gt;
target ram:///to/move/sub false&lt;/p&gt;</description>
                <environment>&lt;p&gt;N/A&lt;/p&gt;</environment>
        <key id="12514535">VFS-354</key>
            <summary>RamFileProvider: moving dir with children fails to move children...</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mp1">Miroslav Pokorny</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Jul 2011 04:46:32 +0000</created>
                <updated>Fri, 18 Sep 2015 22:18:48 +0000</updated>
                                            <version>1.0</version>
                                                        <due></due>
                            <votes>2</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14385605" author="stephen" created="Sun, 29 Mar 2015 02:04:10 +0000"  >&lt;p&gt;Just confirmed the same thing is still happening using vfs 2.0.&lt;/p&gt;</comment>
                            <comment id="14876567" author="simon04" created="Fri, 18 Sep 2015 22:18:48 +0000"  >&lt;p&gt;A smaller unit test case is&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        manager.resolveFile(&lt;span class=&quot;code-quote&quot;&gt;&quot;ram:&lt;span class=&quot;code-comment&quot;&gt;//from&quot;&lt;/span&gt;).createFolder();
&lt;/span&gt;        manager.resolveFile(&lt;span class=&quot;code-quote&quot;&gt;&quot;ram:&lt;span class=&quot;code-comment&quot;&gt;//from/file&quot;&lt;/span&gt;).createFile();
&lt;/span&gt;        manager.resolveFile(&lt;span class=&quot;code-quote&quot;&gt;&quot;ram:&lt;span class=&quot;code-comment&quot;&gt;//from&quot;&lt;/span&gt;).moveTo(manager.resolveFile(&lt;span class=&quot;code-quote&quot;&gt;&quot;ram://to&quot;&lt;/span&gt;));
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; manager.resolveFile(&lt;span class=&quot;code-quote&quot;&gt;&quot;ram:&lt;span class=&quot;code-comment&quot;&gt;//to/file&quot;&lt;/span&gt;).exists();
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; !manager.resolveFile(&lt;span class=&quot;code-quote&quot;&gt;&quot;ram:&lt;span class=&quot;code-comment&quot;&gt;//from/file&quot;&lt;/span&gt;).exists();&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The problem originates since &lt;tt&gt;org.apache.commons.vfs2.provider.ram.RamFileSystem#rename&lt;/tt&gt; is called with &lt;tt&gt;from&lt;/tt&gt; and &lt;tt&gt;to&lt;/tt&gt; being directories, but the method implementation can only handle files.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>67583</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8t3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303020</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-353] [FTP] Client should call logout before disconnecting</title>
                <link>https://issues.apache.org/jira/browse/VFS-353</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Before the disconnect method is called, which closes the sockets, an FTP QUIT command should be sent by calling the logout-method.&lt;/p&gt;

&lt;p&gt;This is the polite way of ending an FTP session. Some FTP servers don&apos;t like if the QUIT command is skipped and eventually disallows further connection attempts after a while.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12510563">VFS-353</key>
            <summary>[FTP] Client should call logout before disconnecting</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bergander">Andreas Bergander</reporter>
                        <labels>
                            <label>ftp</label>
                            <label>logout</label>
                    </labels>
                <created>Thu, 16 Jun 2011 12:46:27 +0000</created>
                <updated>Thu, 19 May 2016 18:25:55 +0000</updated>
                            <resolved>Wed, 16 May 2012 17:26:04 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13276900" author="garydgregory" created="Wed, 16 May 2012 17:26:04 +0000"  >&lt;p&gt;Committed revision 1339271.&lt;/p&gt;</comment>
                            <comment id="13276959" author="garydgregory" created="Wed, 16 May 2012 18:18:28 +0000"  >&lt;p&gt;Note that the unit tests now log this error to the console without affecting the tests negatively it seems:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Running org.apache.commons.vfs2.provider.ftp.test.FtpProviderTestCase
2012-05-16 12:48:33,907 [pool-3-thread-2] ERROR: Exception caught, closing session
java.io.IOException: An established connection was aborted by the software in your host machine
        at sun.nio.ch.SocketDispatcher.read0(Native Method)
        at sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:25)
        at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:198)
        at sun.nio.ch.IOUtil.read(IOUtil.java:171)
        at sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:243)
        at org.apache.mina.transport.socket.nio.NioProcessor.read(NioProcessor.java:280)
        at org.apache.mina.transport.socket.nio.NioProcessor.read(NioProcessor.java:44)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.read(AbstractPollingIoProcessor.java:695)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.process(AbstractPollingIoProcessor.java:668)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.process(AbstractPollingIoProcessor.java:657)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$600(AbstractPollingIoProcessor.java:68)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1141)
        at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
        at java.lang.Thread.run(Thread.java:662)
Tests run: 63, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 9.732 sec
Running org.apache.commons.vfs2.provider.ftp.test.MultipleConnectionTestCase
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.075 sec
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This could be a misuse of Apache Commons Net by missing making a call to org.apache.commons.net.ftp.FTPClient.completePendingCommand() in just the right spot.&lt;/p&gt;</comment>
                            <comment id="15291775" author="b.eckenfels" created="Thu, 19 May 2016 18:25:55 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>71118</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05k6v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30368</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-352] ZipFileSystem makes improper assumptions about FileCache</title>
                <link>https://issues.apache.org/jira/browse/VFS-352</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Upon init(), ZipFileSystem enumerates all the zip file entries and stores them in the global FilesCache as well as a &quot;strongRef&quot; array. &lt;/p&gt;

&lt;p&gt;The ZipFileSystem implementation assumes that this will be sufficient to keep all entries in the cache, and so if the cache misses in AbstractFileSystem, ZipFileSystem assumes that the file does not exist and returns an imaginary file.&lt;/p&gt;

&lt;p&gt;This implementation assumes that the WeakRefFilesCache is being used. If NullFilesCache or LRUFilesCaches is used, these assumptions will fail and ZipFileSystem will fail to resolve valid existing files within the system.&lt;/p&gt;

&lt;p&gt;ZipFileSystem should maintain its own internal cache instead.&lt;/p&gt;
</description>
                <environment>&lt;p&gt;Java 1.6&lt;/p&gt;</environment>
        <key id="12509695">VFS-352</key>
            <summary>ZipFileSystem makes improper assumptions about FileCache</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="alexbedatadriven">Alex Bertram</reporter>
                        <labels>
                            <label>cache</label>
                            <label>zip</label>
                    </labels>
                <created>Thu, 9 Jun 2011 10:12:02 +0000</created>
                <updated>Thu, 19 May 2016 18:25:52 +0000</updated>
                            <resolved>Sun, 25 Sep 2011 05:01:29 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="86400">24h</timeoriginalestimate>
                            <timeestimate seconds="86400">24h</timeestimate>
                                        <comments>
                            <comment id="13114146" author="ralph.goers@dslextreme.com" created="Sun, 25 Sep 2011 05:01:29 +0000"  >&lt;p&gt;ZipFileSystem now uses an internal Map and ignores the FileSystemManager&apos;s cache. Please verify and close.&lt;/p&gt;</comment>
                            <comment id="14647280" author="nithril" created="Thu, 30 Jul 2015 07:03:37 +0000"  >&lt;p&gt;The cache is implemented by an HashMap&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Map&amp;lt;FileName, FileObject&amp;gt; cache = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HashMap&amp;lt;FileName, FileObject&amp;gt;();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;tt&gt;ZipFileSystem#removeFileFromCache&lt;/tt&gt; seems to never been called. When do entries get invalidated? Is there a risk of OOM?&lt;/p&gt;</comment>
                            <comment id="15291765" author="b.eckenfels" created="Thu, 19 May 2016 18:25:52 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3492</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05k73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30369</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-351] Small patch to not swallow SFTP exception from JSCH </title>
                <link>https://issues.apache.org/jira/browse/VFS-351</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;A customer had a stacktrace where the end of it looked something like this:&lt;/p&gt;

&lt;p&gt;Caused by: org.apache.commons.vfs2.FileSystemException: Could not determine the type of file &quot;***&quot;.&lt;br/&gt;
        at org.apache.commons.vfs2.provider.AbstractFileObject.getType(AbstractFileObject.java:506)&lt;br/&gt;
        at org.apache.commons.vfs2.provider.sftp.SftpFileObject.refresh(SftpFileObject.java:92)&lt;br/&gt;
        ... 27 more&lt;br/&gt;
Caused by: org.apache.commons.vfs2.FileSystemException: Could not change to work directory &quot;/&quot;.&lt;br/&gt;
        at org.apache.commons.vfs2.provider.sftp.SftpFileSystem.getChannel(SftpFileSystem.java:144)&lt;br/&gt;
        at org.apache.commons.vfs2.provider.sftp.SftpFileObject.statSelf(SftpFileObject.java:152)&lt;br/&gt;
        at org.apache.commons.vfs2.provider.sftp.SftpFileObject.doGetType(SftpFileObject.java:115)&lt;br/&gt;
        at org.apache.commons.vfs2.provider.AbstractFileObject.getType(AbstractFileObject.java:497)&lt;/p&gt;


&lt;p&gt;But SftpFileSystem actually got an exception from JSch that it did not set as cause for the newly created exception, making debugging harder.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12508308">VFS-351</key>
            <summary>Small patch to not swallow SFTP exception from JSCH </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sandos">John B&#228;ckstrand</reporter>
                        <labels>
                            <label>sftp</label>
                    </labels>
                <created>Wed, 25 May 2011 13:05:23 +0000</created>
                <updated>Thu, 19 May 2016 18:25:33 +0000</updated>
                            <resolved>Sun, 25 Sep 2011 00:55:56 +0000</resolved>
                                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13039103" author="sandos" created="Wed, 25 May 2011 13:06:08 +0000"  >&lt;p&gt;One-line patch attached&lt;/p&gt;</comment>
                            <comment id="13039104" author="sandos" created="Wed, 25 May 2011 13:12:06 +0000"  >&lt;p&gt;This might be a Jsch bug, partly, in that it does not seem to throw IOException properly, instead re-throwing everything as SftpException ?&lt;/p&gt;</comment>
                            <comment id="13114108" author="ralph.goers@dslextreme.com" created="Sun, 25 Sep 2011 00:55:57 +0000"  >&lt;p&gt;Patch applied. Please verify and close.&lt;/p&gt;</comment>
                            <comment id="15291711" author="b.eckenfels" created="Thu, 19 May 2016 18:25:33 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12480405" name="vfscdpatch.diff" size="701" author="sandos" created="Wed, 25 May 2011 13:06:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3503</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05k7b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30370</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-350] Reading from an input stream to a .tar.gz ends up with a &apos;reading from an output buffer&apos; exception</title>
                <link>https://issues.apache.org/jira/browse/VFS-350</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;I can turn this into a test case if needed.&lt;/p&gt;

&lt;p&gt;A source snippet:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;
FileObject annotations = root.getChild(&quot;annotations&quot;);
FileContent annotationsContent = annotations.getContent();
InputStream input = annotationsContent.getInputStream();
InputStreamReader isr = new InputStreamReader(input, Charset.forName(&quot;utf-8&quot;));
BufferedReader lineReader = new BufferedReader(isr);
String line;
while ((line = lineReader.readLine()) != null) {
}




java.io.IOException: reading from an output buffer
	at org.apache.commons.vfs.provider.tar.TarBuffer.readRecord(TarBuffer.java:213)
	at org.apache.commons.vfs.provider.tar.TarInputStream.read(TarInputStream.java:386)
	at java.io.BufferedInputStream.read1(BufferedInputStream.java:256)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:317)
	at org.apache.commons.vfs.util.MonitorInputStream.read(MonitorInputStream.java:74)
	at sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:264)
	at sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:306)
	at sun.nio.cs.StreamDecoder.read(StreamDecoder.java:158)
	at java.io.InputStreamReader.read(InputStreamReader.java:167)
	at java.io.BufferedReader.fill(BufferedReader.java:136)
	at java.io.BufferedReader.readLine(BufferedReader.java:299)
	at java.io.BufferedReader.readLine(BufferedReader.java:362)
	at com.basistech.lsh.utils.TdtTestData.&amp;lt;init&amp;gt;(TdtTestData.java:130)
	at com.basistech.lsh.utils.TdtTestDataTest.testTestDataReader(TdtTestDataTest.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.junit.runners.BlockJUnit4ClassRunner.runNotIgnored(BlockJUnit4ClassRunner.java:79)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:71)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:49)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:236)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</description>
                <environment></environment>
        <key id="12507374">VFS-350</key>
            <summary>Reading from an input stream to a .tar.gz ends up with a &apos;reading from an output buffer&apos; exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bmargulies">Benson Margulies</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 May 2011 15:13:39 +0000</created>
                <updated>Wed, 27 Nov 2013 15:40:39 +0000</updated>
                                            <version>1.0</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13034055" author="bmargulies" created="Mon, 16 May 2011 15:17:07 +0000"  >&lt;p&gt;This is only triggered if, in the middle of reading from one file in the tgz, I open other files and read those.&lt;/p&gt;</comment>
                            <comment id="13833032" author="rhaertel" created="Tue, 26 Nov 2013 20:44:28 +0000"  >&lt;p&gt;I&apos;m encountering a similar issue in version 2.0 for a plain .tar file. I am concurrently reading multiple files from the same .tar file. Curiously, the same code works in some cases, and not others and I believe it is a function of the number of bytes read (fewer bytes complete successful, even in the face of concurrent reads from the same .tar file).&lt;/p&gt;

&lt;p&gt;Here is the stack trace:&lt;br/&gt;
Caused by: java.io.IOException: reading from an output buffer&lt;br/&gt;
	at org.apache.commons.vfs2.provider.tar.TarBuffer.readRecord(TarBuffer.java:211)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.tar.TarInputStream.read(TarInputStream.java:384)&lt;br/&gt;
	at java.io.BufferedInputStream.read1(BufferedInputStream.java:273)&lt;br/&gt;
	at java.io.BufferedInputStream.read(BufferedInputStream.java:334)&lt;br/&gt;
	at org.apache.commons.vfs2.util.MonitorInputStream.read(MonitorInputStream.java:100)&lt;br/&gt;
	at sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:283)&lt;br/&gt;
	at sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:325)&lt;br/&gt;
	at sun.nio.cs.StreamDecoder.read(StreamDecoder.java:177)&lt;br/&gt;
	at java.io.InputStreamReader.read(InputStreamReader.java:184)&lt;br/&gt;
	at com.google.common.io.LineReader.readLine(LineReader.java:76)&lt;br/&gt;
	at edu.byu.nlp.io.LineReaderIterator.readLineQuietly(LineReaderIterator.java:31)&lt;br/&gt;
	... 19 more&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                                                <inwardlinks description="is cloned by">
                                        <issuelink>
            <issuekey id="12681601">VFS-505</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200381</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 49 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8tb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303021</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-349] secure FTP Problem with Commons vfs</title>
                <link>https://issues.apache.org/jira/browse/VFS-349</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;I am facing wiered problem in apache commons vfs. I have a method which will create the folder name in remote server using secure FTP. I crated a web-application for this. When I call the below method from web it works fine, no matter how many times you call this method. Now I am testing this using the Jmeter script multiple times. When I execute the script first time it creates the folder and deletes (Calling delete method to delete the folder which I didn&apos;t include here and executing fine.) When it tries to create the same folder second time it says The specified directory already exists if I connect the server and see there is no folder exists. I am using file system manager in VFS. Please let me know what I was doing wrong. Please let me know if you have any questions. Thanks in advance.&lt;/p&gt;




&lt;p&gt;private FileSystemManager fileSystemManager;  &lt;/p&gt;

&lt;p&gt;    private FileSystemOptions fileSystemOptions;  &lt;/p&gt;

&lt;p&gt;    @Autowired  &lt;br/&gt;
    public void setFileSystemManager(FileSystemManager fileSystemManager) &lt;/p&gt;
{  
        this.fileSystemManager = fileSystemManager;  
    }
&lt;p&gt;  &lt;/p&gt;

&lt;p&gt;    @Autowired  &lt;br/&gt;
    public void setFileSystemOptions(FileSystemOptions fileSystemOptions) &lt;/p&gt;
{  
        this.fileSystemOptions = fileSystemOptions;  
    }
&lt;p&gt;  &lt;/p&gt;

&lt;p&gt;    @RequestMapping(value = &quot;/app/newDirectoryForm&quot;, method = RequestMethod.GET)  &lt;br/&gt;
    public ModelAndView showNewDirectoryForm() &lt;/p&gt;
{  
        return new ModelAndView(NEW_DIRECTORY_FORM, &quot;request&quot;, new CreateDirectoryRequest());  
    }
&lt;p&gt;  &lt;/p&gt;

&lt;p&gt;    @RequestMapping(value = &quot;/app/createDirectory&quot;, method = RequestMethod.POST)  &lt;br/&gt;
    public String createDirectory(@Valid @ModelAttribute(&quot;request&quot;) CreateDirectoryRequest request, BindingResult bindingResult) throws Exception {  &lt;br/&gt;
        if (bindingResult.hasErrors())  &lt;br/&gt;
            return NEW_DIRECTORY_FORM;  &lt;/p&gt;

&lt;p&gt;        FileObject fo = null;  &lt;br/&gt;
        try {  &lt;br/&gt;
            fo = fileSystemManager.resolveFile(request.getDirectoryPath(), fileSystemOptions);  &lt;br/&gt;
            if (fo.exists()) &lt;/p&gt;
{  
                bindingResult.addError(new FieldError(&quot;request&quot;, &quot;directoryPath&quot;, request.getDirectoryPath(), false, null, null, &quot;The specified directory already exists.&quot;));  
                return NEW_DIRECTORY_FORM;  
            }
&lt;p&gt;  &lt;br/&gt;
            fo.createFolder();  &lt;br/&gt;
        }  &lt;br/&gt;
        finally &lt;/p&gt;
{  
            if (fo != null) fo.close();  
        }
&lt;p&gt;  &lt;/p&gt;

&lt;p&gt;        return SUCCESS_REDIRECT;  &lt;br/&gt;
    }   &lt;/p&gt;</description>
                <environment>&lt;p&gt;Linux server&lt;/p&gt;</environment>
        <key id="12502342">VFS-349</key>
            <summary>secure FTP Problem with Commons vfs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="praveenk">PRAVEEN KASAM</reporter>
                        <labels>
                            <label>test</label>
                    </labels>
                <created>Fri, 25 Mar 2011 02:04:15 +0000</created>
                <updated>Fri, 30 Sep 2011 13:42:45 +0000</updated>
                                            <version>1.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="86400">24h</timeoriginalestimate>
                            <timeestimate seconds="86400">24h</timeestimate>
                                        <comments>
                            <comment id="13114410" author="ralph.goers@dslextreme.com" created="Mon, 26 Sep 2011 00:24:00 +0000"  >&lt;p&gt;Sorry for the very slow response. Can you attach a sample app that I can test?&lt;/p&gt;</comment>
                            <comment id="13118062" author="praveenk" created="Fri, 30 Sep 2011 13:42:45 +0000"  >&lt;p&gt;Thanks for your response. &lt;/p&gt;

&lt;p&gt;Due to this bug we decided not to use Commons VFS and I started using JSCH. &lt;/p&gt;

&lt;p&gt;Since it has been while ago, I am all set. &lt;/p&gt;

&lt;p&gt;Sent from my iPhone&lt;/p&gt;


</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3395</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 5 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i16tsv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>247960</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-347] AbstractFileObject canRenameTo method is incorrect</title>
                <link>https://issues.apache.org/jira/browse/VFS-347</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;AbstractFileObject is written like this:&lt;/p&gt;

&lt;p&gt;    public boolean canRenameTo(FileObject newfile)&lt;br/&gt;
    {&lt;br/&gt;
        if (getFileSystem() == newfile.getFileSystem())&lt;/p&gt;
        {
            return true;
        }

&lt;p&gt;        return false;&lt;br/&gt;
    }&lt;/p&gt;

&lt;p&gt;So when you move a File inside the same filesystem, Apache VFS thinks it is on another filesystem.&lt;/p&gt;

&lt;p&gt;Thus, the file is copied instead of being moved.&lt;/p&gt;

&lt;p&gt;getFileSystem().equals(newFile.getFileSystem()) should be used instead.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12499204">VFS-347</key>
            <summary>AbstractFileObject canRenameTo method is incorrect</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="pyfourmond">P-Y Fourmond</reporter>
                        <labels>
                            <label>AbstractFileObject</label>
                            <label>FileObject</label>
                            <label>FileSystem</label>
                            <label>canRenameTo</label>
                            <label>moveTo</label>
                    </labels>
                <created>Mon, 21 Feb 2011 09:42:43 +0000</created>
                <updated>Mon, 26 Sep 2011 11:09:14 +0000</updated>
                                            <version>1.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13114130" author="ralph.goers@dslextreme.com" created="Sun, 25 Sep 2011 04:25:38 +0000"  >&lt;p&gt;There are problems with this suggestion. First, FileSystems don&apos;t implement an equals method so the end result would be the same as the existing code. Second, FileSystems are cached using the root of the file system and the file system options as the cache key. So the code below should result in the same FileSystem object if newFile is indeed in the current FileSystem. If an equals method was implemented it would inevitably use the same values as are in the cache key which would result in the same behavior.&lt;/p&gt;

&lt;p&gt;Do you have a test case to show there is a problem?&lt;/p&gt;</comment>
                            <comment id="13114595" author="pyfourmond" created="Mon, 26 Sep 2011 11:09:14 +0000"  >&lt;p&gt;Ok, FileSystem do not implement equals method, but maybe they should !&lt;/p&gt;

&lt;p&gt;At least FileSystem should implement a method to know if two FileSystems are on the same physical one.&lt;/p&gt;

&lt;p&gt;Sorry but I don&apos;t have any test case.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3317</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 6 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8sf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303017</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-346] File does not exist while connecting to SFTP server using 2.0 SNAPSHOT while it exists while using 1.0</title>
                <link>https://issues.apache.org/jira/browse/VFS-346</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;I&apos;ve faced a problem when an existing files can&apos;t be copied using 2.0 snapshot library while after adding in classpath 1.0 library - everything goes just nice.&lt;br/&gt;
Also I&apos;ve tested that everything is good using simple ftp and local file when using both 2.0 snapshot and 1.0 libraries, so problem exists only with SFTP.&lt;/p&gt;

&lt;p&gt;The thing is that sourceDir.resolveFile(&quot;1.txt&quot;) returns false when using 2.0 snapshot and returns true using 1.0.&lt;/p&gt;

&lt;p&gt;I&apos;ll attach screenshots from eclipse while debugging this. Files which have &quot;1&quot;s in the filename are made when using 1.0 library and files with &quot;2&quot;s in the filename are made when using 2.0 snapshot. You can find out that in the first case type of sourceFile is &quot;folder&quot; and in the second case it&apos;s &quot;imaginary&quot;.&lt;/p&gt;

&lt;p&gt;Please check this, I assume that there is a bug somewhere.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</description>
                <environment>&lt;p&gt;JDK 1.6.0_18 &lt;br/&gt;
Windows 7 x64&lt;/p&gt;</environment>
        <key id="12498808">VFS-346</key>
            <summary>File does not exist while connecting to SFTP server using 2.0 SNAPSHOT while it exists while using 1.0</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="j-pro">Yurii Kartsev</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 Feb 2011 21:43:53 +0000</created>
                <updated>Thu, 1 May 2014 23:33:05 +0000</updated>
                                            <version>2.0</version>
                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12995535" author="j-pro" created="Wed, 16 Feb 2011 21:46:11 +0000"  >&lt;p&gt;Screenshots from eclipse while debugging this. Files which have &quot;1&quot;s in the filename are made when using 1.0 library and files with &quot;2&quot;s in the filename are made when using 2.0 snapshot. You can find out that in the first case type of sourceFile is &quot;folder&quot; and in the second case it&apos;s &quot;imaginary&quot;.&lt;/p&gt;

&lt;p&gt;+&lt;/p&gt;

&lt;p&gt;Libraries which I&apos;ve worked with.&lt;/p&gt;</comment>
                            <comment id="13581175" author="joehni" created="Tue, 19 Feb 2013 10:02:56 +0000"  >&lt;p&gt;The reported mentions explicitly that the type of the remote object is folder, so it seems a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-345&quot; title=&quot;Regression: FTP Provider does not support symbolic links correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-345&quot;&gt;VFS-345&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12494926">VFS-345</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12471225" name="commons-vfs-1.0.jar" size="362717" author="j-pro" created="Wed, 16 Feb 2011 21:46:11 +0000"/>
                            <attachment id="12471226" name="commons-vfs-2.0-SNAPSHOT.jar" size="413077" author="j-pro" created="Wed, 16 Feb 2011 21:46:11 +0000"/>
                            <attachment id="12471224" name="vfs_bug_versions.zip" size="700565" author="j-pro" created="Wed, 16 Feb 2011 21:46:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200380</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 37 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8sn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303018</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-345] Regression: FTP Provider does not support symbolic links correctly</title>
                <link>https://issues.apache.org/jira/browse/VFS-345</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;After the fix from &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-307&quot; title=&quot;VFS issues a lot of FTP commands when listing a directory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-307&quot;&gt;&lt;del&gt;VFS-307&lt;/del&gt;&lt;/a&gt;, the FTP provider does not handle symbolic links correctly.&lt;/p&gt;

&lt;p&gt;A symlink to a directory returns false from exists(). getType() returns FileType.IMAGINARY.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12494926">VFS-345</key>
            <summary>Regression: FTP Provider does not support symbolic links correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="andreasp">Andreas Persson</reporter>
                        <labels>
                    </labels>
                <created>Fri, 7 Jan 2011 10:07:03 +0000</created>
                <updated>Tue, 19 Feb 2013 10:02:56 +0000</updated>
                                            <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12978819" author="ralph.goers@dslextreme.com" created="Fri, 7 Jan 2011 15:41:05 +0000"  >&lt;p&gt;I need a bit more information as I can&apos;t tell what was changed in &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-307&quot; title=&quot;VFS issues a lot of FTP commands when listing a directory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-307&quot;&gt;&lt;del&gt;VFS-307&lt;/del&gt;&lt;/a&gt;.  What class should I look at?&lt;/p&gt;</comment>
                            <comment id="12978828" author="andreasp" created="Fri, 7 Jan 2011 15:49:12 +0000"  >&lt;p&gt;FTPClientWrapper: &lt;a href=&quot;http://svn.apache.org/viewvc/commons/proper/vfs/trunk/core/src/main/java/org/apache/commons/vfs2/provider/ftp/FTPClientWrapper.java?r1=804644&amp;amp;r2=940808&amp;amp;diff_format=h&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/commons/proper/vfs/trunk/core/src/main/java/org/apache/commons/vfs2/provider/ftp/FTPClientWrapper.java?r1=804644&amp;amp;r2=940808&amp;amp;diff_format=h&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I don&apos;t understand the code enough to tell how the &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-307&quot; title=&quot;VFS issues a lot of FTP commands when listing a directory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-307&quot;&gt;&lt;del&gt;VFS-307&lt;/del&gt;&lt;/a&gt; patch works, but when I removed these lines:&lt;/p&gt;

&lt;p&gt;        files = getFtpClient().listFiles(relPath);&lt;br/&gt;
        if (FTPReply.isPositiveCompletion(getFtpClient().getReplyCode()))&lt;/p&gt;
        {
            return files;
        }

&lt;p&gt;which were added in &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-307&quot; title=&quot;VFS issues a lot of FTP commands when listing a directory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-307&quot;&gt;&lt;del&gt;VFS-307&lt;/del&gt;&lt;/a&gt;, the bug disappeared.&lt;/p&gt;</comment>
                            <comment id="13274240" author="andreasp" created="Sun, 13 May 2012 09:26:17 +0000"  >&lt;p&gt;I&apos;ve investigated this a little bit further.&lt;/p&gt;

&lt;p&gt;The structure that causes the bug for me is:&lt;/p&gt;

&lt;p&gt;/dir1/dir2/dir3/file&lt;br/&gt;
/link -&amp;gt; /dir1/dir2&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;then, the URL &lt;a href=&quot;ftp://server/link/dir3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://server/link/dir3&lt;/a&gt; returns false from exists().&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This is with a Solaris ftp server. On Apache FtpServer it works.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12498808">VFS-346</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12607695">VFS-436</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12387553">VFS-196</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12463644">VFS-307</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200379</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 25 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8rj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303013</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-343] Deadlock occurs in HTTP or WebDAV when all the connections are in use.</title>
                <link>https://issues.apache.org/jira/browse/VFS-343</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;The stacktrace below shows several threads all waiting on a FileSystem lock. The thread holding that lock is waiting for an HTTP connection from the connection pool. However, each of the threads waiting on the FileSystem lock has already acquired a connection from the pool.  This issue can be resolved by reducing the amount of locking that occurs on the FileSystem objects. In this case the threads are attempting to get the lock to increment a counter. Changing the counters to AtomicIntegers will resolve the problem.&lt;/p&gt;

&lt;p&gt;Full thread dump Java HotSpot(TM) 64-Bit Server VM (11.0-b16 mixed mode):&lt;/p&gt;

&lt;p&gt;&quot;Attach Listener&quot; daemon prio=10 tid=0x0000000053834400 nid=0x23b1 waiting on condition &lt;span class=&quot;error&quot;&gt;&amp;#91;0x0000000000000000..0x0000000000000000&amp;#93;&lt;/span&gt;&lt;br/&gt;
  java.lang.Thread.State: RUNNABLE&lt;/p&gt;

&lt;p&gt;&quot;MultiThreadedHttpConnectionManager cleanup&quot; daemon prio=10 tid=0x00000000538ff400 nid=0x21f0 in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;0x000000004077e000..0x000000004077ec10&amp;#93;&lt;/span&gt;&lt;br/&gt;
  java.lang.Thread.State: TIMED_WAITING (on object monitor)&lt;br/&gt;
       at java.lang.Object.wait(Native Method)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting on &amp;lt;0x00002aab82694428&amp;gt; (a java.lang.ref.ReferenceQueue$Lock)&lt;br/&gt;
       at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:116)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0x00002aab82694428&amp;gt; (a java.lang.ref.ReferenceQueue$Lock)&lt;br/&gt;
       at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$ReferenceQueueThread.run(MultiThreadedHttpConnectionManager.java:1082)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;Thread 2&quot; prio=10 tid=0x00002aabc00a0800 nid=0x21ef waiting for monitor entry &lt;span class=&quot;error&quot;&gt;&amp;#91;0x0000000040d17000..0x0000000040d17c90&amp;#93;&lt;/span&gt;&lt;br/&gt;
  java.lang.Thread.State: BLOCKED (on object monitor)&lt;br/&gt;
       at org.apache.commons.vfs.provider.AbstractFileSystem.streamOpened(AbstractFileSystem.java:602)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting to lock &amp;lt;0x00002aab827f92c8&amp;gt; (a org.apache.commons.vfs.provider.webdav.WebdavFileSystem)&lt;br/&gt;
       at org.apache.commons.vfs.provider.DefaultFileContent.streamOpened(DefaultFileContent.java:93)&lt;br/&gt;
       at org.apache.commons.vfs.provider.DefaultFileContent.getInputStream(DefaultFileContent.java:373)&lt;br/&gt;
       at org.apache.commons.configuration.VFSFileSystem.getInputStream(VFSFileSystem.java:111)&lt;br/&gt;
       at org.apache.commons.configuration.AbstractFileConfiguration.load(AbstractFileConfiguration.java:311)&lt;br/&gt;
       at org.apache.commons.configuration.AbstractFileConfiguration.load(AbstractFileConfiguration.java:251)&lt;br/&gt;
       at org.apache.commons.configuration.AbstractFileConfiguration.load(AbstractFileConfiguration.java:229)&lt;br/&gt;
       at org.apache.commons.configuration.AbstractHierarchicalFileConfiguration.load(AbstractHierarchicalFileConfiguration.java:180)&lt;br/&gt;
       at com.diginsite.services.configsync.ConfigurationSynchronizer.synchronizeClientProduct(ConfigurationSynchronizer.java:862)&lt;br/&gt;
       at com.diginsite.services.configsync.ConfigurationSynchronizer.synchronizeClient(ConfigurationSynchronizer.java:829)&lt;br/&gt;
       at com.diginsite.services.configsync.ConfigurationSynchronizer.run(ConfigurationSynchronizer.java:416)&lt;br/&gt;
       at java.lang.Thread.run(Thread.java:619)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;Thread 3&quot; prio=10 tid=0x00002aabc009f800 nid=0x21ec in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;0x0000000042593000..0x0000000042593d10&amp;#93;&lt;/span&gt;&lt;br/&gt;
  java.lang.Thread.State: WAITING (on object monitor)&lt;br/&gt;
       at java.lang.Object.wait(Native Method)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting on &amp;lt;0x00002aab826c67a8&amp;gt; (a org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$ConnectionPool)&lt;br/&gt;
       at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager.doGetConnection(MultiThreadedHttpConnectionManager.java:509)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0x00002aab826c67a8&amp;gt; (a org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$ConnectionPool)&lt;br/&gt;
       at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager.getConnectionWithTimeout(MultiThreadedHttpConnectionManager.java:394)&lt;br/&gt;
       at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:152)&lt;br/&gt;
       at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:396)&lt;br/&gt;
       at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:324)&lt;br/&gt;
       at org.apache.commons.vfs.provider.webdav.WebdavFileObject.execute(WebdavFileObject.java:349)&lt;br/&gt;
       at org.apache.commons.vfs.provider.webdav.WebdavFileObject.getProperties(WebdavFileObject.java:442)&lt;br/&gt;
       at org.apache.commons.vfs.provider.webdav.WebdavFileObject.getProperties(WebdavFileObject.java:417)&lt;br/&gt;
       at org.apache.commons.vfs.provider.webdav.WebdavFileObject.getProperty(WebdavFileObject.java:410)&lt;br/&gt;
       at org.apache.commons.vfs.provider.webdav.WebdavFileObject.getProperty(WebdavFileObject.java:402)&lt;br/&gt;
       at org.apache.commons.vfs.provider.webdav.WebdavFileObject.isDirectory(WebdavFileObject.java:382)&lt;br/&gt;
       at org.apache.commons.vfs.provider.webdav.WebdavFileObject.doGetType(WebdavFileObject.java:112)&lt;br/&gt;
       at org.apache.commons.vfs.provider.AbstractFileObject.getType(AbstractFileObject.java:441)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0x00002aab827f92c8&amp;gt; (a org.apache.commons.vfs.provider.webdav.WebdavFileSystem)&lt;br/&gt;
       at org.apache.commons.vfs.provider.AbstractFileObject.exists(AbstractFileObject.java:424)&lt;br/&gt;
       at org.apache.commons.configuration.VFSFileSystem.locateFromURL(VFSFileSystem.java:293)&lt;br/&gt;
       at org.apache.commons.configuration.ConfigurationUtils.locate(ConfigurationUtils.java:466)&lt;br/&gt;
       at org.apache.commons.configuration.AbstractFileConfiguration.load(AbstractFileConfiguration.java:245)&lt;br/&gt;
       at org.apache.commons.configuration.AbstractFileConfiguration.load(AbstractFileConfiguration.java:229)&lt;br/&gt;
       at org.apache.commons.configuration.AbstractHierarchicalFileConfiguration.load(AbstractHierarchicalFileConfiguration.java:180)&lt;br/&gt;
       at com.diginsite.services.configsync.ConfigurationSynchronizer.synchronizeClientProduct(ConfigurationSynchronizer.java:862)&lt;br/&gt;
       at com.diginsite.services.configsync.ConfigurationSynchronizer.synchronizeClient(ConfigurationSynchronizer.java:829)&lt;br/&gt;
       at com.diginsite.services.configsync.ConfigurationSynchronizer.run(ConfigurationSynchronizer.java:416)&lt;br/&gt;
       at java.lang.Thread.run(Thread.java:619)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;Thread 4&quot; prio=10 tid=0x00002aabc00ce000 nid=0x21eb waiting for monitor entry &lt;span class=&quot;error&quot;&gt;&amp;#91;0x0000000042492000..0x0000000042492d90&amp;#93;&lt;/span&gt;&lt;br/&gt;
  java.lang.Thread.State: BLOCKED (on object monitor)&lt;br/&gt;
       at org.apache.commons.vfs.provider.AbstractFileSystem.streamOpened(AbstractFileSystem.java:602)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting to lock &amp;lt;0x00002aab827f92c8&amp;gt; (a org.apache.commons.vfs.provider.webdav.WebdavFileSystem)&lt;br/&gt;
       at org.apache.commons.vfs.provider.DefaultFileContent.streamOpened(DefaultFileContent.java:93)&lt;br/&gt;
       at org.apache.commons.vfs.provider.DefaultFileContent.getInputStream(DefaultFileContent.java:373)&lt;br/&gt;
       at org.apache.commons.configuration.VFSFileSystem.getInputStream(VFSFileSystem.java:111)&lt;br/&gt;
       at org.apache.commons.configuration.AbstractFileConfiguration.load(AbstractFileConfiguration.java:311)&lt;br/&gt;
       at org.apache.commons.configuration.AbstractFileConfiguration.load(AbstractFileConfiguration.java:251)&lt;br/&gt;
       at org.apache.commons.configuration.AbstractFileConfiguration.load(AbstractFileConfiguration.java:229)&lt;br/&gt;
       at org.apache.commons.configuration.AbstractHierarchicalFileConfiguration.load(AbstractHierarchicalFileConfiguration.java:180)&lt;br/&gt;
       at com.diginsite.services.configsync.ConfigurationSynchronizer.synchronizeClientProduct(ConfigurationSynchronizer.java:862)&lt;br/&gt;
       at com.diginsite.services.configsync.ConfigurationSynchronizer.synchronizeClient(ConfigurationSynchronizer.java:829)&lt;br/&gt;
       at com.diginsite.services.configsync.ConfigurationSynchronizer.run(ConfigurationSynchronizer.java:416)&lt;br/&gt;
       at java.lang.Thread.run(Thread.java:619)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;Thread 5&quot; prio=10 tid=0x00002aabc00d2000 nid=0x21ea waiting for monitor entry &lt;span class=&quot;error&quot;&gt;&amp;#91;0x0000000042391000..0x0000000042391a10&amp;#93;&lt;/span&gt;&lt;br/&gt;
  java.lang.Thread.State: BLOCKED (on object monitor)&lt;br/&gt;
       at org.apache.commons.vfs.provider.AbstractFileSystem.streamOpened(AbstractFileSystem.java:602)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting to lock &amp;lt;0x00002aab827f92c8&amp;gt; (a org.apache.commons.vfs.provider.webdav.WebdavFileSystem)&lt;br/&gt;
       at org.apache.commons.vfs.provider.DefaultFileContent.streamOpened(DefaultFileContent.java:93)&lt;br/&gt;
       at org.apache.commons.vfs.provider.DefaultFileContent.getInputStream(DefaultFileContent.java:373)&lt;br/&gt;
       at org.apache.commons.configuration.VFSFileSystem.getInputStream(VFSFileSystem.java:111)&lt;br/&gt;
       at org.apache.commons.configuration.AbstractFileConfiguration.load(AbstractFileConfiguration.java:311)&lt;br/&gt;
       at org.apache.commons.configuration.AbstractFileConfiguration.load(AbstractFileConfiguration.java:251)&lt;br/&gt;
       at org.apache.commons.configuration.AbstractFileConfiguration.load(AbstractFileConfiguration.java:229)&lt;br/&gt;
       at org.apache.commons.configuration.AbstractHierarchicalFileConfiguration.load(AbstractHierarchicalFileConfiguration.java:180)&lt;br/&gt;
       at com.diginsite.services.configsync.ConfigurationSynchronizer.synchronizeClientProduct(ConfigurationSynchronizer.java:862)&lt;br/&gt;
       at com.diginsite.services.configsync.ConfigurationSynchronizer.synchronizeClient(ConfigurationSynchronizer.java:829)&lt;br/&gt;
       at com.diginsite.services.configsync.ConfigurationSynchronizer.run(ConfigurationSynchronizer.java:416)&lt;br/&gt;
       at java.lang.Thread.run(Thread.java:619)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;Thread 6&quot; prio=10 tid=0x00002aabc00af400 nid=0x21e9 waiting for monitor entry &lt;span class=&quot;error&quot;&gt;&amp;#91;0x0000000042290000..0x0000000042290a90&amp;#93;&lt;/span&gt;&lt;br/&gt;
  java.lang.Thread.State: BLOCKED (on object monitor)&lt;br/&gt;
       at org.apache.commons.vfs.provider.AbstractFileSystem.resolveFile(AbstractFileSystem.java:294)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting to lock &amp;lt;0x00002aab827f92c8&amp;gt; (a org.apache.commons.vfs.provider.webdav.WebdavFileSystem)&lt;br/&gt;
       at org.apache.commons.vfs.provider.AbstractOriginatingFileProvider.findFile(AbstractOriginatingFileProvider.java:86)&lt;br/&gt;
       at org.apache.commons.vfs.provider.AbstractOriginatingFileProvider.findFile(AbstractOriginatingFileProvider.java:66)&lt;br/&gt;
       at org.apache.commons.vfs.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:692)&lt;br/&gt;
       at org.apache.commons.vfs.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:648)&lt;br/&gt;
       at org.apache.commons.vfs.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:604)&lt;br/&gt;
       at org.apache.commons.configuration.VFSFileSystem.getInputStream(VFSFileSystem.java:99)&lt;br/&gt;
       at org.apache.commons.configuration.AbstractFileConfiguration.load(AbstractFileConfiguration.java:311)&lt;br/&gt;
       at org.apache.commons.configuration.AbstractFileConfiguration.load(AbstractFileConfiguration.java:251)&lt;br/&gt;
       at org.apache.commons.configuration.AbstractFileConfiguration.load(AbstractFileConfiguration.java:229)&lt;br/&gt;
       at org.apache.commons.configuration.AbstractHierarchicalFileConfiguration.load(AbstractHierarchicalFileConfiguration.java:180)&lt;br/&gt;
       at com.diginsite.services.configsync.ConfigurationSynchronizer.synchronizeClientProduct(ConfigurationSynchronizer.java:862)&lt;br/&gt;
       at com.diginsite.services.configsync.ConfigurationSynchronizer.synchronizeClient(ConfigurationSynchronizer.java:829)&lt;br/&gt;
       at com.diginsite.services.configsync.ConfigurationSynchronizer.run(ConfigurationSynchronizer.java:416)&lt;br/&gt;
       at java.lang.Thread.run(Thread.java:619)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;Thread 7&quot; prio=10 tid=0x00002aabc001cc00 nid=0x21e8 waiting for monitor entry &lt;span class=&quot;error&quot;&gt;&amp;#91;0x000000004218f000..0x000000004218fb10&amp;#93;&lt;/span&gt;&lt;br/&gt;
  java.lang.Thread.State: BLOCKED (on object monitor)&lt;br/&gt;
       at org.apache.commons.vfs.provider.AbstractFileSystem.streamOpened(AbstractFileSystem.java:602)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting to lock &amp;lt;0x00002aab827f92c8&amp;gt; (a org.apache.commons.vfs.provider.webdav.WebdavFileSystem)&lt;br/&gt;
       at org.apache.commons.vfs.provider.DefaultFileContent.streamOpened(DefaultFileContent.java:93)&lt;br/&gt;
       at org.apache.commons.vfs.provider.DefaultFileContent.getInputStream(DefaultFileContent.java:373)&lt;br/&gt;
       at org.apache.commons.configuration.VFSFileSystem.getInputStream(VFSFileSystem.java:111)&lt;br/&gt;
       at org.apache.commons.configuration.AbstractFileConfiguration.load(AbstractFileConfiguration.java:311)&lt;br/&gt;
       at org.apache.commons.configuration.AbstractFileConfiguration.load(AbstractFileConfiguration.java:251)&lt;br/&gt;
       at org.apache.commons.configuration.AbstractFileConfiguration.load(AbstractFileConfiguration.java:229)&lt;br/&gt;
       at org.apache.commons.configuration.AbstractHierarchicalFileConfiguration.load(AbstractHierarchicalFileConfiguration.java:180)&lt;br/&gt;
       at com.diginsite.services.configsync.ConfigurationSynchronizer.synchronizeClientProduct(ConfigurationSynchronizer.java:862)&lt;br/&gt;
       at com.diginsite.services.configsync.ConfigurationSynchronizer.synchronizeClient(ConfigurationSynchronizer.java:829)&lt;br/&gt;
       at com.diginsite.services.configsync.ConfigurationSynchronizer.run(ConfigurationSynchronizer.java:416)&lt;br/&gt;
       at java.lang.Thread.run(Thread.java:619)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;org.apache.commons.vfs.cache.SoftRefFilesCache$SoftRefReleaseThread&quot; daemon prio=10 tid=0x00002aabc001ec00 nid=0x21e7 in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;0x000000004208e000..0x000000004208eb90&amp;#93;&lt;/span&gt;&lt;br/&gt;
  java.lang.Thread.State: TIMED_WAITING (on object monitor)&lt;br/&gt;
       at java.lang.Object.wait(Native Method)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting on &amp;lt;0x00002aaabe1f0198&amp;gt; (a java.lang.ref.ReferenceQueue$Lock)&lt;br/&gt;
       at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:116)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0x00002aaabe1f0198&amp;gt; (a java.lang.ref.ReferenceQueue$Lock)&lt;br/&gt;
       at org.apache.commons.vfs.cache.SoftRefFilesCache$SoftRefReleaseThread.run(SoftRefFilesCache.java:79)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;Low Memory Detector&quot; daemon prio=10 tid=0x000000005360bc00 nid=0x21e4 runnable &lt;span class=&quot;error&quot;&gt;&amp;#91;0x0000000000000000..0x0000000000000000&amp;#93;&lt;/span&gt;&lt;br/&gt;
  java.lang.Thread.State: RUNNABLE&lt;/p&gt;

&lt;p&gt;&quot;CompilerThread1&quot; daemon prio=10 tid=0x0000000053609000 nid=0x21e3 waiting on condition &lt;span class=&quot;error&quot;&gt;&amp;#91;0x0000000000000000..0x0000000041d8a4c0&amp;#93;&lt;/span&gt;&lt;br/&gt;
  java.lang.Thread.State: RUNNABLE&lt;/p&gt;

&lt;p&gt;&quot;CompilerThread0&quot; daemon prio=10 tid=0x0000000053605400 nid=0x21e2 waiting on condition &lt;span class=&quot;error&quot;&gt;&amp;#91;0x0000000000000000..0x000000004165c5d0&amp;#93;&lt;/span&gt;&lt;br/&gt;
  java.lang.Thread.State: RUNNABLE&lt;/p&gt;

&lt;p&gt;&quot;Signal Dispatcher&quot; daemon prio=10 tid=0x0000000053603400 nid=0x21e1 runnable &lt;span class=&quot;error&quot;&gt;&amp;#91;0x0000000000000000..0x0000000040ed66a0&amp;#93;&lt;/span&gt;&lt;br/&gt;
  java.lang.Thread.State: RUNNABLE&lt;/p&gt;

&lt;p&gt;&quot;Finalizer&quot; daemon prio=10 tid=0x00000000535e0c00 nid=0x21e0 in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;0x000000004155c000..0x000000004155ca90&amp;#93;&lt;/span&gt;&lt;br/&gt;
  java.lang.Thread.State: WAITING (on object monitor)&lt;br/&gt;
       at java.lang.Object.wait(Native Method)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting on &amp;lt;0x00002aaabe1f0278&amp;gt; (a java.lang.ref.ReferenceQueue$Lock)&lt;br/&gt;
       at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:116)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0x00002aaabe1f0278&amp;gt; (a java.lang.ref.ReferenceQueue$Lock)&lt;br/&gt;
       at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:132)&lt;br/&gt;
       at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:159)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;Reference Handler&quot; daemon prio=10 tid=0x00000000535df000 nid=0x21df in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;0x000000004145b000..0x000000004145bb10&amp;#93;&lt;/span&gt;&lt;br/&gt;
  java.lang.Thread.State: WAITING (on object monitor)&lt;br/&gt;
       at java.lang.Object.wait(Native Method)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting on &amp;lt;0x00002aaabe1f2370&amp;gt; (a java.lang.ref.Reference$Lock)&lt;br/&gt;
       at java.lang.Object.wait(Object.java:485)&lt;br/&gt;
       at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:116)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0x00002aaabe1f2370&amp;gt; (a java.lang.ref.Reference$Lock)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;Thread 1&quot; prio=10 tid=0x0000000053427400 nid=0x21d5 waiting for monitor entry &lt;span class=&quot;error&quot;&gt;&amp;#91;0x00000000412af000..0x00000000412afed0&amp;#93;&lt;/span&gt;&lt;br/&gt;
  java.lang.Thread.State: BLOCKED (on object monitor)&lt;br/&gt;
       at org.apache.commons.vfs.provider.AbstractFileSystem.streamOpened(AbstractFileSystem.java:602)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting to lock &amp;lt;0x00002aab827f92c8&amp;gt; (a org.apache.commons.vfs.provider.webdav.WebdavFileSystem)&lt;br/&gt;
       at org.apache.commons.vfs.provider.DefaultFileContent.streamOpened(DefaultFileContent.java:93)&lt;br/&gt;
       at org.apache.commons.vfs.provider.DefaultFileContent.getInputStream(DefaultFileContent.java:373)&lt;br/&gt;
       at org.apache.commons.configuration.VFSFileSystem.getInputStream(VFSFileSystem.java:111)&lt;br/&gt;
       at org.apache.commons.configuration.AbstractFileConfiguration.load(AbstractFileConfiguration.java:311)&lt;br/&gt;
       at org.apache.commons.configuration.AbstractFileConfiguration.load(AbstractFileConfiguration.java:251)&lt;br/&gt;
       at org.apache.commons.configuration.AbstractFileConfiguration.load(AbstractFileConfiguration.java:229)&lt;br/&gt;
       at org.apache.commons.configuration.AbstractHierarchicalFileConfiguration.load(AbstractHierarchicalFileConfiguration.java:180)&lt;br/&gt;
       at com.diginsite.services.configsync.ConfigurationSynchronizer.synchronizeClientProduct(ConfigurationSynchronizer.java:862)&lt;br/&gt;
       at com.diginsite.services.configsync.ConfigurationSynchronizer.synchronizeClient(ConfigurationSynchronizer.java:829)&lt;br/&gt;
       at com.diginsite.services.configsync.ConfigurationSynchronizer.run(ConfigurationSynchronizer.java:416)&lt;br/&gt;
       at com.diginsite.services.configsync.ConfigurationSynchronizer.main(ConfigurationSynchronizer.java:1790)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;VM Thread&quot; prio=10 tid=0x00000000535d9800 nid=0x21de runnable &lt;/p&gt;

&lt;p&gt;&quot;GC task thread#0 (ParallelGC)&quot; prio=10 tid=0x0000000053432000 nid=0x21d6 runnable &lt;/p&gt;

&lt;p&gt;&quot;GC task thread#1 (ParallelGC)&quot; prio=10 tid=0x0000000053433800 nid=0x21d7 runnable &lt;/p&gt;

&lt;p&gt;&quot;GC task thread#2 (ParallelGC)&quot; prio=10 tid=0x0000000053435400 nid=0x21d8 runnable &lt;/p&gt;

&lt;p&gt;&quot;GC task thread#3 (ParallelGC)&quot; prio=10 tid=0x0000000053436c00 nid=0x21d9 runnable &lt;/p&gt;

&lt;p&gt;&quot;GC task thread#4 (ParallelGC)&quot; prio=10 tid=0x0000000053438400 nid=0x21da runnable &lt;/p&gt;

&lt;p&gt;&quot;GC task thread#5 (ParallelGC)&quot; prio=10 tid=0x000000005343a000 nid=0x21db runnable &lt;/p&gt;

&lt;p&gt;&quot;GC task thread#6 (ParallelGC)&quot; prio=10 tid=0x000000005343b800 nid=0x21dc runnable &lt;/p&gt;

&lt;p&gt;&quot;GC task thread#7 (ParallelGC)&quot; prio=10 tid=0x000000005343d000 nid=0x21dd runnable &lt;/p&gt;

&lt;p&gt;&quot;VM Periodic Task Thread&quot; prio=10 tid=0x000000005360e000 nid=0x21e5 waiting on condition &lt;/p&gt;

&lt;p&gt;JNI global references: 902&lt;/p&gt;</description>
                <environment></environment>
        <key id="12480561">VFS-343</key>
            <summary>Deadlock occurs in HTTP or WebDAV when all the connections are in use.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rgoers">Ralph Goers</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 Nov 2010 08:24:35 +0000</created>
                <updated>Wed, 24 Nov 2010 15:17:53 +0000</updated>
                            <resolved>Wed, 24 Nov 2010 15:17:53 +0000</resolved>
                                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12934661" author="ralph.goers@dslextreme.com" created="Mon, 22 Nov 2010 23:36:36 +0000"  >&lt;p&gt;AbstractFileSystem has been changed to use an Atomicinteger instead of synchronizing on the FileSystem.&lt;/p&gt;</comment>
                            <comment id="12935352" author="ralph.goers@dslextreme.com" created="Wed, 24 Nov 2010 15:17:53 +0000"  >&lt;p&gt;The fix has been validated. In addition, the other locking changes have greatly improved performance although bottlenecks are still being seen.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200378</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 50 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i13ajr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>227339</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-342] FileSystemConfigBuilder.getRootURI/setRootURI public, not protected?</title>
                <link>https://issues.apache.org/jira/browse/VFS-342</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;The methods getRootURI and setRootURI in FileSystemConfigBuilder have beed added with public access; however all the other added methods are protected, and the class itself is protected.&lt;/p&gt;

&lt;p&gt;This looks like a mistake, which should be corrected before the next release as it may be difficult to fix later&lt;/p&gt;</description>
                <environment></environment>
        <key id="12479906">VFS-342</key>
            <summary>FileSystemConfigBuilder.getRootURI/setRootURI public, not protected?</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Sun, 14 Nov 2010 12:42:46 +0000</created>
                <updated>Mon, 15 Nov 2010 00:14:07 +0000</updated>
                            <resolved>Mon, 15 Nov 2010 00:14:07 +0000</resolved>
                                    <version>2.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12931929" author="ralph.goers@dslextreme.com" created="Mon, 15 Nov 2010 00:14:07 +0000"  >&lt;p&gt;Changing these methods to protected will break WebdavProviderTestCase as it calls setRootURI. It seems that the reason the other methods are protected is that the subclasses of FileSystemConfigBuilder add the public methods that add specific parameters as wrappers to the getParam and setParam methods. Since these methods apply to all the subclasses it makes sense for them to be in the base class and not implemented in every subclass.&lt;/p&gt;

&lt;p&gt;As such I believe this should be closed as it is not a problem.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200377</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 51 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i138k7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>227017</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-340] FileSystemException: Badly formed URI </title>
                <link>https://issues.apache.org/jira/browse/VFS-340</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;I am trying to connect to SFTP using commons.vfs . The program is running fine initially by connecting to SFTP and retrieving files ,but after one point of time it throws following exception repeatedly and refuses to connect thereafter.&lt;/p&gt;

&lt;p&gt;FileSystemException: Badly formed URI  &quot;sftp://sftpuser:XXXXXXXX@US456564/home57556/&quot;.&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractOriginatingFileProvider.findFile(AbstractOriginatingFileProvider.java:58)&lt;br/&gt;
	at org.apache.commons.vfs.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:641)&lt;br/&gt;
	at org.apache.commons.vfs.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:582)&lt;br/&gt;
	at com.java.workflow.trigger.BaseTask.establishConnection(BaseTask.java:167)&lt;br/&gt;
	at com.java.workflow.trigger.sftp.sampleconnect.getSource2System(sampleconnect.java:11)&lt;br/&gt;
	at com.java.workflow.trigger.sftp.samplecnt.perform(samplecnt.java:27)&lt;br/&gt;
	at com.java.workflow.trigger.BaseTask.execute(BaseTask.java:127)&lt;br/&gt;
	at org.quartz.core.JobRunShell.run(JobRunShell.java:216)&lt;br/&gt;
	at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:549)&lt;br/&gt;
Caused by: org.apache.commons.vfs.FileSystemException: Port number is missing from URI  &quot;sftp://sftpuser:XXXXXXXX@US456564/home57556/&quot;.&lt;br/&gt;
	at org.apache.commons.vfs.provider.HostFileNameParser.extractPort(HostFileNameParser.java:229)&lt;br/&gt;
	at org.apache.commons.vfs.provider.HostFileNameParser.extractToPath(HostFileNameParser.java:134)&lt;br/&gt;
	at org.apache.commons.vfs.provider.URLFileNameParser.parseUri(URLFileNameParser.java:48)&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractFileProvider.parseUri(AbstractFileProvider.java:170)&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractOriginatingFileProvider.findFile(AbstractOriginatingFileProvider.java:54)&lt;br/&gt;
	... 8 more&lt;/p&gt;</description>
                <environment>&lt;p&gt;windows XP, JDK1.5&lt;/p&gt;</environment>
        <key id="12479722">VFS-340</key>
            <summary>FileSystemException: Badly formed URI </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="b.eckenfels">Bernd Eckenfels</assignee>
                                    <reporter username="bharani_717">bharani</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Nov 2010 16:06:21 +0000</created>
                <updated>Mon, 21 Sep 2015 16:09:30 +0000</updated>
                            <resolved>Mon, 21 Sep 2015 16:09:30 +0000</resolved>
                                    <version>1.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="345600">96h</timeoriginalestimate>
                            <timeestimate seconds="345600">96h</timeestimate>
                                        <comments>
                            <comment id="13114398" author="ralph.goers@dslextreme.com" created="Sun, 25 Sep 2011 23:40:52 +0000"  >&lt;p&gt;This issue really could use more information to help in diagnosing the problem.&lt;/p&gt;</comment>
                            <comment id="13179681" author="mpindyala" created="Wed, 4 Jan 2012 17:45:27 +0000"  >&lt;p&gt;Can somebody give the solution to this issue , we are also facing same issue&lt;/p&gt;</comment>
                            <comment id="13179684" author="garydgregory" created="Wed, 4 Jan 2012 17:50:09 +0000"  >&lt;p&gt;Can you check if this also happens with 2.0?&lt;/p&gt;</comment>
                            <comment id="13179690" author="mpindyala" created="Wed, 4 Jan 2012 17:55:43 +0000"  >&lt;p&gt;yes , this is happening in version 2.0&lt;/p&gt;</comment>
                            <comment id="13179706" author="garydgregory" created="Wed, 4 Jan 2012 18:07:55 +0000"  >&lt;p&gt;Can you post a VFS 2.0 stack trace please?&lt;/p&gt;</comment>
                            <comment id="13179720" author="mpindyala" created="Wed, 4 Jan 2012 18:22:31 +0000"  >
&lt;p&gt;org.apache.commons.vfs2.FileSystemException: Badly formed URI &quot;sftp://xxxx:xxxxx@xxx.xxx.com/Somefolder/Test&quot;.&lt;br/&gt;
	at org.apache.commons.vfs2.provider.url.UrlFileProvider.findFile(UrlFileProvider.java:91)&lt;br/&gt;
	at org.apache.commons.vfs2.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:713)&lt;br/&gt;
	at org.apache.commons.vfs2.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:621)&lt;br/&gt;
        **********************************************************************&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:616)&lt;br/&gt;
	at org.springframework.util.MethodInvoker.invoke(MethodInvoker.java:273)&lt;br/&gt;
	at org.springframework.scheduling.support.MethodInvokingRunnable.run(MethodInvokingRunnable.java:65)&lt;br/&gt;
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:51)&lt;br/&gt;
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)&lt;br/&gt;
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)&lt;br/&gt;
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)&lt;br/&gt;
	at java.util.concurrent.FutureTask.run(FutureTask.java:166)&lt;br/&gt;
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:165)&lt;br/&gt;
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:266)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:636)&lt;br/&gt;
Caused by: java.net.MalformedURLException: unknown protocol: sftp&lt;br/&gt;
	at java.net.URL.&amp;lt;init&amp;gt;(URL.java:590)&lt;br/&gt;
	at java.net.URL.&amp;lt;init&amp;gt;(URL.java:480)&lt;br/&gt;
	at java.net.URL.&amp;lt;init&amp;gt;(URL.java:429)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.url.UrlFileProvider.findFile(UrlFileProvider.java:72)&lt;br/&gt;
	... 22 more&lt;/p&gt;</comment>
                            <comment id="13179728" author="garydgregory" created="Wed, 4 Jan 2012 18:31:50 +0000"  >&lt;p&gt;What happens if you add the port number to the URI?&lt;/p&gt;</comment>
                            <comment id="13179731" author="garydgregory" created="Wed, 4 Jan 2012 18:34:17 +0000"  >&lt;p&gt;Interesting, the last trace shows a different error.&lt;/p&gt;</comment>
                            <comment id="13202811" author="kirthi97" created="Tue, 7 Feb 2012 21:28:24 +0000"  >&lt;p&gt;Are there any updates on this JIRA?&lt;/p&gt;

&lt;p&gt;I got the same exception when I am trying to do SFTP and I am using VFS2-2.0 on Linux machine&lt;/p&gt;

&lt;p&gt;org.apache.commons.vfs2.FileSystemException: Badly formed URI &quot;sftp://orbitz:***@sftp-stg.bazaarvoice.com/import-inbox/product_feed_EB.xml.gz&quot;.&lt;br/&gt;
	at org.apache.commons.vfs2.provider.url.UrlFileProvider.findFile(UrlFileProvider.java:91)&lt;br/&gt;
	at org.apache.commons.vfs2.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:713)&lt;br/&gt;
	at org.apache.commons.vfs2.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:621)&lt;br/&gt;
	at com.orbitz.jobs.reviews.common.SFtpClient.upload(SFtpClient.java:20)&lt;br/&gt;
	at com.orbitz.jobs.reviews.common.SFtpClientTest.testUpload(SFtpClientTest.java:21)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at junit.framework.TestCase.runTest(TestCase.java:154)&lt;br/&gt;
	at junit.framework.TestCase.runBare(TestCase.java:127)&lt;br/&gt;
	at junit.framework.TestResult$1.protect(TestResult.java:106)&lt;br/&gt;
	at junit.framework.TestResult.runProtected(TestResult.java:124)&lt;br/&gt;
	at junit.framework.TestResult.run(TestResult.java:109)&lt;br/&gt;
	at junit.framework.TestCase.run(TestCase.java:118)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:130)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)&lt;br/&gt;
Caused by: java.net.MalformedURLException: unknown protocol: sftp&lt;br/&gt;
	at java.net.URL.&amp;lt;init&amp;gt;(URL.java:574)&lt;br/&gt;
	at java.net.URL.&amp;lt;init&amp;gt;(URL.java:464)&lt;br/&gt;
	at java.net.URL.&amp;lt;init&amp;gt;(URL.java:413)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.url.UrlFileProvider.findFile(UrlFileProvider.java:72)&lt;br/&gt;
	... 20 more&lt;/p&gt;
</comment>
                            <comment id="13202816" author="mpindyala" created="Tue, 7 Feb 2012 21:32:43 +0000"  >&lt;p&gt;we resolved the issue , there were some dependant jars missing in our build . we included them and it started working&lt;/p&gt;</comment>
                            <comment id="13202822" author="kirthi97" created="Tue, 7 Feb 2012 21:40:14 +0000"  >&lt;p&gt;Hi Mohan, Could you be more specific on what JARs you added in your build. Thanks&lt;/p&gt;</comment>
                            <comment id="13202823" author="mpindyala" created="Tue, 7 Feb 2012 21:40:49 +0000"  >&lt;p&gt;Hi Kirthi,&lt;br/&gt;
    I think your build also is missing some dependant jars . Make sure to add them all&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Mohan&lt;/p&gt;</comment>
                            <comment id="13202837" author="kirthi97" created="Tue, 7 Feb 2012 21:50:05 +0000"  >&lt;p&gt;Thanks Mohan. You are right. I have added Jsch 0.1.46 JAR and it worked&lt;/p&gt;</comment>
                            <comment id="13203583" author="garydgregory" created="Wed, 8 Feb 2012 13:31:02 +0000"  >&lt;p&gt;FYI: We now pick up JSCH 0.1.46 in trunk, see &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-401&quot; title=&quot;Update JSch to 0.1.46 from 0.1.45 for the SFTP provider.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-401&quot;&gt;&lt;del&gt;VFS-401&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13452296" author="satcal" created="Mon, 10 Sep 2012 18:45:59 +0000"  >&lt;p&gt;I am having the same issue. I have the JSCH jar in claspath. Any help is greatly appreciated. I am using vfs 1.0 and i am testing in mac as junit test.&lt;/p&gt;

&lt;p&gt;org.apache.commons.vfs.FileSystemException: Invalid absolute URI &quot;sftp://xx:xx@xx.xx.com/share/Details.xlsx&quot;.&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractOriginatingFileProvider.findFile(AbstractOriginatingFileProvider.java:58)&lt;br/&gt;
	at org.apache.commons.vfs.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:641)&lt;br/&gt;
	at org.apache.commons.vfs.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:582)&lt;br/&gt;
	at com.fb.service.file.util.SFTP.transferFileToDeloitte(SFTP.java:150)&lt;br/&gt;
	at com.fb.service.impl.DeloitteTargetFileServiceImpl.encryptAndTransferFileToSFTP(DeloitteTargetFileServiceImpl.java:146)&lt;br/&gt;
	at com.fb.service.impl.TransactionDetailsFileGenerator.generateTargetFileContent(TransactionDetailsFileGenerator.java:269)&lt;br/&gt;
	at com.fb.service.impl.TransactionDetailsFileGenerator.execute(TransactionDetailsFileGenerator.java:40)&lt;br/&gt;
	at com.fb.service.impl.SchwabFileProcessorTest.testGenerateTransactionDetailsFile(SchwabFileProcessorTest.java:30)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at junit.framework.TestCase.runTest(TestCase.java:168)&lt;br/&gt;
	at junit.framework.TestCase.runBare(TestCase.java:134)&lt;br/&gt;
	at junit.framework.TestResult$1.protect(TestResult.java:110)&lt;/p&gt;

&lt;p&gt;Expecting / to follow the hostname in URI &quot;sftp://&lt;br/&gt;
at org.apache.commons.vfs.provider.HostFileNameParser.extractToPath(HostFileNameParser.java:139)&lt;br/&gt;
	at org.apache.commons.vfs.provider.URLFileNameParser.parseUri(URLFileNameParser.java:48)&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractFileProvider.parseUri(AbstractFileProvider.java:170)&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractOriginatingFileProvider.findFile(AbstractOriginatingFileProvider.java:54)&lt;br/&gt;
	... 26 more&lt;/p&gt;</comment>
                            <comment id="13452584" author="satcal" created="Mon, 10 Sep 2012 23:49:02 +0000"  >&lt;p&gt;I am able to solve the issue, the issue because of special characters in password like &apos;@&apos;. I think, VFS does not handle password with special characters&lt;/p&gt;</comment>
                            <comment id="13900829" author="jstorch" created="Thu, 13 Feb 2014 22:44:44 +0000"  >&lt;p&gt;Hello all. I know this issues hasn&apos;t been touched in a while but I found a solution to the special characters like &apos;@&apos; in password issue. &lt;br/&gt;
Try UrlEncoding the username or password with the special characters. The exception is a parseUri exception.&lt;br/&gt;
Created a test user on my server with a pw of &quot;Test!@#$%^&amp;amp;*()[]:; &quot;&lt;br/&gt;
Encoded it and it worked like butter.&lt;/p&gt;
</comment>
                            <comment id="13900918" author="ggregory" created="Thu, 13 Feb 2014 23:57:50 +0000"  >&lt;p&gt;Can you provide a patch for trunk? I do not plan on doing anything for 1.x.&lt;/p&gt;</comment>
                            <comment id="13904826" author="jstorch" created="Tue, 18 Feb 2014 23:44:59 +0000"  >&lt;p&gt;Hello.  I should have been clearer.&lt;br/&gt;
I didn&apos;t make a code change, the solution is to Url encode the username and password before calling resolveFile();&lt;/p&gt;

&lt;p&gt;So if you need to call something like:&lt;br/&gt;
   manager.resolveFile(&quot;sftp://sftpuser@Location:Test!@#$%^&amp;amp;*()[]:;@US456564/home57556&quot;);&lt;br/&gt;
Where the username is &quot;sftpuser@Location&quot; and the password is &quot;Test!@#$%^&amp;amp;*[]:;:&lt;br/&gt;
you encode just the username and password and call it like:&lt;br/&gt;
  manager.resolveFile(&quot;sftp://sftpuser%40Location:Test!%40%23%24%25%5E%26*%5B%5D%3A%3B@US456564/home57556&quot;);&lt;/p&gt;

&lt;p&gt;It might look a bit messy as a Sting but in the calling code there isn&apos;t much of a problem.&lt;/p&gt;

&lt;p&gt;Does this make sense?&lt;br/&gt;
Thanks.&lt;/p&gt;
</comment>
                            <comment id="14900426" author="simon04" created="Mon, 21 Sep 2015 09:25:09 +0000"  >&lt;p&gt;Since an invalid URL has been specified (non-escaped &lt;tt&gt;@&lt;/tt&gt; character in password part), this issue should be closed as WORKSFORME/INVALID.&lt;/p&gt;</comment>
                            <comment id="14900897" author="b.eckenfels" created="Mon, 21 Sep 2015 16:09:30 +0000"  >&lt;p&gt;Agree with Simon, wrongly used method.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3403</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 6 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i16t07:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>247831</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-338] Possible crash in extractWindowsRootPrefix method</title>
                <link>https://issues.apache.org/jira/browse/VFS-338</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;extractWindowsRootPrefix method has a possible crash. Found it trying to get special windows working.&lt;/p&gt;

&lt;p&gt;        if (startPos == maxlen &amp;amp;&amp;amp; name.length() &amp;gt; startPos &amp;amp;&amp;amp; name.charAt(startPos + 1) == &apos;/&apos;)&lt;/p&gt;
        {
            // Too many &apos;/&apos;
            throw new FileSystemException(&quot;vfs.provider.local/not-absolute-file-name.error&quot;, uri);
        }&lt;br/&gt;
&lt;br/&gt;
This should be something like so: &lt;br/&gt;
&lt;br/&gt;
        if (startPos == maxlen &amp;amp;&amp;amp; name.length() &amp;gt; startPos &amp;amp;&amp;amp; name.length() &amp;gt; (startPos + 1) &amp;amp;&amp;amp; name.charAt(startPos + 1) == &apos;/&apos;)&lt;br/&gt;
        {            // Too many &apos;/&apos;            throw new FileSystemException(&quot;vfs.provider.local/not-absolute-file-name.error&quot;, uri);        }</description>
                <environment>&lt;p&gt;Windows&lt;/p&gt;</environment>
        <key id="12479655">VFS-338</key>
            <summary>Possible crash in extractWindowsRootPrefix method</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="b.eckenfels">Bernd Eckenfels</assignee>
                                    <reporter username="zammbi">Daniel R</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Nov 2010 23:19:12 +0000</created>
                <updated>Thu, 19 May 2016 18:25:49 +0000</updated>
                            <resolved>Sun, 18 May 2014 03:26:50 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13113925" author="ralph.goers@dslextreme.com" created="Sat, 24 Sep 2011 07:48:44 +0000"  >&lt;p&gt;I don&apos;t have a Windows environment to test on. I am hesitant to apply a patch that is &quot;something like&quot; the provided code. Can you supply a patch and a test that verifies it? &lt;/p&gt;</comment>
                            <comment id="14000966" author="b.eckenfels" created="Sun, 18 May 2014 03:26:51 +0000"  >&lt;p&gt;I have a testcase and it works for the fix. Without it will generate the follwoing exception instead of a FSE:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.StringIndexOutOfBoundsException: &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; index out of range: 5
	at java.lang.AbstractStringBuilder.charAt(AbstractStringBuilder.java:210)
	at java.lang.StringBuilder.charAt(StringBuilder.java:76)
	at org.apache.commons.vfs2.provider.local.WindowsFileNameParser.extractWindowsRootPrefix(WindowsFileNameParser.java:62)
	at org.apache.commons.vfs2.provider.local.WindowsFileNameParser.extractRootPrefix(WindowsFileNameParser.java:36)
	at org.apache.commons.vfs2.provider.local.LocalFileNameParser.parseUri(LocalFileNameParser.java:79)
	at org.apache.commons.vfs2.provider.AbstractFileProvider.parseUri(AbstractFileProvider.java:193)
	at org.apache.commons.vfs2.provider.AbstractOriginatingFileProvider.findFile(AbstractOriginatingFileProvider.java:56)
	at org.apache.commons.vfs2.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:696)
	at org.apache.commons.vfs2.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:652)
	at org.apache.commons.vfs2.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:605)
	at org.apache.commons.vfs2.provider.local.test.WindowsFileNameTests.testWindowsFilenameUNCStartError(WindowsFileNameTests.java:83)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1595560&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1595560&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15291754" author="b.eckenfels" created="Thu, 19 May 2016 18:25:49 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>59443</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8rz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303015</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-337] AbstractFileObject ctor accepts FileName as a parameter, but actually requires AbstractFileName</title>
                <link>https://issues.apache.org/jira/browse/VFS-337</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;The AbstractFileObject constructor accepts FileName as a parameter, but actually requires an AbstractFileName.&lt;br/&gt;
Anything else will generate a ClassCastException.&lt;/p&gt;

&lt;p&gt;The reason for the cast is to allow access to the package-protected method void AbstractFileName#setType(FileType type)&lt;/p&gt;

&lt;p&gt;Many of the AbstractFileObject methods rely on being able to invoke the setType method, so perhaps the parameter should be changed accordingly?&lt;br/&gt;
This will change the API and require changes to subclasses.&lt;/p&gt;

&lt;p&gt;I&apos;ll add Javadoc to document the restriction.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12479619">VFS-337</key>
            <summary>AbstractFileObject ctor accepts FileName as a parameter, but actually requires AbstractFileName</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Nov 2010 18:31:10 +0000</created>
                <updated>Sat, 27 Nov 2010 09:30:23 +0000</updated>
                            <resolved>Sat, 27 Nov 2010 09:30:23 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12935858" author="ralph.goers@dslextreme.com" created="Thu, 25 Nov 2010 20:00:20 +0000"  >&lt;p&gt;I suspect this issue was meant to refer to AbstractFileObject instead of AbstractFileName. AbstractFileName does not accept a FileName in the constructor while AbstractFileObject does. setType in AbstractFileName is only called from one place - setFiletype in AbstractFileObject while setFileType and injectType are called from many places.&lt;/p&gt;</comment>
                            <comment id="12935871" author="sebb@apache.org" created="Thu, 25 Nov 2010 20:48:20 +0000"  >&lt;p&gt;Sorry, don&apos;t know what happened there - you&apos;re right, wrong class. Reopening with new details&lt;/p&gt;</comment>
                            <comment id="12964333" author="ralph.goers@dslextreme.com" created="Sat, 27 Nov 2010 09:30:23 +0000"  >&lt;p&gt;AbstractFileObject and classes that extend it now take an AbstractFileName instead of a FileName. This also applies to the FileSystem and FileProvider.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200376</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 49 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i136i7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226684</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-336] AbstractRandomAccessContent.mode is never used</title>
                <link>https://issues.apache.org/jira/browse/VFS-336</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;The mode field in AbstractRandomAccessContent is never used.&lt;/p&gt;

&lt;p&gt;The field is an enum RandomAccessMode with values READ and READWRITE, so one would expect the mode to be checked by the concrete subclasses.&lt;/p&gt;

&lt;p&gt;The field could be made protected to allow subclasses to use it.&lt;br/&gt;
Or perhaps protected checkRead/checkWrite methods could be added which throw an Exception if the operation is not permitted&lt;/p&gt;</description>
                <environment></environment>
        <key id="12479365">VFS-336</key>
            <summary>AbstractRandomAccessContent.mode is never used</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Nov 2010 10:24:36 +0000</created>
                <updated>Mon, 6 Dec 2010 16:17:49 +0000</updated>
                                            <version>1.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12966850" author="ralph.goers@dslextreme.com" created="Sat, 4 Dec 2010 20:38:51 +0000"  >&lt;p&gt;I&apos;m not sure I even understand the point of the mode. The RandomAccessContent interface doesn&apos;t have any methods for writing so I don&apos;t know what would use it.&lt;/p&gt;</comment>
                            <comment id="12967240" author="sebb@apache.org" created="Mon, 6 Dec 2010 16:17:49 +0000"  >&lt;p&gt;Huh? &quot;RandomAccessContent extends DataOutput, DataInput.&quot;&lt;/p&gt;

&lt;p&gt;The subclass LocalFileRandomAccessContent has write methods.&lt;/p&gt;

&lt;p&gt;So does SmbFileRandomAccessContent (but that is in the sandbox).&lt;/p&gt;

&lt;p&gt;So there could be a use for the mode.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200375</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 48 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8s7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303016</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-335]  MonitorInputStream.read() methods should be synchronised</title>
                <link>https://issues.apache.org/jira/browse/VFS-335</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;The  MonitorInputStream.read() methods should probably be synchronised, because they override methods which are synch.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12479334">VFS-335</key>
            <summary> MonitorInputStream.read() methods should be synchronised</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Nov 2010 01:55:16 +0000</created>
                <updated>Thu, 19 May 2016 18:25:47 +0000</updated>
                            <resolved>Sat, 24 Sep 2011 07:44:04 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12966851" author="ralph.goers@dslextreme.com" created="Sat, 4 Dec 2010 20:45:36 +0000"  >&lt;p&gt;That doesn&apos;t seem to be a very good reason to require the methods be synchronized.  However, I do notice some inconsistencies and there is a counter that isn&apos;t thread safe.&lt;/p&gt;</comment>
                            <comment id="12967241" author="sebb@apache.org" created="Mon, 6 Dec 2010 16:20:57 +0000"  >&lt;p&gt;I should have mentioned that Eclipse warns about this, presumably on the basis that if the super-class method requires synch., then sub-classes overrides probably do too.&lt;/p&gt;</comment>
                            <comment id="13113924" author="ralph.goers@dslextreme.com" created="Sat, 24 Sep 2011 07:44:04 +0000"  >&lt;p&gt;I have converted the variables from primitives to atomics. This eliminates the need to synchronize but it won&apos;t get rid of the Eclipse warnings.&lt;/p&gt;</comment>
                            <comment id="15291752" author="b.eckenfels" created="Thu, 19 May 2016 18:25:47 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>59444</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05k7j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30371</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-334] DefaultFileSystemConfigBuilder.getConfigClass() returns DefaultFileSystemConfigBuilder.class which is not a FileSystem</title>
                <link>https://issues.apache.org/jira/browse/VFS-334</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;DefaultFileSystemConfigBuilder.getConfigClass() returns DefaultFileSystemConfigBuilder.class which is not a FileSystem.&lt;/p&gt;

&lt;p&gt;All the other FileSystemConfigBuilder classes return a class that implements FileSystem; it should presumably do so as well.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12479331">VFS-334</key>
            <summary>DefaultFileSystemConfigBuilder.getConfigClass() returns DefaultFileSystemConfigBuilder.class which is not a FileSystem</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Nov 2010 01:12:39 +0000</created>
                <updated>Wed, 10 Nov 2010 03:05:08 +0000</updated>
                            <resolved>Wed, 10 Nov 2010 03:05:08 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12930456" author="sebb@apache.org" created="Wed, 10 Nov 2010 03:05:08 +0000"  >&lt;p&gt;Fixed by returning a dummy instance of FileSystem&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200374</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i136jr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226691</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-333] ThreadLocalHttpConnectionManager.getConnectionWithTimeout ignores timeout parameter</title>
                <link>https://issues.apache.org/jira/browse/VFS-333</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;ThreadLocalHttpConnectionManager.getConnectionWithTimeout ignores its timeout parameter.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12479327">VFS-333</key>
            <summary>ThreadLocalHttpConnectionManager.getConnectionWithTimeout ignores timeout parameter</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Sun, 7 Nov 2010 18:20:14 +0000</created>
                <updated>Mon, 22 Nov 2010 08:17:44 +0000</updated>
                            <resolved>Mon, 22 Nov 2010 08:17:44 +0000</resolved>
                                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12934416" author="ralph.goers@dslextreme.com" created="Mon, 22 Nov 2010 08:17:44 +0000"  >&lt;p&gt;ThreadLocalHttpConnectionManager is not used any longer and has been removed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200373</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 50 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i136hr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226682</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-332] Incorrect lazy initialization and update of static field org.apache.commons.vfs.tasks.VfsTask.manager</title>
                <link>https://issues.apache.org/jira/browse/VFS-332</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Incorrect lazy initialization and update of static field org.apache.commons.vfs.tasks.VfsTask.manager&lt;/p&gt;

&lt;p&gt;static field is assigned and then updated, which is not thread-safe.&lt;/p&gt;

&lt;p&gt;Change code to only assign the field after init is complete.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12478926">VFS-332</key>
            <summary>Incorrect lazy initialization and update of static field org.apache.commons.vfs.tasks.VfsTask.manager</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sebb">Sebb</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Nov 2010 19:33:54 +0000</created>
                <updated>Sat, 20 Dec 2014 01:23:16 +0000</updated>
                            <resolved>Tue, 2 Nov 2010 19:35:48 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14254424" author="b.eckenfels" created="Sat, 20 Dec 2014 01:23:16 +0000"  >&lt;p&gt;Fixed before 2.0&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200372</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 45 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05jmv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30278</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-331] Random object created and used only once in DefaultFileReplicator</title>
                <link>https://issues.apache.org/jira/browse/VFS-331</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Random object created and used only once in DefaultFileReplicator&lt;/p&gt;

&lt;p&gt;Findbugs:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;This code creates a java.util.Random object, uses it to generate one random number, and then discards the Random object. This produces mediocre quality random numbers and is inefficient. If possible, rewrite the code so that the Random object is created once and saved, and each time a new random number is required invoke a method on the existing Random object to obtain it. &lt;/p&gt;

&lt;p&gt;If it is important that the generated Random numbers not be guessable, you must not create a new Random for each random number; the values are too easily guessable. You should strongly consider using a java.security.SecureRandom instead (and avoid allocating a new SecureRandom for each random number needed). &lt;/p&gt;&lt;/blockquote&gt;</description>
                <environment></environment>
        <key id="12478925">VFS-331</key>
            <summary>Random object created and used only once in DefaultFileReplicator</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Nov 2010 19:28:26 +0000</created>
                <updated>Tue, 2 Nov 2010 19:28:26 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200371</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 1 week, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8pr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303005</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-330] RamFileData defines non-transient non-serializable instance field type</title>
                <link>https://issues.apache.org/jira/browse/VFS-330</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Findbugs says:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;RamFileData defines non-transient non-serializable instance field type&lt;/p&gt;

&lt;p&gt;This Serializable class defines a non-primitive instance field which is neither transient, Serializable, or java.lang.Object, and does not appear to implement the Externalizable interface or the readObject() and writeObject() methods.  Objects of this class will not be deserialized correctly if a non-Serializable object is stored in this field.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Does the class need to be serializable?&lt;br/&gt;
If so, then should add some tests to check that it is.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12478924">VFS-330</key>
            <summary>RamFileData defines non-transient non-serializable instance field type</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Nov 2010 19:26:46 +0000</created>
                <updated>Tue, 2 Nov 2010 19:26:46 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200370</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 1 week, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8pz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303006</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-329] RamFileSystem is Serializable but its superclass doesn&apos;t define an accessible void constructor</title>
                <link>https://issues.apache.org/jira/browse/VFS-329</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Findbugs says:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;RamFileSystem is Serializable but its superclass doesn&apos;t define an accessible void constructor&lt;/p&gt;

&lt;p&gt;This class implements the Serializable interface and its superclass does not. When such an object is deserialized, the fields of the superclass need to be initialized by invoking the void constructor of the superclass. Since the superclass does not have one, serialization and deserialization will fail at runtime.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Does the class need to be Serializable?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12478923">VFS-329</key>
            <summary>RamFileSystem is Serializable but its superclass doesn&apos;t define an accessible void constructor</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Nov 2010 19:21:40 +0000</created>
                <updated>Tue, 2 Nov 2010 19:21:40 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200369</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 1 week, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8q7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303007</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-328] Exception FileSystemException not actually thrown</title>
                <link>https://issues.apache.org/jira/browse/VFS-328</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Several constructors and methods say that the throw FileSystemException, however this is not the case currently.&lt;/p&gt;

&lt;p&gt;Either the throws clauses should be removed, or an @throws comment should be added to the Javadoc to supress the warning (and explain why the throws clause is present).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12478922">VFS-328</key>
            <summary>Exception FileSystemException not actually thrown</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Nov 2010 19:18:31 +0000</created>
                <updated>Tue, 2 Nov 2010 19:18:31 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200368</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 1 week, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8qf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303008</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-327] UriParser.canonicalizePath possible NPE for filenameParser</title>
                <link>https://issues.apache.org/jira/browse/VFS-327</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;The UriParser.canonicalizePath method has a possible NPE for filenameParser:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[495]   &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; match = value == &lt;span class=&quot;code-quote&quot;&gt;&apos;%&apos;&lt;/span&gt;
[496]          || (fileNameParser != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; fileNameParser.encodeCharacter(value));
...
[511]    &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (fileNameParser.encodeCharacter(ch))
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Line 496 allows for fileNameParser being null, but line 511 does not.&lt;/p&gt;

&lt;p&gt;As far as I can tell, the method is never called with a null parser, so it should be safe to omit the null check in line 496.&lt;br/&gt;
If the code can ever be called with a null parser, then the code at line 511 needs to be fixed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12478921">VFS-327</key>
            <summary>UriParser.canonicalizePath possible NPE for filenameParser</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Nov 2010 19:10:53 +0000</created>
                <updated>Thu, 19 May 2016 18:25:59 +0000</updated>
                            <resolved>Wed, 16 May 2012 17:33:43 +0000</resolved>
                                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13276910" author="garydgregory" created="Wed, 16 May 2012 17:33:43 +0000"  >&lt;p&gt;Committed revision 1339277.&lt;/p&gt;</comment>
                            <comment id="15291784" author="b.eckenfels" created="Thu, 19 May 2016 18:25:59 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200367</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05k7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30372</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-326] Multi-threading issues</title>
                <link>https://issues.apache.org/jira/browse/VFS-326</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;SoftRefFilesCache and DefaultFileMonitor use a boolean to communicate between threads, but don&apos;t use synchronisation.&lt;br/&gt;
There is no guarantee that the updated value of the boolean will be seen by the other thread. Adding volatile would fix this.&lt;/p&gt;

&lt;p&gt;There are also various private instance fields that are not modified after construction.&lt;br/&gt;
If these were made final, it would improve thread-safety because the fields would then be published correctly across threads.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12478917">VFS-326</key>
            <summary>Multi-threading issues</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sebb">Sebb</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Nov 2010 19:00:50 +0000</created>
                <updated>Tue, 23 Nov 2010 08:01:08 +0000</updated>
                            <resolved>Tue, 23 Nov 2010 08:01:08 +0000</resolved>
                                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12934768" author="ralph.goers@dslextreme.com" created="Tue, 23 Nov 2010 08:01:08 +0000"  >&lt;p&gt;DefaultFileMonitor and SoftRefFilesCache were modified to make the boolean variables volatile. In addition, SoftRefFllesCache was modified to use a ConcurrentHashMap and locks instead of synchronization.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200366</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 50 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i136en:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226668</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-325] Bad handling of hashs (#) in file names when walking a file tree using findFiles()</title>
                <link>https://issues.apache.org/jira/browse/VFS-325</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Consider a local directory tree containing files with hashs in their name, such as &lt;tt&gt;test-hash-#.txt&lt;/tt&gt;.&lt;br/&gt;
When walking the tree using FileObject.findFiles(), the file is correctly found and returned, but it&apos;s URL is truncated to the #: &lt;tt&gt;test-hash-&lt;/tt&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Calling file.getURL().toString() returns &lt;tt&gt;&lt;a href=&quot;file://my/dir/test-hash-&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file://my/dir/test-hash-&lt;/a&gt;&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;Calling file.toString() returns the correct URL &lt;tt&gt;&lt;a href=&quot;file://my/dir/test-hash-#.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file://my/dir/test-hash-#.txt&lt;/a&gt;&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;For the sake of testing, calling new URL(&quot;http://my/file/with/hash-#.txt&quot;).toString() returns &lt;tt&gt;&lt;a href=&quot;http://my/file/with/hash-#.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://my/file/with/hash-#.txt&lt;/a&gt;&lt;/tt&gt; (It&apos;s not an java.net.URL problem)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I think file.getURL().toString() should return &lt;tt&gt;test-hash-#.txt&lt;/tt&gt;, otherwise caller have to rely on file.toString() to retrieve the URL of the file, which is probably bad.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows Seven, JDK 1.6 64 bit&lt;/p&gt;</environment>
        <key id="12477803">VFS-325</key>
            <summary>Bad handling of hashs (#) in file names when walking a file tree using findFiles()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="nguillaumin">Nicolas Guillaumin</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Oct 2010 23:24:36 +0000</created>
                <updated>Wed, 27 Jul 2016 21:04:44 +0000</updated>
                            <resolved>Sat, 24 Sep 2011 08:08:42 +0000</resolved>
                                    <version>1.0</version>
                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12970682" author="larryreeve" created="Mon, 13 Dec 2010 02:11:58 +0000"  >&lt;p&gt;Attached is archive submission of patch file and new files to resolve this issue.&lt;/p&gt;

&lt;p&gt;New files are:&lt;br/&gt;
1) core/src/test/java/org/apache/commons/vfs2/provider/local/test/UrlTests.java&lt;br/&gt;
This a source file containing new unit tests around URL handling for this issue.&lt;/p&gt;

&lt;p&gt;2) core/src/test/resources/test-data/test-hash-#test.txt&lt;br/&gt;
A test file to test the FindFiles operation as part of the unit test.&lt;/p&gt;


&lt;p&gt;Patched source files are:&lt;br/&gt;
1) core/src/test/java/org/apache/commons/vfs2/provider/local/test/LocalProviderTestCase.java&lt;br/&gt;
Add new URL test cases.&lt;/p&gt;

&lt;p&gt;2) core/src/main/java/org/apache/commons/vfs2/provider/local/LocalFile.java&lt;br/&gt;
Overrides getURL() method in abstract base class AbstractFileObject.java for local files.&lt;/p&gt;

&lt;p&gt;3) core/src/main/java/org/apache/commons/vfs2/provider/AbstractFileObject.java&lt;br/&gt;
Exposes VfsComponentContext for use in LocalFile.java&lt;/p&gt;</comment>
                            <comment id="12970766" author="joehni" created="Mon, 13 Dec 2010 10:06:35 +0000"  >&lt;p&gt;Sorry, this solution is wrong. A hash &apos;#&apos; has a special meaning in a URL. If a filename contains such a character, the URL must contain it in the encoded form &quot;%23&quot;.&lt;/p&gt;</comment>
                            <comment id="12971538" author="larryreeve" created="Wed, 15 Dec 2010 03:20:44 +0000"  >&lt;p&gt;Revised patch based on Joerg&apos;s feedback.&lt;/p&gt;</comment>
                            <comment id="13113930" author="ralph.goers@dslextreme.com" created="Sat, 24 Sep 2011 08:08:42 +0000"  >&lt;p&gt;The patch has been applied. Please verify and close.&lt;/p&gt;</comment>
                            <comment id="15291837" author="b.eckenfels" created="Thu, 19 May 2016 18:26:18 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12466112" name="PATCH-vfs-325.tar" size="16384" author="larryreeve" created="Mon, 13 Dec 2010 02:11:58 +0000"/>
                            <attachment id="12466285" name="PATCHB-vfs-325.tar" size="13824" author="larryreeve" created="Wed, 15 Dec 2010 03:20:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>59441</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05k7z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30373</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-324] RamFileSystem.close() should clear the cache rather than nulling it</title>
                <link>https://issues.apache.org/jira/browse/VFS-324</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;RamFileSystem.close() should probably clear the cache rather than nulling it.&lt;/p&gt;

&lt;p&gt;This would allow the field to be made final, as well as avoiding an NPE if any methods using the cache are invoked after close.&lt;/p&gt;

&lt;p&gt;Making the field final would ensure it was published correctly - at present the class is not thread-safe&lt;/p&gt;</description>
                <environment></environment>
        <key id="12477701">VFS-324</key>
            <summary>RamFileSystem.close() should clear the cache rather than nulling it</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Oct 2010 02:35:48 +0000</created>
                <updated>Tue, 2 Nov 2010 12:19:37 +0000</updated>
                            <resolved>Mon, 1 Nov 2010 19:59:13 +0000</resolved>
                                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12927116" author="ralph.goers@dslextreme.com" created="Mon, 1 Nov 2010 19:58:49 +0000"  >&lt;p&gt;I&apos;ve applied that change but also noticed that the collection wasn&apos;t synchronized while iterating over it. I also noticed the same problems occur in RamFileData so addressed them there as well. However, I&apos;m still not sure this code is completely thread safe.&lt;/p&gt;</comment>
                            <comment id="12927118" author="ralph.goers@dslextreme.com" created="Mon, 1 Nov 2010 19:59:13 +0000"  >&lt;p&gt;Please verify the fix.&lt;/p&gt;</comment>
                            <comment id="12927375" author="sebb@apache.org" created="Tue, 2 Nov 2010 12:19:37 +0000"  >&lt;p&gt;Fix looks OK, but I agree that the code is not thread-safe under all calling sequences. But at least the class data will be consistent across threads.&lt;/p&gt;

&lt;p&gt;The parent classes aren&apos;t thread-safe either, and have data publication problems.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200365</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 1 week, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i136dz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226665</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-323] The same &quot;FileObject.exist()&quot; call returns different values in Windows 7 and Linux Ubuntu while connected to simple FTP using port 22221</title>
                <link>https://issues.apache.org/jira/browse/VFS-323</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Good afternoon.&lt;/p&gt;

&lt;p&gt;Today I&apos;ve found an interesting thing in VFS. I&apos;ve spent 4 hours testing it in different situations. It looks like a bug, but I want to ask all of you first.&lt;/p&gt;

&lt;p&gt;My code uses VFS to connect to FTP (simple FTP, but on port 22221) and copy a file from there(&lt;a href=&quot;ftp://HOSTNAME:22221/alex/test.txt.asc.pgp&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://HOSTNAME:22221/alex/test.txt.asc.pgp&lt;/a&gt;). But before copying I&apos;m checking if the file exists using FileObject&apos;s method &quot;exist()&quot;.&lt;br/&gt;
The thing is that when I run my JAR from command line of Windows 7, &quot;exist()&quot; returns true. But if only I run the same JAR from Linux Mint 9 Isadora(2.6.32-21-generic), this method returns false.&lt;br/&gt;
I&apos;ve made a test and found out that if I change port from 22221 to simple 21, JAR runs fine on both systems, i.e. &quot;exist()&quot; returns true. This strange thing in Linux happens only when I use port number 22221.&lt;br/&gt;
I&apos;ve tried different paths, it doesn&apos;t matter. The only thing that matter is port number.&lt;/p&gt;

&lt;p&gt;Is it really some kind of a bug? Is there any workarounds?&lt;/p&gt;

&lt;p&gt;My code for checking if the file exists is:&lt;/p&gt;

&lt;p&gt;   FileObject dir = null;&lt;br/&gt;
   String fileName =&lt;br/&gt;
   &quot;,AMCPROD,derivative_pricing_ssb_cds_20100910_00.xml.pgp,U,20100910A00012022189.txt&quot;;&lt;br/&gt;
   // .... dir initialization&lt;br/&gt;
   FileObject neededFile = dir.resolveFile(fileName);&lt;br/&gt;
   return neededFile.exists();&lt;/p&gt;

&lt;p&gt;Thank you very much in advance. &lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows 7 x64 &amp;amp; Linux Mint 9 Isadora(2.6.32-21-generic) x86&lt;br/&gt;
jdk1.6.0_18&lt;br/&gt;
commons-net-2.0.jar&lt;br/&gt;
commons-vfs-2.0-SNAPSHOT (built from revision 993538)&lt;/p&gt;</environment>
        <key id="12475653">VFS-323</key>
            <summary>The same &quot;FileObject.exist()&quot; call returns different values in Windows 7 and Linux Ubuntu while connected to simple FTP using port 22221</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="j-pro">Yurii Kartsev</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 Oct 2010 19:01:56 +0000</created>
                <updated>Fri, 1 Oct 2010 19:02:40 +0000</updated>
                                            <version>2.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200364</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 5 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8qn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303009</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-321] AbstractFileObject sometimes uses getFileSystem() and sometimes references &quot;fs&quot; field directly</title>
                <link>https://issues.apache.org/jira/browse/VFS-321</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;AbstractFileObject sometimes uses getFileSystem() - which just returns fs - and sometimes references the &quot;fs&quot; field directly.&lt;/p&gt;

&lt;p&gt;If there is a good reason why the getter should be used sometimes and not others, then this ought to be documented.&lt;/p&gt;

&lt;p&gt;If not, then it would be better to standardize on using either the field or the getter, depending on whether there is any reason to override the getter.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;There don&amp;#39;t appear to be any overrides currently&amp;#93;&lt;/span&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12474728">VFS-321</key>
            <summary>AbstractFileObject sometimes uses getFileSystem() and sometimes references &quot;fs&quot; field directly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Sep 2010 17:12:53 +0000</created>
                <updated>Thu, 19 May 2016 18:26:13 +0000</updated>
                            <resolved>Wed, 16 May 2012 17:40:00 +0000</resolved>
                                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13276917" author="garydgregory" created="Wed, 16 May 2012 17:40:00 +0000"  >&lt;p&gt;I changed to calls to use &quot;fs&quot; directly because fs is a private final instance variable, final being the more important aspect IMO. &lt;br/&gt;
Committed revision 1339279.&lt;/p&gt;</comment>
                            <comment id="15291823" author="b.eckenfels" created="Thu, 19 May 2016 18:26:13 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200362</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05k87:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30374</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-320] FileSystemOptions keys are not guaranteed unique</title>
                <link>https://issues.apache.org/jira/browse/VFS-320</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;The FileSystemOptions keys are currently implemented as string.&lt;/p&gt;

&lt;p&gt;There does not appear to be a central registry of the different key values, so it is possible for duplicates to occur.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12474707">VFS-320</key>
            <summary>FileSystemOptions keys are not guaranteed unique</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Sep 2010 15:19:13 +0000</created>
                <updated>Tue, 21 Sep 2010 15:19:13 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200361</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 7 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8qv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303010</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-319] Typo in FtpsFileSystemConfigBuilder.setFtpsType</title>
                <link>https://issues.apache.org/jira/browse/VFS-319</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Looks like a cut-and-paste typo - the following:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setFtpsType(FileSystemOptions opts, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; ftpsType) {
    setParam(opts, USER_DIR_IS_ROOT, ftpsType);
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;should surely be&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setFtpsType(FileSystemOptions opts, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; ftpsType) {
    setParam(opts, FTPS_TYPE, ftpsType);
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12474694">VFS-319</key>
            <summary>Typo in FtpsFileSystemConfigBuilder.setFtpsType</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sebb">Sebb</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Sep 2010 13:26:13 +0000</created>
                <updated>Tue, 21 Sep 2010 16:35:14 +0000</updated>
                            <resolved>Tue, 21 Sep 2010 14:26:22 +0000</resolved>
                                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12912969" author="sebb@apache.org" created="Tue, 21 Sep 2010 13:27:19 +0000"  >&lt;p&gt;Oops, cut and pasted wrong section in JIRA &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12913067" author="jwcarman" created="Tue, 21 Sep 2010 16:35:14 +0000"  >&lt;p&gt;Assigning to sebb, since he did the commit.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200360</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 7 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i136bz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226656</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-317] FTPS bug: filesystem connected, but can&apos;t operate with files due to &quot;Could not determine the type of file&quot; error.</title>
                <link>https://issues.apache.org/jira/browse/VFS-317</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Hello.&lt;/p&gt;

&lt;p&gt;I&apos;ve build VFS from trunk(revision 993538) where user James Carman applied FTPS patch from issue &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-264&quot; title=&quot;FTPS support for VFS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-264&quot;&gt;&lt;del&gt;VFS-264&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
Using the built library I&apos;ve managed to successfully connect to FTPS server, but I can&apos;t make any file operation, including a check if file exists. I use this code for it:&lt;/p&gt;

&lt;p&gt;   ---------------------------------------------------------&lt;br/&gt;
   FileObject dir = null;&lt;br/&gt;
   String fileName = &quot;,AMCPROD,derivative_pricing_ssb_cds_20100910_00.xml.pgp,U,20100910A00012022189.txt&quot;;&lt;br/&gt;
   /* &lt;br/&gt;
         .... dir initialization&lt;br/&gt;
   */&lt;br/&gt;
   FileObject neededFile = dir.resolveFile(fileName);&lt;br/&gt;
   return neededFile.exists(); //  &amp;lt;----- here the exception is thrown&lt;br/&gt;
   ---------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Here is the stack trace(including preceding vfs DEBUG logs):&lt;/p&gt;

&lt;p&gt;---------------------------------------------------------&lt;br/&gt;
09-17 15:34:25.748 EDT &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; INFO  org.apache.commons.vfs.impl.StandardFileSystemManager  - Using &quot;/tmp/vfs_cache&quot; as temporary files store.&lt;br/&gt;
09-17 15:34:26.50 EDT &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; DEBUG org.apache.commons.vfs.impl.StandardFileSystemManager  - Skipping provider &quot;org.apache.commons.vfs.provider.http.HttpFileProvider&quot; because required class &quot;org.apache.commons.httpclient.HttpClient&quot; is not available.&lt;br/&gt;
09-17 15:34:26.51 EDT &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; DEBUG org.apache.commons.vfs.impl.StandardFileSystemManager  - Skipping provider &quot;org.apache.commons.vfs.provider.https.HttpsFileProvider&quot; because required class &quot;org.apache.commons.httpclient.HttpClient&quot; is not available.&lt;br/&gt;
09-17 15:34:26.77 EDT &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; DEBUG org.apache.commons.vfs.impl.StandardFileSystemManager  - Skipping provider &quot;org.apache.commons.vfs.provider.sftp.SftpFileProvider&quot; because required class &quot;com.jcraft.jsch.JSch&quot; is not available.&lt;br/&gt;
09-17 15:34:26.80 EDT &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; DEBUG org.apache.commons.vfs.impl.StandardFileSystemManager  - Skipping provider &quot;org.apache.commons.vfs.provider.webdav.WebdavFileProvider&quot; because required class &quot;org.apache.commons.httpclient.HttpClient&quot; is not available.&lt;br/&gt;
09-17 15:34:27.871 EDT &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; DEBUG org.apache.commons.vfs.cache.SoftRefFilesCache  - putFile: &lt;a href=&quot;ftps://193.44.23.12:9001/archive&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftps://193.44.23.12:9001/archive&lt;/a&gt;&lt;br/&gt;
09-17 15:34:27.877 EDT &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; DEBUG org.apache.commons.vfs.cache.SoftRefFilesCache  - putFile: &lt;a href=&quot;file:///&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:///&lt;/a&gt;&lt;br/&gt;
09-17 15:34:27.878 EDT &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; DEBUG org.apache.commons.vfs.cache.SoftRefFilesCache  - putFile: &lt;a href=&quot;ftps://193.44.23.12:9001/archive/,AMCPROD,derivative_pricing_ssb_cds_20100910_00.xml.pgp,U,20100910A00012022189.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftps://193.44.23.12:9001/archive/,AMCPROD,derivative_pricing_ssb_cds_20100910_00.xml.pgp,U,20100910A00012022189.txt&lt;/a&gt;&lt;br/&gt;
09-17 15:34:27.879 EDT &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; DEBUG org.apache.commons.vfs.cache.SoftRefFilesCache  - putFile: &lt;a href=&quot;ftps://193.44.23.12:9001/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftps://193.44.23.12:9001/&lt;/a&gt;&lt;br/&gt;
org.apache.commons.vfs.FileSystemException: Could not determine the type of file &quot;ftps://193.44.23.12:9001/archive/,AMCPROD,derivative_pricing_ssb_cds_20100910_00.xml.pgp,U,20100910A00012022189.txt&quot;.&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractFileObject.getType(AbstractFileObject.java:476)&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractFileObject.exists(AbstractFileObject.java:448)&lt;br/&gt;
	at com.ssc.otc.ftpservice.core.FtpXClient.isSourceFileExist(FtpXClient.java:179)&lt;br/&gt;
	at com.ssc.otc.ftpservice.core.FtpManager.copyFile(FtpManager.java:105)&lt;br/&gt;
	at com.ssc.otc.ftpservice.ConsoleStart.runNewTask(ConsoleStart.java:102)&lt;br/&gt;
	at com.ssc.otc.ftpservice.ConsoleStart.main(ConsoleStart.java:67)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader.main(JarRsrcLoader.java:58)&lt;br/&gt;
Caused by: org.apache.commons.net.ftp.parser.ParserInitializationException: Parser key cannot be null&lt;br/&gt;
	at org.apache.commons.net.ftp.parser.DefaultFTPFileEntryParserFactory.createFileEntryParser(DefaultFTPFileEntryParserFactory.java:82)&lt;br/&gt;
	at org.apache.commons.net.ftp.FTPClient.initiateListParsing(FTPClient.java:2263)&lt;br/&gt;
	at org.apache.commons.net.ftp.FTPClient.listFiles(FTPClient.java:2046)&lt;br/&gt;
	at org.apache.commons.vfs.provider.ftps.FtpsClientWrapper.listFiles(FtpsClientWrapper.java:116)&lt;br/&gt;
	at org.apache.commons.vfs.provider.ftp.FtpFileObject.doGetChildren(FtpFileObject.java:140)&lt;br/&gt;
	at org.apache.commons.vfs.provider.ftp.FtpFileObject.getChildFile(FtpFileObject.java:110)&lt;br/&gt;
	at org.apache.commons.vfs.provider.ftp.FtpFileObject.getInfo(FtpFileObject.java:198)&lt;br/&gt;
	at org.apache.commons.vfs.provider.ftp.FtpFileObject.doGetType(FtpFileObject.java:321)&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractFileObject.getType(AbstractFileObject.java:467)&lt;br/&gt;
	... 10 more&lt;br/&gt;
---------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Please help me to solve this bug. I assume it&apos;s a bug because the connection is established, the file IS there, but the type can&apos;t be determined. Maybe FTPS patch author forgot something?&lt;/p&gt;

&lt;p&gt;Thanks in advance.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows 7 x64&lt;br/&gt;
jdk1.6.0_18&lt;br/&gt;
commons-net-2.0.jar&lt;/p&gt;</environment>
        <key id="12474601">VFS-317</key>
            <summary>FTPS bug: filesystem connected, but can&apos;t operate with files due to &quot;Could not determine the type of file&quot; error.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="j-pro">Yurii Kartsev</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Sep 2010 15:09:39 +0000</created>
                <updated>Wed, 23 Sep 2015 22:10:35 +0000</updated>
                                            <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12912549" author="sebb@apache.org" created="Mon, 20 Sep 2010 15:46:44 +0000"  >&lt;p&gt;Which version of Commons NET are you using?&lt;/p&gt;

&lt;p&gt;I suspect the problem is that NET was unable to determine the system type name.&lt;/p&gt;</comment>
                            <comment id="12912565" author="j-pro" created="Mon, 20 Sep 2010 16:28:32 +0000"  >&lt;p&gt;Sorry, forgot to mention it in issue description. I use commons-net-2.0.jar, i.e. version 2.0.  It&apos;s because Scott Bjerstedt wrote in &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-264&quot; title=&quot;FTPS support for VFS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-264&quot;&gt;&lt;del&gt;VFS-264&lt;/del&gt;&lt;/a&gt; that for his patch to work we need to use commons-net 2.0.&lt;/p&gt;</comment>
                            <comment id="12912572" author="sebb@apache.org" created="Mon, 20 Sep 2010 16:45:46 +0000"  >&lt;p&gt;In that case, the problem is definitely that getSystemName() is returning null, i.e. there was some problem with the SYST call which is used to determine the system type.&lt;/p&gt;

&lt;p&gt;What does the SYST command return?&lt;/p&gt;

&lt;p&gt;I&apos;ve updated NET trunk in SVN to give a better error if the problem occurs, so you might like to try using the current Commons Net code.&lt;/p&gt;</comment>
                            <comment id="12912645" author="j-pro" created="Mon, 20 Sep 2010 18:58:05 +0000"  >&lt;p&gt;Sebb, actually I can&apos;t run SYST command, because I give my JAR to a remote guy, who don&apos;t know how to do it, he just runs jar and sends me the log.&lt;br/&gt;
But I&apos;ve took latest commons-net source from trunk(&lt;a href=&quot;http://svn.apache.org/repos/asf/commons/proper/net/tags/NET_2_0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/commons/proper/net/tags/NET_2_0&lt;/a&gt;) and waiting for logs from user. But this repository log says that its last update took place on September, 28th 2008. Is it the right place?&lt;/p&gt;

&lt;p&gt;Added: Yes, I was right, logs are the same with this version of commons-net. Please, tell me where can I get your changes in net?&lt;/p&gt;</comment>
                            <comment id="12912647" author="sebb@apache.org" created="Mon, 20 Sep 2010 19:05:04 +0000"  >&lt;p&gt;@Yuri: you could perhaps ask your remote chap to run the command?&lt;/p&gt;

&lt;p&gt;The current code is in trunk, i.e.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/commons/proper/net/trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/commons/proper/net/trunk&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;The SVN tags entries correspond with fixed versions, usually releases.&amp;#93;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="12912662" author="j-pro" created="Mon, 20 Sep 2010 19:29:12 +0000"  >&lt;p&gt;Here are result logs(only 4 lines are changed... and looks like SYST is not implemented, strange...)&lt;/p&gt;

&lt;p&gt;Caused by: java.io.IOException: Unable to determine system type - response: 502 SYST command not implemented.&lt;/p&gt;

&lt;p&gt;	at org.apache.commons.net.ftp.FTPClient.getSystemType(FTPClient.java:2073)&lt;br/&gt;
	at org.apache.commons.net.ftp.FTPClient.initiateListParsing(FTPClient.java:2505)&lt;br/&gt;
	at org.apache.commons.net.ftp.FTPClient.listFiles(FTPClient.java:2270)&lt;br/&gt;
	at org.apache.commons.vfs.provider.ftps.FtpsClientWrapper.listFiles(FtpsClientWrapper.java:121)&lt;br/&gt;
	at org.apache.commons.vfs.provider.ftp.FtpFileObject.doGetChildren(FtpFileObject.java:140)&lt;br/&gt;
	at org.apache.commons.vfs.provider.ftp.FtpFileObject.getChildFile(FtpFileObject.java:110)&lt;br/&gt;
	at org.apache.commons.vfs.provider.ftp.FtpFileObject.getInfo(FtpFileObject.java:198)&lt;br/&gt;
	at org.apache.commons.vfs.provider.ftp.FtpFileObject.doGetType(FtpFileObject.java:321)&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractFileObject.getType(AbstractFileObject.java:467)&lt;/p&gt;

&lt;p&gt;About SYST: user uses UNIX and lftp tool to manually connect to remote FTPS server. He says that there is no such command. But I&apos;ll advice him to run telnet SYST if it&apos;s still needed.&lt;/p&gt;</comment>
                            <comment id="12912930" author="sebb@apache.org" created="Tue, 21 Sep 2010 10:57:27 +0000"  >&lt;p&gt;Thanks - useful to know that my fix works!&lt;/p&gt;

&lt;p&gt;By the way, some ftp clients don&apos;t support SYST (system), in which case you may have to use &quot;quote SYST&quot;.&lt;/p&gt;

&lt;p&gt;Does seem strange that SYST is not supported. It does appear to be a standard command: &lt;a href=&quot;http://tools.ietf.org/html/rfc959&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://tools.ietf.org/html/rfc959&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I don&apos;t know anything about VFS, but perhaps it is possible to tell it what system type to expect, and maybe it can pass that on to NET.&lt;/p&gt;</comment>
                            <comment id="12912948" author="j-pro" created="Tue, 21 Sep 2010 12:47:00 +0000"  >&lt;p&gt;Yeah, your NET fix works &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Thanks for your help, it&apos;s really useful to know the exact reason of subject.&lt;br/&gt;
I&apos;ve asked the guy to connect through telnet and run SYST, result is the same: not implemented.&lt;/p&gt;

&lt;p&gt;---------------------------------------------------------&lt;br/&gt;
Trying 193.44.23.12...&lt;br/&gt;
Connected to 193.44.23.12 (193.44.23.12).&lt;br/&gt;
Escape character is &apos;^]&apos;.&lt;br/&gt;
220 SecurePortal2000 FTP_Mailbox Server Build 2.04.16 ready. 20100920165440&lt;br/&gt;
USER JOHN&lt;br/&gt;
530 AUTH command required.&lt;br/&gt;
331 Password required.&lt;br/&gt;
PASS ****&lt;br/&gt;
530 AUTH command required.&lt;br/&gt;
230 Login successful.&lt;br/&gt;
SYST&lt;br/&gt;
530 AUTH command required.&lt;br/&gt;
502 SYST command not implemented.&lt;br/&gt;
quit&lt;br/&gt;
221 Goodbye.&lt;br/&gt;
Connection closed by foreign host.&lt;br/&gt;
---------------------------------------------------------&lt;/p&gt;


&lt;p&gt;I think that this case must be took in consideration in commons-net and commons-vfs...&lt;br/&gt;
Can you help me? Or maybe there are other people who can?&lt;br/&gt;
Thanks in advance.&lt;/p&gt;</comment>
                            <comment id="12912972" author="sebb@apache.org" created="Tue, 21 Sep 2010 13:36:04 +0000"  >&lt;p&gt;I think you can use &lt;/p&gt;

&lt;p&gt;FtpsFileSystemConfigBuilder.setEntryParser()&lt;/p&gt;

&lt;p&gt;with a key of org.apache.commons.net.ftp.FTPClientConfig.SYST_UNIX&lt;/p&gt;

&lt;p&gt;which should set the system type to Unix&lt;/p&gt;</comment>
                            <comment id="12912975" author="j-pro" created="Tue, 21 Sep 2010 13:40:13 +0000"  >&lt;p&gt;Hmm.. may be, but it&apos;s a workaround for UNIX systems only, right? If FTP server will be in a Windows machine, it won&apos;t work, isn&apos;t it?&lt;/p&gt;</comment>
                            <comment id="12912999" author="sebb@apache.org" created="Tue, 21 Sep 2010 14:14:44 +0000"  >&lt;p&gt;No, it won&apos;t work if the remote ftp server does not return Unix-format listings.&lt;/p&gt;

&lt;p&gt;But if the FTP server does not behave properly, at present I think that is the only solution.&lt;/p&gt;</comment>
                            <comment id="12913026" author="j-pro" created="Tue, 21 Sep 2010 15:16:54 +0000"  >&lt;p&gt;I see.... I&apos;ve tried it. Now it says that file doesn&apos;t exist although it can be retrieved with lftp tool. So the workaround doesn&apos;t work, method &quot;neededFile.exists()&quot; from the first post returns false.&lt;br/&gt;
All I&apos;ve added is one line of code: &quot;FtpsFileSystemConfigBuilder.getInstance().setEntryParser(opts, org.apache.commons.net.ftp.FTPClientConfig.SYST_UNIX);&quot; where &quot;opts&quot; is FileSystemOptions object for directory where the file is situated.&lt;/p&gt;

&lt;p&gt;Too bad I can&apos;t make it working &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;
</comment>
                            <comment id="12913033" author="sebb@apache.org" created="Tue, 21 Sep 2010 15:32:43 +0000"  >&lt;p&gt;Well, at least the fix works as far as fixing the system type.&lt;/p&gt;

&lt;p&gt;Does the code work if you use a simpler file name, i.e. shorter and without punctuation?&lt;/p&gt;

&lt;p&gt;What does the debug show now?&lt;/p&gt;</comment>
                            <comment id="12913072" author="j-pro" created="Tue, 21 Sep 2010 16:41:22 +0000"  >&lt;p&gt;Your fix works, but fixing the system type does not, because it fixes something wrong which results into &quot;file does not exist&quot;. Maybe the workaround adds an option which the file doesn&apos;t have and therefore it can&apos;t be found?&lt;/p&gt;

&lt;p&gt;File name can&apos;t be a problem, because I&apos;ve tested it on simple FTP and it works well.&lt;/p&gt;

&lt;p&gt;The log shows nothing unusual:&lt;br/&gt;
-----------------------------------------------------------&lt;br/&gt;
09-21 10:28:21.323 EDT &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; INFO  org.apache.commons.vfs.impl.StandardFileSystemManager  - Using &quot;/tmp/vfs_cache&quot; as temporary files store.&lt;br/&gt;
09-21 10:28:21.650 EDT &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; DEBUG org.apache.commons.vfs.impl.StandardFileSystemManager  - Skipping provider &quot;org.apache.commons.vfs.provider.http.HttpFileProvider&quot; because required class &quot;org.apache.commons.httpclient.HttpClient&quot; is not available.&lt;br/&gt;
09-21 10:28:21.651 EDT &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; DEBUG org.apache.commons.vfs.impl.StandardFileSystemManager  - Skipping provider &quot;org.apache.commons.vfs.provider.https.HttpsFileProvider&quot; because required class &quot;org.apache.commons.httpclient.HttpClient&quot; is not available.&lt;br/&gt;
09-21 10:28:21.674 EDT &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; DEBUG org.apache.commons.vfs.impl.StandardFileSystemManager  - Skipping provider &quot;org.apache.commons.vfs.provider.webdav.WebdavFileProvider&quot; because required class &quot;org.apache.commons.httpclient.HttpClient&quot; is not available.&lt;br/&gt;
09-21 10:28:23.608 EDT &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; DEBUG org.apache.commons.vfs.cache.SoftRefFilesCache  - putFile: &lt;a href=&quot;ftps://193.44.23.12:9001/archive&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftps://193.44.23.12:9001/archive&lt;/a&gt;&lt;br/&gt;
09-21 10:28:23.614 EDT &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; DEBUG org.apache.commons.vfs.cache.SoftRefFilesCache  - putFile: &lt;a href=&quot;file:///&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:///&lt;/a&gt;&lt;br/&gt;
09-21 10:28:23.615 EDT &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; DEBUG org.apache.commons.vfs.cache.SoftRefFilesCache  - putFile: &lt;a href=&quot;ftps://193.44.23.12:9001/archive/,AMCPROD,derivative_transactions_ssb_cds_20100917_03.xml.pgp,U,20100917A00012099821.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftps://193.44.23.12:9001/archive/,AMCPROD,derivative_transactions_ssb_cds_20100917_03.xml.pgp,U,20100917A00012099821.txt&lt;/a&gt;&lt;br/&gt;
09-21 10:28:23.615 EDT &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; DEBUG org.apache.commons.vfs.cache.SoftRefFilesCache  - putFile: &lt;a href=&quot;ftps://193.44.23.12:9001/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftps://193.44.23.12:9001/&lt;/a&gt;&lt;br/&gt;
09-21 10:28:23.718 EDT &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; DEBUG org.apache.commons.vfs.cache.SoftRefFilesCache  - close fs: &lt;a href=&quot;ftps://193.44.23.12:9001/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftps://193.44.23.12:9001/&lt;/a&gt;&lt;br/&gt;
09-21 10:28:23.718 EDT &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; DEBUG org.apache.commons.vfs.cache.SoftRefFilesCache  - close fs: &lt;a href=&quot;file:///&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:///&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;</comment>
                            <comment id="12913078" author="sebb@apache.org" created="Tue, 21 Sep 2010 16:59:44 +0000"  >&lt;p&gt;Please try a simpler filename as requested.&lt;/p&gt;</comment>
                            <comment id="12914074" author="j-pro" created="Thu, 23 Sep 2010 16:04:48 +0000"  >&lt;p&gt;Sorry for delay, I was waiting for answer from this test-guy. It&apos;s impossible to test with simpler filename, because remote server has no such files.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200359</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 6 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8r3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303011</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-316] HttpFileSystemConfigBuilder needs option for preemptive authentication</title>
                <link>https://issues.apache.org/jira/browse/VFS-316</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;I find that the credential challenges produced by the WebdavFileSystem as it uses the HttpClient creates a great deal of superfluous HTTP traffic just to perform BASIC authentication.  In some scenarios, dumbed-down preemptive authentication is needed for swifter traversals of the repository.&lt;/p&gt;

&lt;p&gt;I suggest adding preemptive authentication to HttpFileSystemConfigBuilder and HttpClientFactory to address this problem.&lt;/p&gt;</description>
                <environment>&lt;p&gt;IIS WebDAV&lt;/p&gt;</environment>
        <key id="12473618">VFS-316</key>
            <summary>HttpFileSystemConfigBuilder needs option for preemptive authentication</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dhauslad">David Hausladen</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Sep 2010 20:05:55 +0000</created>
                <updated>Tue, 2 Nov 2010 23:31:32 +0000</updated>
                            <resolved>Tue, 2 Nov 2010 14:07:22 +0000</resolved>
                                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12907398" author="dhauslad" created="Wed, 8 Sep 2010 20:11:36 +0000"  >&lt;p&gt;adds setPreemptiveAuth method to HttpFileSystemConfigBuilder and consumes it in HttpClientFactory.  Permits streamlined auth for cases when throughput is important.&lt;/p&gt;</comment>
                            <comment id="12907425" author="jwcarman" created="Wed, 8 Sep 2010 20:49:39 +0000"  >&lt;p&gt;Do you have a test case for this?&lt;/p&gt;</comment>
                            <comment id="12927418" author="ralph.goers@dslextreme.com" created="Tue, 2 Nov 2010 14:07:22 +0000"  >&lt;p&gt;I reviewed and applied the patch. I am sure that I will also take advantage of this functionality. Please review and close.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12454150" name="PREEMPTIVEAUTH.patch" size="4635" author="dhauslad" created="Wed, 8 Sep 2010 20:11:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200358</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 1 week, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i13akn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>227343</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-315] NullPointerExceptions in WebdavFileObject when fetching properties</title>
                <link>https://issues.apache.org/jira/browse/VFS-315</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;The WebdavFileObject sometimes throws a NullPointerException in doGetAttributes in the body of the second loop.  For some reason, when it goes out to resolve the property, it sometimes is returned as a null DavProperty.  When the DavProperty&apos;s getName method is called, there&apos;s a NPE.&lt;/p&gt;</description>
                <environment>&lt;p&gt;windows with IIS as webdav host.&lt;/p&gt;</environment>
        <key id="12473617">VFS-315</key>
            <summary>NullPointerExceptions in WebdavFileObject when fetching properties</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dhauslad">David Hausladen</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Sep 2010 19:55:55 +0000</created>
                <updated>Tue, 2 Nov 2010 23:22:35 +0000</updated>
                            <resolved>Tue, 2 Nov 2010 14:06:00 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12907387" author="dhauslad" created="Wed, 8 Sep 2010 19:58:25 +0000"  >&lt;p&gt;This patch may be overkill in terms of addressing the specific problem I observed.  I didn&apos;t feel like dealing with any other NPEs, so I checked all the possible ones for that line.&lt;/p&gt;</comment>
                            <comment id="12907426" author="jwcarman" created="Wed, 8 Sep 2010 20:50:26 +0000"  >&lt;p&gt;Please provide a test case that exhibits the issue.&lt;/p&gt;</comment>
                            <comment id="12927416" author="ralph.goers@dslextreme.com" created="Tue, 2 Nov 2010 14:06:00 +0000"  >&lt;p&gt;I applied the patch and verified that the Webdav functional test still works properly. I reviewed the patch and it looks good to me. Please verify and close.&lt;/p&gt;</comment>
                            <comment id="12927671" author="dhauslad" created="Tue, 2 Nov 2010 23:22:35 +0000"  >&lt;p&gt;Thanks.  Sorry I never got around to the test case.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12454148" name="NPE.patch" size="1028" author="dhauslad" created="Wed, 8 Sep 2010 19:58:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200357</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 1 week, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i138un:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>227064</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-314] Local file path with drive prefix is not handled correctly by resolveFile</title>
                <link>https://issues.apache.org/jira/browse/VFS-314</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Local file paths with a drive prefix are not handled correctly by resolveFile(). Eg.:&lt;/p&gt;

&lt;p&gt;import org.apache.commons.vfs.VFS;&lt;br/&gt;
public class Test {&lt;br/&gt;
    public static void main(String[] args) throws Exception &lt;/p&gt;
{
        System.out.println(VFS.getManager().resolveFile(&quot;file:/c:/&quot;).resolveFile(&quot;d:/&quot;));
        System.out.println(VFS.getManager().resolveFile(&quot;file:/c:/&quot;).resolveFile(&quot;/d:/&quot;));
    }
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;Produces output (twice): &lt;a href=&quot;file:///c:/d:/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:///c:/d:/&lt;/a&gt;&lt;br/&gt;
The correct output should be: &lt;a href=&quot;file:///d:/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:///d:/&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12473136">VFS-314</key>
            <summary>Local file path with drive prefix is not handled correctly by resolveFile</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ivmai">Ivan Maidanski</reporter>
                        <labels>
                    </labels>
                <created>Thu, 2 Sep 2010 13:18:41 +0000</created>
                <updated>Thu, 2 Sep 2010 13:18:41 +0000</updated>
                                            <version>1.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200356</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 9 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8rb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303012</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-313] [FTP] Configuration does not include option for setting socket timeout.</title>
                <link>https://issues.apache.org/jira/browse/VFS-313</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;The FTP Configuration includes an option to set a timeout for the data connection, but not for the socket timeout. This is a problem, as idle sockets can cause your download to hang forever and never timeout.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12469182">VFS-313</key>
            <summary>[FTP] Configuration does not include option for setting socket timeout.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdavis@saintandreas.org">Brad Davis</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Jul 2010 18:23:34 +0000</created>
                <updated>Wed, 27 Jul 2016 21:04:18 +0000</updated>
                            <resolved>Sat, 12 May 2012 20:34:11 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12887916" author="bdavis@saintandreas.org" created="Tue, 13 Jul 2010 18:27:00 +0000"  >&lt;p&gt;The original issue / patch does not resolve the issue.  If you look at the order of operations, the so timeout is set only after the client.connect(hostname, port); has been called, meaning the socket can hang on the connection.  Attached is a patch which resolves this and allows for a two seperate timeout values, one for connect and one for the control connection communications in general (the previously added  setSoTimeout)&lt;/p&gt;</comment>
                            <comment id="12887917" author="bdavis@saintandreas.org" created="Tue, 13 Jul 2010 18:27:57 +0000"  >&lt;p&gt;this patch adds a new timeout value to the client builder, allowing for the timeout to be set BEFORE issuing the connect command.&lt;/p&gt;</comment>
                            <comment id="12887919" author="bdavis@saintandreas.org" created="Tue, 13 Jul 2010 18:30:27 +0000"  >&lt;p&gt;Alternate solutions would be to use the existing soTimeout value, but use it as the parameter to setDefaultTimeout()  before the connect statement, or to have the code look for a connectTimeout and then if none is set use the soTimeout value to setDefaultTimeout() before the connect call. &lt;/p&gt;</comment>
                            <comment id="13273904" author="andreasp" created="Sat, 12 May 2012 09:29:53 +0000"  >&lt;p&gt;This is the same error as &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-296&quot; title=&quot;[FTP] Socket timeout setting doesn&amp;#39;t work if connect hangs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-296&quot;&gt;&lt;del&gt;VFS-296&lt;/del&gt;&lt;/a&gt;. In the patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-296&quot; title=&quot;[FTP] Socket timeout setting doesn&amp;#39;t work if connect hangs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-296&quot;&gt;&lt;del&gt;VFS-296&lt;/del&gt;&lt;/a&gt; I went for your alternate solution, that is, I used the existing soTimeout value for setDefaultTimeout before connect. I don&apos;t have a preference between the two solutions.&lt;/p&gt;

&lt;p&gt;(&lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-296&quot; title=&quot;[FTP] Socket timeout setting doesn&amp;#39;t work if connect hangs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-296&quot;&gt;&lt;del&gt;VFS-296&lt;/del&gt;&lt;/a&gt; is unfortunately not fixed, I don&apos;t know why. I asked about it on the mailing list: &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/commons-dev/201101.mbox/%3c1DCE895F45843C42B615CA046BA82158142CA2584C@walle%3e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mail-archives.apache.org/mod_mbox/commons-dev/201101.mbox/%3c1DCE895F45843C42B615CA046BA82158142CA2584C@walle%3e&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="13274067" author="garydgregory" created="Sat, 12 May 2012 20:34:11 +0000"  >&lt;p&gt;Committed revision 1337638.&lt;/p&gt;</comment>
                            <comment id="15291866" author="b.eckenfels" created="Thu, 19 May 2016 18:26:27 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                            <outwardlinks description="is a clone of">
                                        <issuelink>
            <issuekey id="12400707">VFS-216</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12393794">VFS-208</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12449377" name="patch.txt" size="2622" author="bdavis@saintandreas.org" created="Tue, 13 Jul 2010 18:27:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200355</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05k8f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30375</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-311] When moving local file, target parent be left unaware of a new child</title>
                <link>https://issues.apache.org/jira/browse/VFS-311</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;When notifying target parent of a new child, AbstractFileObject.moveTo() calls getType() &lt;b&gt;after&lt;/b&gt; movement was made. This call return FileType.IMAGINARY if file type was not explicitly cached before (the is the case for LocalFile-s which just update &apos;file&apos; field), and handleCreate() will execute in vain.&lt;/p&gt;

&lt;p&gt;Possible fix is to cache fileType in advance:&lt;br/&gt;
try&lt;br/&gt;
{&lt;br/&gt;
    attach();&lt;/p&gt;

&lt;p&gt;    // calculate the type BEFORE rename, since after source file moved getType() may return IMAGINARY&lt;br/&gt;
    FileType type = getType();&lt;/p&gt;

&lt;p&gt;    doRename(destFile);&lt;/p&gt;

&lt;p&gt;    // assuming file type won&apos;t change during rename&lt;br/&gt;
    (FileObjectUtils.getAbstractFileObject(destFile)).handleCreate(type);&lt;/p&gt;

&lt;p&gt;    destFile.close(); // now the destFile is no longer imaginary. force reattach.&lt;/p&gt;

&lt;p&gt;    handleDelete(); // fire delete-events. This file-object (src) is like deleted.&lt;br/&gt;
}&lt;/p&gt;</description>
                <environment></environment>
        <key id="12466910">VFS-311</key>
            <summary>When moving local file, target parent be left unaware of a new child</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ksafonov">Kirill Safonov</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 Jun 2010 15:37:49 +0000</created>
                <updated>Mon, 14 Jun 2010 15:40:48 +0000</updated>
                                            <version>2.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200353</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8p3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303002</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-310] FTP: improved &apos;LIST&apos; command may work incorrectly with certain servers</title>
                <link>https://issues.apache.org/jira/browse/VFS-310</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;FTP LIST command was enhanced recently to improve the performance: instead of stepping into the target directory, &apos;LIST &amp;lt;relpath&amp;gt;&apos; is executed.&lt;br/&gt;
Still, it may cause problems with certain FTP server software that returns child file names in relative form:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;gt; LIST test 
150 Opening BINARY mode data connection for file list. 
total 56 
drwxrwx---   2 user     4096 May 17 14:07 test/css 
drwxrwx---   2 user     4096 May 17 14:08 test/images 
-rw-rw----   1 user     6397 May 17 14:07 test/index.html&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;instead of &lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;drwxrwx---   2 user     4096 May 17 14:07 css 
drwxrwx---   2 user     4096 May 17 14:08 images
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This results in an immediate error, such as:&lt;br/&gt;
org.apache.commons.vfs.FileSystemException: Invalid descendent file name &quot;test/css&quot;.&lt;br/&gt;
	at org.apache.commons.vfs.impl.DefaultFileSystemManager.resolveName(DefaultFileSystemManager.java:790)&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractFileObject.getChildren(AbstractFileObject.java:689)&lt;br/&gt;
	at org.apache.commons.vfs.provider.ftp.FtpFileObject.getChildren(FtpFileObject.java:453)&lt;/p&gt;

&lt;p&gt;The desired solution is Commons VFS expects such behaviour and strips the leading part of files names (if possible?)&lt;br/&gt;
At least, FtpFileSystemConfigBuilder should provide an option to fallback to previous (slower) way of listing children.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12466257">VFS-310</key>
            <summary>FTP: improved &apos;LIST&apos; command may work incorrectly with certain servers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ksafonov">Kirill Safonov</reporter>
                        <labels>
                    </labels>
                <created>Sat, 5 Jun 2010 15:01:30 +0000</created>
                <updated>Sat, 5 Jun 2010 15:01:30 +0000</updated>
                                            <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200352</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 22 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8pb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303003</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-309] ThreadLocal memory leak in DefaultFileContent</title>
                <link>https://issues.apache.org/jira/browse/VFS-309</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;When using commons vfs in a servlet container the ThreadLocal values stored will not be released once the request finishes.&lt;/p&gt;

&lt;p&gt;There needs to be a method to clear these values otherwise the data will leak into the next request.&lt;/p&gt;

&lt;p&gt;This was detected with tomcat 6.0.26. Upon undeploying an app that uses commons vfs tomcat detects the leaks with a huge amount of the following messages:&lt;/p&gt;

&lt;p&gt;A web application created a ThreadLocal with key of type &lt;span class=&quot;error&quot;&gt;&amp;#91;java.lang.ThreadLocal&amp;#93;&lt;/span&gt; (value &lt;span class=&quot;error&quot;&gt;&amp;#91;java.lang.ThreadLocal@52fb241d&amp;#93;&lt;/span&gt;) and a value of type &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.commons.vfs.provider.FileContentThreadData&amp;#93;&lt;/span&gt; (value &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.commons.vfs.provider.FileContentThreadData@6600167a&amp;#93;&lt;/span&gt;) but failed to remove it when the web application was stopped. To prevent a memory leak, the ThreadLocal has been forcibly removed.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Tomcat servlet container&lt;/p&gt;</environment>
        <key id="12465113">VFS-309</key>
            <summary>ThreadLocal memory leak in DefaultFileContent</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="b.eckenfels">Bernd Eckenfels</assignee>
                                    <reporter username="jontro">jontro</reporter>
                        <labels>
                    </labels>
                <created>Fri, 21 May 2010 12:08:49 +0000</created>
                <updated>Thu, 19 May 2016 18:25:59 +0000</updated>
                            <resolved>Thu, 11 Dec 2014 15:44:05 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="12927427" author="ralph.goers@dslextreme.com" created="Tue, 2 Nov 2010 14:19:44 +0000"  >&lt;p&gt;DefaultFileContent.close() will remove the ThreadData, however a subsequent call to isOpen() would proceed to add a new Object to the ThreadLocal since getThreadData() unconditionally adds one. &lt;/p&gt;</comment>
                            <comment id="12927454" author="jontro" created="Tue, 2 Nov 2010 15:05:06 +0000"  >&lt;p&gt;I was not aware of being required to call that method. Is it possible to do this when closing the input/outputstream aswell?&lt;/p&gt;</comment>
                            <comment id="12989095" author="godot" created="Tue, 1 Feb 2011 08:35:29 +0000"  >&lt;p&gt;In the case of getting a zip file the workaround with DefaultFileContent.close() does not work as for all files within the zip file the ThreadLocal object is still valid and will not deleted by gc.&lt;/p&gt;</comment>
                            <comment id="13149797" author="jontro" created="Mon, 14 Nov 2011 18:16:32 +0000"  >&lt;p&gt;This is still an issue. Why even store it in a ThreadLocal at all, it could be implemented with a custom class for storing it like described in this article:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://blog.maxant.co.uk/pebble/2008/09/23/1222200780000.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://blog.maxant.co.uk/pebble/2008/09/23/1222200780000.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It also would be nice to be able to clear this per thread after a request has been made in a request filter.&lt;/p&gt;</comment>
                            <comment id="13976849" author="golion" created="Tue, 22 Apr 2014 14:43:14 +0000"  >&lt;p&gt;I tracked down a problem we were having that appears to be this bug.  Turns out the ThreadLocal class can put more than one value it it&apos;s map if the same object in the same thread adds a value more than once.  &lt;/p&gt;

&lt;p&gt;What should fix this is in the close() method instead of calling:&lt;br/&gt;
threadData.set(null);&lt;/p&gt;

&lt;p&gt;the line should instead look like this:&lt;br/&gt;
threadData.remove();&lt;/p&gt;

&lt;p&gt;The set(null) method will either set the &quot;exact&quot; key matching value to null, or add a new entry, leaving all other map entries for the owning Object instance in the Thread until the thread ends.  The remove() method attempts to remove all the entries for the instance, not just the exact match, though I admit I don&apos;t (atm) entirely understand how it does that.&lt;/p&gt;</comment>
                            <comment id="14215214" author="golion" created="Mon, 17 Nov 2014 21:33:12 +0000"  >&lt;p&gt;Attaching same patch as I just attached to the related issue.&lt;/p&gt;</comment>
                            <comment id="14215696" author="b.eckenfels" created="Tue, 18 Nov 2014 04:34:09 +0000"  >&lt;p&gt;As commented in &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-142&quot; title=&quot;Clear ThreadData after all streams are closed, fixes a memory leak&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-142&quot;&gt;&lt;del&gt;VFS-142&lt;/del&gt;&lt;/a&gt; there are two problems. One is leaking when you close the file content, this is fixed by the (attached and commited) patch. However the other problem is, that even when all streams are closed, the FileContentThreadData is not removed (there has been a patch but it seems to be not fully commited to VFS2).&lt;/p&gt;

&lt;p&gt;I suggest closing &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-142&quot; title=&quot;Clear ThreadData after all streams are closed, fixes a memory leak&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-142&quot;&gt;&lt;del&gt;VFS-142&lt;/del&gt;&lt;/a&gt; to document the setNull()-&amp;gt;remove() fix and keep this bug about the need (and impossibility in some cases) for closing FileContent.&lt;/p&gt;</comment>
                            <comment id="14231761" author="b.eckenfels" created="Tue, 2 Dec 2014 17:16:36 +0000"  >&lt;p&gt;This close-on-close.patch does deal wit removing ThreadLocalState when only (all) streams are closed but not Filecontent.close(). It also reduces generation of new threadlocals a bit and synchronizes state changes. It also makes sure the FileContent.close() always tries to close all streams before reporting an error. What do you think?&lt;/p&gt;</comment>
                            <comment id="14232713" author="b.eckenfels" created="Wed, 3 Dec 2014 07:29:31 +0000"  >&lt;p&gt;Ah, need to provide a new version. This uses synchronized on the threadlocal creation for no good reason, it cannot be concurrent by definition.&lt;/p&gt;</comment>
                            <comment id="14233020" author="b.eckenfels" created="Wed, 3 Dec 2014 14:11:59 +0000"  >&lt;p&gt;So, this (close-on-close_v02.patch) is the patch I plan to commit. Any comments?&lt;/p&gt;</comment>
                            <comment id="14242703" author="b.eckenfels" created="Thu, 11 Dec 2014 15:44:05 +0000"  >&lt;p&gt;Commited Fix with &lt;a href=&quot;http://svn.apache.org/r1644682&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1644682&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15022182" author="carl krick" created="Mon, 23 Nov 2015 14:45:11 +0000"  >&lt;p&gt;Hello,&lt;br/&gt;
Do we know when this is going to be released?&lt;/p&gt;

&lt;p&gt;Regards&lt;/p&gt;</comment>
                            <comment id="15291783" author="b.eckenfels" created="Thu, 19 May 2016 18:25:58 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12369265">VFS-142</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12684900" name="close-on-close_v02.patch" size="10641" author="b.eckenfels" created="Wed, 3 Dec 2014 14:11:59 +0000"/>
                            <attachment id="12681997" name="threadlocal_setNull_vs_remove_bug.patch" size="493" author="Golion" created="Mon, 17 Nov 2014 21:33:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200351</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i14pw7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>235660</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-308] getLastModifiedTime() returns 0 in the case of Danish Locale</title>
                <link>https://issues.apache.org/jira/browse/VFS-308</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;When we try to create a file and access its lastModifiedTime for US locale returns correct long value.&lt;br/&gt;
But in the case of Danish Locale it returns always &quot;0&quot; for the month of May.&lt;/p&gt;</description>
                <environment>&lt;p&gt;OS:Solaris&lt;br/&gt;
Locale:Danish&lt;br/&gt;
Common-VFS-patch 3&lt;/p&gt;</environment>
        <key id="12464229">VFS-308</key>
            <summary>getLastModifiedTime() returns 0 in the case of Danish Locale</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="manju.alc">Manju</reporter>
                        <labels>
                            <label>Danish</label>
                            <label>Locale</label>
                    </labels>
                <created>Tue, 11 May 2010 10:41:12 +0000</created>
                <updated>Sat, 17 May 2014 01:41:14 +0000</updated>
                            <resolved>Sat, 17 May 2014 01:41:14 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12866189" author="ralph.goers@dslextreme.com" created="Tue, 11 May 2010 15:59:32 +0000"  >&lt;p&gt;Please provide a test case to reproduce the problem or a patch if you have one.&lt;/p&gt;</comment>
                            <comment id="12868176" author="manju.alc" created="Mon, 17 May 2010 11:32:28 +0000"  >&lt;p&gt;We use&lt;br/&gt;
TZ=Turkey&lt;br/&gt;
CMASK=022&lt;br/&gt;
LC_COLLATE=da_DK.ISO8859-1&lt;br/&gt;
LC_CTYPE=da_DK.ISO8859-1&lt;br/&gt;
LC_MESSAGES=C&lt;br/&gt;
LC_MONETARY=da_DK.ISO8859-1&lt;br/&gt;
LC_NUMERIC=da_DK.ISO8859-1&lt;br/&gt;
LC_TIME=da_DK.ISO8859-1&lt;/p&gt;</comment>
                            <comment id="12868178" author="manju.alc" created="Mon, 17 May 2010 11:36:05 +0000"  >&lt;p&gt;We implemented VFS as attached form .&lt;br/&gt;
Testcase to reproduce :&lt;/p&gt;

&lt;p&gt;1.Use Us locale and create a file now use lastModifiedtime to get its long value.&lt;br/&gt;
2.Now change the locale to given one and reboot it &lt;br/&gt;
3.Now create a new file in May month and check its last Modified time.&lt;br/&gt;
It will return 0.&lt;/p&gt;</comment>
                            <comment id="14000597" author="b.eckenfels" created="Sat, 17 May 2014 01:41:14 +0000"  >&lt;p&gt;Your testcase is not using VFS lastModified but normal Java File API. Also it looks like it will return 0 when you turn debugging on. I can also see no local specific code in getting the lastModified time on the LocalFileSystem, therefore I close this bug. Please feel free to reopen it, if you have more details about this problem.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12444661" name="VfsTest.java" size="1678" author="manju.alc" created="Mon, 17 May 2010 11:36:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200350</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 24 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8pj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303004</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-306] FileObject moveTo failed due nonexistent file</title>
                <link>https://issues.apache.org/jira/browse/VFS-306</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;The FileObject moveTo method should delete the destFile if it exists. But if the destFile is out of sync deletion will fail and throws an exception. &lt;/p&gt;

&lt;p&gt;But if I want to delete a file which does not exist should not throw an exception cause thats just what I want.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12463001">VFS-306</key>
            <summary>FileObject moveTo failed due nonexistent file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="hbmann">Hauke Rabe</reporter>
                        <labels>
                    </labels>
                <created>Mon, 26 Apr 2010 08:52:22 +0000</created>
                <updated>Mon, 26 Apr 2010 08:52:22 +0000</updated>
                                            <version>1.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200348</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 28 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8o7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302998</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-305] [FTP] Support FTP servers with non Latin-1 control encoding</title>
                <link>https://issues.apache.org/jira/browse/VFS-305</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;It should be possible to set the client.setControlEncoding with a sensible value.&lt;/p&gt;

&lt;p&gt;Being able to set that value is a must, but a FTPClient (commons-net) that somehow can detect what control encoding is used, would automagically solve a lot of issues. FileZilla automatically detects that Alfresco&apos;s FTP server is doing UTF8.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Java client talking to Java FTP server (Alfresco)&lt;/p&gt;</environment>
        <key id="12460229">VFS-305</key>
            <summary>[FTP] Support FTP servers with non Latin-1 control encoding</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tbee">Tom</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Mar 2010 13:22:58 +0000</created>
                <updated>Wed, 16 May 2012 14:18:28 +0000</updated>
                            <resolved>Tue, 2 Nov 2010 14:32:18 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>2</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="12920925" author="polivenok" created="Thu, 14 Oct 2010 11:24:16 +0000"  >&lt;p&gt;Attached patch. After applying you will able to set encoding using:&lt;br/&gt;
FtpFileSystemConfigBuilder.getInstance().setControlEncoding(opts, &quot;UTF-8&quot;);&lt;/p&gt;</comment>
                            <comment id="12927434" author="ralph.goers@dslextreme.com" created="Tue, 2 Nov 2010 14:32:18 +0000"  >&lt;p&gt;I reviewed and applied the patch. Please review and close.&lt;/p&gt;</comment>
                            <comment id="12930158" author="polivenok" created="Tue, 9 Nov 2010 15:19:54 +0000"  >&lt;p&gt;Faced issue related to invoking commands on files with non UTF encoding (create, rename, move, etc..) :&lt;br/&gt;
Commons-net control buffer readers and writers were initialized with DEFAULT_CONTROL_ENCODING = &quot;ISO-8859-1&quot; before setting encoding in FtpClientFactory, so I moved setting control encoding before connect method which creates &lt;em&gt;controlInput&lt;/em&gt;,&lt;em&gt;controlOutput&lt;/em&gt; in FTP class&lt;br/&gt;
patch - &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-305&quot; title=&quot;[FTP] Support FTP servers with non Latin-1 control encoding&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-305&quot;&gt;&lt;del&gt;VFS-305&lt;/del&gt;&lt;/a&gt;(commands).patch&lt;/p&gt;</comment>
                            <comment id="13272320" author="vbonamy" created="Thu, 10 May 2012 13:34:53 +0000"  >&lt;p&gt;It would be great to reopen this issue : today the bug is not resolved in fact  on VFS2 (tag and trunk version).&lt;br/&gt;
I had to apply the last patch given by Dmytro Polivenok (cf his last comment which is very clear, thanks for that) so that it works correctly.&lt;br/&gt;
So please review and apply this patch  &lt;span class=&quot;error&quot;&gt;&amp;#91;attached in this issue with the name &amp;quot;VFS-305(commands).patch&amp;quot; &amp;#93;&lt;/span&gt; so that we can use UTF8 FTP server with VFS2.&lt;br/&gt;
Thanks.&lt;/p&gt;</comment>
                            <comment id="13276760" author="garydgregory" created="Wed, 16 May 2012 14:18:28 +0000"  >&lt;p&gt;Closing as shipped with 2.0.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                                                <inwardlinks description="is cloned by">
                                        <issuelink>
            <issuekey id="12554682">VFS-413</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12459162" name="VFS-305(commands).patch" size="1253" author="polivenok" created="Tue, 9 Nov 2010 15:19:54 +0000"/>
                            <attachment id="12457148" name="VFS-305.patch" size="2205" author="polivenok" created="Thu, 14 Oct 2010 11:24:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200347</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 25 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1390f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>227090</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-303] Source JAR file is not deployed</title>
                <link>https://issues.apache.org/jira/browse/VFS-303</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;The source JAR files are not being deployed on the maven repository. This is probably due to the plugin&apos;s configuration:&lt;/p&gt;

&lt;p&gt;&amp;lt;executions&amp;gt;&lt;br/&gt;
          &amp;lt;execution&amp;gt;&lt;br/&gt;
            &amp;lt;id&amp;gt;attach-sources&amp;lt;/id&amp;gt;&lt;br/&gt;
            &amp;lt;phase&amp;gt;install&amp;lt;/phase&amp;gt;&lt;br/&gt;
            &amp;lt;goals&amp;gt;&lt;br/&gt;
              &amp;lt;goal&amp;gt;jar&amp;lt;/goal&amp;gt;&lt;br/&gt;
            &amp;lt;/goals&amp;gt;&lt;br/&gt;
          &amp;lt;/execution&amp;gt;&lt;br/&gt;
        &amp;lt;/executions&amp;gt;&lt;/p&gt;

&lt;p&gt;The &amp;lt;phase&amp;gt; should be &quot;package&quot; instead of &quot;install&quot;. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12458683">VFS-303</key>
            <summary>Source JAR file is not deployed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="plaflamme">Philippe Laflamme</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Mar 2010 16:27:31 +0000</created>
                <updated>Wed, 23 May 2012 21:36:53 +0000</updated>
                            <resolved>Wed, 23 May 2012 21:36:52 +0000</resolved>
                                    <version>2.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13281938" author="tn" created="Wed, 23 May 2012 21:36:53 +0000"  >&lt;p&gt;The source jars are available from the standard maven repository, see &lt;a href=&quot;http://repo1.maven.org/maven2/org/apache/commons/commons-vfs2/2.0/commons-vfs2-2.0-sources.jar&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://repo1.maven.org/maven2/org/apache/commons/commons-vfs2/2.0/commons-vfs2-2.0-sources.jar&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200346</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 24 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i138gv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>227002</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-302] FTP Filename Encoding</title>
                <link>https://issues.apache.org/jira/browse/VFS-302</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;I tried to copy a file like &quot;m&#252;nchen.jpeg&quot; using VFS to a remote ftp server, which resulted in a wrong encoded filename on the server.&lt;/p&gt;

&lt;p&gt;See also a similar issue from the commons-fileupload project: &lt;a href=&quot;http://issues.apache.org/jira/browse/FILEUPLOAD-56&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/browse/FILEUPLOAD-56&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Forgive my newbieness on VFS, but I would really appreciate a solution.&lt;/p&gt;

&lt;p&gt;I tried something that worked, but it really seems like a dirty trick:&lt;/p&gt;

&lt;p&gt;String encodedFilename = new String(filename.getBytes(), &quot;ISO-8859-1&quot;);&lt;/p&gt;</description>
                <environment>&lt;p&gt;Linux, vsftpd&lt;/p&gt;</environment>
        <key id="12457855">VFS-302</key>
            <summary>FTP Filename Encoding</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="lichter">Oliver Tupran</reporter>
                        <labels>
                            <label>encoding</label>
                            <label>internationalization</label>
                            <label>rfc2640</label>
                            <label>utf8</label>
                    </labels>
                <created>Tue, 2 Mar 2010 13:13:54 +0000</created>
                <updated>Wed, 27 Jul 2016 21:04:36 +0000</updated>
                            <resolved>Sun, 25 Sep 2011 16:28:04 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12848128" author="alkmanas" created="Mon, 22 Mar 2010 13:52:20 +0000"  >&lt;p&gt;I had the same problem with greek file names with FTP. I solved it by adding the following line : client.setControlEncoding(&quot;utf-8&quot;) in the org.apache.commons.vfs.provider.ftp.FtpClientFactory&apos;s method &quot;createConnection(....)&quot;. It worked and now i can handle files with greek file names on a ftp server.&lt;/p&gt;</comment>
                            <comment id="12848131" author="alkmanas" created="Mon, 22 Mar 2010 13:56:27 +0000"  >&lt;p&gt;this is the modified &quot;FtpClientFactory&quot; class. I hope it will solve the problem with the encoding&lt;/p&gt;</comment>
                            <comment id="12920614" author="benoit@synclude.com" created="Wed, 13 Oct 2010 15:48:54 +0000"  >&lt;p&gt;I like Nikos&apos; solution: it&apos;s simple and to the point. In case people want more control, however, a more involved solution would be to allow configuration of the client via org.apache.commons.vfs.provider.ftp.FtpFileSystemConfigBuilder. This is how VFS users can externally configure other properties such as timeout. FtpFileSystemConfigBuilder would then need new getter/setter for &quot;controlEncoding&quot;.&lt;/p&gt;

&lt;p&gt;Please consider either solution in a future release. The current situation makes VFS unusable outside US-ASCII-encoded file names, even though the underlying FTP library supports it.&lt;/p&gt;</comment>
                            <comment id="13114289" author="ralph.goers@dslextreme.com" created="Sun, 25 Sep 2011 16:28:04 +0000"  >&lt;p&gt;This is a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-305&quot; title=&quot;[FTP] Support FTP servers with non Latin-1 control encoding&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-305&quot;&gt;&lt;del&gt;VFS-305&lt;/del&gt;&lt;/a&gt; which has already been fixed. The encoding can be specified in the ConfigBuilder.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12439458" name="Modified_FtpClientFactory.java" size="4924" author="alkmanas" created="Mon, 22 Mar 2010 13:56:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3459</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 6 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i138cn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226983</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-301] MonitorInputStream doesn&apos;t correctly support &apos;mark&apos;</title>
                <link>https://issues.apache.org/jira/browse/VFS-301</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Message I posted on the mailing list on Sat, 20 Feb, 14:37 (dev-118064)&lt;br/&gt;
and Ralph Goers answered to create a jira (dev-118068 )&lt;/p&gt;

&lt;p&gt;Here is a serious issue in the&lt;br/&gt;
org.apache.commons.vfs.util.MonitorInputStream (and so it is also in&lt;br/&gt;
org.apache.commons.vfs.provider.DefaultFileContent$FileContentInputStream)&lt;/p&gt;

&lt;p&gt;FileContentInputStream extends MonitorInputStream extends BufferedInputStream&lt;br/&gt;
So they support &amp;lt; mark &amp;gt; (stream.markSupported() returns true)&lt;br/&gt;
But in MonitorInputStream.read(), when reaching the end of the stream, there is a call to close() regardless if &apos;mark&apos; is positioned.&lt;br/&gt;
To respect BufferedInputStream specifications we shouldn&apos;t close the stream in order to be able to call reset() on the stream and return in the state it was when we called mark().&lt;/p&gt;

&lt;p&gt;Usually doing the folowing before using mark feature :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!stream.markSupported()) {
    stream = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; BufferedInputStream(stream);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Won&apos;t work with a VFS stream.&lt;/p&gt;

&lt;p&gt;So what i did :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!stream.markSupported() || stream &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; MonitorInputStream) { &lt;span class=&quot;code-comment&quot;&gt;//Hack to solve a VFS issue
&lt;/span&gt;    stream = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; BufferedInputStream(stream);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I inform you also that in the BufferedInputStream.close() doc, it&apos;written :&lt;br/&gt;
&quot; Once the stream has been closed, further read(), available(), reset(), or skip() invocations will throw an IOException. &quot;&lt;br/&gt;
And in the MonitorInputStream, if we call read() after close() it returns &apos;-1&apos;.&lt;br/&gt;
Thank you in advance for solving this issue (may be somewhat difficult not to break compatibility with code that uses this specific usage)&lt;/p&gt;

&lt;p&gt;IMHO,&lt;br/&gt;
I think &quot;end-of-stream monitoring&quot; doesn&apos;t mean &quot;close when reach the end&quot; but should mean &quot;propose a way to execute some code when reaching the end&quot; but anyway if we put a call to close() in this code it breaks the habillity to call reset().&lt;br/&gt;
As this class consequently modify the comportment from the super class it should be more documented and explain what it does.&lt;br/&gt;
I would say that this class is currently doing &quot;end-of-stream autoClose and after-close monitoring&quot;.&lt;br/&gt;
Maybe it shouldn&apos;t extends BufferedInputStream to avoid confusion and don&apos;t try to support &apos;mark&apos; (respond false in markSupported()) as it doesn&apos;t seem to serve internally in VFS Project. (Can a power-developer of VFS confirm it ?)&lt;/p&gt;

&lt;p&gt;Regards,&lt;br/&gt;
KERDUDOU Ronan&lt;/p&gt;</description>
                <environment></environment>
        <key id="12457093">VFS-301</key>
            <summary>MonitorInputStream doesn&apos;t correctly support &apos;mark&apos;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="otto">Otto Fowler</assignee>
                                    <reporter username="ronanker">Ronan KERDUDOU</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 Feb 2010 23:30:29 +0000</created>
                <updated>Wed, 7 Nov 2018 17:57:13 +0000</updated>
                            <resolved>Wed, 16 May 2018 16:08:31 +0000</resolved>
                                    <version>1.0</version>
                    <version>2.0</version>
                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="21600">6h</timeoriginalestimate>
                            <timeestimate seconds="21600">6h</timeestimate>
                                        <comments>
                            <comment id="12837004" author="ronanker" created="Tue, 23 Feb 2010 00:19:28 +0000"  >&lt;p&gt;Quick link to File concerned :&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/repos/asf/commons/proper/vfs/trunk/core/src/main/java/org/apache/commons/vfs/util/MonitorInputStream.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/commons/proper/vfs/trunk/core/src/main/java/org/apache/commons/vfs/util/MonitorInputStream.java&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="12934899" author="ronanker" created="Tue, 23 Nov 2010 17:04:09 +0000"  >&lt;p&gt;Update of the link to File concerned (package rename for vfs2) :&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/repos/asf/commons/proper/vfs/trunk/core/src/main/java/org/apache/commons/vfs2/util/MonitorInputStream.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/commons/proper/vfs/trunk/core/src/main/java/org/apache/commons/vfs2/util/MonitorInputStream.java&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16375578" author="ottobackwards" created="Sat, 24 Feb 2018 13:54:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-614&quot; title=&quot;MonitorInputStream should not close the stream in read()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-614&quot;&gt;&lt;del&gt;VFS-614&lt;/del&gt;&lt;/a&gt; has a PR&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12978650">VFS-614</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12365812">VFS-119</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12978650">VFS-614</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200345</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 35 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i16t7z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>247866</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-300] CLONE -FileObject..getName().getURI() returns URIs with spaces</title>
                <link>https://issues.apache.org/jira/browse/VFS-300</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;File names with spaces and &apos;#&apos;. AFAIK spaces are not allowed in URIs and # will be interpreted as an URI fragment.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12456332">VFS-300</key>
            <summary>CLONE -FileObject..getName().getURI() returns URIs with spaces</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="palinf">PalinF</reporter>
                        <labels>
                    </labels>
                <created>Mon, 15 Feb 2010 15:30:46 +0000</created>
                <updated>Mon, 15 Feb 2010 15:38:03 +0000</updated>
                            <resolved>Mon, 15 Feb 2010 15:38:03 +0000</resolved>
                                    <version>2.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12833849" author="palinf" created="Mon, 15 Feb 2010 15:32:53 +0000"  >&lt;p&gt;On 2.0-SNAPSHOT&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                            <outwardlinks description="is a clone of">
                                        <issuelink>
            <issuekey id="12392346">VFS-203</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200344</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 38 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05jn3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30279</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-299] Listeners on DefaultFileMonitor not deregistered on stop()</title>
                <link>https://issues.apache.org/jira/browse/VFS-299</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;If I &lt;br/&gt;
1. register a File to a DefaultFileMonitor&lt;br/&gt;
2. stop() that DefaultFileMonitor&lt;br/&gt;
3. create a new DefaultFileMonitor and&lt;br/&gt;
4. register the same File to it&lt;br/&gt;
5. write to the File&lt;/p&gt;

&lt;p&gt;I get the &lt;tt&gt;FileChangeEvent&lt;/tt&gt; on both listeners, on the one registered to the new DefaultFileMonitor (as expected) but also on the one registered to the stopped DefaultFileMonitor. I tracked it down to the &lt;tt&gt;LocalFileSystem.listenerMap&lt;/tt&gt; containing both listeners for the File. In my project I fixed this behaviour as follows:&lt;/p&gt;

&lt;p&gt;Extended the &lt;tt&gt;stop()&lt;/tt&gt; method on &lt;tt&gt;DefaultFileMonitor&lt;/tt&gt;:&lt;/p&gt;

&lt;p&gt;public void stop() {&lt;br/&gt;
    this.shouldRun = false;&lt;br/&gt;
	// Inserted this bit&lt;br/&gt;
	for (FileMonitorAgent agent : (Collection&amp;lt;FileMonitorAgent&amp;gt;)monitorMap.values()) &lt;/p&gt;
{
		agent.removeListeners();
	}
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;And adding the method to the &lt;tt&gt;DefaultFileMonitor$FileMonitorAgent&lt;/tt&gt;:&lt;/p&gt;

&lt;p&gt;public void removeListeners() {&lt;br/&gt;
	file.getFileSystem().removeListener(file, fm.getFileListener());&lt;br/&gt;
}&lt;/p&gt;</description>
                <environment>&lt;p&gt;windows xp&lt;/p&gt;</environment>
        <key id="12456048">VFS-299</key>
            <summary>Listeners on DefaultFileMonitor not deregistered on stop()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="josua.troesch">Josua Troesch</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Feb 2010 18:07:28 +0000</created>
                <updated>Wed, 9 Oct 2019 13:36:39 +0000</updated>
                                            <version>1.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="12832610" author="josua.troesch" created="Thu, 11 Feb 2010 18:12:58 +0000"  >&lt;p&gt;&lt;em&gt;Here some example Code to clarify:&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;import org.apache.commons.io.FileUtils;&lt;br/&gt;
import org.apache.commons.vfs.FileChangeEvent;&lt;br/&gt;
import org.apache.commons.vfs.FileListener;&lt;br/&gt;
import org.apache.commons.vfs.FileObject;&lt;br/&gt;
import org.apache.commons.vfs.VFS;&lt;br/&gt;
import org.apache.commons.vfs.impl.DefaultFileMonitor;&lt;/p&gt;

&lt;p&gt;import java.io.File;&lt;br/&gt;
import java.io.IOException;&lt;/p&gt;

&lt;p&gt;public class MinimalFileMonitorBug {&lt;br/&gt;
    private static final String path = &quot;dummy.txt&quot;;&lt;/p&gt;

&lt;p&gt;    public static void main(String[] args) throws IOException, InterruptedException &lt;/p&gt;
{
        MyFileListener listener1 = new MyFileListener();
        DefaultFileMonitor fileMonitor = new DefaultFileMonitor(listener1);
        fileMonitor.addFile(getFileObject());
        fileMonitor.start();
        // Normal operation ...
        fileMonitor.stop();
        // Deliberately writing on file without getting notified.
        MyFileListener listener2 = new MyFileListener();
        fileMonitor = new DefaultFileMonitor(listener2);
        fileMonitor.addFile(getFileObject());
        fileMonitor.start();
        Thread.sleep(1500);
        FileUtils.writeStringToFile(getFile(), &quot;new content&quot;);
        Thread.sleep(1500);
    }

&lt;p&gt;    private static FileObject getFileObject() throws IOException &lt;/p&gt;
{
        return VFS.getManager().resolveFile(getFile().getAbsolutePath());
    }

&lt;p&gt;    private static File getFile() throws IOException {&lt;br/&gt;
        File file = new File(path);&lt;br/&gt;
        if (!file.exists()) &lt;/p&gt;
{
            file.createNewFile();
        }
&lt;p&gt;        return file;&lt;br/&gt;
    }&lt;/p&gt;

&lt;p&gt;    static class MyFileListener implements FileListener {&lt;br/&gt;
        @Override&lt;br/&gt;
        public void fileCreated(FileChangeEvent fileChangeEvent) throws Exception {&lt;br/&gt;
        }&lt;/p&gt;

&lt;p&gt;        @Override&lt;br/&gt;
        public void fileDeleted(FileChangeEvent fileChangeEvent) throws Exception {&lt;br/&gt;
        }&lt;/p&gt;

&lt;p&gt;        @Override&lt;br/&gt;
        public void fileChanged(FileChangeEvent fileChangeEvent) throws Exception &lt;/p&gt;
{
            System.out.println(String.format(&quot;File [%s] changed event from [%s]&quot;, fileChangeEvent.getFile().getName(), this));
        }
&lt;p&gt;    }&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Output:&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;File &lt;a href=&quot;file:///E:/test/dummy.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:///E:/test/dummy.txt&lt;/a&gt; changed event from &lt;span class=&quot;error&quot;&gt;&amp;#91;MinimalFileMonitorBug$MyFileListener@14b7453&amp;#93;&lt;/span&gt;&lt;br/&gt;
File &lt;a href=&quot;file:///E:/test/dummy.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:///E:/test/dummy.txt&lt;/a&gt; changed event from &lt;span class=&quot;error&quot;&gt;&amp;#91;MinimalFileMonitorBug$MyFileListener@c21495&amp;#93;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="16944384" author="falcod" created="Fri, 4 Oct 2019 10:27:38 +0000"  >&lt;p&gt;Despite being more than nine years old, I believe this issue still relevant. I took the liberty to archive above example code in a runnable example project: &lt;a href=&quot;https://github.com/f4lco/vfs-repro/blob/master/src/test/java/vfs/MinimalFileMonitorBug.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/f4lco/vfs-repro/blob/master/src/test/java/vfs/MinimalFileMonitorBug.java&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To my opinion, I do not know if &lt;tt&gt;stop&lt;/tt&gt; should remove the listeners. This would remove the functionality to pause listening for file events using &lt;tt&gt;stop&lt;/tt&gt;, and to resume listening for the same files with &lt;tt&gt;start&lt;/tt&gt; (without re-registration of said files).&lt;/p&gt;

&lt;p&gt;If a method removed filesystem listeners, it should be &lt;tt&gt;removeFile&lt;/tt&gt;. This appears logical to me, since &lt;tt&gt;addFile&lt;/tt&gt; registered the filesystem listener.&lt;br/&gt;
In fact, adding, removing, and re-adding file registrations to the file monitor triggers doubles the change events as demonstrated in &lt;a href=&quot;https://github.com/f4lco/vfs-repro/blob/master/src/test/java/vfs/FileMonitorAddRemoveTest.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/f4lco/vfs-repro/blob/master/src/test/java/vfs/FileMonitorAddRemoveTest.java&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Suggestions:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Let &lt;tt&gt;DefaultFileMonitor#removeFile&lt;/tt&gt; remove the file system listener.&lt;/li&gt;
	&lt;li&gt;Decide what happens on &lt;tt&gt;DefaultFileMonitor#stop&lt;/tt&gt;:
	&lt;ul&gt;
		&lt;li&gt;Keep the current state: it&apos;s duty of the client code to remove all file registrations after calling &lt;tt&gt;stop&lt;/tt&gt; &lt;b&gt;or&lt;/b&gt;&lt;/li&gt;
		&lt;li&gt;Alter behavior and make &lt;tt&gt;stop&lt;/tt&gt; remove all registrations of watched files using (fixed) &lt;tt&gt;removeFile&lt;/tt&gt; (with implications described above)&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;

</comment>
                            <comment id="16945198" author="garydgregory" created="Sun, 6 Oct 2019 00:45:13 +0000"  >&lt;p&gt;Hi&#160;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=josua.troesch&quot; class=&quot;user-hover&quot; rel=&quot;josua.troesch&quot;&gt;josua.troesch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;May you please provide a failing unit test as a PR on GitHub so we can really see what you found...&lt;/p&gt;

&lt;p&gt;Gary&lt;/p&gt;</comment>
                            <comment id="16945611" author="falcod" created="Mon, 7 Oct 2019 06:12:21 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ggregory&quot; class=&quot;user-hover&quot; rel=&quot;ggregory&quot;&gt;ggregory&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;I have doubts &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=josua.troesch&quot; class=&quot;user-hover&quot; rel=&quot;josua.troesch&quot;&gt;josua.troesch&lt;/a&gt;&#160;is still listening in after years of inactivity. I commented on this issue because I believe it&apos;s still relevant and my problem has a common root cause: not removing filesystem listeners.&lt;/p&gt;

&lt;p&gt;I&apos;m unsure what to do about your request. In the previous comment, I linked a GitHub repository of mine whose sole purpose is to provide a minimal, executable examples for this issue. You&apos;ll find &lt;a href=&quot;https://github.com/f4lco/vfs-repro/blob/master/src/test/java/vfs/MinimalFileMonitorBug.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Josua&apos;s original example program&lt;/a&gt;&#160;as well as my &lt;a href=&quot;https://github.com/f4lco/vfs-repro/blob/master/src/test/java/vfs/FileMonitorAddRemoveTest.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;simplified version&lt;/a&gt;&#160;exposing the same issue, which in fact is a unit test. If you experience any troubles reproducing, let me know.&lt;/p&gt;</comment>
                            <comment id="16945990" author="garydgregory" created="Mon, 7 Oct 2019 16:12:27 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=josua.troesch&quot; class=&quot;user-hover&quot; rel=&quot;josua.troesch&quot;&gt;josua.troesch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The reason for asking for a PR instead of pointing to a URL with some code is for you to provide a test that we can use now as opposed to cherry-picking it from a larger set and rewriting the code to provide a working test. For example, the code at the URL &lt;a href=&quot;https://github.com/f4lco/vfs-repro/blob/master/src/test/java/vfs/FileMonitorAddRemoveTest.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/f4lco/vfs-repro/blob/master/src/test/java/vfs/FileMonitorAddRemoveTest.java&lt;/a&gt;&#160;does not compile since it uses &quot;var&quot;, a Java 10 feature, while Commons VFS is on Java 8.&lt;/p&gt;

&lt;p&gt;Providing a PR minimise the friction and time wasting for bringing new test code into this component and allows maintainers like me to focus on analysis and bug fixing instead of the mechanics of importing and fixing code which includes the risk of changing that code in subtle ways that do not reflect the intent of the original post. We maintain a lot of code in Apache Commons &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Thank you for your understanding,&lt;br/&gt;
Gary&#160;&lt;/p&gt;</comment>
                            <comment id="16947403" author="falcod" created="Wed, 9 Oct 2019 07:09:03 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ggregory&quot; class=&quot;user-hover&quot; rel=&quot;ggregory&quot;&gt;ggregory&lt;/a&gt;, I understand. Please see the two test cases contained in&#160;&lt;a href=&quot;https://github.com/apache/commons-vfs/pull/72&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-vfs/pull/72&lt;/a&gt;. Thank you for your commitment to VFS&#160;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200343</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 3 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8on:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303000</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-298] FTP: Exception is thrown when renaming a file</title>
                <link>https://issues.apache.org/jira/browse/VFS-298</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;java.lang.UnsupportedOperationException&lt;br/&gt;
	at java.util.Collections$UnmodifiableMap.remove(Collections.java:1289)&lt;br/&gt;
	at org.apache.commons.vfs.provider.ftp.FtpFileObject.onChildrenChanged(FtpFileObject.java:288)&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractFileObject.childrenChanged(AbstractFileObject.java:1612)&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractFileObject.notifyParent(AbstractFileObject.java:1633)&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractFileObject.handleDelete(AbstractFileObject.java:1558)&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractFileObject.moveTo(AbstractFileObject.java:1078)&lt;/p&gt;

&lt;p&gt;FtpFileObject.children may be an EMPTY_FTP_FILE_MAP if the last ls() returned empty collection. This is the case for the move untitled36/src/com/test/Base.as -&amp;gt; untitled36/src/Base.as:&lt;/p&gt;

&lt;p&gt;&amp;gt; CWD /opt/lampp/htdocs/ftp_root&lt;br/&gt;
250 Directory successfully changed.&lt;br/&gt;
&amp;gt; RNFR untitled36/src/com/test/Base.as&lt;br/&gt;
350 Ready for RNTO.&lt;br/&gt;
&amp;gt; RNTO untitled36/src/Base.as&lt;br/&gt;
250 Rename successful.&lt;br/&gt;
&amp;gt; PWD&lt;br/&gt;
257 &quot;/opt/lampp/htdocs/ftp_root&quot;&lt;br/&gt;
&amp;gt; CWD untitled36/src/com/test&lt;br/&gt;
250 Directory successfully changed.&lt;br/&gt;
&amp;gt; PORT 192,168,0,112,51,217&lt;br/&gt;
200 PORT command successful. Consider using PASV.&lt;br/&gt;
&amp;gt; LIST&lt;br/&gt;
150 Here comes the directory listing.&lt;br/&gt;
226 Directory send OK.&lt;/p&gt;

&lt;p&gt;(LIST returned no children)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12455187">VFS-298</key>
            <summary>FTP: Exception is thrown when renaming a file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ksafonov">Kirill Safonov</reporter>
                        <labels>
                            <label>PatchAvailable</label>
                    </labels>
                <created>Wed, 3 Feb 2010 16:42:00 +0000</created>
                <updated>Sat, 31 Oct 2020 20:08:53 +0000</updated>
                                            <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13276952" author="garydgregory" created="Wed, 16 May 2012 18:09:42 +0000"  >&lt;p&gt;Can you still reproduce this with the trunk version? See also org.apache.commons.vfs2.test.ProviderRenameTests.testRenameFileAndLeaveFolderEmpty()&lt;/p&gt;</comment>
                            <comment id="13990251" author="woon_san" created="Tue, 6 May 2014 03:47:13 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=garydgregory&quot; class=&quot;user-hover&quot; rel=&quot;garydgregory&quot;&gt;garydgregory&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;I have reproducible code from my application unit test:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    @Test
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testFtpUnsupportedOperationException() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
        &lt;span class=&quot;code-comment&quot;&gt;// testRoot is a FileObject resolved @Before from something like ftp://username:password@localhost/pub/testRoot.
&lt;/span&gt;        FileObject file1 = fileSystemManager.resolveFile(testRoot, &lt;span class=&quot;code-quote&quot;&gt;&quot;sub1/sub2/file1.dat&quot;&lt;/span&gt;);
        file1.createFile();
        FileObject file2 = fileSystemManager.resolveFile(testRoot, &lt;span class=&quot;code-quote&quot;&gt;&quot;sub3/sub4/file2.dat&quot;&lt;/span&gt;);
        file2.getParent().createFolder();
        &lt;span class=&quot;code-comment&quot;&gt;// NOTE: file1 should be re-resolved to reproduce &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; problem.
&lt;/span&gt;        file1 = fileSystemManager.resolveFile(testRoot, &lt;span class=&quot;code-quote&quot;&gt;&quot;sub1/sub2/file1.dat&quot;&lt;/span&gt;);
        file1.moveTo(file2);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then I see the following exception:&lt;/p&gt;

&lt;p&gt;java.lang.UnsupportedOperationException&lt;br/&gt;
	at java.util.Collections$UnmodifiableMap.remove(Collections.java:1286)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.ftp.FtpFileObject.onChildrenChanged(FtpFileObject.java:271)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.AbstractFileObject.childrenChanged(AbstractFileObject.java:240)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.AbstractFileObject.notifyParent(AbstractFileObject.java:1931)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.AbstractFileObject.handleCreate(AbstractFileObject.java:1577)&lt;br/&gt;
	at org.apache.commons.vfs2.provider.AbstractFileObject.moveTo(AbstractFileObject.java:1866)&lt;br/&gt;
...&lt;/p&gt;

&lt;p&gt;When re-resolved, the parent folder such as sub1 and sub2 seem to be imaginary files and so its children member seems unmodifiable. So, removing from unmodifiable children after notification seems to fail.&lt;/p&gt;

&lt;p&gt;Could you take look into it?&lt;/p&gt;

&lt;p&gt;Thanks in advance,&lt;/p&gt;

&lt;p&gt;Woonsan&lt;/p&gt;</comment>
                            <comment id="13990622" author="garydgregory" created="Tue, 6 May 2014 13:17:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=woon_san&quot; class=&quot;user-hover&quot; rel=&quot;woon_san&quot;&gt;woon_san&lt;/a&gt; Thank you for your test case. I cannot take a look ATM, sorry. &lt;/p&gt;

&lt;p&gt;Note that we have a couple other contributors gearing up for a 2.1 release, so providing a patch would help tremendously insuring this gets looked at for 2.1&lt;/p&gt;

&lt;p&gt;Gary&lt;/p&gt;</comment>
                            <comment id="13992329" author="woon_san" created="Wed, 7 May 2014 22:59:01 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;I&apos;m attaching a patch (reproducible test and fix). Please find &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-298&quot; title=&quot;FTP: Exception is thrown when renaming a file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-298&quot;&gt;VFS-298&lt;/a&gt;-patch.txt and take reviews.&lt;/p&gt;

&lt;p&gt;Here&apos;s a summary of the problem:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;FtpFileObject maintains a children cache which is initially null, but retrieved from FTP server only when needed.&lt;/li&gt;
	&lt;li&gt;So, let&apos;s suppose you have a FtpFileObject as folder (e.g, /folder1) and a FtpFileObject as a child file (e.g, /folder1/file1.dat). In this case, if you move the file (the latter FtpFileObject) to somewhere else without changing the parent/child object relationship (e.g, without resolving the folder and file object again from the paths), then because the folder object already has a non-zero-sized children cache, there&apos;s no problem when removing the child file from the folder&apos;s children cache.&lt;/li&gt;
	&lt;li&gt;But, if you resolve the source file again from the path, then the parent folder(s) are also resolved again, but in this case, there&apos;s no children cache in the newly resolved folder object. So, when needed (e.g, #getType() invocation), the children will be retrieved again from the FTP server to fill the children cache.&lt;/li&gt;
	&lt;li&gt;The problem is that, as shown in the stack trace below, FtpFileObject could have an event handler implementation (e.g, #onChildrenChanged()) which wants to make it sure the child file cache removed. But, at this point, the parent folder doesn&apos;t have children cache, but it tries to retrieve children again from the server, resulting an unmodifiable/empty children cache map, which happens just after removing the file in that folder!&lt;br/&gt;
Therefore, it can throw UnsupportedOperationException on unmodifiable empty children cache map.&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;$ mvn -Pftp clean test -Dtest=FtpProviderTestCase
...

testRenameFileAndLeaveFolderEmpty(org.apache.commons.vfs2.test.ProviderRenameTests)  Time elapsed: 0.042 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.lang.UnsupportedOperationException: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
	at java.util.Collections$UnmodifiableMap.remove(Collections.java:1286)
	at org.apache.commons.vfs2.provider.ftp.FtpFileObject.onChildrenChanged(FtpFileObject.java:272)
	at org.apache.commons.vfs2.provider.AbstractFileObject.childrenChanged(AbstractFileObject.java:240)
	at org.apache.commons.vfs2.provider.AbstractFileObject.notifyParent(AbstractFileObject.java:1931)
	at org.apache.commons.vfs2.provider.AbstractFileObject.handleCreate(AbstractFileObject.java:1577)
	at org.apache.commons.vfs2.provider.AbstractFileObject.moveTo(AbstractFileObject.java:1866)
	at org.apache.commons.vfs2.test.ProviderRenameTests.testRenameFileAndLeaveFolderEmpty(ProviderRenameTests.java:146)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So, solution is simple. Because it&apos;s just a children cache, you can simply ignore removing a child object if the children cache is just empty.&lt;/p&gt;

&lt;p&gt;Please review the patch.&lt;/p&gt;

&lt;p&gt;Cheers,&lt;/p&gt;

&lt;p&gt;Woonsan&lt;/p&gt;</comment>
                            <comment id="14494061" author="fiveo" created="Tue, 14 Apr 2015 12:51:30 +0000"  >&lt;p&gt;Patch and Testcase is provided. Please commit this to the trunk and resolve the issue.&lt;/p&gt;</comment>
                            <comment id="14876416" author="simon04" created="Fri, 18 Sep 2015 21:08:45 +0000"  >&lt;p&gt;+1. This patch fixes this one bug and does not change behaviour. Should be easy+safe to apply.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12643870" name="VFS-298-patch.txt" size="3617" author="woon_san" created="Wed, 7 May 2014 22:59:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200342</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8mf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302990</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-297] New instance of SftpFileSystem is created every time due to the bug in FileSystemOptions.compareTo()</title>
                <link>https://issues.apache.org/jira/browse/VFS-297</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;FileSystemOptions.compareTo() uses TreeMap&apos;s hashcode. This is not appropriate if map contains array instances since Array&apos;s equals() merely checks ==  (so that &lt;tt&gt;new Array&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;.equals(new Array&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;)&lt;/tt&gt; is false).&lt;/p&gt;

&lt;p&gt;So when I configure FileSystemOptions like {{SftpFileSystemConfigBuilder.getInstance().setIdentities(options, new File[]&lt;/p&gt;
{new File(privateKeyFile)}
&lt;p&gt;)}} I never get filesystem instance reused.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12455093">VFS-297</key>
            <summary>New instance of SftpFileSystem is created every time due to the bug in FileSystemOptions.compareTo()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="joehni">Joerg Schaible</assignee>
                                    <reporter username="ksafonov">Kirill Safonov</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Feb 2010 18:45:08 +0000</created>
                <updated>Thu, 19 May 2016 18:26:11 +0000</updated>
                            <resolved>Tue, 22 Sep 2015 13:15:58 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>2</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14693995" author="jpraet" created="Wed, 12 Aug 2015 18:39:59 +0000"  >&lt;p&gt;I&apos;m also running into this issue. And as a result each instance of SftpFileSystem also opens a new SFTP connection. This is really a blocker.&lt;/p&gt;</comment>
                            <comment id="14876321" author="simon04" created="Fri, 18 Sep 2015 20:25:14 +0000"  >&lt;p&gt;Can you please provide a code snipped which illustrates the problem?&lt;/p&gt;</comment>
                            <comment id="14902161" author="jpraet" created="Tue, 22 Sep 2015 07:39:25 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;FileSystemOptions options1 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileSystemOptions();
SftpFileSystemConfigBuilder.getInstance().setIdentities(options1, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File[] { &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;privatekey&quot;&lt;/span&gt;) });
FileSystemOptions options2 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileSystemOptions();
SftpFileSystemConfigBuilder.getInstance().setIdentities(options2, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File[] { &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;privatekey&quot;&lt;/span&gt;) });

assertEquals(0, options1.compareTo(options2));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14902579" author="joehni" created="Tue, 22 Sep 2015 13:15:58 +0000"  >&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;add -N /home/jos/src/Apache/Commons/Proper/vfs/core/src/test/java/org/apache/commons/vfs2/FileSystemOptionsTest.java
    A         /home/jos/src/Apache/Commons/Proper/vfs/core/src/test/java/org/apache/commons/vfs2/FileSystemOptionsTest.java
commit -m &quot;VFS-297: Fix FileSystemOptions.compareTo(). Implement equals() and hashCode().&quot; -N /home/jos/src/Apache/Commons/Proper/vfs/core/src/main/java/org/apache/commons/vfs2/FileSystemOptions.java /home/jos/src/Apache/Commons/Proper/vfs/core/src/test/java/org/apache/commons/vfs2/FileSystemOptionsTest.java
    Sending        /home/jos/src/Apache/Commons/Proper/vfs/core/src/main/java/org/apache/commons/vfs2/FileSystemOptions.java
    Adding         /home/jos/src/Apache/Commons/Proper/vfs/core/src/test/java/org/apache/commons/vfs2/FileSystemOptionsTest.java
    Transmitting file data ...
    Committed revision 1704617.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14902941" author="b.eckenfels" created="Tue, 22 Sep 2015 16:44:48 +0000"  >&lt;p&gt;J&#246;rg, can you update the changes.xml as well, please?&lt;/p&gt;</comment>
                            <comment id="14904084" author="joehni" created="Wed, 23 Sep 2015 07:15:41 +0000"  >&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Sending        src/changes/changes.xml
Transmitting file data .
Committed revision 1704764.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Done. In our projects we configured the changes plugin to locate its file always in the project root. Therefore I missed it in the first run &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15291816" author="b.eckenfels" created="Thu, 19 May 2016 18:26:11 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12435053">VFS-281</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200341</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8mn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302991</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-296] [FTP] Socket timeout setting doesn&apos;t work if connect hangs</title>
                <link>https://issues.apache.org/jira/browse/VFS-296</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;The fix from &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-216&quot; title=&quot;FTP configuration does not include option for setting socket timeout&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-216&quot;&gt;&lt;del&gt;VFS-216&lt;/del&gt;&lt;/a&gt; doesn&apos;t help if the ftp server doesn&apos;t reply with any messages at all (could happen if it&apos;s behind a badly configured firewall for example). What happens is that the client.connect() called from FtpClientFactory hangs, and this line is before timeout parameter is set.&lt;/p&gt;

&lt;p&gt;I suggest the change in the attached patch.&lt;/p&gt;

&lt;p&gt;The scenario can be tested with &quot;netcat -l&quot; instead of a real ftp server.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12445316">VFS-296</key>
            <summary>[FTP] Socket timeout setting doesn&apos;t work if connect hangs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="andreasp">Andreas Persson</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Jan 2010 17:03:28 +0000</created>
                <updated>Thu, 19 May 2016 18:25:32 +0000</updated>
                            <resolved>Sat, 12 May 2012 20:34:03 +0000</resolved>
                                    <version>Nightly Builds</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>3</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="13273899" author="andreasp" created="Sat, 12 May 2012 09:18:36 +0000"  >&lt;p&gt;Attached a new version of the patch (trivial port to VFS 2.0).&lt;/p&gt;</comment>
                            <comment id="13274066" author="garydgregory" created="Sat, 12 May 2012 20:34:03 +0000"  >&lt;p&gt;Committed revision 1337638.&lt;/p&gt;</comment>
                            <comment id="14608489" author="remkop@yahoo.com" created="Tue, 30 Jun 2015 15:26:15 +0000"  >&lt;p&gt;At my company we are using version 2.0 and have recently experienced our app hanging while trying to send files over FTP. This has happened 4 times in the previous 9 business days. We are not sure what (if anything) has changed. At the moment we are manually recovering any time this happens. We would love to upgrade to a version that includes this fix but 2.1 is not out yet. Is there a plan to release 2.1 in the near future?&lt;/p&gt;</comment>
                            <comment id="14608808" author="b.eckenfels" created="Tue, 30 Jun 2015 18:27:50 +0000"  >&lt;p&gt;Hello, if you have a stack trace of such a hang it might be good to check.&lt;/p&gt;

&lt;p&gt;Yes there is a plan, but dont hold your breath &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;a href=&quot;https://wiki.apache.org/commons/VfsReleaseState&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://wiki.apache.org/commons/VfsReleaseState&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14609478" author="remkop@yahoo.com" created="Wed, 1 Jul 2015 02:45:44 +0000"  >&lt;p&gt;We will try to use jstack if the problem occurs again.&lt;br/&gt;
Is there a snapshot or beta build somewhere that includes this fix?&lt;/p&gt;</comment>
                            <comment id="14609647" author="fiveo" created="Wed, 1 Jul 2015 06:55:57 +0000"  >&lt;p&gt;Hi Bernd, so the only blocking ticket to release 2.1 is the &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-498&quot; title=&quot;OSGI MANIFEST.MF &amp;quot;Import-Package&amp;quot; should be &amp;quot;;resolution:=optional&amp;quot; for Maven &amp;quot;optional&amp;quot; dependencies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-498&quot;&gt;&lt;del&gt;VFS-498&lt;/del&gt;&lt;/a&gt; ? Please let us know how we can help you releasing finally a next version? We are all waiting for this release!!!&lt;/p&gt;</comment>
                            <comment id="14610894" author="b.eckenfels" created="Wed, 1 Jul 2015 19:40:53 +0000"  >&lt;p&gt;As of the ASF bylaws we make nightly builds not officially available, but if you check out the staged (future) site of commons-vfs on &lt;a href=&quot;http://people.apache.org/~ecki/commons-vfs/integration.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://people.apache.org/~ecki/commons-vfs/integration.html&lt;/a&gt; you can find the integration server. It contains a trunk build (w/o sandbox). I would recommend to build it yourself, it just needs maven and JDK 7.&lt;/p&gt;</comment>
                            <comment id="14610897" author="b.eckenfels" created="Wed, 1 Jul 2015 19:42:39 +0000"  >&lt;p&gt;It is not a question of a blocker bug, it is a question of time for all the other todos.&lt;/p&gt;</comment>
                            <comment id="14611160" author="sebb@apache.org" created="Wed, 1 Jul 2015 23:17:52 +0000"  >&lt;p&gt;Or you can use builds from the ASF SNAPSHOT repository. Most Commons components are regularly built on CI servers and the jars are normally uploaded to the snapshot repo.&lt;/p&gt;

&lt;p&gt;Such builds are not subject to review or QA and are used at the developer&apos;s risk; they should never be used in production code.&lt;br/&gt;
However developers are welcome to use them to help solve bugs.&lt;br/&gt;
Note that the snapshot builds are not stable, as they will be superseded whenever there is a new CI build.&lt;/p&gt;</comment>
                            <comment id="14614110" author="remkop@yahoo.com" created="Sun, 5 Jul 2015 02:22:46 +0000"  >&lt;p&gt;About a week ago we started to use the timeout methods available in 2.0 (data timeout and so timeout). Since then we have not seen out app hanging (fingers crossed).&lt;br/&gt;
If it happens again we will try to get a jstack dump before restarting, good tip, thanks!&lt;/p&gt;</comment>
                            <comment id="15291706" author="b.eckenfels" created="Thu, 19 May 2016 18:25:32 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12400707">VFS-216</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12430032" name="sotimeout.patch" size="1339" author="andreasp" created="Tue, 12 Jan 2010 17:06:30 +0000"/>
                            <attachment id="12526618" name="sotimeout_v2.patch" size="1340" author="andreasp" created="Sat, 12 May 2012 09:18:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200340</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i13767:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226792</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-295] Unsafe comparison in getParent() of AbstractFileObject</title>
                <link>https://issues.apache.org/jira/browse/VFS-295</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;When a AbstractFileObject is decorated, eg when &quot;ON_CALL&quot; CacheStrategy is used, a NullPointerException is thrown.&lt;br/&gt;
This happens due a unsafe comparison in getParent():&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; FileObject getParent() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; FileSystemException {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; == fs.getRoot()) &lt;span class=&quot;code-comment&quot;&gt;// Always &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; when &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; object is decorated
&lt;/span&gt;        {
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (fs.getParentLayer() != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
            {
                &lt;span class=&quot;code-comment&quot;&gt;// Return the parent of the parent layer
&lt;/span&gt;                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; fs.getParentLayer().getParent();
            }
            &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;
            {
                &lt;span class=&quot;code-comment&quot;&gt;// Root file has no parent
&lt;/span&gt;                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
            }
        }
&lt;span class=&quot;code-comment&quot;&gt;// Rest of method omitted
&lt;/span&gt;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;fs.getRoot()&lt;/b&gt; returns the decorating object &lt;b&gt;not&lt;/b&gt; the decorated. &lt;b&gt;this&lt;/b&gt; is the plain decorated (wrapped) object . So the comparison is never true. This causes the wrong code to get executed and finally the NullPointerException (see below).&lt;/p&gt;

&lt;p&gt;Stacktrace:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; java.lang.NullPointerException
	at org.apache.commons.vfs.provider.AbstractFileSystem.resolveFile(AbstractFileSystem.java:272)
	at org.apache.commons.vfs.provider.AbstractFileSystem.resolveFile(AbstractFileSystem.java:267)
	at org.apache.commons.vfs.provider.AbstractFileObject.getParent(AbstractFileObject.java:512)
	at at.js.jtransporter.support.vfs.FtpFileObject.getInfo(FtpFileObject.java:149)
	at at.js.jtransporter.support.vfs.FtpFileObject.refresh(FtpFileObject.java:176)
	at org.apache.commons.vfs.impl.DecoratedFileObject.refresh(DecoratedFileObject.java:170)
	at org.apache.commons.vfs.cache.OnCallRefreshFileObject.resolveFile(OnCallRefreshFileObject.java:152)
	at at.js.jtransporter.transporter.VFSTransporter.createFile(VFSTransporter.java:132)
	at at.js.jtransporter.worker.resource.ResourceWorker.createFile(ResourceWorker.java:81)
	at at.js.jtransporter.worker.resource.ResourceWorker.processJob(ResourceWorker.java:52)
	at at.js.jtransporter.worker.AbstractRunnableWorker.run(AbstractRunnableWorker.java:82)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)
	at java.lang.Thread.run(Thread.java:619)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12445039">VFS-295</key>
            <summary>Unsafe comparison in getParent() of AbstractFileObject</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="scharfj">Johannes Scharf</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Jan 2010 14:00:29 +0000</created>
                <updated>Wed, 23 Sep 2015 16:03:11 +0000</updated>
                                            <version>1.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12433436">VFS-279</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200339</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 43 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8mv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302992</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-294] NullPointerException in FtpFileObject.getChildFile()</title>
                <link>https://issues.apache.org/jira/browse/VFS-294</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;During my efforts to find a solution for &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-293&quot; title=&quot;FtpFileSystem causes deadlock&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-293&quot;&gt;&lt;del&gt;VFS-293&lt;/del&gt;&lt;/a&gt; I&apos;ve discovered another bug regarding threadsafety.&lt;br/&gt;
It seems that FtpFileObject is at least not fully threadsafe. When a FtpFileObject is accessed by multiple threads from time to time closing the OutputStream for a file fails with a NullPointerException.&lt;/p&gt;

&lt;p&gt;Stacktrace:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; org.apache.commons.vfs.FileSystemException: Could not close the output stream for file &quot;ftp://localhost/spring-framework-2.5.5/dist/resources/spring-jms-2.5.xsd&quot;.
	at org.apache.commons.vfs.provider.DefaultFileContent$FileContentOutputStream.close(DefaultFileContent.java:599)
	at at.js.jtransporter.transporter.VFSTransporter$VFSOutputStream.close(VFSTransporter.java:219)
	at at.js.jtransporter.util.Utils.close(Utils.java:40)
	at at.js.jtransporter.worker.resource.ResourceWorker.createFile(ResourceWorker.java:108)
	at at.js.jtransporter.worker.resource.ResourceWorker.processJob(ResourceWorker.java:52)
	at at.js.jtransporter.worker.AbstractRunnableWorker.run(AbstractRunnableWorker.java:82)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)
	at java.lang.Thread.run(Thread.java:619)
Caused by: org.apache.commons.vfs.FileSystemException: Could not close the output stream for file &quot;ftp://localhost/spring-framework-2.5.5/dist/resources/spring-jms-2.5.xsd&quot;.
	at org.apache.commons.vfs.provider.DefaultFileContent$FileContentOutputStream.onClose(DefaultFileContent.java:620)
	at org.apache.commons.vfs.util.MonitorOutputStream.close(MonitorOutputStream.java:63)
	at org.apache.commons.vfs.provider.DefaultFileContent$FileContentOutputStream.close(DefaultFileContent.java:595)
	... 8 more
Caused by: java.lang.NullPointerException
	at org.apache.commons.vfs.provider.ftp.FtpFileObject.getChildFile(FtpFileObject.java:106)
	at org.apache.commons.vfs.provider.ftp.FtpFileObject.getInfo(FtpFileObject.java:181)
	at org.apache.commons.vfs.provider.ftp.FtpFileObject.onChange(FtpFileObject.java:269)
	at org.apache.commons.vfs.provider.AbstractFileObject.endOutput(AbstractFileObject.java:1325)
	at org.apache.commons.vfs.provider.DefaultFileContent.endOutput(DefaultFileContent.java:459)
	at org.apache.commons.vfs.provider.DefaultFileContent.access$200(DefaultFileContent.java:44)
	at org.apache.commons.vfs.provider.DefaultFileContent$FileContentOutputStream.onClose(DefaultFileContent.java:616)
	... 10 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12445029">VFS-294</key>
            <summary>NullPointerException in FtpFileObject.getChildFile()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="scharfj">Johannes Scharf</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Jan 2010 13:03:30 +0000</created>
                <updated>Tue, 20 Nov 2018 21:31:05 +0000</updated>
                            <resolved>Tue, 20 Nov 2018 21:31:05 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>2.3</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12798005" author="scharfj" created="Fri, 8 Jan 2010 13:12:29 +0000"  >&lt;p&gt;After hours of research I think I&apos;ve found a possible solution for this bug. The &quot;getInfo&quot; method in FtpFileObject gets called from multiple locations inside the class but is not synchronized at all.&lt;br/&gt;
I&apos;ve synchronized on the &quot;ftpFs&quot; object as synchronizing on &quot;this&quot; causes a deadlock. Several tests with 10 to 20 threads were made without any errors.&lt;/p&gt;

&lt;p&gt;Finally&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;	 &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void getInfo(&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; flush) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException
    {
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FtpFileObject parent = (FtpFileObject) FileObjectUtils.getAbstractFileObject(getParent());
        FTPFile newFileInfo;
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (parent != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
        {
            newFileInfo = parent.getChildFile(UriParser.decode(getName().getBaseName()), flush);
        }
        &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;
        {
            &lt;span class=&quot;code-comment&quot;&gt;// Assume the root is a directory and exists
&lt;/span&gt;            newFileInfo = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FTPFile();
            newFileInfo.setType(FTPFile.DIRECTORY_TYPE);
        }

        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.fileInfo = newFileInfo;
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;must be changed to:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;	&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void getInfo(&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; flush) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
		&lt;span class=&quot;code-keyword&quot;&gt;synchronized&lt;/span&gt; (ftpFs) {
			&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FtpFileObject parent = (FtpFileObject) FileObjectUtils
					.getAbstractFileObject(getParent());
			FTPFile newFileInfo;
			&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (parent != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
				newFileInfo = parent.getChildFile(UriParser.decode(getName()
						.getBaseName()), flush);
			} &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
				&lt;span class=&quot;code-comment&quot;&gt;// Assume the root is a directory and exists
&lt;/span&gt;				newFileInfo = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FTPFile();
				newFileInfo.setType(FTPFile.DIRECTORY_TYPE);
			}

			&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.fileInfo = newFileInfo;
		}
	}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I&apos;ll provide a subversion patch in the future, when I&apos;ve got some time left.&lt;/p&gt;</comment>
                            <comment id="16693802" author="garydgregory" created="Tue, 20 Nov 2018 21:31:05 +0000"  >&lt;p&gt;Committed to svn trunk.&lt;/p&gt;

&lt;p&gt;Please try 2.3-SNAPSHOT.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200338</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 49 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8n3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302993</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-293] FtpFileSystem causes deadlock</title>
                <link>https://issues.apache.org/jira/browse/VFS-293</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;I use Commons VFS to access FTP from multiple threads. In each thread I create directories and copy files on the FTP server.&lt;br/&gt;
Nearly everytime when i run the program  a deadlock occurs which causes all threads to hang. I&apos;ve created a stacktrace with &quot;jstack&quot; which clearly shows where the deadlock is happening.&lt;/p&gt;

&lt;p&gt;Stacktrace:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Found one Java-level deadlock:
=============================
&quot;pool-1-thread-5&quot;:
  waiting to lock monitor 0x030813b4 (object 0x22f972e8, a org.apache.commons.vfs.provider.ftp.FtpFileSystem),
  which is held by &quot;pool-1-thread-2&quot;
&quot;pool-1-thread-2&quot;:
  waiting to lock monitor 0x03082c7c (object 0x22f999e0, a java.lang.Object),
  which is held by &quot;pool-1-thread-4&quot;
&quot;pool-1-thread-4&quot;:
  waiting to lock monitor 0x030813b4 (object 0x22f972e8, a org.apache.commons.vfs.provider.ftp.FtpFileSystem),
  which is held by &quot;pool-1-thread-2&quot;

Java stack information for the threads listed above:
===================================================
&quot;pool-1-thread-5&quot;:
	at org.apache.commons.vfs.provider.AbstractFileSystem.streamOpened(AbstractFileSystem.java:569)
	- waiting to lock &amp;lt;0x22f972e8&amp;gt; (a org.apache.commons.vfs.provider.ftp.FtpFileSystem)
	at org.apache.commons.vfs.provider.DefaultFileContent.streamOpened(DefaultFileContent.java:92)
	at org.apache.commons.vfs.provider.DefaultFileContent.getOutputStream(DefaultFileContent.java:377)
	at at.js.jtransporter.transporter.VFSTransporter.createFile(VFSTransporter.java:119)
	at at.js.jtransporter.worker.resource.ResourceWorker.createFile(ResourceWorker.java:80)
	at at.js.jtransporter.worker.resource.ResourceWorker.processJob(ResourceWorker.java:51)
	at at.js.jtransporter.worker.AbstractRunnableWorker.run(AbstractRunnableWorker.java:82)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)
	at java.lang.Thread.run(Thread.java:619)
&quot;pool-1-thread-2&quot;:
	at org.apache.commons.vfs.provider.ftp.FtpFileSystem.putClient(FtpFileSystem.java:137)
	- waiting to lock &amp;lt;0x22f999e0&amp;gt; (a java.lang.Object)
	at org.apache.commons.vfs.provider.ftp.FtpFileObject.doGetChildren(FtpFileObject.java:158)
	at org.apache.commons.vfs.provider.ftp.FtpFileObject.getChildFile(FtpFileObject.java:103)
	at org.apache.commons.vfs.provider.ftp.FtpFileObject.getInfo(FtpFileObject.java:181)
	at org.apache.commons.vfs.provider.ftp.FtpFileObject.refresh(FtpFileObject.java:208)
	at org.apache.commons.vfs.provider.AbstractFileSystem.resolveFile(AbstractFileSystem.java:319)
	- locked &amp;lt;0x22f972e8&amp;gt; (a org.apache.commons.vfs.provider.ftp.FtpFileSystem)
	at org.apache.commons.vfs.provider.AbstractFileSystem.resolveFile(AbstractFileSystem.java:267)
	- locked &amp;lt;0x22f972e8&amp;gt; (a org.apache.commons.vfs.provider.ftp.FtpFileSystem)
	at org.apache.commons.vfs.provider.AbstractFileObject.getParent(AbstractFileObject.java:512)
	- locked &amp;lt;0x22f972e8&amp;gt; (a org.apache.commons.vfs.provider.ftp.FtpFileSystem)
	at org.apache.commons.vfs.provider.ftp.FtpFileObject.getInfo(FtpFileObject.java:177)
	at org.apache.commons.vfs.provider.ftp.FtpFileObject.refresh(FtpFileObject.java:208)
	at org.apache.commons.vfs.provider.AbstractFileSystem.resolveFile(AbstractFileSystem.java:319)
	- locked &amp;lt;0x22f972e8&amp;gt; (a org.apache.commons.vfs.provider.ftp.FtpFileSystem)
	at org.apache.commons.vfs.provider.AbstractFileSystem.resolveFile(AbstractFileSystem.java:267)
	- locked &amp;lt;0x22f972e8&amp;gt; (a org.apache.commons.vfs.provider.ftp.FtpFileSystem)
	at org.apache.commons.vfs.provider.AbstractFileObject.resolveFile(AbstractFileObject.java:670)
	at at.js.jtransporter.transporter.VFSTransporter.createFile(VFSTransporter.java:118)
	at at.js.jtransporter.worker.resource.ResourceWorker.createFile(ResourceWorker.java:80)
	at at.js.jtransporter.worker.resource.ResourceWorker.processJob(ResourceWorker.java:51)
	at at.js.jtransporter.worker.AbstractRunnableWorker.run(AbstractRunnableWorker.java:82)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)
	at java.lang.Thread.run(Thread.java:619)
&quot;pool-1-thread-4&quot;:
	at org.apache.commons.vfs.provider.AbstractFileSystem.resolveFile(AbstractFileSystem.java:267)
	- waiting to lock &amp;lt;0x22f972e8&amp;gt; (a org.apache.commons.vfs.provider.ftp.FtpFileSystem)
	at org.apache.commons.vfs.provider.AbstractFileSystem.getRoot(AbstractFileSystem.java:242)
	at org.apache.commons.vfs.provider.ftp.FtpFileSystem.getClient(FtpFileSystem.java:108)
	- locked &amp;lt;0x22f999e0&amp;gt; (a java.lang.Object)
	at org.apache.commons.vfs.provider.ftp.FtpFileObject.doGetOutputStream(FtpFileObject.java:490)
	at org.apache.commons.vfs.provider.AbstractFileObject.getOutputStream(AbstractFileObject.java:1219)
	at org.apache.commons.vfs.provider.DefaultFileContent.getOutputStream(DefaultFileContent.java:373)
	at at.js.jtransporter.transporter.VFSTransporter.createFile(VFSTransporter.java:119)
	at at.js.jtransporter.worker.resource.ResourceWorker.createFile(ResourceWorker.java:80)
	at at.js.jtransporter.worker.resource.ResourceWorker.processJob(ResourceWorker.java:51)
	at at.js.jtransporter.worker.AbstractRunnableWorker.run(AbstractRunnableWorker.java:82)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)
	at java.lang.Thread.run(Thread.java:619)

Found 1 deadlock.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12444897">VFS-293</key>
            <summary>FtpFileSystem causes deadlock</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="scharfj">Johannes Scharf</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Jan 2010 12:17:13 +0000</created>
                <updated>Wed, 16 May 2012 05:27:51 +0000</updated>
                            <resolved>Tue, 23 Nov 2010 00:30:27 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12798020" author="scharfj" created="Fri, 8 Jan 2010 14:12:40 +0000"  >&lt;p&gt;I&apos;ve found a possible solution for this bug.&lt;br/&gt;
Simply synchronize the getClient and putClient methods themselves on &quot;this&quot; and remove the synchronized block inside the methods which synchronzes on &quot;idleClientSync&quot;.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;synchronized&lt;/span&gt; FtpClient getClient() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; FileSystemException {
		&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (idleClient == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; || !idleClient.isConnected()) {
			&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (log.isDebugEnabled()) {
				log.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;getClient(): Returning &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FtpClient...&quot;&lt;/span&gt;);
			}
			FtpClient ftpClient = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FtpClientWrapper(
					(GenericFileName) getRoot().getName(),
					getFileSystemOptions());
			&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; ftpClient;
		} &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
			&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (log.isDebugEnabled()) {
				log.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;getClient(): Returning idle FtpClient...&quot;&lt;/span&gt;);
			}
			&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FtpClient client = idleClient;
			idleClient = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
			&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; client;
		}
	}

        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;synchronized&lt;/span&gt; void putClient(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FtpClient client) {
		&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (idleClient == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
			&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (log.isDebugEnabled()) {
				log.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;Pooling used FtpClient...&quot;&lt;/span&gt;);
			}
			&lt;span class=&quot;code-comment&quot;&gt;// Hang on to client &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; later
&lt;/span&gt;			idleClient = client;
		} &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
			&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (log.isDebugEnabled()) {
				log.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;Disposing used FtpClient...&quot;&lt;/span&gt;);
			}
			&lt;span class=&quot;code-comment&quot;&gt;// Close the client
&lt;/span&gt;			closeConnection(client);
		}
	}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12934671" author="ralph.goers@dslextreme.com" created="Tue, 23 Nov 2010 00:30:27 +0000"  >&lt;p&gt;getClient and putClient no longer synchronize. Instead idleClient has been changed to an AtomicReference.&lt;/p&gt;</comment>
                            <comment id="13276482" author="garydgregory" created="Wed, 16 May 2012 05:27:51 +0000"  >&lt;p&gt;Closing issue as this is fixed by &quot;Ralph Goers added a comment - 23/Nov/10 00:30&quot;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200337</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 25 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i13913:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>227093</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-292] FTP: rename command effectively uses absolute paths which is incorrect in case of USER_DIR_IS_ROOT=true</title>
                <link>https://issues.apache.org/jira/browse/VFS-292</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;FtpFileObject.doRename() method uses files paths: FileObject.getName().getPath().&lt;br/&gt;
This is not acceptable in case of USER_DIR_IS_ROOT option is true, because the current directory may be different from &quot;/&quot; while all the FileObjects&apos; paths still start with &quot;/&quot; so they are effectively absolute. This results in &apos;RNFR command failed&apos; if &lt;b&gt;real&lt;/b&gt; absolute file is missing, or in accidentally incorrect rename if it exists.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12443788">VFS-292</key>
            <summary>FTP: rename command effectively uses absolute paths which is incorrect in case of USER_DIR_IS_ROOT=true</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ksafonov">Kirill Safonov</reporter>
                        <labels>
                    </labels>
                <created>Fri, 18 Dec 2009 18:19:05 +0000</created>
                <updated>Wed, 8 Mar 2017 15:59:20 +0000</updated>
                                            <version>2.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12792560" author="ksafonov" created="Fri, 18 Dec 2009 18:23:49 +0000"  >&lt;p&gt;patch attached.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12994076">VFS-620</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12428458" name="VFS-292.patch" size="880" author="ksafonov" created="Fri, 18 Dec 2009 18:23:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200336</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 46 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8nj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302995</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-291] ZIP archives are not properly closed after unzipping and cannot be deleted until the JVM exists</title>
                <link>https://issues.apache.org/jira/browse/VFS-291</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Open a zip file with the ZipFileObject&lt;/p&gt;

&lt;p&gt;get an inputstream on its content&lt;/p&gt;

&lt;p&gt;try to delete it... &lt;/p&gt;

&lt;p&gt;it fails.&lt;/p&gt;

&lt;p&gt;I have attached a possible solution to this bug.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows&lt;/p&gt;</environment>
        <key id="12443207">VFS-291</key>
            <summary>ZIP archives are not properly closed after unzipping and cannot be deleted until the JVM exists</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="pfeffer">Roman</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Sun, 13 Dec 2009 18:58:37 +0000</created>
                <updated>Fri, 9 Nov 2018 13:16:44 +0000</updated>
                            <resolved>Thu, 20 Jul 2017 01:36:17 +0000</resolved>
                                                    <fixVersion>2.2</fixVersion>
                                        <due></due>
                            <votes>2</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="12789929" author="pfeffer" created="Sun, 13 Dec 2009 19:01:15 +0000"  >&lt;p&gt;I have added a possible solution for this Bug.&lt;/p&gt;

&lt;p&gt;Please take a look at the attached file and merge it with head revision.&lt;/p&gt;</comment>
                            <comment id="12927556" author="ralph.goers@dslextreme.com" created="Tue, 2 Nov 2010 19:22:36 +0000"  >&lt;p&gt;I tried applying this change but it breaks the unit test.&lt;/p&gt;</comment>
                            <comment id="13276472" author="garydgregory" created="Wed, 16 May 2012 05:17:57 +0000"  >&lt;p&gt;We need a unit test or example that exhibits the problem.&lt;/p&gt;</comment>
                            <comment id="13704098" author="belugabehr" created="Wed, 10 Jul 2013 01:40:09 +0000"  >&lt;p&gt;I too am having this problem.  Deal breaker for my current project.  I have attached a standard eclipse project that demonstrates the issue.&lt;/p&gt;

&lt;p&gt;This has failed on WinXP 32 bit and Win7 64 Bit&lt;/p&gt;

&lt;p&gt;Version: Juno Release&lt;br/&gt;
Build id: 20120614-1722&lt;/p&gt;</comment>
                            <comment id="13704197" author="garydgregory" created="Wed, 10 Jul 2013 04:28:54 +0000"  >&lt;p&gt;Here is a trunk patch that passes all current tests. I&apos;d like a code review as I am not sure if this is a hack or a proper solution.&lt;/p&gt;</comment>
                            <comment id="13707744" author="garydgregory" created="Sat, 13 Jul 2013 14:30:40 +0000"  >&lt;p&gt;Any feedback on my patch? &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12591596/vfs-291.diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12591596/vfs-291.diff&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13708254" author="belugabehr" created="Mon, 15 Jul 2013 05:52:13 +0000"  >&lt;p&gt;It took me a while to figure out where the problem is coming from, sorry.  So, your way is not a bad way of doing it, though, let me suggest an alternative...&lt;/p&gt;

&lt;p&gt;In AbstractFileObject, match the constructor&apos;s &quot;fs.fileObjectHanded(this);&quot; by putting a &quot;fs.fileObjectDestroyed(this)&quot; in  &quot;abstract&apos;s doDetach().&quot;  This way, the count will be corrected.  Currently, it&apos;s appears to be wrong in many implementations.  In the overriding implementation of detach(), do a check of (if fs.isReleasable(), fs.close()).  Patches included.&lt;/p&gt;</comment>
                            <comment id="13708436" author="belugabehr" created="Mon, 15 Jul 2013 13:06:32 +0000"  >&lt;p&gt;Or you can even move this all into AbstractFileObject (patch included).  That way you can easily apply the change to all providers without overriding any implementations.&lt;/p&gt;</comment>
                            <comment id="13708709" author="garydgregory" created="Mon, 15 Jul 2013 17:54:17 +0000"  >&lt;p&gt;Thank you for working through this. I like that your proposal attempts to fix the problems for all providers but... applying the &quot;2&quot; patch causes problems.&lt;/p&gt;

&lt;p&gt;Please try building from the command line with &quot;mvn clean test&quot;, which gives me:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Results :

Tests in error:
  FileExtensionSelectorTest.setUpClass:55 &#9559; NullPointer
  FileExtensionSelectorTest.tearDownClass:76 &#9559; FileSystem Could not find files i...
  FileIteratorTest.setUpClass:47 &#9559; NullPointer
  FileIteratorTest.tearDownClass:72 &#9559; FileSystem Could not find files in &quot;ram://...
  FileTypeSelectorTest.setUpClass:42 &#9559; NullPointer
  FileTypeSelectorTest.tearDownClass:62 &#9559; FileSystem Could not find files in &quot;ra...
  PatternFileSelectorTest.setUpClass:56 &#9559; NullPointer
  PatternFileSelectorTest.tearDownClass:78 &#9559; FileSystem Could not find files in ...
  CustomRamProviderTest.testReadEmptyFileByteByByte:125-&amp;gt;createEmptyFile:74 &#9559; NullPointer
  CustomRamProviderTest.testReadEmptyFileIntoBufferWithOffsetAndLength:142-&amp;gt;createEmptyFile:74 &#9559; NullPointer
  CustomRamProviderTest.testReadEmptyFileIntoBuffer:132-&amp;gt;createEmptyFile:74 &#9559; NullPointer
  CustomRamProviderTest.testReadNonEmptyFileByteByByte:151-&amp;gt;createNonEmptyFile:81 &#9559; NullPointer
  CustomRamProviderTest.testReadNonEmptyFileIntoBufferWithOffsetAndLength:181-&amp;gt;createNonEmptyFile:81 &#9559; NullPointer
  CustomRamProviderTest.testSmallFS:235 &#9559; NullPointer
  CustomRamProviderTest.testReadNonEmptyFileIntoBuffer:162-&amp;gt;createNonEmptyFile:81 &#9559; NullPointer
  ProviderTestSuite&amp;gt;AbstractTestSuite.run:153-&amp;gt;AbstractTestSuite.setUp:183 &#9559; NullPointer

Tests run: 1757, Failures: 0, Errors: 16, Skipped: 2

[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO]
[INFO] Commons VFS ....................................... SUCCESS [13.749s]
[INFO] Commons VFS Core .................................. FAILURE [3:41.104s]
[INFO] Commons VFS Examples .............................. SKIPPED
[INFO] Commons VFS Distribution .......................... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 3:55.606s
[INFO] Finished at: Mon Jul 15 13:43:47 EDT 2013
[INFO] Final Memory: 18M/162M
[INFO] ------------------------------------------------------------------------
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You first patch, also from 15-July-2013 passes all tests.&lt;/p&gt;

&lt;p&gt;Let&apos;s see if someone else has an opinion on how to best fix this...&lt;/p&gt;

&lt;p&gt;Also, a unit test would help.&lt;/p&gt;</comment>
                            <comment id="13709411" author="belugabehr" created="Tue, 16 Jul 2013 03:09:34 +0000"  >&lt;p&gt;I think it&apos;s best to patch RAM FileSystem and get a consistent API.  I&apos;m not particularly familiar with the code, so it&apos;s slow going.  I&apos;m looking at it though.&lt;/p&gt;</comment>
                            <comment id="13709429" author="antonjs" created="Tue, 16 Jul 2013 03:45:09 +0000"  >&lt;p&gt;I&apos;m experiencing the same problem, in the context of doing a copyFrom() from a Zip to Local FileObject in order to extract a Zip file. I&apos;d be happy to help with further troubleshooting.&lt;/p&gt;

&lt;p&gt;I&apos;ve attached a patch containing a unit test which recreates the problem on my machine. Apologies if it doesn&apos;t quite fit in with the structure for provider tests. It&apos;s a little awkward since it needs to attempt to modify the underlying zip file to determine whether the resource is still held open somewhere. I&apos;d welcome any thoughts on how it could be cleaner.&lt;/p&gt;

&lt;p&gt;Cheers,&lt;br/&gt;
Anton&lt;/p&gt;</comment>
                            <comment id="13713144" author="belugabehr" created="Fri, 19 Jul 2013 00:01:33 +0000"  >&lt;p&gt;Well, I gave it my best shot, but no luck.  The RAMFile code is a bit hairy... For some reason, the &quot;save&quot; method closes the file that is being saved and that causes the file to detach and then because of the new code, closes the entire file system.  Someone else should take a look at it.&lt;/p&gt;</comment>
                            <comment id="15024591" author="dlmarion" created="Tue, 24 Nov 2015 14:26:01 +0000"  >&lt;p&gt;Running into this problem as well. Can we take the most recent working patch as-is and note that an issue still exists for zip files in RAM?&lt;/p&gt;</comment>
                            <comment id="15029123" author="b.eckenfels" created="Thu, 26 Nov 2015 17:19:52 +0000"  >&lt;p&gt;Adding&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;getManager().closeFileSystem(fileOne.getFileSystem());&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;to the test makes it pass on Windows. (in current 2.1-SNAPSHOT trunk).&lt;/p&gt;</comment>
                            <comment id="16093990" author="garydgregory" created="Thu, 20 Jul 2017 00:08:47 +0000"  >&lt;p&gt;I added org.apache.commons.vfs2.provider.zip.test.FileLockTestCase with @Ignore.&lt;/p&gt;</comment>
                            <comment id="16094065" author="garydgregory" created="Thu, 20 Jul 2017 01:36:17 +0000"  >&lt;p&gt;Fixed in svn trunk. Please verify and close from svn trunk or &lt;a href=&quot;https://repository.apache.org/content/repositories/snapshots/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/repositories/snapshots/&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;commit -m &quot;[VFS-291] ZIP archives are not properly closed after unzipping and cannot be deleted until the JVM exists.&quot; -N C:/vcs/svn/apache/commons/trunks-proper/vfs/core/src/test/java/org/apache/commons/vfs2/provider/zip/test/FileLockTestCase.java C:/vcs/svn/apache/commons/trunks-proper/vfs/src/changes/changes.xml C:/vcs/svn/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/provider/zip/ZipFileObject.java
    Sending        C:/vcs/svn/apache/commons/trunks-proper/vfs/core/src/main/java/org/apache/commons/vfs2/provider/zip/ZipFileObject.java
    Sending        C:/vcs/svn/apache/commons/trunks-proper/vfs/core/src/test/java/org/apache/commons/vfs2/provider/zip/test/FileLockTestCase.java
    Sending        C:/vcs/svn/apache/commons/trunks-proper/vfs/src/changes/changes.xml
    Transmitting file data ...
    Unknown action received: commit finalizing
    Committed revision 1802443.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16172253" author="garydgregory" created="Tue, 19 Sep 2017 19:57:56 +0000"  >&lt;p&gt;Add refinement:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;commit -m &quot;[VFS-291] ZIP archives are not properly closed after unzipping and cannot be deleted until the JVM exists. Do not close underlying ZipFile too aggressively; only do so if all open streams are not in use!&quot; -N C:/vcs/svn/apache/commons/trunks-proper/vfs/commons-vfs2/src/main/java/org/apache/commons/vfs2/provider/zip/ZipFileObject.java
    Sending        C:/vcs/svn/apache/commons/trunks-proper/vfs/commons-vfs2/src/main/java/org/apache/commons/vfs2/provider/zip/ZipFileObject.java
    Transmitting file data ...
    Unknown action received: commit finalizing
    Committed revision 1808941.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16681413" author="tomnelson" created="Fri, 9 Nov 2018 13:16:44 +0000"  >&lt;p&gt;I believe that the code introduced in&#160;13f79535-47bb-0310-9956-ffa450edef68 renders version 2.2 unusable in a multi-threaded environment, as the underlying cache file can be closed while other threads are attempting to read from it.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/accumulo/pull/728&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/accumulo/pull/728&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12342206">VFS-6</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12592323" name="AbstractFileObject.java.2.patch" size="913" author="belugabehr" created="Mon, 15 Jul 2013 13:06:41 +0000"/>
                            <attachment id="12592279" name="AbstractFileObject.java.patch" size="717" author="belugabehr" created="Mon, 15 Jul 2013 05:52:32 +0000"/>
                            <attachment id="12592483" name="FileLockUnitTest.diff" size="2712" author="antonjs" created="Tue, 16 Jul 2013 03:45:47 +0000"/>
                            <attachment id="12591580" name="ZipCloseBug.zip" size="1012040" author="belugabehr" created="Wed, 10 Jul 2013 02:07:58 +0000"/>
                            <attachment id="12427860" name="ZipFileObject.java" size="5001" author="pfeffer" created="Sun, 13 Dec 2009 19:01:15 +0000"/>
                            <attachment id="12592280" name="ZipFileObject.java.patch" size="687" author="belugabehr" created="Mon, 15 Jul 2013 05:52:32 +0000"/>
                            <attachment id="12591596" name="vfs-291.diff" size="674" author="ggregory" created="Wed, 10 Jul 2013 04:28:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200335</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 50 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8nr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302996</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-289] FTP connection is not released If exception is thrown out of FtpFileObject.doGetOutputStream()</title>
                <link>https://issues.apache.org/jira/browse/VFS-289</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;When the exception is thrown while getting file output stream (i.e. due to lack of write permissions), instance of FtpClient that wat obtained by &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ftpFs.getClient()&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; is not put back to ftpFs, so this instance will never be called disconnect(). This effectively leads to the connection never released. &lt;/p&gt;

&lt;p&gt;This will eventually result in &quot;FTP response 421 received. Server closed connection.&quot; due to too many open connections.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12439085">VFS-289</key>
            <summary>FTP connection is not released If exception is thrown out of FtpFileObject.doGetOutputStream()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ksafonov">Kirill Safonov</reporter>
                        <labels>
                    </labels>
                <created>Mon, 26 Oct 2009 16:44:21 +0000</created>
                <updated>Sat, 7 Nov 2009 18:03:22 +0000</updated>
                            <resolved>Tue, 3 Nov 2009 18:59:25 +0000</resolved>
                                    <version>Nightly Builds</version>
                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12770409" author="ksafonov" created="Tue, 27 Oct 2009 07:20:33 +0000"  >&lt;p&gt;Patch attached&lt;/p&gt;</comment>
                            <comment id="12773115" author="ralph.goers@dslextreme.com" created="Tue, 3 Nov 2009 18:59:14 +0000"  >&lt;p&gt;The patch was applied&lt;/p&gt;</comment>
                            <comment id="12774650" author="ksafonov" created="Sat, 7 Nov 2009 18:03:22 +0000"  >&lt;p&gt;Verified and closed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12423291" name="VFS-289.patch" size="3634" author="ksafonov" created="Tue, 27 Oct 2009 07:20:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200333</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i138p3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>227039</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-288] unable to browse hidden directories (regression fix overrode VFS-210:) </title>
                <link>https://issues.apache.org/jira/browse/VFS-288</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>
&lt;p&gt;The regression fix: &lt;/p&gt;

&lt;p&gt;      r742127 | rgoers | 2009-02-09 03:37:32 +1100 (Mon, 09 Feb 2009) | 1 line&lt;/p&gt;

&lt;p&gt;      Fix unit test - throw exception if child is not a directory&lt;/p&gt;


&lt;p&gt;Now means that FTP hidden directories cannot be listed, since the getType() has to return a DIRECTORY value.  The overwrote the earlier change:&lt;/p&gt;


&lt;p&gt;      ------------------------------------------------------------------------&lt;br/&gt;
      r659785 | imario | 2008-05-24 20:32:41 +1000 (Sat, 24 May 2008) | 1 line&lt;/p&gt;

&lt;p&gt;      &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-210&quot; title=&quot;Wrapper-Mode VFS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-210&quot;&gt;VFS-210&lt;/a&gt;: First development iteration. Most important methods now work more like a wrapper,    you should already see a major increase in performance with ftp and large directories as long as no method (or your code) calls getFileType(). Hidden and special files should work now too .. as long as you know the path, for sure.&lt;/p&gt;


&lt;p&gt;That allowed hidden directories to be listed. &lt;/p&gt;
</description>
                <environment>&lt;p&gt;java&lt;/p&gt;</environment>
        <key id="12438976">VFS-288</key>
            <summary>unable to browse hidden directories (regression fix overrode VFS-210:) </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="markodonohue">Mark O&apos;Donohue</reporter>
                        <labels>
                    </labels>
                <created>Sat, 24 Oct 2009 03:10:43 +0000</created>
                <updated>Fri, 6 Nov 2009 23:49:32 +0000</updated>
                                            <version>2.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12769574" author="markodonohue" created="Sat, 24 Oct 2009 03:13:53 +0000"  >&lt;p&gt;patch to allow FTP imaginary files to have children.&lt;/p&gt;
</comment>
                            <comment id="12769576" author="markodonohue" created="Sat, 24 Oct 2009 03:15:48 +0000"  >&lt;p&gt;I have added a patch that seems to work,  getType() returns imaginary , if unknown so have just allowed direcories and imaginary files to have children.&lt;/p&gt;</comment>
                            <comment id="12774397" author="ralph.goers@dslextreme.com" created="Fri, 6 Nov 2009 20:41:16 +0000"  >&lt;p&gt;I tried to apply this patch but when I ran FtpProviderTestCase it failed in ContentTests testChildren at line 182. That test seems to be explicitly checking that an exception gets thrown on an unknown file. The reason the change this issue references was made was because this unit test was failing. I didn&apos;t write the unit test and with test driven development I believe that that is the expected behavior. It would seem that the patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-210&quot; title=&quot;Wrapper-Mode VFS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-210&quot;&gt;VFS-210&lt;/a&gt; was not tested against the existing unit tests.&lt;/p&gt;

&lt;p&gt;I am not sure which behavior is &quot;right&quot; or &quot;wrong&quot;, but I am hesitant to apply this without further discussion.&lt;/p&gt;</comment>
                            <comment id="12774474" author="markodonohue" created="Fri, 6 Nov 2009 23:00:39 +0000"  >&lt;p&gt;Hi Ralph&lt;/p&gt;

&lt;p&gt;Yep, I understand I added the patch to my local copy only cause I needed it.&lt;/p&gt;

&lt;p&gt;I also have a patch to let writing to hidden directories work, as that too has a similar problem.&lt;/p&gt;

&lt;p&gt;I wonder if this needs to be put into a FTP options thing then, some setting to allow  IMAGINARY files to be treated as hidden directories.&lt;/p&gt;

&lt;p&gt;That way it could pass the normal tests, but still allow a special mode for hidden directory operation.&lt;/p&gt;


&lt;p&gt;FYI: Below is an additional  test I had to comment out to get writing to hidden directories to work.&lt;br/&gt;
                   in    method public OutputStream getOutputStream(boolean bAppend) throws FileSystemException&lt;/p&gt;

&lt;p&gt;       what was happening was since it was imaginary, it was doing the whole recursive check parent thing.&lt;/p&gt;

&lt;p&gt;      I did think first to overwrite :  getOutputStream(boolean bAppend) iin FtpFileObject.java but there seemed to be a pattern of:&lt;br/&gt;
      getOutputStream() -&amp;gt; doGetOutputStream and only the doGet was overwritten and the getXXX was not.&lt;/p&gt;

&lt;p&gt;      If we were to go with put it as an option, how would you recommend i move that test out so i can overwrite it &lt;br/&gt;
      in the ftp specific one?&lt;/p&gt;

&lt;p&gt;Cheers - Mark&lt;/p&gt;

&lt;p&gt;&amp;#8212; AbstractFileObject.java     (revision 829303)&lt;br/&gt;
+++ AbstractFileObject.java     (working copy)&lt;br/&gt;
@@ -1381,6 +1381,7 @@&lt;br/&gt;
             throw new FileSystemException(&quot;vfs.provider/write-append-not-supported.error&quot;, name);&lt;br/&gt;
         }&lt;/p&gt;

&lt;p&gt;+/*  MOD::: &lt;br/&gt;
         if (getType() == FileType.IMAGINARY)&lt;/p&gt;
         {
 // Does not exist - make sure parent does
@@ -1390,6 +1391,7 @@
                 parent.createFolder();
             }
&lt;p&gt;         }&lt;br/&gt;
+*/&lt;/p&gt;

&lt;p&gt; // Get the raw output stream&lt;br/&gt;
         try&lt;/p&gt;</comment>
                            <comment id="12774496" author="ralph.goers@dslextreme.com" created="Fri, 6 Nov 2009 23:49:32 +0000"  >&lt;p&gt;I don&apos;t like the idea that the behavior should be specific to any particular provider. Actually, I would prefer if the FileType could be HIDDEN for these files instead of IMAGINARY. The problem with the change above is that if the parent directory really doesn&apos;t exist it needs to be created. Can you see if there is some way that could be done?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12423096" name="patch.diff" size="669" author="markodonohue" created="Sat, 24 Oct 2009 03:13:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200332</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8kv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302983</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-287] memory leak: LocalFileName objects are not released from AbstractFileSystem.listenerMap when all listeners are removed</title>
                <link>https://issues.apache.org/jira/browse/VFS-287</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description></description>
                <environment></environment>
        <key id="12438792">VFS-287</key>
            <summary>memory leak: LocalFileName objects are not released from AbstractFileSystem.listenerMap when all listeners are removed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mei">Mircea-Eugen Ionica</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Oct 2009 09:54:26 +0000</created>
                <updated>Fri, 6 Nov 2009 19:58:29 +0000</updated>
                            <resolved>Fri, 6 Nov 2009 19:58:29 +0000</resolved>
                                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12774388" author="ralph.goers@dslextreme.com" created="Fri, 6 Nov 2009 19:58:29 +0000"  >&lt;p&gt;Patch applied. Please verify and close.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12422887" name="fix_localfilename_leak.patch" size="646" author="mei" created="Thu, 22 Oct 2009 09:55:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200331</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1371r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226772</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-286] SFTP: getChildren() does not restore working dir if exception is thrown</title>
                <link>https://issues.apache.org/jira/browse/VFS-286</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;SftpFileObject.doListChildrenResolved() changes the working dir before doing ChannelSftp.ls() call. If ls() throws an exception (in my case it&apos;s SftpException &quot;No such file&quot; when trying to list the contents of &quot;/dev/cdrom&quot;), the execution is blown out the method and channel.cd(workingDirectory) is not performed. &lt;b&gt;All&lt;/b&gt; the subsequent operations that rely on the current dir will fail trying to cd() into unexisting directory.&lt;/p&gt;

&lt;p&gt;The fix will be to move the channel.cd(workingDirectory); part into the finally {} block below&lt;/p&gt;</description>
                <environment></environment>
        <key id="12438395">VFS-286</key>
            <summary>SFTP: getChildren() does not restore working dir if exception is thrown</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ksafonov">Kirill Safonov</reporter>
                        <labels>
                    </labels>
                <created>Sun, 18 Oct 2009 17:15:56 +0000</created>
                <updated>Sat, 7 Nov 2009 17:51:55 +0000</updated>
                            <resolved>Tue, 3 Nov 2009 19:00:18 +0000</resolved>
                                    <version>Nightly Builds</version>
                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12770414" author="ksafonov" created="Tue, 27 Oct 2009 07:43:55 +0000"  >&lt;p&gt;Patch attached&lt;/p&gt;</comment>
                            <comment id="12773117" author="ralph.goers@dslextreme.com" created="Tue, 3 Nov 2009 19:00:18 +0000"  >&lt;p&gt;The patch was applied. Please verify.&lt;/p&gt;</comment>
                            <comment id="12774645" author="ksafonov" created="Sat, 7 Nov 2009 17:51:55 +0000"  >&lt;p&gt;Verified and closed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12423292" name="VFS-286.patch" size="981" author="ksafonov" created="Tue, 27 Oct 2009 07:43:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200330</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i138t3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>227057</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-285] AbstractFileObject.getChildren(): internal structures will be left inconsistent if the excepion is thrown</title>
                <link>https://issues.apache.org/jira/browse/VFS-285</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;AbstractFileObject.getChildren() creates &lt;b&gt;children&lt;/b&gt; array and then fills it by resolving child names via FileSystemManager.resolveName(). If the latter method throws an exception (in my case it&apos;s &quot;Invalid descendent file name &quot;pci-0000:00:07.1-scsi-0:0:0:0&quot;&quot;), children array is left as is with some of the entries = null, that inevitably results in NPE on the next getChildren() call:&lt;br/&gt;
at org.apache.commons.vfs.provider.AbstractFileSystem.resolveFile(AbstractFileSystem.java:319)&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractFileSystem.resolveFile(AbstractFileSystem.java:314)&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractFileObject.resolveFile(AbstractFileObject.java:723)&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractFileObject.resolveFiles(AbstractFileObject.java:715)&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractFileObject.getChildren(AbstractFileObject.java:618)&lt;br/&gt;
	at org.apache.commons.vfs.provider.ftp.FtpFileObject.getChildren(FtpFileObject.java:412)&lt;/p&gt;

&lt;p&gt;since AbstractFileObject.getChildren() only checks that &lt;b&gt;children&lt;/b&gt; instance is not null&lt;/p&gt;</description>
                <environment></environment>
        <key id="12438393">VFS-285</key>
            <summary>AbstractFileObject.getChildren(): internal structures will be left inconsistent if the excepion is thrown</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ksafonov">Kirill Safonov</reporter>
                        <labels>
                    </labels>
                <created>Sun, 18 Oct 2009 15:26:26 +0000</created>
                <updated>Thu, 19 May 2016 18:26:06 +0000</updated>
                            <resolved>Wed, 16 Jan 2013 09:53:14 +0000</resolved>
                                    <version>Nightly Builds</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13553865" author="tn" created="Tue, 15 Jan 2013 15:01:59 +0000"  >&lt;p&gt;The attached patch cleans up the children cache if any exception occurs and re-throws it.&lt;/p&gt;</comment>
                            <comment id="13554015" author="garydgregory" created="Tue, 15 Jan 2013 17:16:54 +0000"  >&lt;p&gt;Thomas, feel free to commit. If you do, please update the changes.xml and this issue.&lt;/p&gt;

&lt;p&gt;Thank you,&lt;br/&gt;
Gary&lt;/p&gt;</comment>
                            <comment id="13554016" author="garydgregory" created="Tue, 15 Jan 2013 17:16:54 +0000"  >&lt;p&gt;Thomas, feel free to commit. If you do, please update the changes.xml and this issue.&lt;/p&gt;

&lt;p&gt;Thank you,&lt;br/&gt;
Gary&lt;/p&gt;</comment>
                            <comment id="13554888" author="tn" created="Wed, 16 Jan 2013 09:53:14 +0000"  >&lt;p&gt;Committed an improved patch in r1433872.&lt;/p&gt;

&lt;p&gt;Instead of catching the (possible) FileSystemException, use a temporary storage that will be assigned to the member filed only after successfully resolving children.&lt;/p&gt;</comment>
                            <comment id="15291803" author="b.eckenfels" created="Thu, 19 May 2016 18:26:06 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12564936" name="VFS-285.patch" size="1816" author="tn" created="Tue, 15 Jan 2013 15:01:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200329</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17mkv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>252627</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-284] NullPointerException is thrown at FtpFileObject when processing certain symbolic link</title>
                <link>https://issues.apache.org/jira/browse/VFS-284</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;On the server result of LIST command in &quot;/proc/1&quot; folder contains the symbolic link with entry &quot;lrwxrwxrwx    1 0        0               0 Oct 18 05:58 cwd&quot;&lt;br/&gt;
Since the entry has no &quot;-&amp;gt;&quot; part the resulting link destination is kept null leading to&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
	at java.lang.StringBuffer.&amp;lt;init&amp;gt;(StringBuffer.java:104)&lt;br/&gt;
	at org.apache.commons.vfs.impl.DefaultFileSystemManager.resolveName(DefaultFileSystemManager.java:762)&lt;br/&gt;
	at org.apache.commons.vfs.impl.DefaultFileSystemManager.resolveName(DefaultFileSystemManager.java:737)&lt;br/&gt;
	at org.apache.commons.vfs.provider.ftp.FtpFileObject.getLinkDestination(FtpFileObject.java:359)&lt;br/&gt;
	at org.apache.commons.vfs.provider.ftp.FtpFileObject.doGetType(FtpFileObject.java:338)&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractFileObject.getType(AbstractFileObject.java:467)&lt;/p&gt;

&lt;p&gt;More robust behavior and detailed error reporting (i.e. special type of exception) would be very helpful in this case.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Client is running on Vista Ultimate is accessing FTP server on Suse Lunux 11.0&lt;/p&gt;</environment>
        <key id="12438390">VFS-284</key>
            <summary>NullPointerException is thrown at FtpFileObject when processing certain symbolic link</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ksafonov">Kirill Safonov</reporter>
                        <labels>
                    </labels>
                <created>Sun, 18 Oct 2009 14:24:20 +0000</created>
                <updated>Sun, 18 Oct 2009 14:24:20 +0000</updated>
                                            <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200328</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 3 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8l3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302984</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-280] Can not put with sftp</title>
                <link>https://issues.apache.org/jira/browse/VFS-280</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Hi.&lt;/p&gt;

&lt;p&gt;Server side:&lt;br/&gt;
I have a OpenSSH server on windowsserver 2003.&lt;br/&gt;
I use the local ftp server.&lt;/p&gt;

&lt;p&gt;Client side:&lt;br/&gt;
I test connecting with filezilla client. That works just fine, Put and Get..&lt;/p&gt;

&lt;p&gt;But when running on java side with: jsch-0.1.42.jar and commons-vfs-1.0.jar.&lt;br/&gt;
I get following error.&lt;br/&gt;
Why is that?&lt;/p&gt;

&lt;p&gt;DEBUG - putFile: sftp://&amp;lt;myuserid/mypasswd&amp;gt;@&amp;lt;myserver&amp;gt;/AUTF8B.TXT&lt;br/&gt;
DEBUG - putFile: &lt;a href=&quot;file:///C:/tmp/AUTF8B.TXT&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:///C:/tmp/AUTF8B.TXT&lt;/a&gt;&lt;br/&gt;
DEBUG - putFile: sftp://&amp;lt;myuserid/mypasswd&amp;gt;@&amp;lt;myserver&amp;gt;/&lt;br/&gt;
org.apache.commons.vfs.FileSystemException: Could not copy &quot;file:///C:/tmp/AUTF8B.TXT&quot; to &quot;sftp://&amp;lt;myuserid/mypasswd&amp;gt;@&amp;lt;myserver&amp;gt;/AUTF8B.TXT&quot;.&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractFileObject.copyFrom(AbstractFileObject.java:902)&lt;br/&gt;
	at ftp.SecFTP.put(SecFTP.java:105)&lt;br/&gt;
	at ftp.SecFTP.put(SecFTP.java:74)&lt;br/&gt;
	at ftp.TestSecFTP.main(TestSecFTP.java:57)&lt;br/&gt;
	at ftp.TestSecFTP.main(TestSecFTP.java:47)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at net.ibs.integrator.util.ITRLauncher.callMain(ITRLauncher.java:56)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at net.ibs.integrator.util.ITRStart.callMain(ITRStart.java:61)&lt;br/&gt;
Caused by: org.apache.commons.vfs.FileSystemException: Could not close the output stream for file &quot;sftp://&amp;lt;myuserid/mypasswd&amp;gt;@&amp;lt;myserver&amp;gt;/AUTF8B.TXT&quot;.&lt;br/&gt;
	at org.apache.commons.vfs.provider.DefaultFileContent$FileContentOutputStream.close(DefaultFileContent.java:599)&lt;br/&gt;
	at org.apache.commons.vfs.FileUtil.copyContent(FileUtil.java:107)&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractFileObject.copyFrom(AbstractFileObject.java:893)&lt;br/&gt;
	... 14 more&lt;br/&gt;
Caused by: org.apache.commons.vfs.FileSystemException: Unknown message with code &quot;Permission denied&quot;.&lt;br/&gt;
	at org.apache.commons.vfs.provider.sftp.SftpFileObject$SftpOutputStream.onClose(SftpFileObject.java:433)&lt;br/&gt;
	at org.apache.commons.vfs.util.MonitorOutputStream.close(MonitorOutputStream.java:63)&lt;br/&gt;
	at java.io.FilterOutputStream.close(FilterOutputStream.java:143)&lt;br/&gt;
	at org.apache.commons.vfs.util.MonitorOutputStream.close(MonitorOutputStream.java:53)&lt;br/&gt;
	at org.apache.commons.vfs.provider.DefaultFileContent$FileContentOutputStream.close(DefaultFileContent.java:595)&lt;br/&gt;
	... 16 more&lt;br/&gt;
Caused by: 3: Permission denied&lt;br/&gt;
	at com.jcraft.jsch.ChannelSftp.throwStatusError(ChannelSftp.java:2289)&lt;br/&gt;
	at com.jcraft.jsch.ChannelSftp._put(ChannelSftp.java:485)&lt;br/&gt;
	at com.jcraft.jsch.ChannelSftp.put(ChannelSftp.java:439)&lt;br/&gt;
	at com.jcraft.jsch.ChannelSftp.put(ChannelSftp.java:406)&lt;br/&gt;
	at org.apache.commons.vfs.provider.sftp.SftpFileObject$SftpOutputStream.onClose(SftpFileObject.java:428)&lt;br/&gt;
	... 20 more&lt;/p&gt;</description>
                <environment></environment>
        <key id="12433913">VFS-280</key>
            <summary>Can not put with sftp</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ebchage">Harry Greijer</reporter>
                        <labels>
                    </labels>
                <created>Tue, 25 Aug 2009 07:29:53 +0000</created>
                <updated>Tue, 19 Feb 2013 09:48:25 +0000</updated>
                                            <version>1.0</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12965764" author="kmettu" created="Wed, 1 Dec 2010 17:49:59 +0000"  >&lt;p&gt;I am running into exact same error. &lt;/p&gt;

&lt;p&gt;It works for some SFTP servers but not for others. is there a solution for this ?&lt;/p&gt;

&lt;p&gt;File Path: c:\temp\TestFile.txt&lt;br/&gt;
sftpUri - sftp://username:password@host&lt;br/&gt;
readonly true&lt;br/&gt;
org.apache.commons.vfs.FileSystemException: Could not copy &quot;file:///c:/temp/TestFile.txt&quot; to &quot;sftp://username:password@host/TestFile.txt&quot;.&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractFileObject.copyFrom(AbstractFileObject.java:902)&lt;br/&gt;
	at programs.test11.main(test11.java:76)&lt;br/&gt;
Caused by: org.apache.commons.vfs.FileSystemException: Could not close the output stream for file &quot;sftp://username:password@host/TestFile.txt&quot;.&lt;br/&gt;
	at org.apache.commons.vfs.provider.DefaultFileContent$FileContentOutputStream.close(DefaultFileContent.java:599)&lt;br/&gt;
	at org.apache.commons.vfs.FileUtil.copyContent(FileUtil.java:107)&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractFileObject.copyFrom(AbstractFileObject.java:893)&lt;br/&gt;
	... 1 more&lt;br/&gt;
Caused by: org.apache.commons.vfs.FileSystemException&lt;br/&gt;
	at org.apache.commons.vfs.provider.sftp.SftpFileObject$SftpOutputStream.onClose(SftpFileObject.java:433)&lt;br/&gt;
	at org.apache.commons.vfs.util.MonitorOutputStream.close(MonitorOutputStream.java:63)&lt;br/&gt;
	at java.io.FilterOutputStream.close(Unknown Source)&lt;br/&gt;
	at org.apache.commons.vfs.util.MonitorOutputStream.close(MonitorOutputStream.java:53)&lt;br/&gt;
	at org.apache.commons.vfs.provider.DefaultFileContent$FileContentOutputStream.close(DefaultFileContent.java:595)&lt;br/&gt;
	... 3 more&lt;br/&gt;
Caused by: Permission denied.&lt;br/&gt;
	at com.jcraft.jsch.ChannelSftp.throwStatusError(Unknown Source)&lt;br/&gt;
	at com.jcraft.jsch.ChannelSftp.put(Unknown Source)&lt;br/&gt;
	at com.jcraft.jsch.ChannelSftp.put(Unknown Source)&lt;br/&gt;
	at org.apache.commons.vfs.provider.sftp.SftpFileObject$SftpOutputStream.onClose(SftpFileObject.java:428)&lt;br/&gt;
	... 7 more&lt;/p&gt;</comment>
                            <comment id="13059443" author="diarmuidcire" created="Mon, 4 Jul 2011 14:00:01 +0000"  >&lt;p&gt;I have run into the same problem. &lt;/p&gt;

&lt;p&gt;It appears to be directory related.&lt;/p&gt;

&lt;p&gt;So basically you need to specify the directory name in the sftp command where you expect the data to be put&lt;/p&gt;

&lt;p&gt;So instead of the following:&lt;/p&gt;

&lt;p&gt;&quot;sftp://username:password@ipaddress/&quot;&lt;/p&gt;

&lt;p&gt;You need the following:&lt;/p&gt;

&lt;p&gt;&quot;sftp://username:password@ipaddress/home/otherdirectory&quot;&lt;/p&gt;

&lt;p&gt;When the directory is specified the problem goes away.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>69308</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 18 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8lb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302985</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-279] ClassCastException in LocalFileSystem when using OnCall caching</title>
                <link>https://issues.apache.org/jira/browse/VFS-279</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;When using OnCall caching in the file system, there is a ClassCastException in the LocalFileSystem#doReplicateFile function.&lt;/p&gt;

&lt;p&gt;To fix the issue, I replaced :&lt;/p&gt;

&lt;p&gt;        final LocalFile localFile = (LocalFile) fileObject;&lt;br/&gt;
by &lt;br/&gt;
        final LocalFile localFile = (LocalFile) FileObjectUtils.getAbstractFileObject(fileObject);&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12433436">VFS-279</key>
            <summary>ClassCastException in LocalFileSystem when using OnCall caching</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="b.eckenfels">Bernd Eckenfels</assignee>
                                    <reporter username="earith">Didier Earith</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Aug 2009 09:39:45 +0000</created>
                <updated>Wed, 27 Jul 2016 21:04:25 +0000</updated>
                            <resolved>Wed, 23 Sep 2015 15:49:06 +0000</resolved>
                                    <version>1.0</version>
                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12744967" author="earith" created="Wed, 19 Aug 2009 09:42:11 +0000"  >&lt;p&gt;Source file to fix the issue&lt;/p&gt;</comment>
                            <comment id="12774720" author="ralph.goers@dslextreme.com" created="Sun, 8 Nov 2009 05:03:37 +0000"  >&lt;p&gt;I looked at the patch and I don&apos;t understand why it fixes anything. Can you provide a unit test that illustrates the behavior?&lt;/p&gt;</comment>
                            <comment id="12774882" author="earith" created="Mon, 9 Nov 2009 07:34:21 +0000"  >&lt;p&gt;I don&apos;t have any simple unit tests to illustrate the behavior.&lt;/p&gt;

&lt;p&gt;Just see that fileObject can be an instance of DecoratedFileObject which doesn&apos;t inherited from AbstractFileObject. &lt;br/&gt;
As LocalFile object inherits from AbstractFileObject, if the object file is an DecoratedFileObject , you&apos;ll get a class cast exception.&lt;/p&gt;

&lt;p&gt;See also for example doRename function in the LocalFile class. Or you can search for getAbstractFileObject function, you will see that :&lt;/p&gt;

&lt;p&gt;        &quot;LocalFile localFile = (LocalFile) fileObject;&quot; is never used, but &lt;/p&gt;

&lt;p&gt;        &quot;LocalFile localFile = (LocalFile) FileObjectUtils.getAbstractFileObject(fileObject);&quot; is always used.&lt;/p&gt;

&lt;p&gt;And this lacks in the doReplicateFile function.&lt;/p&gt;</comment>
                            <comment id="12774887" author="ralph.goers@dslextreme.com" created="Mon, 9 Nov 2009 07:58:35 +0000"  >&lt;p&gt;Thanks.  What I&apos;m concerned about is that doReplicateFile takes a FileObject. From what I can tell, it is possible to call this method and pass in a ZipFileObject or HttpFileObject, neither of which extend LocalFileObject and aren&apos;t DecoratedFileObjects? If so, should it work or is throwing a ClassCastException the correct behavior?&lt;/p&gt;

&lt;p&gt;I assume you ran into this and I assume it must have been with a DecoratedFileObject? I&apos;m interested in that use case as I wonder why it is desired to replicate the underlying FileObject and not the DecoratedFileObject.&lt;/p&gt;</comment>
                            <comment id="12774906" author="earith" created="Mon, 9 Nov 2009 09:06:49 +0000"  >&lt;p&gt;Here is a simple test to reproduce the issue:&lt;/p&gt;

&lt;p&gt;The test consists in calling &apos;resolveFile&apos; with an uri (to a directory) which is contained into a jar file.&lt;/p&gt;



&lt;p&gt;public class TestVFS {&lt;/p&gt;

&lt;p&gt;    public static void main(String[] args) &lt;/p&gt;
{
        
        testBugDoReplicateFile();
        
    }

&lt;p&gt;    public static void testBugDoReplicateFile() {&lt;/p&gt;

&lt;p&gt;        StandardFileSystemManager standardFileSystemManager = new StandardFileSystemManager();&lt;br/&gt;
        standardFileSystemManager.setLogger(LogFactory.getLog(VFS.class));&lt;br/&gt;
        standardFileSystemManager.setClassLoader(TestVFS.class.getClassLoader());&lt;br/&gt;
        try &lt;/p&gt;
{
            URL configUrl = new URL(&quot;file:/C:/MyVFSProvider.xml&quot;);
            standardFileSystemManager.setConfiguration(configUrl);
            standardFileSystemManager.setCacheStrategy(CacheStrategy.ON_CALL);
            standardFileSystemManager.init();

            String uri = &quot;jar:file:/C:/MyJarFile!/schema/iso19139&quot;;
            FileSystemOptions opts = new FileSystemOptions();

            FileObject fileObject = standardFileSystemManager.resolveFile(uri, opts);

        }
&lt;p&gt; catch (FileSystemException e) &lt;/p&gt;
{
            e.printStackTrace();
        } catch (IOException e) {            e.printStackTrace();        }

&lt;p&gt;    }&lt;br/&gt;
}&lt;/p&gt;



&lt;p&gt;The stack is :&lt;/p&gt;


&lt;p&gt;LocalFileSystem.doReplicateFile(FileObject, FileSelector) line: 77	&lt;br/&gt;
LocalFileSystem(AbstractFileSystem).replicateFile(FileObject, FileSelector) line: 395	&lt;br/&gt;
JarFileSystem(ZipFileSystem).&amp;lt;init&amp;gt;(FileName, FileObject, FileSystemOptions) line: 63	&lt;br/&gt;
JarFileSystem.&amp;lt;init&amp;gt;(FileName, FileObject, FileSystemOptions) line: 51	&lt;br/&gt;
JarFileProvider.doCreateFileSystem(String, FileObject, FileSystemOptions) line: 82	&lt;br/&gt;
JarFileProvider(AbstractLayeredFileProvider).createFileSystem(String, FileObject, FileSystemOptions) line: 79	&lt;br/&gt;
JarFileProvider(AbstractLayeredFileProvider).findFile(FileObject, String, FileSystemOptions) line: 59	&lt;br/&gt;
StandardFileSystemManager(DefaultFileSystemManager).resolveFile(FileObject, String, FileSystemOptions) line: 691	&lt;br/&gt;
StandardFileSystemManager(DefaultFileSystemManager).resolveFile(String, FileSystemOptions) line: 619	&lt;br/&gt;
TestVFS.testBugDoReplicateFile() line: 36	&lt;br/&gt;
TestVFS.main(String[]) line: 18	&lt;/p&gt;



&lt;p&gt;In the doReplicateFile, the fileObject object  is  a OnCallRefreshFileObject instance  which inherits from DecoratedFileObject :&lt;/p&gt;


&lt;p&gt;fileObject	OnCallRefreshFileObject  (id=49)	&lt;br/&gt;
	decoratedFileObject	LocalFile  (id=57)	&lt;br/&gt;
		attached	true	&lt;br/&gt;
		children	null	&lt;br/&gt;
		content	null	&lt;br/&gt;
		file	File  (id=60)	&lt;br/&gt;
		fs	LocalFileSystem  (id=43)	&lt;br/&gt;
		name	WindowsFileName  (id=62)	&lt;br/&gt;
		objects	null	&lt;br/&gt;
		operations	null	&lt;br/&gt;
		parent	null	&lt;br/&gt;
		rootFile	&quot;C:&quot; (id=67)	&lt;br/&gt;
		type	FileType  (id=68)	&lt;/p&gt;





&lt;p&gt;MyVFSProvider.xml is &lt;/p&gt;

&lt;p&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&amp;gt;&lt;br/&gt;
&amp;lt;providers&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;!-- &lt;br/&gt;
    &amp;lt;default-provider class-name=&quot;org.apache.commons.vfs.provider.url.UrlFileProvider&quot;/&amp;gt;&lt;br/&gt;
 --&amp;gt;&lt;br/&gt;
    &amp;lt;default-provider class-name=&quot;org.apache.commons.vfs.provider.local.DefaultLocalFileProvider&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;provider class-name=&quot;org.apache.commons.vfs.provider.local.DefaultLocalFileProvider&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;scheme name=&quot;local&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;/provider&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;provider class-name=&quot;org.apache.commons.vfs.provider.local.DefaultLocalFileProvider&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;scheme name=&quot;file&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;/provider&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;provider class-name=&quot;org.apache.commons.vfs.provider.ftp.FtpFileProvider&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;scheme name=&quot;ftp&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;if-available class-name=&quot;org.apache.commons.net.ftp.FTPFile&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;/provider&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;provider class-name=&quot;org.apache.commons.vfs.provider.sftp.SftpFileProvider&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;scheme name=&quot;sftp&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;/provider&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;provider class-name=&quot;org.apache.commons.vfs.provider.http.HttpFileProvider&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;scheme name=&quot;http&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;/provider&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;provider class-name=&quot;org.apache.commons.vfs.provider.https.HttpsFileProvider&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;scheme name=&quot;https&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;/provider&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;provider class-name=&quot;org.apache.commons.vfs.provider.jar.JarFileProvider&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;scheme name=&quot;jar&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;/provider&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;/providers&amp;gt;&lt;/p&gt;</comment>
                            <comment id="14876611" author="simon04" created="Fri, 18 Sep 2015 22:40:43 +0000"  >&lt;p&gt;Problem still persists. To test&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; StandardFileSystemManager fs = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; StandardFileSystemManager();
        fs.setCacheStrategy(CacheStrategy.ON_CALL);
        fs.init();
        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; uri = &lt;span class=&quot;code-quote&quot;&gt;&quot;jar:/path/to/a/jar.jar!META-INF/MANIFEST.MF&quot;&lt;/span&gt;;
        &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; fs.resolveFile(uri, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileSystemOptions()).getContent().getSize() &amp;gt; 0;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I attached Didier&apos;s fix as a patch to be applied.&lt;/p&gt;</comment>
                            <comment id="14904699" author="b.eckenfels" created="Wed, 23 Sep 2015 15:49:06 +0000"  >&lt;p&gt;commited in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1704885&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1704885&lt;/a&gt;&lt;br/&gt;
I also added a similar fix to the verifying file selector which is used by testing (in anticipation of testing with oncall)&lt;/p&gt;

&lt;p&gt;thanks didier and simon&lt;/p&gt;</comment>
                            <comment id="14904717" author="b.eckenfels" created="Wed, 23 Sep 2015 15:59:49 +0000"  >&lt;p&gt;the org.apache.commons.vfs2.provider.local.LocalFileSystem.doReplicateFile(FileObject, FileSelector) is overwriting the more general case. It looks like it is expected that you use the replicate() function of the filesystem your file is located on. fileObject.getFilesystem().replicat(fileObject, SELF). Not cleanly documented I think. But the patch does at least improve the tolerance a bit.&lt;/p&gt;</comment>
                            <comment id="15291875" author="b.eckenfels" created="Thu, 19 May 2016 18:26:30 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12445039">VFS-295</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12417000" name="LocalFileSystem.java" size="3124" author="earith" created="Wed, 19 Aug 2009 09:42:11 +0000"/>
                            <attachment id="12761212" name="VFS-279.patch" size="1149" author="simon04" created="Fri, 18 Sep 2015 22:40:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200326</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8lj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302986</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-277] VFS ant tasks reveal passwords</title>
                <link>https://issues.apache.org/jira/browse/VFS-277</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;1) Password leaking through FileObject.toString()&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;AbstractSyncTask.java and MkdirTask.java use MessageFormat to create log messages, which goes back to FileObject.toString() and returns &quot;name.getURI()&quot; containing the password.&lt;br/&gt;
            final String message = Messages.getString(&quot;vfs.tasks/mkdir.create-folder.info&quot;, dir);&lt;br/&gt;
            log(message);&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;MoveTask.java and SyncTask.java use string concatenation with a FileObject, also going back to toString():&lt;br/&gt;
            log(&quot;Deleting &quot; + srcFile);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;A fix for that was suggested in &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-169&quot; title=&quot;Thrown exception reveals passwords&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-169&quot;&gt;&lt;del&gt;VFS-169&lt;/del&gt;&lt;/a&gt; (and others) to modify AbstractFileObject.toString() to use &quot;name.getFriendlyURI()&quot;, but it wasn&apos;t implemented in order to keep the API compatible. For our project I was able to change the toString() implementation.&lt;br/&gt;
To keep the API working all calls to Messages.getString(...) that pass in FileObject&apos;s should then rather pass in fileObject.getName().getFriendlyURI().&lt;/p&gt;

&lt;p&gt;2) String concatenation with URI strings&lt;br/&gt;
DeleteTask.java concatenates the string representation of the source directory&apos;s URL in the the line:&lt;br/&gt;
log(&quot;Deleting &quot; + filesList + &quot; in the directory &quot; + srcDirUrl)&lt;/p&gt;

&lt;p&gt;To fix this I replaced the block inside the &quot;if&quot; with:&lt;br/&gt;
                final FileObject srcDir = resolveFile(srcDirUrl);&lt;br/&gt;
                log(&quot;Deleting &quot; + filesList + &quot; in the directory &quot; + srcDir.getName().getFriendlyURI());&lt;/p&gt;

&lt;p&gt;                StringTokenizer tok = new StringTokenizer(filesList, &quot;, \t\n\r\f&quot;, false);&lt;br/&gt;
                while (tok.hasMoreTokens())&lt;/p&gt;
                {
                    String nextFile = tok.nextToken();
                    final FileObject srcFile = srcDir.resolveFile(nextFile);
                    srcFile.delete(Selectors.SELECT_ALL);
                }

&lt;p&gt;3) Explicit logging of the password URI&lt;br/&gt;
ShowFileTask.java explicitly logs the URI with the password:&lt;br/&gt;
            log(&quot;Details of &quot; + file.getName().getURI());&lt;/p&gt;
</description>
                <environment>&lt;p&gt;Solaris 10; Ant 1.7.1; commons-vfs-SNAPSHOT-2.0 (revision 537717)&lt;/p&gt;</environment>
        <key id="12433247">VFS-277</key>
            <summary>VFS ant tasks reveal passwords</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="hbeham">Horst Beham</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Aug 2009 16:20:34 +0000</created>
                <updated>Mon, 17 Aug 2009 18:53:54 +0000</updated>
                                            <version>2.0</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12744162" author="hbeham" created="Mon, 17 Aug 2009 18:41:42 +0000"  >&lt;p&gt;to be applied inside the &quot;core&quot; folder&lt;/p&gt;</comment>
                            <comment id="12744167" author="hbeham" created="Mon, 17 Aug 2009 18:53:54 +0000"  >&lt;p&gt;ant script that tests whether the log output contains passwords.&lt;br/&gt;
requires ant-contrib.jar and ant 1.7.x&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12416789" name="ant-password-leak.diff" size="5255" author="hbeham" created="Mon, 17 Aug 2009 18:41:42 +0000"/>
                            <attachment id="12416792" name="vfs-test.xml" size="2234" author="hbeham" created="Mon, 17 Aug 2009 18:53:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>46448</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 12 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8lr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302987</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-274] StaticUserAuthenticator prevents reuse of FileSystem</title>
                <link>https://issues.apache.org/jira/browse/VFS-274</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;If a StaticUserAuthenticator is used in the FileSystemOptions it causes that the FileSystem cannot be reused, since the options are part of the key used in the map that tracks the FileSystems. This UserAuthenticator should have proper equals and hashCode methods as well as implement Comparable, since the map is actually a TreeMap.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12432990">VFS-274</key>
            <summary>StaticUserAuthenticator prevents reuse of FileSystem</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="joehni">Joerg Schaible</assignee>
                                    <reporter username="joehni">Joerg Schaible</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Aug 2009 13:52:23 +0000</created>
                <updated>Thu, 13 Aug 2009 14:33:29 +0000</updated>
                            <resolved>Thu, 13 Aug 2009 14:33:30 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12742839" author="joehni" created="Thu, 13 Aug 2009 14:33:29 +0000"  >&lt;p&gt;svn 803902&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200322</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 12 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i135zb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226599</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-273] Files with lines containing whitespace characters trailing as well as embedded in between are not transferred correctly</title>
                <link>https://issues.apache.org/jira/browse/VFS-273</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;I was trying to transfer a plain text file with fixed length fields. The length of any line in the file must be fixed. For this whitespace characters are used to pad within the line as well as at the end whenever remaining length of a field is unused or in case of field with null values.&lt;/p&gt;

&lt;p&gt;On AIX, where the length should have been 401 characters, only 93 characters are transferred (seemingly first 93)&lt;br/&gt;
On Windows, for the same file, only 75 charatcers are transferred (seemingly first 75)&lt;/p&gt;

&lt;p&gt;Files before &amp;amp; after transfer are attached.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows, AIX, JDK 1.5 &lt;/p&gt;</environment>
        <key id="12432731">VFS-273</key>
            <summary>Files with lines containing whitespace characters trailing as well as embedded in between are not transferred correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="gdgdgdgd">Gayatri Deshpande</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Aug 2009 01:21:54 +0000</created>
                <updated>Wed, 27 Jul 2016 21:04:49 +0000</updated>
                                            <version>1.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12741726" author="joehni" created="Tue, 11 Aug 2009 06:49:58 +0000"  >&lt;p&gt;Can you provide a unit test? As long as we do not know what you do with vfs (in terms of code), nobody will be able to help you.&lt;/p&gt;</comment>
                            <comment id="12742139" author="gdgdgdgd" created="Wed, 12 Aug 2009 00:32:39 +0000"  >&lt;p&gt;Thanks for your time, Joerg. Today I just tried using the latest version of Jsch 1.42, and the problem is no more! Our legacy code uses 24July2007 nightly snapshot and Jsch version 1.34. &lt;/p&gt;

&lt;p&gt;Now I am planning to try to upgrade to include vfs jar built from trunk (2.0-SNAPSHOT) &lt;/p&gt;</comment>
                            <comment id="12774724" author="ralph.goers@dslextreme.com" created="Sun, 8 Nov 2009 05:19:46 +0000"  >&lt;p&gt;What is the current status of this?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12416149" name="original_file.txt" size="401" author="gdgdgdgd" created="Tue, 11 Aug 2009 01:27:53 +0000"/>
                            <attachment id="12416150" name="transferred_file.txt" size="75" author="gdgdgdgd" created="Tue, 11 Aug 2009 01:27:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>87489</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8m7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302989</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-272] ZipException: too many entries in ZIP file</title>
                <link>https://issues.apache.org/jira/browse/VFS-272</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;I am trying to read a large zip file containing ~70000 files. I get the following exception when attempting to unzip it:&lt;/p&gt;

&lt;p&gt;Caused by: java.util.zip.ZipException: too many entries in ZIP file&lt;br/&gt;
	at java.util.zip.ZipFile.open(Native Method)&lt;br/&gt;
	at java.util.zip.ZipFile.&amp;lt;init&amp;gt;(ZipFile.java:203)&lt;br/&gt;
	at java.util.zip.ZipFile.&amp;lt;init&amp;gt;(ZipFile.java:234)&lt;br/&gt;
	at org.apache.commons.vfs.provider.zip.ZipFileSystem.createZipFile(ZipFileSystem.java:154)&lt;br/&gt;
	... 10 more&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12432391">VFS-272</key>
            <summary>ZipException: too many entries in ZIP file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kfinkels">keren finkels</reporter>
                        <labels>
                    </labels>
                <created>Thu, 6 Aug 2009 13:36:56 +0000</created>
                <updated>Thu, 6 Aug 2009 13:36:56 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200321</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 13 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8jb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302976</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-271] default logger is not set</title>
                <link>https://issues.apache.org/jira/browse/VFS-271</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Default logger is not set, although documentation claims that this happens: &lt;a href=&quot;http://commons.apache.org/vfs/api.html#Configuring_Commons_VFS&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/vfs/api.html#Configuring_Commons_VFS&lt;/a&gt; (step 2).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12432362">VFS-271</key>
            <summary>default logger is not set</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="joehni">Joerg Schaible</assignee>
                                    <reporter username="joehni">Joerg Schaible</reporter>
                        <labels>
                    </labels>
                <created>Thu, 6 Aug 2009 08:20:35 +0000</created>
                <updated>Thu, 6 Aug 2009 08:31:08 +0000</updated>
                            <resolved>Thu, 6 Aug 2009 08:31:08 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12739940" author="joehni" created="Thu, 6 Aug 2009 08:31:08 +0000"  >&lt;p&gt;svn 801536&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200320</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 14 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i137lj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226861</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-269] HttpFileObject: unsupported content over 2GB length</title>
                <link>https://issues.apache.org/jira/browse/VFS-269</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;This bug makes impossible to query about content-length for content over 2GB (int limitation), while it is allowed by protocol. Simply, Long should be used instead of Integer.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12430500">VFS-269</key>
            <summary>HttpFileObject: unsupported content over 2GB length</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mzawirski">Marek Zawirski</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Jul 2009 14:24:42 +0000</created>
                <updated>Fri, 6 Nov 2009 22:37:27 +0000</updated>
                            <resolved>Fri, 6 Nov 2009 22:37:27 +0000</resolved>
                                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12731460" author="mzawirski" created="Wed, 15 Jul 2009 14:25:36 +0000"  >&lt;p&gt;Trivial patch: use Long instead of Integer&lt;/p&gt;</comment>
                            <comment id="12774461" author="ralph.goers@dslextreme.com" created="Fri, 6 Nov 2009 22:37:27 +0000"  >&lt;p&gt;The patch was applied. Please verify and close.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12413554" name="httpfileobject_fix_for_big_content_lenght.patch" size="560" author="mzawirski" created="Wed, 15 Jul 2009 14:25:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200318</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i136z3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226760</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-268] When I set a delay on FileMonitor it detects a create on a file, but if the file is deleted/moved and created in the directory again it does not detect it</title>
                <link>https://issues.apache.org/jira/browse/VFS-268</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;I am using a DefaultFileMonitor within a FileListener to listen on a directory.  I get different behavior when I set the monitor delay to 0 and non zero. When I set it to 0 and add files to the directory, the createfile event is triggered, I move the files out of the directory. If I add the same files back into the directory, the create event is again triggered.&lt;/p&gt;

&lt;p&gt;If I set the delay to 60000, the first time the files are added the event is triggered, I move the files out of the directory. When I add the files back into the directory, the create event does not trigger (i.e. it triggers the first time, but only the first time).&lt;/p&gt;

&lt;p&gt;The only difference between the situations is 1 has delay set to 60000, the other sets it to 0 ( and I see in the code that that causes a delay of 1000).&lt;/p&gt;


&lt;p&gt;Here is a snippet of the pertinent code.    Thanks for any information/assistance you can find time to give.&lt;/p&gt;




&lt;p&gt;public FileMessageListener(String dataArea, ReceiverDetail receiverRecord, &lt;br/&gt;
						   FileObject fileDirectoryObject, FileObject errorDirectoryObject, &lt;br/&gt;
						   FileObject processedDirectoryObject, long FileAccessCheckTime) throws Exception&lt;br/&gt;
	{&lt;br/&gt;
		this.dataArea = dataArea;&lt;br/&gt;
		this.channel = receiverRecord.getKey().channel;&lt;br/&gt;
		this.receiver = receiverRecord.getKey().receiver;&lt;br/&gt;
		this.processDefinition = receiverRecord.processDefinition;&lt;br/&gt;
		this.sendFileData = receiverRecord.filereceiverSendFileData;&lt;/p&gt;

&lt;p&gt;		this.fileDirectoryObject = fileDirectoryObject;&lt;br/&gt;
		this.errorDirectoryObject = errorDirectoryObject;&lt;br/&gt;
		this.processedDirectoryObject = processedDirectoryObject;&lt;/p&gt;

&lt;p&gt;		this.caseinsensitive = (System.getProperty(&quot;os.name&quot;).indexOf(&quot;Windows&quot;) &amp;gt;= 0);&lt;/p&gt;

&lt;p&gt;		this.regexString = getRegexString(receiverRecord.filereceiverFileName);&lt;/p&gt;

&lt;p&gt;		this.fileMonitor = new DefaultFileMonitor(this);&lt;br/&gt;
		this.fileMonitor.setDelay(1000 * 60 * FileAccessCheckTime);&lt;/p&gt;

&lt;p&gt;		// Recursive needs to be set before files are added to the monitor.&lt;br/&gt;
		fileMonitor.setRecursive(false);&lt;/p&gt;

&lt;p&gt;		fileMonitor.addFile(fileDirectoryObject);&lt;br/&gt;
		fileMonitor.start();&lt;/p&gt;

&lt;p&gt;etc.......&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows listening on directory on unix or windows&lt;/p&gt;</environment>
        <key id="12429624">VFS-268</key>
            <summary>When I set a delay on FileMonitor it detects a create on a file, but if the file is deleted/moved and created in the directory again it does not detect it</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="krypton37">John</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Jul 2009 16:10:49 +0000</created>
                <updated>Mon, 5 Jan 2015 22:08:29 +0000</updated>
                                                                                <due></due>
                            <votes>2</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="13114050" author="ralph.goers@dslextreme.com" created="Sat, 24 Sep 2011 19:30:43 +0000"  >&lt;p&gt;Are you deleting and re-adding the file during the 60 second window? If so, from the perspective of the monitor the file was never deleted. When you set the delay to zero it is actually being set to the default of 1 second.&lt;/p&gt;</comment>
                            <comment id="13285622" author="kisa" created="Wed, 30 May 2012 12:37:09 +0000"  >&lt;p&gt;DefaultFileMonitor.java:626&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;                &lt;span class=&quot;code-comment&quot;&gt;// If the file existed and now doesn&apos;t
&lt;/span&gt;                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.exists &amp;amp;&amp;amp; !&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.file.exists())
                {
                    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.exists = &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.file.exists();
                    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.timestamp = -1;

                    &lt;span class=&quot;code-comment&quot;&gt;// Fire delete event
&lt;/span&gt;
                    ((AbstractFileSystem)
                        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.file.getFileSystem()).fireFileDeleted(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.file);

                    &lt;span class=&quot;code-comment&quot;&gt;// Remove listener in &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; file is re-created. Don&apos;t want to fire twice.
&lt;/span&gt;                    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.fm.getFileListener() != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
                    {
                        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.file.getFileSystem().removeListener(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.file,
                            &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.fm.getFileListener());
                    }

                    &lt;span class=&quot;code-comment&quot;&gt;// Remove from map
&lt;/span&gt;                    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.fm.queueRemoveFile(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.file);
                }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt; this.fm.queueRemoveFile(this.file); &lt;/font&gt; is the culprit&lt;/p&gt;</comment>
                            <comment id="13285632" author="kisa" created="Wed, 30 May 2012 12:53:48 +0000"  >&lt;p&gt;attached a patched version with conditional removal flag&lt;/p&gt;</comment>
                            <comment id="13987167" author="b.eckenfels" created="Thu, 1 May 2014 23:26:02 +0000"  >&lt;p&gt;Hm, nut sure I understand, the above code is not conditional? Can you add a real diff?&lt;/p&gt;</comment>
                            <comment id="14265202" author="fommil" created="Mon, 5 Jan 2015 22:08:29 +0000"  >&lt;p&gt;@Samodelkin have a look at &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-536&quot; title=&quot;DefaultFileMonitor will ignore files forever if directory is deleted and recreated&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-536&quot;&gt;VFS-536&lt;/a&gt; and see if it might be related. In any case, your patch is out of date with master, could you please re-upload it as a `.diff` file?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12530200" name="DefaultFileMonitorPatched.java" size="17779" author="kisa" created="Wed, 30 May 2012 12:59:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>59421</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 43 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8jr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302978</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-263] WebdavFileObject does not implement doSetAttribute()</title>
                <link>https://issues.apache.org/jira/browse/VFS-263</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Usually, WebDAV servers allow to read from &lt;em&gt;and&lt;/em&gt; write to properties (attributes in VFS speech) of a WebDAV resource.&lt;/p&gt;

&lt;p&gt;Though WebdavFileObject in current TRUNK allows to read those properties, it doesn&apos;t allow to write them. WebdavFileObject should implement doSetAttribute() to fully support WebDAV properties.&lt;/p&gt;</description>
                <environment>&lt;p&gt;all&lt;/p&gt;</environment>
        <key id="12427430">VFS-263</key>
            <summary>WebdavFileObject does not implement doSetAttribute()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="xixxix">Ingo Maas</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Jun 2009 08:18:06 +0000</created>
                <updated>Mon, 27 Sep 2010 14:09:59 +0000</updated>
                            <resolved>Thu, 12 Nov 2009 03:57:26 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="300">5m</timeoriginalestimate>
                            <timeestimate seconds="300">5m</timeestimate>
                                        <comments>
                            <comment id="12743204" author="xixxix" created="Fri, 14 Aug 2009 13:54:09 +0000"  >&lt;p&gt;The way I&apos;ve solved it for me:&lt;br/&gt;
////&lt;br/&gt;
    protected void doSetAttribute(String attrName, Object value) throws Exception {&lt;br/&gt;
      try&lt;br/&gt;
      {&lt;br/&gt;
        URLFileName fileName = (URLFileName) getName();&lt;br/&gt;
        String urlStr = urlString( fileName);&lt;br/&gt;
        DavPropertySet properties = new DavPropertySet();&lt;br/&gt;
        DavPropertyNameSet propertyNameSet = new DavPropertyNameSet();&lt;br/&gt;
        DavProperty property = new DefaultDavProperty( attrName, value, Namespace.EMPTY_NAMESPACE);&lt;/p&gt;

&lt;p&gt;        if (value != null) &lt;/p&gt;
{
          properties.add( property);
        }
&lt;p&gt; else &lt;/p&gt;
{
          propertyNameSet.add( property.getName() ); // remove porperty
        }

&lt;p&gt;        PropPatchMethod method = new PropPatchMethod( urlStr, properties, propertyNameSet);&lt;br/&gt;
        setupMethod( method);&lt;br/&gt;
        execute( method);&lt;br/&gt;
        if (!method.succeeded() ) &lt;/p&gt;
{
          throw new FileSystemException(&quot;Property &apos;&quot; + attrName + &quot;&apos; could not be set.&quot;);
        }
&lt;p&gt;      }&lt;br/&gt;
      catch (FileSystemException fse) &lt;/p&gt;
{
        throw fse;
      }
&lt;p&gt; catch (Exception e) &lt;/p&gt;
{
        throw new FileSystemException(&quot;vfs.provider.webdav/propfind.error&quot;, getName(), e);
      }
&lt;p&gt;    } &lt;/p&gt;</comment>
                            <comment id="12776825" author="ralph.goers@dslextreme.com" created="Thu, 12 Nov 2009 03:57:26 +0000"  >&lt;p&gt;Patch applied. Please verify and close.&lt;/p&gt;</comment>
                            <comment id="12915317" author="xixxix" created="Mon, 27 Sep 2010 14:09:59 +0000"  >&lt;p&gt;Closed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200313</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 6 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i13ain:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>227334</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-261] WebDAV upload corrupts binary files</title>
                <link>https://issues.apache.org/jira/browse/VFS-261</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;When uploading a binary file to a WebDAV folder it gets corrupted. This happens because the binary file gets encoded with the default charset (see String.getBytes()).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12426575">VFS-261</key>
            <summary>WebDAV upload corrupts binary files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="so">so</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 May 2009 13:00:49 +0000</created>
                <updated>Wed, 24 Feb 2010 12:58:04 +0000</updated>
                            <resolved>Sun, 8 Nov 2009 05:37:48 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12713971" author="so" created="Thu, 28 May 2009 13:04:05 +0000"  >&lt;p&gt;Patch that fixes this issue, by using a ByteArrayRequestEntity not a StringRequestEntity.&lt;/p&gt;</comment>
                            <comment id="12774728" author="ralph.goers@dslextreme.com" created="Sun, 8 Nov 2009 05:37:48 +0000"  >&lt;p&gt;Patch applied. Please verify and close.&lt;/p&gt;</comment>
                            <comment id="12837766" author="so" created="Wed, 24 Feb 2010 12:58:04 +0000"  >&lt;p&gt;Works. Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12409261" name="VFS-261-fix_webdav_upload.patch" size="1363" author="so" created="Thu, 28 May 2009 13:04:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200311</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 37 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i13bg7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>227485</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-260] ZipFileObject does not release resources</title>
                <link>https://issues.apache.org/jira/browse/VFS-260</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Hello!&lt;/p&gt;


&lt;p&gt;I use commons-vfs (1.1-SNAPSHOT branch) and found that ZipFileObject does not release resources&lt;br/&gt;
correctly...&lt;/p&gt;


&lt;p&gt;See code of test-class (File newFile = new File(...); it is any zip file with 1 or more file&lt;br/&gt;
inside):&lt;/p&gt;

&lt;p&gt;/////////////////////////////////////&lt;br/&gt;
		//code test&lt;/p&gt;

&lt;p&gt;		FileSystemManager fsManager = VFS.getManager();		&lt;br/&gt;
		FileObject fileObject = fsManager.toFileObject(newFile);&lt;br/&gt;
		System.out.println(&quot;original file : &quot;+fileObject.getURL());&lt;br/&gt;
		FileObject zipFileObject = fsManager.resolveFile(&quot;zip:&quot;+fileObject.getURL());		&lt;br/&gt;
		FileObject[] fileObjects = zipFileObject.getChildren();		&lt;br/&gt;
		FileObject zipEntry = fileObjects&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;;&lt;br/&gt;
		System.out.println(&quot;zip entry : &quot;+zipEntry.getURL());&lt;/p&gt;

&lt;p&gt;		// open stream!!!!&lt;br/&gt;
		zipEntry.getContent().getInputStream();&lt;/p&gt;

&lt;p&gt;		//now try to close opened input stream...&lt;br/&gt;
		zipEntry.getContent().close();&lt;br/&gt;
		zipEntry.close();				&lt;/p&gt;

&lt;p&gt;		//only this one works&lt;br/&gt;
		//VFS.getManager().closeFileSystem(zipFileObject.getFileSystem());&lt;/p&gt;


&lt;p&gt;		//test to rename&lt;/p&gt;

&lt;p&gt;		File newFile2 = new File(newFile.getParentFile(), newFile.getName()+&quot;_2&quot;);&lt;/p&gt;

&lt;p&gt;		System.out.println(&quot;newFile.exists() = &quot;+newFile.exists());		&lt;br/&gt;
		System.out.println(&quot;newFile2.exists() = &quot;+newFile2.exists());&lt;/p&gt;

&lt;p&gt;		boolean result = newFile.renameTo(newFile2);&lt;br/&gt;
		System.out.println(&quot;newFile.renameTo(newFile2)=&quot;+result);&lt;/p&gt;

&lt;p&gt;		assertTrue(result);&lt;/p&gt;


&lt;p&gt;		/////end snippet test&lt;br/&gt;
		//////////////////////////////////////////&lt;/p&gt;

&lt;p&gt;Truly yours,&lt;br/&gt;
Ivan Pryvalov.&lt;/p&gt;</description>
                <environment>&lt;p&gt;commons-vfs-1.1-SNAPSHOT (checkouted at 21 of May 2009)&lt;/p&gt;

&lt;p&gt;System: Windows XP Sp3, jdk1.5.0_16&lt;/p&gt;</environment>
        <key id="12426121">VFS-260</key>
            <summary>ZipFileObject does not release resources</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="vanchope">Ivan Pryvalov</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 May 2009 15:15:02 +0000</created>
                <updated>Wed, 27 Jul 2016 21:04:30 +0000</updated>
                                            <version>1.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200310</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 24 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i14mpz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>235145</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-258] [SFTP][RAM] Unsafe casting to AbstractFileObject subclasses in doRename().</title>
                <link>https://issues.apache.org/jira/browse/VFS-258</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;AbstractFileObject#doRename() method is called from AbstractFileObject#moveTo() when file can be moved within the same file system. As it concerns file that is subclass AbstractFileObject, target file is also assumed to be AbstractFileObject type. However, this target file can be decorated. Undressing with FileObjectUtils.getAbstractFileObject() was not performed in every places that it should be. Some subclasses do correct stripping of decorator in doRename() implementations (e.g. FtpFileObject), some of them not (e.g. RamFileObject) - which may cause ClassCastExceptions.&lt;/p&gt;

&lt;p&gt;Patch proposal: pass undressed AbstractFileObject to doRename() instead of possibly decorated FileObject.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12425820">VFS-258</key>
            <summary>[SFTP][RAM] Unsafe casting to AbstractFileObject subclasses in doRename().</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mzawirski">Marek Zawirski</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 May 2009 13:11:41 +0000</created>
                <updated>Thu, 19 May 2016 18:25:39 +0000</updated>
                            <resolved>Wed, 16 May 2012 15:06:05 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="12710727" author="mzawirski" created="Tue, 19 May 2009 13:12:58 +0000"  >&lt;p&gt;Patch: let doRename() take stripped AbstractFileObject as argument&lt;/p&gt;</comment>
                            <comment id="12710728" author="mzawirski" created="Tue, 19 May 2009 13:17:34 +0000"  >&lt;p&gt;Fix version: 2.0&lt;/p&gt;</comment>
                            <comment id="13276785" author="garydgregory" created="Wed, 16 May 2012 15:02:13 +0000"  >&lt;p&gt;Update title to show this is a bug in &lt;span class=&quot;error&quot;&gt;&amp;#91;SFTP&amp;#93;&lt;/span&gt; and &lt;span class=&quot;error&quot;&gt;&amp;#91;RAM&amp;#93;&lt;/span&gt;.&lt;/p&gt;</comment>
                            <comment id="13276793" author="garydgregory" created="Wed, 16 May 2012 15:06:06 +0000"  >&lt;p&gt;Committed revision 1339211.&lt;/p&gt;</comment>
                            <comment id="15291727" author="b.eckenfels" created="Thu, 19 May 2016 18:25:39 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12408482" name="doRename_use_AbstractFileObject.patch" size="6261" author="mzawirski" created="Tue, 19 May 2009 13:12:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200308</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i135nj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226546</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-256] AbstractFileObject.delete(FileSelector) correctness relies on FilesCache</title>
                <link>https://issues.apache.org/jira/browse/VFS-256</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Implementation of delete(FIleSelector) in AbstractFileObject uses findFiles() to traverse files using DFS strategy - to find all files to remove, in appropriate order. It guarantees that for each file, its children are removed first. So, implementation of delete(FileSelector) iterates over DFS-ordered list of files to remove and before removing each of it, checks whether it not contain any children. That looks ok, at least if non-atomic check &amp;amp; delete is meant to be achieved.&lt;/p&gt;

&lt;p&gt;However, checking for file&apos;s children before file removal is made using AbstractFileObject-level cached information about children. This information is updated only if removed child  found its parent in FileSystemManager cache and fired parent&apos;s childrenChanged() method - see handleDelete(). If FileSystemManager is configured to work, for example, with NullFilesCache, removing any hierarchy of directories will &lt;b&gt;not&lt;/b&gt; work, which is IMO incorrect behavior.&lt;/p&gt;

&lt;p&gt;So far, I see 2 easy fixes for that (can provide patches for these 2):&lt;br/&gt;
1) For each file file.getType().hasChildren(), refresh it before checking for children number. May result in worse performance.&lt;br/&gt;
2) Record deleted files&apos; names. Then, if some file being checked before removal still has some children, check those children names - if they have been just removed.&lt;/p&gt;

&lt;p&gt;Any comments?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12425582">VFS-256</key>
            <summary>AbstractFileObject.delete(FileSelector) correctness relies on FilesCache</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mzawirski">Marek Zawirski</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 May 2009 12:55:35 +0000</created>
                <updated>Tue, 19 May 2009 15:26:50 +0000</updated>
                                            <version>2.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12710757" author="mzawirski" created="Tue, 19 May 2009 15:26:50 +0000"  >&lt;p&gt;Two alternative patches proposal solving this issue - as described in issue&apos;s description:&lt;br/&gt;
v1) &lt;span class=&quot;error&quot;&gt;&amp;#91;simpler, worse performance&amp;#93;&lt;/span&gt; before checking for children, refresh every file with type that may have children&lt;br/&gt;
v2) &lt;span class=&quot;error&quot;&gt;&amp;#91;slightly more complex, better performance&amp;#93;&lt;/span&gt; remember set of names of deleted files;  during checking for children compare returned children to this set&lt;/p&gt;

&lt;p&gt;3rd alternative may be to try find out parent of deleted file in files_to_delete and force childrenChanged() on it if necessary. But it seems to even more complex.&lt;/p&gt;

&lt;p&gt;I am looking forward for some comments.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12408492" name="make_delete_safe_for_any_cache_v1.patch" size="1324" author="mzawirski" created="Tue, 19 May 2009 15:26:50 +0000"/>
                            <attachment id="12408493" name="make_delete_safe_for_any_cache_v2.patch" size="2185" author="mzawirski" created="Tue, 19 May 2009 15:26:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200306</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 25 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i14mqf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>235147</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-253] AbstractFileObject: wrong synchronization of content-related code</title>
                <link>https://issues.apache.org/jira/browse/VFS-253</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Creating content through &lt;tt&gt;AbstractFileObject#getContent()&lt;/tt&gt; and &lt;tt&gt;DefaultFileContent&lt;/tt&gt; itself seem to be synchronized, but closing the content by &lt;tt&gt;AbstractFileObject#close()&lt;/tt&gt; and checking whether it is open, by &lt;tt&gt;AbstractFileObject#isContentOpen()&lt;/tt&gt; are NOT synchronized.&lt;br/&gt;
Both these methods miss some lock-object. For &lt;tt&gt;close()&lt;/tt&gt; it may result in severe race condition in case of &lt;tt&gt;FileObject&lt;/tt&gt; shared across more than one thread.&lt;/p&gt;

&lt;p&gt;BTW, thead-safeness of important VFS classes/interfaces like &lt;tt&gt;FileObject&lt;/tt&gt; is not documented in javadoc.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12424815">VFS-253</key>
            <summary>AbstractFileObject: wrong synchronization of content-related code</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mzawirski">Marek Zawirski</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 May 2009 13:25:26 +0000</created>
                <updated>Mon, 26 Nov 2018 21:41:12 +0000</updated>
                                            <version>2.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="12706885" author="mzawirski" created="Thu, 7 May 2009 13:31:44 +0000"  >&lt;p&gt;&lt;tt&gt;DefaultFileContent&lt;/tt&gt; seems to be designed to work with ThreadLocal instances, but have some methods dealing with global state, like &lt;tt&gt;isOpenGlobal()&lt;/tt&gt;. Iif it gonna be closed globally it probably miss some &lt;tt&gt;closeGlobal()&lt;/tt&gt; method or it should be closed only for calling thread in &lt;tt&gt;AbstractFileObject#close()&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="12706956" author="mzawirski" created="Thu, 7 May 2009 16:03:00 +0000"  >&lt;p&gt;I tried to patch it, but I gave up, at least for now, as semantic of this class in context &lt;tt&gt;AbstractFileObject#close()&lt;/tt&gt; is unclear for me.&lt;/p&gt;

&lt;p&gt;After further close-up at &lt;tt&gt;DefaultFileContent&lt;/tt&gt;  it appears it may have more synchronization issues that may lead to race conditions:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;unsynchronized single-read or single-write of non-volatile fields (like &lt;tt&gt;resetAttributes&lt;/tt&gt;)&lt;/li&gt;
	&lt;li&gt;lack of double-checked locks (like in &lt;tt&gt;getAttributes()&lt;/tt&gt;) or other issues causing unnecessary performing some operations twice&lt;/li&gt;
	&lt;li&gt;concurrent access to attrs map&lt;/li&gt;
	&lt;li&gt;possibly others...&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12707239" author="joehni" created="Fri, 8 May 2009 05:26:58 +0000"  >&lt;p&gt;Why do you expect it to be thread-safe? E.g. java.io.FileInputSream is not either (without any further statement) and in contrast to java.io.File, FileObject does not state to be immutable.&lt;/p&gt;</comment>
                            <comment id="12707936" author="mzawirski" created="Mon, 11 May 2009 08:39:40 +0000"  >&lt;p&gt;For our use case, I would like to set up one FileSystemManager for potentially multi-threaded application or even multiple application not aware about each other. I would like them to be unaware of each other as much as possible and act with VFS FIleObject, that I provide them, in a way like they are given ordinary VFS FileObject like any other.&lt;/p&gt;

&lt;p&gt;Such behavior is possible for mentioned java.io.File that is immutable as you said. So if application receives File or path, it can safely open another stream if necessary. IMHO disallowing that for mutable FileObject (which would require using some synchronization inside FileObject) is some limitation. The reason for it being thread-safe is that I hope they could be more easily shared then.&lt;/p&gt;

&lt;p&gt;In present way, considering that FileSystems cache opened FileObjects at FileSystemManager cache, it is impossible to easily and safely access  concurrently the same file using the same FileSystemManager -&amp;gt; you can get the same FileObject. I would have to use separate FileSystemManagers instead, which I consider as limitation, as it requires several &quot;mountings&quot; of the same file systems or reduces the transparency of VFS, at least in my use case.&lt;/p&gt;</comment>
                            <comment id="16699609" author="daryl.odnert" created="Mon, 26 Nov 2018 21:40:55 +0000"  >&lt;p&gt;I opened a new bug today - &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-684&quot; title=&quot;Missing thread-safety information in API documentation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-684&quot;&gt;VFS-684&lt;/a&gt; - requesting that the API documentation is fixed to identify requirements for multi-threaded applications.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13199700">VFS-683</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13200682">VFS-684</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200303</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 48 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i14mqv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>235149</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-251] Cannot read relative file URL</title>
                <link>https://issues.apache.org/jira/browse/VFS-251</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;While the documentation talks about absolute path URLs for the &lt;a href=&quot;file://&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file://&lt;/a&gt; scheme, using relative URLs is a requirement for us. For now I&apos;ve hacked around it in our server. Please see the attached unit test for an illustration.&lt;/p&gt;</description>
                <environment>&lt;p&gt;java version &quot;1.6.0_12&quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.6.0_12-b04)&lt;br/&gt;
Java HotSpot(TM) Client VM (build 11.2-b01, mixed mode, sharing)&lt;/p&gt;

&lt;p&gt;Windows XP SP3&lt;/p&gt;</environment>
        <key id="12422078">VFS-251</key>
            <summary>Cannot read relative file URL</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ggregory">Gary D. Gregory</reporter>
                        <labels>
                    </labels>
                <created>Sun, 5 Apr 2009 21:03:55 +0000</created>
                <updated>Thu, 10 Mar 2011 22:31:46 +0000</updated>
                                            <version>1.0</version>
                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12695916" author="ggregory@seagullsw.com" created="Sun, 5 Apr 2009 21:04:31 +0000"  >&lt;p&gt;Unit test, see Javadoc in file.&lt;/p&gt;</comment>
                            <comment id="12698055" author="bsp" created="Sat, 11 Apr 2009 06:38:23 +0000"  >&lt;p&gt;According to FileSystemManager JavaDocs it should be used like this:&lt;/p&gt;

&lt;p&gt;    private static final String TEST_URL = &quot;vfs-test/hello.txt&quot;;&lt;/p&gt;
</comment>
                            <comment id="12774796" author="ralph.goers@dslextreme.com" created="Sun, 8 Nov 2009 16:48:20 +0000"  >&lt;p&gt;Have you tried this anywhere besides Windows? Running your test on my Mac fails with&lt;/p&gt;

&lt;p&gt;Tests run: 2, Failures: 0, Errors: 2, Skipped: 0, Time elapsed: 0.237 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
testJavaNetURL(org.apache.commons.vfs.test.VfsRelativePathTestCase)  Time elapsed: 0.007 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!&lt;br/&gt;
java.io.FileNotFoundException: vfs-test/hello.txt (No such file or directory)&lt;br/&gt;
        at java.io.FileInputStream.open(Native Method)&lt;br/&gt;
        at java.io.FileInputStream.&amp;lt;init&amp;gt;(FileInputStream.java:106)&lt;br/&gt;
        at java.io.FileInputStream.&amp;lt;init&amp;gt;(FileInputStream.java:66)&lt;br/&gt;
        at sun.net.www.protocol.file.FileURLConnection.connect(FileURLConnection.java:70)&lt;br/&gt;
        at sun.net.www.protocol.file.FileURLConnection.getInputStream(FileURLConnection.java:161)&lt;br/&gt;
        at java.net.URL.openStream(URL.java:1010)&lt;br/&gt;
        at org.apache.commons.vfs.test.VfsRelativePathTestCase.testJavaNetURL(VfsRelativePathTestCase.java:46)&lt;/p&gt;

&lt;p&gt;testVfs(org.apache.commons.vfs.test.VfsRelativePathTestCase)  Time elapsed: 0.188 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!&lt;br/&gt;
org.apache.commons.vfs.FileSystemException: Invalid absolute URI &quot;file:vfs-test/hello.txt&quot;.&lt;br/&gt;
        at org.apache.commons.vfs.provider.AbstractOriginatingFileProvider.findFile(AbstractOriginatingFileProvider.java:62)&lt;br/&gt;
        at org.apache.commons.vfs.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:692)&lt;br/&gt;
        at org.apache.commons.vfs.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:648)&lt;br/&gt;
        at org.apache.commons.vfs.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:604)&lt;br/&gt;
        at org.apache.commons.vfs.test.VfsRelativePathTestCase.testVfs(VfsRelativePathTestCase.java:56)&lt;br/&gt;
Caused by: org.apache.commons.vfs.FileSystemException: URI &quot;file:vfs-test/hello.txt&quot; is not an absolute file name.&lt;br/&gt;
        at org.apache.commons.vfs.provider.local.GenericFileNameParser.extractRootPrefix(GenericFileNameParser.java:56)&lt;br/&gt;
        at org.apache.commons.vfs.provider.local.LocalFileNameParser.parseUri(LocalFileNameParser.java:78)&lt;br/&gt;
        at org.apache.commons.vfs.provider.AbstractFileProvider.parseUri(AbstractFileProvider.java:188)&lt;br/&gt;
        at org.apache.commons.vfs.provider.AbstractOriginatingFileProvider.findFile(AbstractOriginatingFileProvider.java:58)&lt;br/&gt;
        ... 30 more&lt;/p&gt;

&lt;p&gt;I don&apos;t believe &lt;a href=&quot;file:vfs-test/hello.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:vfs-test/hello.txt&lt;/a&gt; is a valid url. Changing it to &lt;a href=&quot;file://vfs-test/hello.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file://vfs-test/hello.txt&lt;/a&gt; results in &lt;/p&gt;

&lt;p&gt;Tests run: 2, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.309 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
testJavaNetURL(org.apache.commons.vfs.test.VfsRelativePathTestCase)  Time elapsed: 0.065 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!&lt;br/&gt;
java.net.UnknownHostException: vfs-test&lt;br/&gt;
        at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:177)&lt;br/&gt;
        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)&lt;br/&gt;
        at java.net.Socket.connect(Socket.java:525)&lt;br/&gt;
        at java.net.Socket.connect(Socket.java:475)&lt;br/&gt;
        at sun.net.NetworkClient.doConnect(NetworkClient.java:163)&lt;br/&gt;
        at sun.net.NetworkClient.openServer(NetworkClient.java:118)&lt;br/&gt;
        at sun.net.ftp.FtpClient.openServer(FtpClient.java:488)&lt;br/&gt;
        at sun.net.ftp.FtpClient.openServer(FtpClient.java:475)&lt;br/&gt;
        at sun.net.www.protocol.ftp.FtpURLConnection.connect(FtpURLConnection.java:270)&lt;br/&gt;
        at sun.net.www.protocol.ftp.FtpURLConnection.getInputStream(FtpURLConnection.java:352)&lt;br/&gt;
        at java.net.URL.openStream(URL.java:1010)&lt;br/&gt;
        at org.apache.commons.vfs.test.VfsRelativePathTestCase.testJavaNetURL(VfsRelativePathTestCase.java:46)&lt;/p&gt;

&lt;p&gt;So in this case it appears to work with resolveFile but not with java.net.URL.&lt;/p&gt;

&lt;p&gt;I tried Sergey&apos;s suggestion of using &quot;vfs-test/hello.txt&quot; but that failed with&lt;/p&gt;

&lt;p&gt;Tests run: 2, Failures: 0, Errors: 2, Skipped: 0, Time elapsed: 0.231 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
testJavaNetURL(org.apache.commons.vfs.test.VfsRelativePathTestCase)  Time elapsed: 0.007 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!&lt;br/&gt;
java.net.MalformedURLException: no protocol: vfs-test/hello.txt&lt;br/&gt;
        at java.net.URL.&amp;lt;init&amp;gt;(URL.java:567)&lt;br/&gt;
        at java.net.URL.&amp;lt;init&amp;gt;(URL.java:464)&lt;br/&gt;
        at java.net.URL.&amp;lt;init&amp;gt;(URL.java:413)&lt;br/&gt;
        at org.apache.commons.vfs.test.VfsRelativePathTestCase.testJavaNetURL(VfsRelativePathTestCase.java:46)&lt;/p&gt;

&lt;p&gt;testVfs(org.apache.commons.vfs.test.VfsRelativePathTestCase)  Time elapsed: 0.186 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!&lt;br/&gt;
org.apache.commons.vfs.FileSystemException: Could not find file with URI &quot;vfs-test/hello.txt&quot; because it is a relative path, and no base URI was provided.&lt;br/&gt;
        at org.apache.commons.vfs.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:718)&lt;br/&gt;
        at org.apache.commons.vfs.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:648)&lt;br/&gt;
        at org.apache.commons.vfs.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:604)&lt;br/&gt;
        at org.apache.commons.vfs.test.VfsRelativePathTestCase.testVfs(VfsRelativePathTestCase.java:56)&lt;/p&gt;

&lt;p&gt;In all the places I&apos;ve used relative paths I have always provided a base path and the error above does not occur.&lt;/p&gt;

&lt;p&gt;Let me know what you would like to do with this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12404678" name="VfsRelativePathTestCase.java" size="1928" author="ggregory@seagullsw.com" created="Sun, 5 Apr 2009 21:04:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>41805</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0kn0n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118546</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-250] URLFileName should always honor trailing slash for collections</title>
                <link>https://issues.apache.org/jira/browse/VFS-250</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;URLFileName should always honor trailing slash for collections.&lt;/p&gt;

&lt;p&gt;When using webdav VFS.getUriStyle() should always equal to true as operations on a collection resource without a trailing slash will result in a 301. This should be default for the URLFileName.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12419448">VFS-250</key>
            <summary>URLFileName should always honor trailing slash for collections</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jameswdumay">James William Dumay</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Mar 2009 01:57:54 +0000</created>
                <updated>Tue, 14 Apr 2015 13:08:45 +0000</updated>
                                            <version>2.0</version>
                                                        <due></due>
                            <votes>2</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="12689329" author="jameswdumay" created="Thu, 26 Mar 2009 01:59:42 +0000"  >&lt;p&gt;Patch overrides getPath() in URLFileName to ensure that the uri trailer is appended for FileTypes that have children even when VFS.isUriStyle() is false.&lt;/p&gt;</comment>
                            <comment id="12800486" author="rastaman" created="Fri, 15 Jan 2010 01:26:31 +0000"  >&lt;p&gt;Hi!&lt;/p&gt;

&lt;p&gt;Thanks for the patch, as a user of VFS it has been really boring to find why my apache was always sending redirect. &lt;br/&gt;
I have discovered the VFS.setURIStyle() setting thanks to this issue, but it has not been easy to find, perhaps it should be more clearly stated in the documentation ?&lt;/p&gt;

&lt;p&gt;Edit: Changed to show that i am now aware of the VFS.setURIStyle(true) settings and that since it works better.&lt;/p&gt;</comment>
                            <comment id="14489138" author="fiveo" created="Fri, 10 Apr 2015 08:06:21 +0000"  >&lt;p&gt;Patch is provided. Please commit changes and mark this ticket as resolved&lt;/p&gt;</comment>
                            <comment id="14494080" author="b.eckenfels" created="Tue, 14 Apr 2015 13:08:45 +0000"  >&lt;p&gt;I don&apos;t think it is a good idea to set a global option which affects multiple managers (unfortunatelly) automatically. But the patch which is fixing the url looks like a good idea. Is it guranteed that it does not double concatenate it?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12403673" name="VFS-urlfilename-should-be-always-uri-style.patch" size="890" author="jameswdumay" created="Thu, 26 Mar 2009 01:59:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200301</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 29 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i14mr3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>235150</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-249] HTTP get hangs indefinitly if remote connection fails to repond - Neet to be able to set a timeout.</title>
                <link>https://issues.apache.org/jira/browse/VFS-249</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;I have a web service that need to retrieve files from remote site via HTTP or other protocol.  HTTP hangs the thread indefinitely if the remote host does not respond.  &lt;/p&gt;</description>
                <environment>&lt;p&gt;Java 1.6 under Linux&lt;/p&gt;</environment>
        <key id="12419368">VFS-249</key>
            <summary>HTTP get hangs indefinitly if remote connection fails to repond - Neet to be able to set a timeout.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="shartrec">Trevor Campbell</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Mar 2009 05:32:27 +0000</created>
                <updated>Wed, 6 Feb 2013 13:22:28 +0000</updated>
                            <resolved>Mon, 13 Apr 2009 05:22:36 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="12689012" author="ralph.goers@dslextreme.com" created="Wed, 25 Mar 2009 06:12:20 +0000"  >&lt;p&gt;With V2.0 you can already do this. If you add a key of &quot;http.socket.timeout&quot; to the FileSystemOptions it will be passed to HttpClientFactory.createConnection(). However, HttpFileSystemConfigBuilder should be updated to add a setTimeout method.&lt;/p&gt;</comment>
                            <comment id="12698325" author="ralph.goers@dslextreme.com" created="Mon, 13 Apr 2009 05:22:36 +0000"  >&lt;p&gt;Please reopen if you continue to have problems with this.&lt;/p&gt;</comment>
                            <comment id="13572303" author="jmborer" created="Wed, 6 Feb 2013 10:02:55 +0000"  >&lt;p&gt;Hi&lt;/p&gt;

&lt;p&gt;I just modified the HttpFileSystemConfigBuilder to enable socket timeout for HTTP and WebDAV handlers. Anyone intersted?&lt;/p&gt;</comment>
                            <comment id="13572400" author="garydgregory" created="Wed, 6 Feb 2013 13:22:28 +0000"  >&lt;p&gt;Continued in &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-453&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/VFS-453&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200300</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 39 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1369z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226647</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-248] FindBugs found some bugs</title>
                <link>https://issues.apache.org/jira/browse/VFS-248</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;/Apache/Commons VFS/core/src/main/java/org/apache/commons/vfs/provider/temp/TemporaryFileProvider.java:100 Dead store to fileType&lt;/p&gt;

&lt;p&gt;/Apache/Commons VFS/core/src/main/java/org/apache/commons/vfs/provider/bzip2/CBZip2OutputStream.java:1671 Dead store to cost&lt;/p&gt;

&lt;p&gt;/Apache/Commons VFS/core/src/main/java/org/apache/commons/vfs/provider/bzip2/CBZip2OutputStream.java:1230 Dead store to c&lt;/p&gt;

&lt;p&gt;/Apache/Commons VFS/core/src/main/java/org/apache/commons/vfs/provider/bzip2/CBZip2InputStream.java:237 Dead store to cftab&lt;/p&gt;

&lt;p&gt;/Apache/Commons VFS/core/src/main/java/org/apache/commons/vfs/provider/ftp/FtpFileSystem.java:63 Inconsistent synchronization of org.apache.commons.vfs.provider.ftp.FtpFileSystem.idleClient; locked 63% of time&lt;/p&gt;

&lt;p&gt;/Apache/Commons VFS/core/src/main/java/org/apache/commons/vfs/tasks/VfsTask.java:49 Incorrect lazy initialization and update of static field org.apache.commons.vfs.tasks.VfsTask.manager&lt;/p&gt;

&lt;p&gt;/Apache/Commons VFS/core/src/main/java/org/apache/commons/vfs/impl/StandardFileSystemManager.java:223 Private method org.apache.commons.vfs.impl.StandardFileSystemManager.configure(String, InputStream) is never called&lt;/p&gt;

&lt;p&gt;/Apache/Commons VFS/core/src/main/java/org/apache/commons/vfs/FileSystemOptions.java:36 Should org.apache.commons.vfs.FileSystemOptions$FileSystemOptionKey be a &lt;em&gt;static&lt;/em&gt; inner class?&lt;/p&gt;

&lt;p&gt;/Apache/Commons VFS/core/src/main/java/org/apache/commons/vfs/provider/ram/RamFileRandomAccessContent.java:84 Unread field: org.apache.commons.vfs.provider.ram.RamFileRandomAccessContent.mode&lt;/p&gt;

&lt;p&gt;/Apache/Commons VFS/core/src/main/java/org/apache/commons/vfs/provider/webdav/WebdavFileObject.java:545 Unused field: org.apache.commons.vfs.provider.webdav.WebdavFileObject$WebdavOutputStream.stream&lt;/p&gt;
</description>
                <environment>&lt;p&gt;last SVN version, FindBugs 1.3.8, Core module only&lt;/p&gt;</environment>
        <key id="12419167">VFS-248</key>
            <summary>FindBugs found some bugs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bsp">Sergey Vladimirov</reporter>
                        <labels>
                    </labels>
                <created>Sun, 22 Mar 2009 00:18:05 +0000</created>
                <updated>Mon, 13 Apr 2009 05:09:00 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12698324" author="ralph.goers@dslextreme.com" created="Mon, 13 Apr 2009 05:09:00 +0000"  >&lt;p&gt;Fixed WebdavFileObject along with &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-244&quot; title=&quot;HttpRandomAccesContent should really be called HttpRandomAccessContent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-244&quot;&gt;&lt;del&gt;VFS-244&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200299</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 30 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i14mrb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>235151</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-247] DefaultFileReplicator does not check if java.io.File.delete() is successful or not</title>
                <link>https://issues.apache.org/jira/browse/VFS-247</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;DefaultFileReplicator does not check if java.io.File.delete() is successful or not&lt;/p&gt;

&lt;p&gt;Should perhaps log a message if deletion fails&lt;/p&gt;</description>
                <environment></environment>
        <key id="12417080">VFS-247</key>
            <summary>DefaultFileReplicator does not check if java.io.File.delete() is successful or not</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Mar 2009 17:12:52 +0000</created>
                <updated>Tue, 17 Mar 2009 17:12:52 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200298</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 34 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i14mrj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>235152</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-246] VfsTask.resolveFile() publishes partially constructed static object</title>
                <link>https://issues.apache.org/jira/browse/VFS-246</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;VfsTask.resolveFile() publishes a partially constructed static object.&lt;/p&gt;

&lt;p&gt;The static &quot;manager&quot; field is created and then updated; this is not thread-safe.&lt;/p&gt;

&lt;p&gt;A work-round is to use a temporary variable and then assign it to the static field once init. is complete.&lt;br/&gt;
However that is still not thread-safe.&lt;/p&gt;

&lt;p&gt;Consider using the &quot;Initialization On Demand Holder&quot; idiom, though this will mean a change to close() as the manager variable would no longer be accessible.&lt;br/&gt;
However, it appears that the manager.close() method is re-usable.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12417077">VFS-246</key>
            <summary>VfsTask.resolveFile() publishes partially constructed static object</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Mar 2009 17:09:08 +0000</created>
                <updated>Tue, 17 Mar 2009 17:09:08 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200297</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 34 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i14mrr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>235153</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-245] FileName interface says that it is immutable, however AbstractFileName.setType(FileType type) flouts this rule</title>
                <link>https://issues.apache.org/jira/browse/VFS-245</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;FileName interface says that it is immutable, however AbstractFileName.setType(FileType type) flouts this rule.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12417075">VFS-245</key>
            <summary>FileName interface says that it is immutable, however AbstractFileName.setType(FileType type) flouts this rule</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Mar 2009 16:32:20 +0000</created>
                <updated>Thu, 25 Nov 2010 21:34:44 +0000</updated>
                            <resolved>Thu, 25 Nov 2010 21:34:44 +0000</resolved>
                                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12682717" author="sebb@apache.org" created="Tue, 17 Mar 2009 16:42:36 +0000"  >&lt;p&gt;Since FileType is used in equals() and hashCode() this could cause serious problems.&lt;/p&gt;</comment>
                            <comment id="12716775" author="vbonfanti" created="Fri, 5 Jun 2009 22:26:30 +0000"  >&lt;p&gt;Here&apos;s what I&apos;ve discovered about this problem:&lt;/p&gt;

&lt;p&gt; 1) The AbstractFileName equals() and hashcode() methods rely on its getRootUri() and getPath() methods.&lt;/p&gt;

&lt;p&gt; 2) The getRootUri() method invokes appendRootUri(), which is an abstract method. Since we can&apos;t know what the subclass might do within appendRootUri(), it&apos;s probably not a good idea for getRootUri() to be used by equals() or hashcode().&lt;/p&gt;

&lt;p&gt; 3) The getPath() method might invoke getUriTrailer() based on the setting of VFS.isUriStyle(). The getUriTrailer() method is the one that invokes getType() to determine whether to add a &quot;/&quot; to the path. Therefore, it&apos;s probably not a good idea for getPath() to be used by equals() or hashcode().&lt;/p&gt;

&lt;p&gt;I recommend that equals() and hashcode() be modified to rely only on the &quot;scheme&quot; and &quot;absPath&quot; properties, both of which are Strings and both of which are immutable. A patch file with the proposed change is attached.&lt;/p&gt;</comment>
                            <comment id="12935855" author="ralph.goers@dslextreme.com" created="Thu, 25 Nov 2010 19:52:05 +0000"  >&lt;p&gt;I&apos;ve experimented with various options for this.&lt;/p&gt;

&lt;p&gt;I looked at removing the FileType attribute. Unfortunately, resolveName in DefaultFileSystemManager relies on it to determine whether the FileName is a File vs a Folder so removing it would break that.&lt;/p&gt;

&lt;p&gt;I looked at making the FileType immutable and removing the setType method. This is doable but requires that AbstractFileObject change the setType method to create a new FileName when the type is changed instead of modifying the FileName. As a consequence this just moves the immutability problem since FileObjects are cached by their FileName.&lt;/p&gt;

&lt;p&gt;While the assessment above is correct, I disagree with the outcome. appendURI is provided to allow FileName implementations to include information such as the userid and password into the path. Furthermore, the only thing the FileType is used for is to determine whether to append a &apos;/&apos; to the path.  Given this it makes more sense to me to modify equals(), hashcode, and compareTo to use a method that generates a URI that contains the results from appendURI but does not try to append the &apos;/&apos; to the path. This will result in these three methods returning constant values regardless of what the FileType might be.&lt;/p&gt;</comment>
                            <comment id="12935884" author="ralph.goers@dslextreme.com" created="Thu, 25 Nov 2010 21:34:44 +0000"  >&lt;p&gt;Made the changes as described above. While this does not make the FileName immutable (as it should be) it does eliminate the consequences of the FileType changing.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12410033" name="AbstractFileName.java.patch" size="812" author="vbonfanti" created="Fri, 5 Jun 2009 22:27:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200296</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 49 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1363z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226620</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-244] HttpRandomAccesContent should really be called HttpRandomAccessContent</title>
                <link>https://issues.apache.org/jira/browse/VFS-244</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;HttpRandomAccesContent should really be called &lt;br/&gt;
HttpRandomAccessContent&lt;/p&gt;

&lt;p&gt;This is a package-protected class, so it should not cause too many problems if it is renamed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12417074">VFS-244</key>
            <summary>HttpRandomAccesContent should really be called HttpRandomAccessContent</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rgoers">Ralph Goers</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Mar 2009 16:22:11 +0000</created>
                <updated>Mon, 13 Apr 2009 05:07:54 +0000</updated>
                            <resolved>Mon, 13 Apr 2009 05:07:54 +0000</resolved>
                                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12698323" author="ralph.goers@dslextreme.com" created="Mon, 13 Apr 2009 05:07:54 +0000"  >&lt;p&gt;Renamed HttpRandomAccesContent to HttpRandomAccessContent.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200295</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 30 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i137k7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226855</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-243] HttpRandomAccesContent.getDataInputStream() ignores result of skip()</title>
                <link>https://issues.apache.org/jira/browse/VFS-243</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;HttpRandomAccesContent.getDataInputStream() ignores result of skip()&lt;/p&gt;

&lt;p&gt;Findbugs says:&lt;/p&gt;

&lt;p&gt;This method ignores the return value of java.io.InputStream.skip() which can skip multiple bytes.  If the return value is not checked, the caller will not be able to correctly handle the case where fewer bytes were skipped than the caller requested.  This is a particularly insidious kind of bug, because in many programs, skips from input streams usually do skip the full amount of data requested, causing the program to fail only sporadically. With Buffered streams, however, skip() will only skip data in the buffer, and will routinely fail to skip the requested number of bytes.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12417073">VFS-243</key>
            <summary>HttpRandomAccesContent.getDataInputStream() ignores result of skip()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rgoers">Ralph Goers</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Mar 2009 16:19:09 +0000</created>
                <updated>Mon, 27 Apr 2009 11:46:20 +0000</updated>
                            <resolved>Mon, 27 Apr 2009 06:22:59 +0000</resolved>
                                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12703000" author="ralph.goers@dslextreme.com" created="Mon, 27 Apr 2009 06:22:59 +0000"  >&lt;p&gt;Fix was committed.&lt;/p&gt;</comment>
                            <comment id="12703082" author="sebb@apache.org" created="Mon, 27 Apr 2009 11:46:20 +0000"  >&lt;p&gt;The patch throws an error if the skip was short; it might have been better to loop until the required number of bytes had been read, or EOF was reached.&lt;/p&gt;

&lt;p&gt;But if you are sure that the input will never arrive in chunks, then that is not necessary.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200294</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 28 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1361z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226611</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-242] NamingTests - assertSameName invokes relName.replace(&apos;\\&apos;, &apos;/&apos;); without using return value</title>
                <link>https://issues.apache.org/jira/browse/VFS-242</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;NamingTests - assertSameName invokes relName.replace(&apos;&lt;br class=&quot;atl-forced-newline&quot; /&gt;&apos;, &apos;/&apos;); without using return value.&lt;/p&gt;

&lt;p&gt;So the test does not change the string.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12417070">VFS-242</key>
            <summary>NamingTests - assertSameName invokes relName.replace(&apos;\\&apos;, &apos;/&apos;); without using return value</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Mar 2009 16:10:42 +0000</created>
                <updated>Sat, 20 Dec 2014 01:22:09 +0000</updated>
                            <resolved>Fri, 20 Mar 2009 00:34:41 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12682710" author="sebb@apache.org" created="Tue, 17 Mar 2009 16:11:48 +0000"  >&lt;p&gt;Fixed in r755295&lt;/p&gt;</comment>
                            <comment id="12682823" author="sebb@apache.org" created="Tue, 17 Mar 2009 22:01:19 +0000"  >&lt;p&gt;Unfortunately the fix causes the Unit tests to fail.&lt;/p&gt;

&lt;p&gt;The problem appears to be that some of the \ versions of the path are handled differently from the ones using /.&lt;/p&gt;

&lt;p&gt;I&apos;m not sure if this is a testcase bug or a code bug.&lt;/p&gt;</comment>
                            <comment id="12683695" author="ralph.goers@dslextreme.com" created="Fri, 20 Mar 2009 00:34:41 +0000"  >&lt;p&gt;The problem is caused by line 717 in DefaultFileSystemManager where it determines whether to prepend the base path by checking to see if the name starts with FileName.SEPARATOR_CHAR, which is defined to be &apos;/&apos;.  In line 714 the name has been &quot;adjusted&quot; into buffer but buffer was not used in the test on 717. I changed that and the tests now pass.&lt;/p&gt;</comment>
                            <comment id="12683702" author="sebb@apache.org" created="Fri, 20 Mar 2009 01:13:30 +0000"  >&lt;p&gt;Excellent.&lt;/p&gt;

&lt;p&gt;Findbugs to the rescue again!&lt;/p&gt;</comment>
                            <comment id="14254423" author="b.eckenfels" created="Sat, 20 Dec 2014 01:22:09 +0000"  >&lt;p&gt;Fixed before 2.0&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200293</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 45 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05jnb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30280</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-241] Unable to download file if saved in FTP root directory</title>
                <link>https://issues.apache.org/jira/browse/VFS-241</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Problem with file downloading when file is saved in FTP root directory.&lt;br/&gt;
After clicking on download link get exception:&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractFileSystem.resolveFile(AbstractFileSystem.java:272)&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractFileSystem.resolveFile(AbstractFileSystem.java:267)&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractFileObject.getParent(AbstractFileObject.java:512)&lt;br/&gt;
	at org.apache.commons.vfs.provider.ftp.FtpFileObject.getInfo(FtpFileObject.java:177)&lt;br/&gt;
	at org.apache.commons.vfs.provider.ftp.FtpFileObject.refresh(FtpFileObject.java:208)&lt;br/&gt;
	at org.apache.commons.vfs.impl.DecoratedFileObject.refresh(DecoratedFileObject.java:170)&lt;br/&gt;
	at org.apache.commons.vfs.cache.OnCallRefreshFileObject.getChild(OnCallRefreshFileObject.java:98)&lt;br/&gt;
	...&lt;/p&gt;

&lt;p&gt;Michal Ruman&lt;/p&gt;</description>
                <environment>&lt;p&gt;WIndows XP, Linux&lt;/p&gt;</environment>
        <key id="12416079">VFS-241</key>
            <summary>Unable to download file if saved in FTP root directory</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rumis">Michal Ruman</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Mar 2009 07:32:20 +0000</created>
                <updated>Thu, 19 May 2016 18:26:06 +0000</updated>
                            <resolved>Thu, 17 Sep 2015 14:49:36 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12718018" author="earith" created="Wed, 10 Jun 2009 10:24:18 +0000"  >&lt;p&gt;Hi, &lt;/p&gt;

&lt;p&gt;I get the same issue.&lt;/p&gt;

&lt;p&gt;The java.lang.NullPointerException is raised in the getParent function of the AbstractFileObject class :&lt;/p&gt;

&lt;p&gt;......&lt;br/&gt;
        synchronized (fs)&lt;br/&gt;
        {&lt;br/&gt;
            // Locate the parent of this file&lt;br/&gt;
            if (parent == null)&lt;/p&gt;
            {
                parent = fs.resolveFile(name.getParent());
            }
&lt;p&gt;        }&lt;br/&gt;
        return parent;&lt;br/&gt;
    }&lt;/p&gt;

&lt;p&gt;name.getParent() can return null (if name is the root).&lt;/p&gt;

&lt;p&gt;To fix the issue, I have changed the this function to test the result of name.getParent() call. If null then return null :&lt;/p&gt;

&lt;p&gt;....&lt;br/&gt;
        synchronized (fs)&lt;br/&gt;
        {&lt;br/&gt;
            // Locate the parent of this file&lt;br/&gt;
            if (parent == null)&lt;br/&gt;
            {&lt;br/&gt;
                if (name.getParent() == null) &lt;/p&gt;
{
                    return null;
                }
&lt;p&gt;                parent = fs.resolveFile(name.getParent());&lt;br/&gt;
            }&lt;br/&gt;
        }&lt;br/&gt;
        return parent;&lt;br/&gt;
    }&lt;/p&gt;


&lt;p&gt;(see java source file as attachement).&lt;/p&gt;

&lt;p&gt;Didier Earith&lt;/p&gt;</comment>
                            <comment id="14791076" author="simon04" created="Wed, 16 Sep 2015 20:27:21 +0000"  >&lt;p&gt;I can no longer reproduce&lt;br/&gt;
`VFS.getManager().resolveFile(&quot;ftp://0.0.0.0:2121/bar&quot;)` works nicely.&lt;/p&gt;</comment>
                            <comment id="14803021" author="b.eckenfels" created="Thu, 17 Sep 2015 14:49:36 +0000"  >&lt;p&gt;Thanks Simon, I agree.&lt;/p&gt;</comment>
                            <comment id="15291805" author="b.eckenfels" created="Thu, 19 May 2016 18:26:06 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12410300" name="AbstractFileObject.java" size="52788" author="earith" created="Wed, 10 Jun 2009 10:24:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200292</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i14mrz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>235154</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-240] HTTP only allows reading from one file at a time</title>
                <link>https://issues.apache.org/jira/browse/VFS-240</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;VFS 164 modified HttpClientFactory to use a single connection per thread. The consequence of this is that only a single file can be accessed at a time.  Several applications, such as Commons Configuration and XML includes will read a second file while processing the first. In the case of Commons Configuration an IOException is being thrown when the first file is closed because it was already closed by ThreadLocalHttpConnectionManager.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12415288">VFS-240</key>
            <summary>HTTP only allows reading from one file at a time</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rgoers">Ralph Goers</assignee>
                                    <reporter username="rgoers">Ralph Goers</reporter>
                        <labels>
                    </labels>
                <created>Sat, 21 Feb 2009 23:32:23 +0000</created>
                <updated>Sun, 1 Mar 2009 06:52:39 +0000</updated>
                            <resolved>Sun, 1 Mar 2009 06:52:39 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12677779" author="ralph.goers@dslextreme.com" created="Sun, 1 Mar 2009 06:52:39 +0000"  >&lt;p&gt;HttpClientFactory was modified to use MultiThreadedHttpConnectionManager but to a) default the maximum number of per host connections to 5, b) allow the maximum number of per host connections to be specified programmaticially, and c) all the maximum number of per host connections to be specified as a system property. The same is true for the total number of http connections.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12371963">VFS-164</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200291</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 36 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i13a9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>227295</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-239] File names are NOT case sensitive on Windows</title>
                <link>https://issues.apache.org/jira/browse/VFS-239</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Extracted from mailing list:&lt;/p&gt;


&lt;p&gt;I just encountered the following problem with Commons VFS on Windows:&lt;/p&gt;

&lt;p&gt;FileSystemManager fsManager = VFS.getManager();&lt;br/&gt;
FileObject fo1 = fsManager.resolveFile(&quot;c:&lt;br class=&quot;atl-forced-newline&quot; /&gt;test.txt&quot;); // lower case&lt;br/&gt;
FileObject fo2 = fsManager.resolveFile(&quot;C:&lt;br class=&quot;atl-forced-newline&quot; /&gt;test.txt&quot;); // upper case&lt;br/&gt;
System.out.println(fo1.equals(fo2)); // false but should be true&lt;/p&gt;


&lt;p&gt;A while ago i was wondering why AbstractFileObject does not overwrite equals() or hashCode() but uses a simple object comparison (see &lt;a href=&quot;http://www.mail-archive.com/user@commons.apache.org/msg01655.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.mail-archive.com/user@commons.apache.org/msg01655.html&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Mario Ivankovits answered:&lt;/p&gt;

&lt;p&gt;&quot;The current VFS implementation (if you do not use anything else then the only-working SoftRefFilesCache) ensures that two resolveFile will return the same object if you ask for the same filename, thus, in terms of VFS there is nothing bad with the object comparison.&quot;&lt;/p&gt;

&lt;p&gt;That&apos;s right, however, the caching mechanism uses a TreeMap hashing file systems by a so called FileSystemKey which encapsulates their root path as an implementation of FileName (on Windows: WindowsFileName). Comparing two such FileSystemKeys internally results in a simple String comparison where e.g. &quot;c:&quot; and &quot;C:&quot; are considered different. In the test case listed above, VFS will therefore create two instances of FileObject, one for &quot;c:&lt;br class=&quot;atl-forced-newline&quot; /&gt;test.txt&quot; and one for &quot;C:&lt;br class=&quot;atl-forced-newline&quot; /&gt;test.txt&quot;. An object comparison between both obviously returns false even though it&apos;s the same file.&lt;/p&gt;


&lt;p&gt;Since file names are not case sensitive on Windows, equals(), hashCode() and compareTo() of WindowsFileName should probably convert all paths to lower case before comparing them.&lt;/p&gt;</description>
                <environment>&lt;p&gt;win xp&lt;/p&gt;</environment>
        <key id="12414829">VFS-239</key>
            <summary>File names are NOT case sensitive on Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="stephanschuster">Stephan Schuster</reporter>
                        <labels>
                    </labels>
                <created>Sun, 15 Feb 2009 16:26:08 +0000</created>
                <updated>Wed, 27 Jul 2016 21:04:42 +0000</updated>
                                            <version>1.0</version>
                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200290</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 38 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i14ms7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>235155</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-237] NPE at org.apache.commons.vfs.provider.ram.RamFileSystem.attach</title>
                <link>https://issues.apache.org/jira/browse/VFS-237</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;I get an NPE occasionally during my unit tests.  Re-running tends to work, but as this is used in continuous integration, a reliable fix would prove useful.&lt;/p&gt;

&lt;p&gt;We get the following Exception when the below code is executed (sometimes):&lt;/p&gt;

&lt;p&gt;    public void mkdirs(String path)&lt;br/&gt;
    {&lt;br/&gt;
        try&lt;/p&gt;
        {
            getFileSystemManager().resolveFile(path).createFolder();
        }
&lt;p&gt;        catch (FileSystemException e)&lt;/p&gt;
        {
            throw new CargoException(&quot;Failed to create folders for path [&quot; + path + &quot;]&quot;, e);
        }
&lt;p&gt;    }&lt;/p&gt;

&lt;p&gt;org.codehaus.cargo.util.CargoException: Failed to create folders for path &lt;span class=&quot;error&quot;&gt;&amp;#91;ram:/org.codehaus.cargo.container.tomcat.Tomcat4xStandaloneLocalConfigurationTest/container/webapps&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at org.codehaus.cargo.util.VFSFileHandler.mkdirs(VFSFileHandler.java:174)&lt;br/&gt;
        at org.codehaus.cargo.container.tomcat.Tomcat4xStandaloneLocalConfigurationTest.setUpManager(Tomcat4xStandaloneLocalConfigurationTest.java:67)&lt;br/&gt;
        at org.codehaus.cargo.container.tomcat.Tomcat4xStandaloneLocalConfigurationTest.setUp(Tomcat4xStandaloneLocalConfigurationTest.java:62)&lt;br/&gt;
        at junit.framework.TestCase.runBare(TestCase.java:125)&lt;br/&gt;
        at junit.framework.TestResult$1.protect(TestResult.java:106)&lt;br/&gt;
        at junit.framework.TestResult.runProtected(TestResult.java:124)&lt;br/&gt;
        at junit.framework.TestResult.run(TestResult.java:109)&lt;br/&gt;
        at junit.framework.TestCase.run(TestCase.java:118)&lt;br/&gt;
        at junit.framework.TestSuite.runTest(TestSuite.java:208)&lt;br/&gt;
        at junit.framework.TestSuite.run(TestSuite.java:203)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:585)&lt;br/&gt;
        at org.apache.maven.surefire.junit.JUnitTestSet.execute(JUnitTestSet.java:213)&lt;br/&gt;
        at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.executeTestSet(AbstractDirectoryTestSuite.java:140)&lt;br/&gt;
        at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.execute(AbstractDirectoryTestSuite.java:127)&lt;br/&gt;
        at org.apache.maven.surefire.Surefire.run(Surefire.java:177)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:585)&lt;br/&gt;
        at org.apache.maven.surefire.booter.SurefireBooter.runSuitesInProcess(SurefireBooter.java:345)&lt;br/&gt;
        at org.apache.maven.surefire.booter.SurefireBooter.main(SurefireBooter.java:1009)&lt;br/&gt;
Caused by: org.apache.commons.vfs.FileSystemException: Could not determine if file &quot;ram:///org.codehaus.cargo.container.tomcat.Tomcat4xStandaloneLocalConfigurationTest/container/webapps&quot; is writeable.&lt;br/&gt;
        at org.apache.commons.vfs.provider.AbstractFileObject.isWriteable(AbstractFileObject.java:484)&lt;br/&gt;
        at org.apache.commons.vfs.provider.AbstractFileObject.createFolder(AbstractFileObject.java:819)&lt;br/&gt;
        at org.codehaus.cargo.util.VFSFileHandler.mkdirs(VFSFileHandler.java:170)&lt;br/&gt;
        ... 23 more&lt;br/&gt;
Caused by: org.apache.commons.vfs.FileSystemException: Could not resolve file &quot;ram:///&quot;.&lt;br/&gt;
        at org.apache.commons.vfs.provider.AbstractFileSystem.resolveFile(AbstractFileSystem.java:301)&lt;br/&gt;
        at org.apache.commons.vfs.provider.AbstractFileSystem.resolveFile(AbstractFileSystem.java:267)&lt;br/&gt;
        at org.apache.commons.vfs.provider.AbstractFileSystem.getRoot(AbstractFileSystem.java:242)&lt;br/&gt;
        at org.apache.commons.vfs.provider.AbstractFileObject.getParent(AbstractFileObject.java:493)&lt;br/&gt;
        at org.apache.commons.vfs.provider.AbstractFileObject.isWriteable(AbstractFileObject.java:474)&lt;br/&gt;
        ... 25 more&lt;br/&gt;
Caused by: java.lang.NullPointerException&lt;br/&gt;
        at org.apache.commons.vfs.provider.ram.RamFileSystem.attach(RamFileSystem.java:197)&lt;br/&gt;
        at org.apache.commons.vfs.provider.ram.RamFileObject.&amp;lt;init&amp;gt;(RamFileObject.java:61)&lt;br/&gt;
        at org.apache.commons.vfs.provider.ram.RamFileSystem.createFile(RamFileSystem.java:71)&lt;br/&gt;
        at org.apache.commons.vfs.provider.AbstractFileSystem.resolveFile(AbstractFileSystem.java:296)&lt;br/&gt;
        ... 29 more&lt;br/&gt;
org.apache.commons.vfs.FileSystemException: Could not determine if file &quot;ram:///org.codehaus.cargo.container.tomcat.Tomcat4xStandaloneLocalConfigurationTest/container/webapps&quot; is writeable.&lt;br/&gt;
        at org.apache.commons.vfs.provider.AbstractFileObject.isWriteable(AbstractFileObject.java:484)&lt;br/&gt;
        at org.apache.commons.vfs.provider.AbstractFileObject.createFolder(AbstractFileObject.java:819)&lt;br/&gt;
        at org.codehaus.cargo.util.VFSFileHandler.mkdirs(VFSFileHandler.java:170)&lt;br/&gt;
        at org.codehaus.cargo.container.tomcat.Tomcat4xStandaloneLocalConfigurationTest.setUpManager(Tomcat4xStandaloneLocalConfigurationTest.java:67)&lt;br/&gt;
        at org.codehaus.cargo.container.tomcat.Tomcat4xStandaloneLocalConfigurationTest.setUp(Tomcat4xStandaloneLocalConfigurationTest.java:62)&lt;/p&gt;</description>
                <environment>&lt;p&gt;unit test&lt;/p&gt;</environment>
        <key id="12414410">VFS-237</key>
            <summary>NPE at org.apache.commons.vfs.provider.ram.RamFileSystem.attach</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="adriancole">Adrian Cole</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Feb 2009 17:40:00 +0000</created>
                <updated>Mon, 9 Feb 2009 17:43:57 +0000</updated>
                                            <version>1.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200288</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 39 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i14msn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>235157</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-236] SmbFileObject throws NPE when used without authentication</title>
                <link>https://issues.apache.org/jira/browse/VFS-236</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;If you have a shared folder without authentication, SmbFileObject throws an NPE in method createSmbFile().&lt;/p&gt;

&lt;p&gt;Here is what I changed to get it to run:&lt;/p&gt;

&lt;p&gt;    private SmbFile createSmbFile(FileName fileName) throws MalformedURLException, SmbException, FileSystemException&lt;br/&gt;
    {&lt;br/&gt;
        SmbFileName smbFileName = (SmbFileName) fileName;&lt;/p&gt;

&lt;p&gt;        String path = smbFileName.getUriWithoutAuth();&lt;/p&gt;

&lt;p&gt;		UserAuthenticationData authData = null;&lt;br/&gt;
		SmbFile file;&lt;br/&gt;
		NtlmPasswordAuthentication auth;&lt;br/&gt;
		try&lt;br/&gt;
		{&lt;br/&gt;
			authData = UserAuthenticatorUtils.authenticate(getFileSystem().getFileSystemOptions(), SmbFileProvider.AUTHENTICATOR_TYPES);&lt;br/&gt;
			if (authData!=null) &lt;/p&gt;
{
				auth = new NtlmPasswordAuthentication(
					UserAuthenticatorUtils.toString(
						UserAuthenticatorUtils.getData(
							authData,
							UserAuthenticationData.DOMAIN,
							UserAuthenticatorUtils.toChar(smbFileName.getDomain()))),
					UserAuthenticatorUtils.toString(
						UserAuthenticatorUtils.getData(
							authData,
							UserAuthenticationData.USERNAME,
							UserAuthenticatorUtils.toChar(smbFileName.getUserName()))),
					UserAuthenticatorUtils.toString(
						UserAuthenticatorUtils.getData(
							authData,
							UserAuthenticationData.PASSWORD,
							UserAuthenticatorUtils.toChar(smbFileName.getPassword()))));
				file = new SmbFile(path, auth);
			}
&lt;p&gt; else &lt;/p&gt;
{
				auth=null;
				file = new SmbFile(path);
			}
&lt;p&gt;		}&lt;br/&gt;
		finally&lt;/p&gt;
		{
			UserAuthenticatorUtils.cleanup(authData);
		}

&lt;p&gt;		if (file.isDirectory() &amp;amp;&amp;amp; !file.toString().endsWith(&quot;/&quot;))&lt;br/&gt;
		{&lt;br/&gt;
			if (auth!=null) &lt;/p&gt;
{
				file = new SmbFile(path + &quot;/&quot;, auth);
			}
&lt;p&gt; else &lt;/p&gt;
{
				file = new SmbFile(path + &quot;/&quot;);
			}
&lt;p&gt;		}&lt;/p&gt;

&lt;p&gt;		return file;&lt;br/&gt;
    }&lt;/p&gt;</description>
                <environment></environment>
        <key id="12414155">VFS-236</key>
            <summary>SmbFileObject throws NPE when used without authentication</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="b.eckenfels">Bernd Eckenfels</assignee>
                                    <reporter username="mattcasters">Matt Casters</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Feb 2009 23:06:53 +0000</created>
                <updated>Thu, 19 May 2016 18:25:34 +0000</updated>
                            <resolved>Sun, 12 Apr 2015 17:46:18 +0000</resolved>
                                    <version>Nightly Builds</version>
                                    <fixVersion>2.1</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12706033" author="gerritcap" created="Tue, 5 May 2009 13:57:33 +0000"  >&lt;p&gt;Personally I think that this is a better solution:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;
		&lt;ol&gt;
			&lt;li&gt;Eclipse Workspace Patch 1.0&lt;br/&gt;
#P commons_vfs&lt;br/&gt;
Index: sandbox/src/main/java/org/apache/commons/vfs/provider/smb/SmbFileObject.java&lt;br/&gt;
===================================================================&lt;/li&gt;
		&lt;/ol&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;sandbox/src/main/java/org/apache/commons/vfs/provider/smb/SmbFileObject.java	(revision 771693)&lt;br/&gt;
+++ sandbox/src/main/java/org/apache/commons/vfs/provider/smb/SmbFileObject.java	(working copy)&lt;br/&gt;
@@ -82,22 +82,28 @@
 		{
 			authData = UserAuthenticatorUtils.authenticate(getFileSystem().getFileSystemOptions(), SmbFileProvider.AUTHENTICATOR_TYPES);
 
-			auth = new NtlmPasswordAuthentication(
-				UserAuthenticatorUtils.toString(
-					UserAuthenticatorUtils.getData(
-						authData,
-						UserAuthenticationData.DOMAIN,
-						UserAuthenticatorUtils.toChar(smbFileName.getDomain()))),
-				UserAuthenticatorUtils.toString(
-					UserAuthenticatorUtils.getData(
-						authData,
-						UserAuthenticationData.USERNAME,
-						UserAuthenticatorUtils.toChar(smbFileName.getUserName()))),
-				UserAuthenticatorUtils.toString(
-					UserAuthenticatorUtils.getData(
-						authData,
-						UserAuthenticationData.PASSWORD,
-						UserAuthenticatorUtils.toChar(smbFileName.getPassword()))));
+			String domain = UserAuthenticatorUtils.toString(
+				UserAuthenticatorUtils.getData(
+					authData,
+					UserAuthenticationData.DOMAIN,
+					UserAuthenticatorUtils.toChar(smbFileName.getDomain())));
+			
+			String username = UserAuthenticatorUtils.toString(
+				UserAuthenticatorUtils.getData(
+					authData,
+					UserAuthenticationData.USERNAME,
+					UserAuthenticatorUtils.toChar(smbFileName.getUserName())));
+			
+			String password = UserAuthenticatorUtils.toString(
+				UserAuthenticatorUtils.getData(
+					authData,
+					UserAuthenticationData.PASSWORD,
+					UserAuthenticatorUtils.toChar(smbFileName.getPassword())));
+			
+			auth = username == null ? NtlmPasswordAuthentication.ANONYMOUS : new NtlmPasswordAuthentication(
+				domain,
+				username,
+				password);
 
 			file = new SmbFile(path, auth);
 		}&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="14489118" author="fiveo" created="Fri, 10 Apr 2015 07:54:06 +0000"  >&lt;p&gt;The difference of above solutions is finally just the different call of the constructor of the jcifs SmbFile class when the authentication is null:&lt;/p&gt;

&lt;p&gt;Solution A) new SmbFile(path);&lt;br/&gt;
Solution B) new SmbFile(path,  NtlmPasswordAuthentication.ANONYMOUS);&lt;/p&gt;

&lt;p&gt;While solution A) does not change the semantic of the SmbFile usage, just fixes the NullPointerException, solution B) does modify the usage of SmbFile. &lt;/p&gt;

&lt;p&gt;I would recommend to implement solution A) for fixing the NPE. If Solution B) is a change of the usage. SmbFile class offers the Constructor without auth.&lt;/p&gt;</comment>
                            <comment id="14491608" author="b.eckenfels" created="Sun, 12 Apr 2015 17:46:18 +0000"  >&lt;p&gt;Since this did not worked before the new behavior can be either GUEST or ANONYMOUS.&lt;/p&gt;

&lt;p&gt;The code looks best with just passing null to SmbFile (which internally will be a Guest login).&lt;/p&gt;

&lt;p&gt;If you need Anonymous access instead one would have to set up a ANONYMOUS=(&quot;&quot;\&quot;&quot;:&quot;&quot;) credential. I guess the later could not be done by purely using the URL syntax (but you could use the smb system properties).&lt;/p&gt;

&lt;p&gt;Committed in &lt;a href=&quot;http://svn.apache.org/r1673034&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1673034&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15291715" author="b.eckenfels" created="Thu, 19 May 2016 18:25:34 +0000"  >&lt;p&gt;Apache Commons VFS 2.1 has been released. It includes this (total 171) resolved issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200287</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i14msv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>235158</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-235] DelegateFile objects are not refreshed properly</title>
                <link>https://issues.apache.org/jira/browse/VFS-235</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;WHen using a virtual file system, this fs will create DelegateFile objects.  When asked for refreshing its data (for example when the cache strategy is set to &quot;on resolve&quot;), the associated file object is not refreshed, which means the data may be out dated.  &lt;/p&gt;</description>
                <environment></environment>
        <key id="12414082">VFS-235</key>
            <summary>DelegateFile objects are not refreshed properly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="gnodet">Guillaume Nodet</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Feb 2009 08:16:57 +0000</created>
                <updated>Thu, 5 Feb 2009 08:16:57 +0000</updated>
                                            <version>1.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200286</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 40 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i14mt3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>235159</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-234] Can&apos;t listen to file modifications, event raised is fileCreated rather than fileChanged</title>
                <link>https://issues.apache.org/jira/browse/VFS-234</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;It seems like that a FileCreated event is raised even when the file changes. &lt;br/&gt;
I checked out the tests on the repository and the test is on file creation not modification. &lt;/p&gt;

&lt;p&gt;The below test uses mockito to mock the Listener, I had the same result using a real listener. &lt;/p&gt;

&lt;p&gt;    @Test &lt;br/&gt;
    public void testShouldListenToFileChanges() throws Exception &lt;/p&gt;
{
        FileObject child = folder.resolveFile( &quot;fileToChange.txt&quot; );
        FileSystem fs = folder.getFileSystem();
        
        FileMonitor defaultFileMonitor = new DefaultFileMonitor(fileListener);
        defaultFileMonitor.addFile( child );        
        fs.addListener( child, fileListener );        

        OutputStream out = child.getContent().getOutputStream();
        out.write( &quot;bla&quot;.getBytes() );
        out.close();        
        child.getContent().close();
        
        verify( fileListener).fileCreated( argThat( isAFileChangeEventOn( child ) ) );
        verify( fileListener).fileChanged( argThat( isAFileChangeEventOn( child ) ) );
    }

&lt;p&gt;class FileChangeEventMatcher extends BaseMatcher&amp;lt;FileChangeEvent&amp;gt; {&lt;/p&gt;

&lt;p&gt;    private final FileObject fileObject;&lt;/p&gt;

&lt;p&gt;    public FileChangeEventMatcher( FileObject fileObject ) &lt;/p&gt;
{
        this.fileObject = fileObject;
    }

&lt;p&gt;    public static FileChangeEventMatcher isAFileChangeEventOn( FileObject child ) &lt;/p&gt;
{
        return new FileChangeEventMatcher( child );
    }

&lt;p&gt;    @Override&lt;br/&gt;
    public boolean matches( Object obj ) &lt;/p&gt;
{
        FileChangeEvent event = (FileChangeEvent) ( obj );

        if ( event.getFile().equals( fileObject ) )
            return true;

        return false;
    }

&lt;p&gt;    @Override&lt;br/&gt;
    public void describeTo( Description description ) {&lt;br/&gt;
    }&lt;br/&gt;
}&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows, Java 6&lt;/p&gt;</environment>
        <key id="12412461">VFS-234</key>
            <summary>Can&apos;t listen to file modifications, event raised is fileCreated rather than fileChanged</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="aterreno">Antonio Terreno</reporter>
                        <labels>
                    </labels>
                <created>Thu, 15 Jan 2009 11:17:20 +0000</created>
                <updated>Mon, 16 Nov 2009 06:49:37 +0000</updated>
                                            <version>1.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12778225" author="ralph.goers@dslextreme.com" created="Mon, 16 Nov 2009 06:49:37 +0000"  >&lt;p&gt;Have you tested this on trunk? I am pretty sure that there are unit tests that verify the correct behavior.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200285</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 51 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i14mtb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>235160</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-229] The moveTo() method of the AbstractFileObject class doesn&apos;t work correct on Linux</title>
                <link>https://issues.apache.org/jira/browse/VFS-229</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;i used the moveTo() method of the AbstractFileObject class to move one file (for example) from &lt;a href=&quot;file:///media/filedir1/test.tif&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:///media/filedir1/test.tif&lt;/a&gt; to &lt;a href=&quot;file:///media/filedir2/test.tif&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:///media/filedir2/test.tif&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Filedir1 and filedir2 are different mounts. The canRenameTo() method returns true (= same filesystem) and the doRename() of the LocalFile class throws an error because rename failed: Could not rename &quot;file:///media/filedir1/test.tif&quot; to &quot;file:///media/filedir2/test.tif&quot;.&lt;br/&gt;
Because of the different mounts a copy/delete is required.&lt;/p&gt;

&lt;p&gt;I solved the problem for myself by surrounding just the doRename() call of the moveTo() method with try/catch and in case of an exception I try to copy/delete.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;AbstractFileObject.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void moveTo(FileObject destFile) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; FileSystemException
    {
        ...

        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (canRenameTo(destFile))
        {
            &lt;span class=&quot;code-comment&quot;&gt;// issue rename on same filesystem
&lt;/span&gt;            &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;
            {
                attach();
                &lt;span class=&quot;code-comment&quot;&gt;//*************************
&lt;/span&gt;                &lt;span class=&quot;code-comment&quot;&gt;// TODO changed code     
&lt;/span&gt;                &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; bDoRename = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
                &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;code-comment&quot;&gt;// just &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; exceptions from doRename
&lt;/span&gt;                {
                	doRename(destFile);
                	bDoRename = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
                }
                &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt;(Exception e)
                {
                	&lt;span class=&quot;code-comment&quot;&gt;// rename failed, &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; copy/delete (code from &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;)
&lt;/span&gt;                	copyDelete(destFile);
                }
                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(bDoRename)
                {
	                (FileObjectUtils.getAbstractFileObject(destFile)).handleCreate(getType());
	
	                destFile.close(); &lt;span class=&quot;code-comment&quot;&gt;// now the destFile is no longer imaginary. force reattach.
&lt;/span&gt;	
	                handleDelete(); &lt;span class=&quot;code-comment&quot;&gt;// fire delete-events. This file-object (src) is like deleted.
&lt;/span&gt;                }
                &lt;span class=&quot;code-comment&quot;&gt;// TODO ends
&lt;/span&gt;                &lt;span class=&quot;code-comment&quot;&gt;//*************************
&lt;/span&gt;            }
            &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; RuntimeException re)
            {
                &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; re;
            }
            &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Exception exc)
            {
                &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileSystemException(&lt;span class=&quot;code-quote&quot;&gt;&quot;vfs.provider/rename.error&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;[]
                    {
                        getName(),
                        destFile.getName()
                    }, exc);
            }
        }
        &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;
        {
            &lt;span class=&quot;code-comment&quot;&gt;// different fs - &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; the copy/delete stuff
&lt;/span&gt;            &lt;span class=&quot;code-comment&quot;&gt;//*************************
&lt;/span&gt;            &lt;span class=&quot;code-comment&quot;&gt;// TODO change code, extract copy/delete method
&lt;/span&gt;            copyDelete(destFile); }
            
            &lt;span class=&quot;code-comment&quot;&gt;//*************************
&lt;/span&gt;        }

    }

	&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void copyDelete(FileObject destFile) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; FileSystemException
	{
		destFile.copyFrom(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;, Selectors.SELECT_SELF);

		&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (((destFile.getType().hasContent() &amp;amp;&amp;amp; destFile.getFileSystem().hasCapability(Capability.SET_LAST_MODIFIED_FILE)) ||
		    (destFile.getType().hasChildren() &amp;amp;&amp;amp; destFile.getFileSystem().hasCapability(Capability.SET_LAST_MODIFIED_FOLDER))) &amp;amp;&amp;amp;
		    getFileSystem().hasCapability(Capability.GET_LAST_MODIFIED))
		{
		    destFile.getContent().setLastModifiedTime(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.getContent().getLastModifiedTime());
		}

		deleteSelf();
	}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;Linux, two files on different mounts&lt;/p&gt;</environment>
        <key id="12410575">VFS-229</key>
            <summary>The moveTo() method of the AbstractFileObject class doesn&apos;t work correct on Linux</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="capricose">Kathrin Leufke</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 Dec 2008 11:44:08 +0000</created>
                <updated>Mon, 30 May 2011 14:54:43 +0000</updated>
                                            <version>1.0</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="3600">1h</timeoriginalestimate>
                            <timeestimate seconds="3600">1h</timeestimate>
                                        <comments>
                            <comment id="12656121" author="sebb@apache.org" created="Fri, 12 Dec 2008 19:16:31 +0000"  >&lt;p&gt;Surely canRenameTo() should agree with doRename() ?&lt;/p&gt;</comment>
                            <comment id="12656594" author="capricose" created="Mon, 15 Dec 2008 10:04:32 +0000"  >&lt;p&gt;The canRenameTo() method doesn&apos;t find out that there are two different filesystems (it&apos;s probably not possible on Linux) and returns true by mistake.&lt;/p&gt;</comment>
                            <comment id="13041153" author="polivenok" created="Mon, 30 May 2011 14:53:23 +0000"  >&lt;p&gt;attached patch for trunk and 1.0:&lt;br/&gt;
if canRenameTo returns false as it on different mounts on linux copy and delete will be performed instead of throwing exception. The same approach was implemented here - org.apache.commons.io.FileUtils.moveFile &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12480848" name="VFS-229(1.0).patch" size="1099" author="polivenok" created="Mon, 30 May 2011 14:53:23 +0000"/>
                            <attachment id="12480849" name="VFS-229(trunk).patch" size="995" author="polivenok" created="Mon, 30 May 2011 14:53:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200280</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 23 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i16thr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>247910</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-228] Ant regression with ClassNotFoundException for DefaultLocalFileProvider</title>
                <link>https://issues.apache.org/jira/browse/VFS-228</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;The latest version from trunk fails to work with Apache Ant resulting in this error:&lt;br/&gt;
Could not load VFS configuration from &quot;jar:&lt;a href=&quot;file:/media/Fort/per/program/backup/lib/commons-vfs-2.0-SNAPSHOT.jar!/org/apache/commons/vfs/impl/providers.xml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:/media/Fort/per/program/backup/lib/commons-vfs-2.0-SNAPSHOT.jar!/org/apache/commons/vfs/impl/providers.xml&lt;/a&gt;&quot;.&lt;/p&gt;

&lt;p&gt;which was caused by &lt;br/&gt;
java.lang.ClassNotFoundException: org.apache.commons.vfs.provider.local.DefaultLocalFileProvider &lt;/p&gt;

&lt;p&gt;The cause seems to be a class loader issued introduced in rev 537717.&lt;/p&gt;

&lt;p&gt;Reverting that change:&lt;br/&gt;
cd core&lt;br/&gt;
svn diff -c r537717 src/main/java/org/apache/commons/vfs/impl/StandardFileSystemManager.java | patch -R&lt;br/&gt;
mvn clean install&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;copy commons-vfs-2.0-SNAPSHOT to my test&amp;#39;s lib dir&amp;#93;&lt;/span&gt;&lt;br/&gt;
ant -f test.xml test&lt;/p&gt;

&lt;p&gt;Makes my example ant file work again (worked with the 1.0 release).&lt;br/&gt;
The 537717 revision was intended to fix &lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-136&quot; title=&quot;Fix index in vfs.provider/get-attributes.error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-136&quot;&gt;&lt;del&gt;VFS-136&lt;/del&gt;&lt;/a&gt;: Don&apos;t force-set the classloader - Thanks to Adam Heath for the patch&lt;/p&gt;

&lt;p&gt;So it might be a bit controversial to reverse that change.&lt;br/&gt;
Attaching patch fixing the issue and my example ant file.&lt;/p&gt;</description>
                <environment>&lt;p&gt;java version &quot;1.6.0_0&quot;&lt;br/&gt;
IcedTea6 1.3.1 (6b12-0ubuntu6) Runtime Environment (build 1.6.0_0-b12)&lt;br/&gt;
OpenJDK Client VM (build 1.6.0_0-b12, mixed mode, sharing)&lt;/p&gt;

&lt;p&gt;Apache Ant version 1.7.1 compiled on October 3 2008&lt;/p&gt;</environment>
        <key id="12410464">VFS-228</key>
            <summary>Ant regression with ClassNotFoundException for DefaultLocalFileProvider</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="perher">Per Hermansson</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Dec 2008 09:15:13 +0000</created>
                <updated>Fri, 23 Nov 2018 14:22:19 +0000</updated>
                                            <version>2.0</version>
                                                        <due></due>
                            <votes>2</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12655576" author="perher" created="Thu, 11 Dec 2008 09:19:32 +0000"  >&lt;p&gt;Patch that fixes the error&lt;/p&gt;

&lt;p&gt;cd core&lt;br/&gt;
svn diff -c -537717 src/main/java/org/apache/commons/vfs/impl/StandardFileSystemManager.java &amp;gt; patch&lt;br/&gt;
patch -p0 &amp;lt; patch &lt;/p&gt;</comment>
                            <comment id="12655577" author="perher" created="Thu, 11 Dec 2008 09:21:09 +0000"  >&lt;p&gt;Ant build file that demonstrates the error:&lt;br/&gt;
ant -f test.xml test&lt;/p&gt;</comment>
                            <comment id="12659498" author="mrcheeks" created="Mon, 29 Dec 2008 05:16:22 +0000"  >&lt;p&gt;Please apply the above proposed solution. &lt;/p&gt;

&lt;p&gt;The VFS class loading issues are easily visible inside an OSGI environment, making it impossible to use the library. Any attempt to call the static default filesystemmanager results into an unchecked initialization error.&lt;/p&gt;</comment>
                            <comment id="12744100" author="hbeham" created="Mon, 17 Aug 2009 15:17:50 +0000"  >&lt;p&gt;If you only need the VFS ant tasks you can copy the commons-vfs.jar (and optionally commons-vfs-sandbox.jar) into $ANT_HOME/lib.&lt;/p&gt;

&lt;p&gt;This doesn&apos;t work if you use the same ant JVM to also run unit tests for code using VFS. Then your code can&apos;t find classes from commons-vfs-sandbox.jar&lt;/p&gt;
</comment>
                            <comment id="12790775" author="oleastre" created="Tue, 15 Dec 2009 15:33:09 +0000"  >&lt;p&gt;Instead of reverting the patch of &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-135&quot; title=&quot;Don&amp;#39;t force-set the classloader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-135&quot;&gt;&lt;del&gt;VFS-135&lt;/del&gt;&lt;/a&gt; (and not 136), you can just set the class loader used when invoked by a ant task.&lt;/p&gt;

&lt;p&gt;So just add a setClassLoader in VfsTask.&lt;/p&gt;</comment>
                            <comment id="13114053" author="ralph.goers@dslextreme.com" created="Sat, 24 Sep 2011 19:40:01 +0000"  >&lt;p&gt;I&apos;m not crazy about the provided patch as it just seems to revert a previous fix.  I&apos;m not sure why using the current Class&apos;s ClassLoader vs the ThreadContext&apos;s ClassLoader causes the problem but I can easily understand that either one might be correct or incorrect depending on the circumstances.&lt;/p&gt;

&lt;p&gt;I&apos;d like to know more details on why this fails in an OSGi environment.&lt;/p&gt;</comment>
                            <comment id="14494084" author="b.eckenfels" created="Tue, 14 Apr 2015 13:10:39 +0000"  >&lt;p&gt;I wonder why we don&apos;t have a integration test which catches this.&lt;/p&gt;</comment>
                            <comment id="15053656" author="tn" created="Fri, 11 Dec 2015 22:03:44 +0000"  >&lt;p&gt;The provided testcase works for me when changing the task uri to org.apache.commons.vfs2.tasks.&lt;/p&gt;</comment>
                            <comment id="15054345" author="b.eckenfels" created="Sat, 12 Dec 2015 15:00:45 +0000"  >&lt;p&gt;BTW: with &lt;a href=&quot;https://issues.apache.org/jira/browse/VFS-424&quot; title=&quot;VFS 2.0 class loading breaks in OSGi, regression from 1.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;VFS-424&quot;&gt;&lt;del&gt;VFS-424&lt;/del&gt;&lt;/a&gt; I fixed the loading of providers for StandardFileSystemManager in OSGi, maybe this also fixed this bug?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/commons-vfs/commit/15aca89b0c1308137f66f4e1fa479a4673287335&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-vfs/commit/15aca89b0c1308137f66f4e1fa479a4673287335&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15056646" author="tn" created="Mon, 14 Dec 2015 20:17:43 +0000"  >&lt;p&gt;It is at least not reproducible anymore, so I would suggest to close it.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12395814" name="patch" size="2250" author="perher" created="Thu, 11 Dec 2008 09:19:32 +0000"/>
                            <attachment id="12395815" name="test.xml" size="423" author="perher" created="Thu, 11 Dec 2008 09:21:09 +0000"/>
                            <attachment id="12428046" name="vfs-task.diff" size="614" author="oleastre" created="Tue, 15 Dec 2009 15:33:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>59420</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 46 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8iv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302974</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-227] InputStream and RandomAccessContent memory leak in FileContentThreadData</title>
                <link>https://issues.apache.org/jira/browse/VFS-227</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Memory leak can be found by opening and closing input stream for the same file several thouthand times.&lt;/p&gt;

&lt;p&gt;Thanks to Nikita Ershov for invistigation and solution&lt;/p&gt;</description>
                <environment>&lt;p&gt;doesn&apos;t seem to be fixed in SVN&lt;/p&gt;</environment>
        <key id="12410101">VFS-227</key>
            <summary>InputStream and RandomAccessContent memory leak in FileContentThreadData</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bsp">Sergey Vladimirov</reporter>
                        <labels>
                    </labels>
                <created>Fri, 5 Dec 2008 20:04:52 +0000</created>
                <updated>Mon, 16 Nov 2009 06:46:54 +0000</updated>
                            <resolved>Mon, 16 Nov 2009 06:46:54 +0000</resolved>
                                    <version>Nightly Builds</version>
                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12658040" author="bsp" created="Fri, 19 Dec 2008 09:02:33 +0000"  >&lt;p&gt;Thinking if i should ask for svn write access to apply this trivial patch by myself...&lt;/p&gt;</comment>
                            <comment id="12778224" author="ralph.goers@dslextreme.com" created="Mon, 16 Nov 2009 06:46:54 +0000"  >&lt;p&gt;The patch was applied to trunk. Please verify and close.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12395445" name="patch.txt" size="718" author="bsp" created="Fri, 5 Dec 2008 20:07:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200279</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 51 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i136bj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226654</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-226] resolving of relative layers does not work correctly</title>
                <link>https://issues.apache.org/jira/browse/VFS-226</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;When I try to resolve a relative layered filesystem I get the error &lt;/p&gt;

&lt;p&gt;Could not find file with URI &quot;rules.zip&quot; because it is a relative path, and no base URI was provided.&lt;/p&gt;

&lt;p&gt;I used the method StandardFileSystemManager.resolveFile(FileObject, String) where the FileObject is the directory where the file rules.zip is located (&lt;a href=&quot;file:///d:/temp&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:///d:/temp&lt;/a&gt;) and for the path I use &apos;zip:rules.zip&apos;.&lt;/p&gt;

&lt;p&gt;Since I pass a base file I would think it should be able to find the zip file.&lt;/p&gt;

&lt;p&gt;When debugging I found the following:&lt;/p&gt;

&lt;p&gt;LayeredFileNameParser.parseUri(VfsComponentContext, FileName, String) does one line 54:&lt;/p&gt;

&lt;p&gt;rootUri = context.parseURI(rootUriName);&lt;/p&gt;

&lt;p&gt;I believe that in this call it loses the reference to the base file I passed .&lt;/p&gt;

&lt;p&gt;The context forwards to the FileSystemManager.resolveURI(String)&lt;/p&gt;

&lt;p&gt;which throws the exception because its base file isn&apos;t set:&lt;/p&gt;

&lt;p&gt;if (baseFile == null)&lt;br/&gt;
{&lt;br/&gt;
	throw new FileSystemException(&quot;vfs.impl/find-rel-file.error&quot;, uri);&lt;br/&gt;
}&lt;/p&gt;

</description>
                <environment>&lt;p&gt;Windows XP, Java 1.4&lt;/p&gt;</environment>
        <key id="12408637">VFS-226</key>
            <summary>resolving of relative layers does not work correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kleij">Frank van der Kleij</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Nov 2008 12:06:16 +0000</created>
                <updated>Tue, 16 Jun 2020 02:45:41 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="17134616" author="csmdev" created="Sat, 13 Jun 2020 01:34:20 +0000"  >&lt;p&gt;Maybe you can try this :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void test() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
    FileSystemManager manager = VFS.getManager();
&#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; (FileObject f1 = manager.resolveFile(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;src/test/resources/test-data&quot;&lt;/span&gt;).getAbsolutePath());
 &#160; &#160; &#160; &#160; FileObject f2 = f1.resolveFile(&lt;span class=&quot;code-quote&quot;&gt;&quot;test.zip&quot;&lt;/span&gt;);
 &#160; &#160; &#160; &#160; FileObject f3 = manager.createFileSystem(&lt;span class=&quot;code-quote&quot;&gt;&quot;zip&quot;&lt;/span&gt;,f2);
 &#160; &#160; ) { &#160; &#160; &#160; &#160; &#160; 
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(f3.getName()); &#160; &#160;
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I think the FileObject.resolveFile(String) method don&apos;t accept scheme in parameter.&lt;/p&gt;

&lt;p&gt;In this case, I think&#160; we can call&#160;FileSystemManager.create(String, FileObject)&#160;if we want to open a zip file use &quot;zip&quot; scheme.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200278</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 19 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8j3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302975</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-225] File name parsing issues in layered file systems</title>
                <link>https://issues.apache.org/jira/browse/VFS-225</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;The &quot;!&quot; character is used as delimiter for e.g. ZIP file access as VFS component.&lt;/p&gt;

&lt;p&gt;When trying to traverse a layered file, e.g. traversing a ZIP content and the ZIP contains a file with a &quot;&lt;span class=&quot;error&quot;&gt;Unable to render embedded object: File (&amp;quot; in the file name itself then a FileSystemException appears - it seems that the parsing routine for layered filenames is stumbling over the &amp;quot;) not found.&lt;/span&gt;&quot; character.&lt;/p&gt;

&lt;p&gt;Exception trace for a test VFS component:&lt;br/&gt;
org.apache.commons.vfs.FileSystemException: Incorrect file system URI &quot;syncdb:&lt;a href=&quot;file:///C:/Temp/test.xml!/c/temp/Maps/Important&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:///C:/Temp/test.xml!/c/temp/Maps/Important&lt;/a&gt; to Read!!/&quot; in name &quot;syncdb:&lt;a href=&quot;file:///C:/Temp/test.xml!/c/temp/Maps/Important&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:///C:/Temp/test.xml!/c/temp/Maps/Important&lt;/a&gt; to Read!!.txt&quot;, was expecting &quot;syncdb:&lt;a href=&quot;file:///C:/Temp/test.xml!/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:///C:/Temp/test.xml!/&lt;/a&gt;&quot;.&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractFileSystem.resolveFile(AbstractFileSystem.java:274)&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractFileSystem.resolveFile(AbstractFileSystem.java:267)&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractFileObject.resolveFile(AbstractFileObject.java:670)&lt;br/&gt;
	at de.jensscheffler.ftpsync.db.SyncFileSystemTest.treeCopy(SyncFileSystemTest.java:87)&lt;br/&gt;
	(...)&lt;/p&gt;

&lt;p&gt;As the accessing code was just traversing a folder tree with no chance to handle this, is there any alternative for traversing through these layered file systems when the content contains special characters?&lt;/p&gt;

&lt;p&gt;Maybe the approach for parsing needs to be enhanced also, I could offer some help but maybe need a hint to contribute a fix.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows XP SP2 - but also assuming in other environments&lt;/p&gt;</environment>
        <key id="12408453">VFS-225</key>
            <summary>File name parsing issues in layered file systems</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jscheffl">Jens Scheffler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Nov 2008 20:47:33 +0000</created>
                <updated>Mon, 2 Nov 2020 02:23:30 +0000</updated>
                            <resolved>Mon, 2 Nov 2020 02:23:30 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>2.7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12647508" author="jwcarman" created="Fri, 14 Nov 2008 03:02:53 +0000"  >&lt;p&gt;The first step would be to write up a test case that exhibits the problem.  That way, we&apos;ll know if we do get it fixed.&lt;/p&gt;</comment>
                            <comment id="12647838" author="jscheffl" created="Sat, 15 Nov 2008 12:31:50 +0000"  >&lt;p&gt;Good idea. Tried to nail down a very very simple example but failed to reproduce the same Exception using ZipFileSystem. But maybe I can contribute a bit more information from my debugging session.&lt;/p&gt;

&lt;p&gt;Test Preparation:&lt;br/&gt;
Create a simple (even empty) text file called &quot;Important!!.txt&quot; in a folder called &quot;Dir&quot;. ZIP the &quot;Dir&quot; folder into &quot;Archive.zip&quot; and place the ZIP into &quot;C:\Temp&quot; so that the resulting URI would look like:&lt;br/&gt;
zip:&lt;a href=&quot;file:///C:/Temp/Archive.zip!/Dir/Important!!!.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:///C:/Temp/Archive.zip!/Dir/Important!!!.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If you execute the following code:&lt;br/&gt;
            FileSystemManager mgr = VFS.getManager();&lt;br/&gt;
            FileObject f = mgr.resolveFile(&quot;zip:&lt;a href=&quot;file:///C:/Temp/Archive.zip!/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:///C:/Temp/Archive.zip!/&lt;/a&gt;&quot;);&lt;br/&gt;
            FileObject[] content = f.findFiles(Selectors.SELECT_ALL);&lt;br/&gt;
            for (FileObject item : content) &lt;/p&gt;
{
                System.out.println(item.toString());
            }
&lt;p&gt;...you will NOT find the file. A problem in ZipFileSystem prevents the same exceptions which I initially reported here due to pre-parsing of whole ZIP file and validation of references.&lt;/p&gt;

&lt;p&gt;Nevertheless in the VFS provider which I&apos;m currently writing I have from the same root cause the described exception.&lt;/p&gt;

&lt;p&gt;Root of the problem seems to be the parsing of layered file system names, a string scanner goes backwards and tried to find the last &quot;!&quot; char in the file name.&lt;br/&gt;
It is in LayeredFileNameParser.extractRootName(StringBuffer)&lt;/p&gt;

&lt;p&gt;Please tell me if I should contribute something further here.&lt;/p&gt;</comment>
                            <comment id="12647864" author="jwcarman" created="Sat, 15 Nov 2008 15:36:09 +0000"  >&lt;p&gt;I wouldn&apos;t suggest writing a test case that uses &quot;c:/&quot; at all.  Our automated builds don&apos;t run on windows machines, so those tests would fail.  What&apos;s wrong with creating a ZIP file and including in as a test resource.  Then use that to test the logic?&lt;/p&gt;</comment>
                            <comment id="12647947" author="jscheffl" created="Sun, 16 Nov 2008 09:51:56 +0000"  >&lt;p&gt;Please find a Unit Test attached which is generating the test data.&lt;/p&gt;

&lt;p&gt;The test crates a temporary ZIP file with 2 files&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Dir/SomeFile.txt&lt;/li&gt;
	&lt;li&gt;Dir/Important!!.txt&lt;br/&gt;
Then it uses commons-vfs to scan through the files.&lt;br/&gt;
During opening the ZIP file to function to resolve base URI is called and as of generating the wrong base URI as described above the file is not added to the ZIP container during init.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Hope this helps.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="13169717">VFS-664</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12394008" name="LayeredFileNameParsingTest.java" size="2873" author="jscheffl" created="Sun, 16 Nov 2008 09:51:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200277</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 51 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8hr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302969</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-224] Cannot use FTP with the IFS on the OS/400 ( AS/400 / iSeries / systemI )</title>
                <link>https://issues.apache.org/jira/browse/VFS-224</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;When using VFS to FTP files to/from the OS/400 FTP server, the system defaults to NAMEFMT =0, which means &quot;system naming.&quot; This restricts uploads/downloads to the QSYS filesystem.   I need to switch to NAMEFMT=1, which means IFS naming. This allows uploads/downloads to all  file systems on the server, which includes the IFS.  There are several ways to switch NAMEFMT. First is to &quot;CD /some/dir/on/ifs&quot;        The second way is to issue the command:   QUOTE SITE NAMEFMT 1&lt;/p&gt;

&lt;p&gt;Currently, I cannot upload/download to the IFS on the OS/400, making the FTP part of VFS unusable. &lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Sarah&lt;/p&gt;






</description>
                <environment>&lt;p&gt;Windows XP client, OS/400 FTP server &lt;/p&gt;</environment>
        <key id="12406789">VFS-224</key>
            <summary>Cannot use FTP with the IFS on the OS/400 ( AS/400 / iSeries / systemI )</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sgladstone">Sarah Gladstone</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Oct 2008 10:52:03 +0000</created>
                <updated>Sun, 18 May 2014 00:31:30 +0000</updated>
                                            <version>1.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13274077" author="garydgregory" created="Sat, 12 May 2012 21:34:37 +0000"  >&lt;p&gt;From the IBM site: &lt;a href=&quot;http://www-01.ibm.com/support/docview.wss?uid=nas1458ff0ae0a9a2ea986256a340061c514&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www-01.ibm.com/support/docview.wss?uid=nas1458ff0ae0a9a2ea986256a340061c514&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14000928" author="b.eckenfels" created="Sun, 18 May 2014 00:31:30 +0000"  >&lt;p&gt;maybe one option would be to have a &quot;sent command on login&quot; fsoption? The cd could also be some kind of option, cause in some situations you want a cd, in some you want relative file names (to get the users cwd) and in some cases you want the local path of the url be the absolute file name. Somethign like option.ftp.cd=absolute|relativ|cdinto could fix the problem with the relative names (and allow the FTP server to switch to IFS).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200276</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 24 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8hz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302970</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-223] JAPANESE AND CHINESE CHARACERED FILENAME GETS GARBLED WHEN REMOTE COPY IS DONE</title>
                <link>https://issues.apache.org/jira/browse/VFS-223</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;When I tried to transfer a folder containing filenames in Chinese/Japanese characters from one Chinese/Japanese system to another:&lt;br/&gt;
1. Files in folder would get transferred with garbled/corrupted filenames.&lt;br/&gt;
2. The folder wouldnt get created.&lt;/p&gt;

&lt;p&gt;Code :&lt;/p&gt;

&lt;p&gt;______________________________________________________________________&lt;br/&gt;
public static final void copy(String sourceDir, String sourceFile,&lt;br/&gt;
		FileSystemOptions sourceOpts, String targetDir, String targetFile,&lt;br/&gt;
		FileSystemOptions targetOpts, FileSystemManager fsManager)&lt;br/&gt;
		throws FileSystemException {&lt;br/&gt;
...........&lt;br/&gt;
	try {&lt;br/&gt;
		if (sourceFile == null) {&lt;br/&gt;
			sourceFileUrl = sourceDir;&lt;br/&gt;
			sourceFileObject = fsManager.resolveFile(sourceFileUrl, sourceOpts);&lt;/p&gt;

&lt;p&gt;			targetFileUrl = targetDir + File.separator&lt;br/&gt;
					+ sourceFileObject.getName().getBaseName();&lt;/p&gt;

&lt;p&gt;			targetFileObject = (FileObject) fsManager.resolveFile(&lt;br/&gt;
					targetFileUrl, targetOpts);&lt;/p&gt;

&lt;p&gt;		if (sourceFile == null || targetFile != null) {&lt;br/&gt;
				// copy directory to directory recursively or copy regular file&lt;br/&gt;
				// to file&lt;br/&gt;
				targetFileObject.copyFrom(sourceFileObject,&lt;br/&gt;
						new AllFileSelector());&lt;br/&gt;
}&lt;br/&gt;
______________________________________________________________________&lt;/p&gt;

&lt;p&gt;Could you please let me know whether we need to set any options to enable it to transfer multi-byte chractered languages like Japanese/Chinese?&lt;/p&gt;
</description>
                <environment>&lt;p&gt;WINDOWS,LINUX&lt;/p&gt;</environment>
        <key id="12406379">VFS-223</key>
            <summary>JAPANESE AND CHINESE CHARACERED FILENAME GETS GARBLED WHEN REMOTE COPY IS DONE</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="nls_vfs">Shobha C</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Oct 2008 10:40:29 +0000</created>
                <updated>Tue, 14 Oct 2008 10:40:29 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200275</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 4 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8i7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302971</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-222] fileObject is not serializable </title>
                <link>https://issues.apache.org/jira/browse/VFS-222</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;FileObject is not serializable&lt;br/&gt;
i have problems using the fileObject with wicket.&lt;br/&gt;
wicket wants to serialize objects:&lt;/p&gt;

&lt;p&gt;Caused by: java.io.NotSerializableException: org.apache.commons.vfs.provider.local.LocalFile&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12405914">VFS-222</key>
            <summary>fileObject is not serializable </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tibi">tibi</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 Oct 2008 12:28:39 +0000</created>
                <updated>Sat, 24 Sep 2011 17:07:19 +0000</updated>
                            <resolved>Sat, 24 Sep 2011 17:07:19 +0000</resolved>
                                    <version>1.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13114011" author="ralph.goers@dslextreme.com" created="Sat, 24 Sep 2011 17:07:19 +0000"  >&lt;p&gt;Requiring FileObject implementations to be Serializable doesn&apos;t seem practical or reasonable.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12428603">VFS-266</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>59428</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 6 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i13813:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226931</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-221] Memory not released in SoftRefFilesCache</title>
                <link>https://issues.apache.org/jira/browse/VFS-221</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Implementation of method putFile(final FileObject file) does not remove references from refReverseMap when adding a new file.&lt;/p&gt;

&lt;p&gt;#current implementation&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;     synchronized (files)
    {
      files.put(file.getName(), ref);
      synchronized(refReverseMap)
      {
        refReverseMap.put(ref, key);
      }
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;#should become:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    synchronized (files)
    {
      Reference old = files.put(file.getName(), ref);
      synchronized(refReverseMap)
      {
          refReverseMap.remove(old);
          refReverseMap.put(ref, key);
      }
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;All&lt;/p&gt;</environment>
        <key id="12405802">VFS-221</key>
            <summary>Memory not released in SoftRefFilesCache</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rgoers">Ralph Goers</assignee>
                                    <reporter username="gillouxgaillard@wanadoo.fr">Gilles Gaillard</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Oct 2008 12:17:13 +0000</created>
                <updated>Sun, 1 Mar 2009 06:49:46 +0000</updated>
                            <resolved>Sun, 1 Mar 2009 06:49:46 +0000</resolved>
                                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="900">0.25h</timeoriginalestimate>
                            <timeestimate seconds="900">0.25h</timeestimate>
                                        <comments>
                            <comment id="12677778" author="ralph.goers@dslextreme.com" created="Sun, 1 Mar 2009 06:49:46 +0000"  >&lt;p&gt;I added similar code. Please check trunk and close this if it resolves your problem.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200274</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 36 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i137wv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226912</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-220] Wrong test in AbstractFileObject.endOutput may cause invalid list of children</title>
                <link>https://issues.apache.org/jira/browse/VFS-220</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Method endOutput() is called when a file is created or an outputstream closed.&lt;br/&gt;
The current code says: &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; 
    if (getType() == FileType.IMAGINARY) {
        // File was created
        handleCreate(FileType.FILE);
    } else {
        // File has changed
        onChange();
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Calling getType() on a file that wasn&apos;t previously attached will cause the file to be attached and therefore &lt;br/&gt;
not return FileType.IMAGINARY since it&apos;s just been created. Hence the list of children in the parent will &lt;br/&gt;
become wrong.&lt;/p&gt;

&lt;p&gt;To correct, replace the test by &apos;if (type == FileType.IMAGINARY)&apos;, and the method becomes:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    protected void endOutput() throws Exception
    {
        // NOTE: don&apos;t use getType() here
        if (type == FileType.IMAGINARY)
        {
            // File was created
            handleCreate(FileType.FILE);
        }
        else
        {
            // File has changed
            onChange();
        }
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;all&lt;/p&gt;</environment>
        <key id="12405490">VFS-220</key>
            <summary>Wrong test in AbstractFileObject.endOutput may cause invalid list of children</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="gillouxgaillard@wanadoo.fr">Gilles Gaillard</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Sep 2008 20:06:58 +0000</created>
                <updated>Tue, 30 Sep 2008 20:12:34 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="3600">1h</timeoriginalestimate>
                            <timeestimate seconds="3600">1h</timeestimate>
                                        <comments>
                            <comment id="12635836" author="gillouxgaillard@wanadoo.fr" created="Tue, 30 Sep 2008 20:12:34 +0000"  >&lt;p&gt;suppress format for code excerpt&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200273</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 6 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i16tkn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>247923</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-219] Zip file with embedded relative path throws exception</title>
                <link>https://issues.apache.org/jira/browse/VFS-219</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Attempting to open a ZIP file with an embedded relative path causes an exception.&lt;/p&gt;

&lt;p&gt;To create a sample zip:&lt;/p&gt;

&lt;p&gt;mkdir dir&lt;br/&gt;
echo &quot;foo&quot; &amp;gt; dir/test.txt&lt;br/&gt;
mkdir test&lt;br/&gt;
cd test&lt;br/&gt;
zip test.zip ../dir/test.txt&lt;/p&gt;

&lt;p&gt;test.zip will now contain a path with a relative path that ascends above the root of the zip.  unzip -l output will look something like:&lt;/p&gt;

&lt;p&gt;  4  10-15-05 12:24   ../dir/test.txt&lt;/p&gt;

&lt;p&gt;The ZIP was created with InfoZIP: Zip 2.32 (June 19th 2006).&lt;/p&gt;

&lt;p&gt;When the file is accessed programatically with:&lt;br/&gt;
  VFS.getManager().resolveFile(&quot;zip:///path/to/test/test.zip&quot;);&lt;/p&gt;

&lt;p&gt;The following exception occurs:&lt;/p&gt;

&lt;p&gt;org.apache.commons.vfs.FileSystemException: Invalid relative file name.&lt;br/&gt;
	at org.apache.commons.vfs.provider.UriParser.normalisePath(UriParser.java:154)&lt;br/&gt;
	at org.apache.commons.vfs.impl.DefaultFileSystemManager.resolveName(DefaultFileSystemManager.java:731)&lt;br/&gt;
	at org.apache.commons.vfs.impl.DefaultFileSystemManager.resolveName(DefaultFileSystemManager.java:684)&lt;br/&gt;
	at org.apache.commons.vfs.provider.zip.ZipFileSystem.init(ZipFileSystem.java:88)&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractVfsContainer.addComponent(AbstractVfsContainer.java:53)&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractFileProvider.addFileSystem(AbstractFileProvider.java:96)&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractLayeredFileProvider.createFileSystem(AbstractLayeredFileProvider.java:80)&lt;br/&gt;
	at org.apache.commons.vfs.provider.AbstractLayeredFileProvider.findFile(AbstractLayeredFileProvider.java:59)&lt;br/&gt;
	at org.apache.commons.vfs.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:641)&lt;br/&gt;
	at org.apache.commons.vfs.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:602)&lt;br/&gt;
	at org.apache.commons.vfs.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:570)&lt;/p&gt;



&lt;p&gt;UriParser.normalisePath() contains the following code:&lt;/p&gt;

&lt;p&gt;if (elemLen == 1 &amp;amp;&amp;amp; path.charAt(startElem) == &apos;.&apos;)&lt;br/&gt;
{&lt;br/&gt;
	// A &apos;.&apos; element - axe it&lt;br/&gt;
	path.delete(startElem, endElem + 1);&lt;br/&gt;
	maxlen = path.length();&lt;br/&gt;
	continue;&lt;br/&gt;
}&lt;br/&gt;
if (elemLen == 2 &amp;amp;&amp;amp; path.charAt(startElem) == &apos;.&apos;&lt;br/&gt;
		&amp;amp;&amp;amp; path.charAt(startElem + 1) == &apos;.&apos;)&lt;br/&gt;
{&lt;br/&gt;
	// A &apos;..&apos; element - remove the previous element&lt;br/&gt;
	if (startElem == startFirstElem)&lt;/p&gt;
	{
		// Previous element is missing
		throw new FileSystemException(
				&quot;vfs.provider/invalid-relative-path.error&quot;);
	}

&lt;p&gt;	// Find start of previous element&lt;br/&gt;
	int pos = startElem - 2;&lt;br/&gt;
	for (; pos &amp;gt;= 0 &amp;amp;&amp;amp; path.charAt(pos) != SEPARATOR_CHAR; pos--)&lt;br/&gt;
	{&lt;br/&gt;
	}&lt;br/&gt;
	startElem = pos + 1;&lt;/p&gt;

&lt;p&gt;	path.delete(startElem, endElem + 1);&lt;br/&gt;
	maxlen = path.length();&lt;br/&gt;
	continue;&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;// A regular element&lt;br/&gt;
startElem = endElem + 1;&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;I think it would be appropriate to change the throw in the middle to &apos;continue&apos; as in the case for a single dot above.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12405302">VFS-219</key>
            <summary>Zip file with embedded relative path throws exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="pendor">Zachary Bedell</reporter>
                        <labels>
                    </labels>
                <created>Sat, 27 Sep 2008 19:45:10 +0000</created>
                <updated>Fri, 25 Jan 2019 13:27:28 +0000</updated>
                                            <version>1.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16276505" author="rnc" created="Mon, 4 Dec 2017 09:19:42 +0000"  >&lt;p&gt;I&apos;ve just hit this as well ; the problem is with a large zip file it then utterly fails to process it. It would be better if (even configurable) it could ignore erroneous issues like this and still construct the file system layer. &lt;/p&gt;</comment>
                            <comment id="16276590" author="rnc" created="Mon, 4 Dec 2017 10:23:18 +0000"  >&lt;p&gt;I am not convinced however the changing UriParser would solve it - perhaps instead skip over the relevant entries with something like&lt;br/&gt;
diff --git a/commons-vfs2/src/main/java/org/apache/commons/vfs2/provider/zip/ZipFileSystem.java b/commons-vfs2/src/main/java/org/apache/commons/vfs2/provider/zip/ZipFileSystem.java&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
index 90b0e9ff..9128a7fc 100644
--- a/commons-vfs2/src/main/java/org/apache/commons/vfs2/provider/zip/ZipFileSystem.java
+++ b/commons-vfs2/src/main/java/org/apache/commons/vfs2/provider/zip/ZipFileSystem.java
@@ -81,8 +81,17 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;ZipFileSystem &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; AbstractFileSystem {
             &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Enumeration&amp;lt;? &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; ZipEntry&amp;gt; entries = getZipFile().entries();
             &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (entries.hasMoreElements()) {
                 &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; ZipEntry entry = entries.nextElement();
-                &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; AbstractFileName name = (AbstractFileName) getFileSystemManager().resolveName(getRootName(),
+                &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; AbstractFileName name;
+
+                &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
+                 name = (AbstractFileName) getFileSystemManager().resolveName(getRootName(),
                         UriParser.encode(entry.getName()));
+                }
+                &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (FileSystemException e)
+                {
+                    LOG.debug (&lt;span class=&quot;code-quote&quot;&gt;&quot;Unable to create file &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; name &quot;&lt;/span&gt; + entry.getName (), e);
+                    &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;;
+                }

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16752254" author="garydgregory" created="Fri, 25 Jan 2019 13:27:28 +0000"  >&lt;p&gt;We need a patch with unit tests here...&#160;&lt;a href=&quot;https://github.com/apache/commons-vfs/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-vfs/&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200272</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 39 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8if:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302972</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-218] .skip() always returns the same number as given as parameter while the stream itself may or may not skip to given position</title>
                <link>https://issues.apache.org/jira/browse/VFS-218</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;The code below should reproduce the bug, so far I&apos;ve tested this with file: and res: file systems and at least those two expose this bug. As you may notice from the source, you should have file called &quot;bla.txt&quot; containing &quot;blabla&quot; (6 characters) in your C:\temp\ folder for this.&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;VFSStreamSkipping.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.io.IOException;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.io.InputStream;

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.vfs.FileObject;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.vfs.FileSystemException;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.vfs.FileSystemManager;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.vfs.VFS;

/**
 * This &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;demonstrates buggy behaviour of .skip() when using VFS.
 * The bug is that no matter how many bytes were actually skipped, .skip()
 * always returns the same number as the user tried to skip. The stream itself
 * may get skipped though, &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; one tries to read the stream in &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; example
 * after .skip(), it will &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; -1 indicating that .skip() was executed
 * properly.
 */
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;VFSStreamSkipping {
	
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) {
		FileObject file;
		FileSystemManager fsm;
		&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
			fsm = VFS.getManager();
		} &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (FileSystemException e) {
			fsm = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
		}
		
		InputStream is = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
		
		&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
			file = fsm.resolveFile(&lt;span class=&quot;code-quote&quot;&gt;&quot;file:C:/temp/bla.txt&quot;&lt;/span&gt;);
			&lt;span class=&quot;code-comment&quot;&gt;// file content is simply &lt;span class=&quot;code-quote&quot;&gt;&quot;blabla&quot;&lt;/span&gt; with no \n or \r
&lt;/span&gt;			is = file.getContent().getInputStream();
		} &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (FileSystemException e) {}
		
		&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
			&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; skipped = is.skip(9L);
			&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(skipped+&lt;span class=&quot;code-quote&quot;&gt;&quot; &amp;lt;= prints 9, &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; should be 6 as per javadoc&apos;s specification; &quot;&lt;/span&gt;+
					&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//java.sun.com/j2se/1.5.0/docs/api/java/io/InputStream.html#skip(&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;)&quot;&lt;/span&gt;);
&lt;/span&gt;			
			&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(is.read());
		} &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException e) {}
	}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;Java 5, using jdk1.6.0_06 on Windows XP SP3&lt;/p&gt;</environment>
        <key id="12403672">VFS-218</key>
            <summary>.skip() always returns the same number as given as parameter while the stream itself may or may not skip to given position</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="vfsuser">Not Telling</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Sep 2008 11:22:23 +0000</created>
                <updated>Thu, 4 Sep 2008 11:36:17 +0000</updated>
                            <resolved>Thu, 4 Sep 2008 11:36:17 +0000</resolved>
                                    <version>1.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12628316" author="imario" created="Thu, 4 Sep 2008 11:36:17 +0000"  >&lt;p&gt;Hi!&lt;/p&gt;

&lt;p&gt;... and so does this code snippet&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;		FileInputStream fis = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileInputStream(&lt;span class=&quot;code-quote&quot;&gt;&quot;C:/temp/bla.txt&quot;&lt;/span&gt;);
		&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; skipped = fis.skip(9L);
		&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(skipped+&lt;span class=&quot;code-quote&quot;&gt;&quot; &amp;lt;= prints 9, &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; should be 6 as per javadoc&apos;s specification; &quot;&lt;/span&gt;+
				&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//java.sun.com/j2se/1.5.0/docs/api/java/io/InputStream.html#skip(&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;)&quot;&lt;/span&gt;);&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And this is due to a bug/feature in java &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; which has already been added to the documentation of FileInputStream &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;Clearly, FileInputStream breaks the contract of its interface.&lt;/p&gt;

&lt;p&gt;Seems like you are out of luck.&lt;/p&gt;

&lt;p&gt;Ciao,&lt;br/&gt;
Mario&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6294974&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6294974&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://java.sun.com/javase/6/docs/api/java/io/FileInputStream.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://java.sun.com/javase/6/docs/api/java/io/FileInputStream.html&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200271</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 9 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i138fr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226997</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-217] Preserve the last modified time when copying with j-cifs (smb://)</title>
                <link>https://issues.apache.org/jira/browse/VFS-217</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;Please can you add support for preserving the last modified time when copying files with j-cifs (smb://). I can see from this wiki page that it is currently not supported for smb (&apos;setLastModifiedFile&apos; capability):&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://wiki.apache.org/commons/VfsCapabilitiesMatrix&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://wiki.apache.org/commons/VfsCapabilitiesMatrix&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12401883">VFS-217</key>
            <summary>Preserve the last modified time when copying with j-cifs (smb://)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="alza">Alex C</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Aug 2008 11:14:35 +0000</created>
                <updated>Sat, 17 May 2014 23:01:59 +0000</updated>
                            <resolved>Sat, 17 May 2014 01:48:03 +0000</resolved>
                                    <version>1.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14000599" author="b.eckenfels" created="Sat, 17 May 2014 01:48:03 +0000"  >&lt;p&gt;In VFS2 I see SET_LAST_MODIFIED_FILE and _DIR is present and the implementation uses SmbFile.setLastModified(). So I guess it has been implemnted meanwhile. Please reopen if you disagree.&lt;/p&gt;</comment>
                            <comment id="14000913" author="b.eckenfels" created="Sat, 17 May 2014 23:01:59 +0000"  >&lt;p&gt;Just checked it, and indeed it works with 2.0 - I also updated the Wiki matrix &lt;a href=&quot;https://wiki.apache.org/commons/VfsCapabilitiesMatrix&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://wiki.apache.org/commons/VfsCapabilitiesMatrix&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200270</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 24 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8gv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302965</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-216] FTP configuration does not include option for setting socket timeout</title>
                <link>https://issues.apache.org/jira/browse/VFS-216</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;The FTP Configuration includes an option to set a timeout for the data connection, but not for the socket timeout. This is a problem, as idle sockets can cause your download to hang forever and never timeout.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12400707">VFS-216</key>
            <summary>FTP configuration does not include option for setting socket timeout</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rmutti">Reetu Mutti</reporter>
                        <labels>
                    </labels>
                <created>Tue, 22 Jul 2008 04:25:40 +0000</created>
                <updated>Wed, 27 Jul 2016 21:04:56 +0000</updated>
                            <resolved>Fri, 6 Nov 2009 17:39:47 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>2</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="12615512" author="rmutti" created="Tue, 22 Jul 2008 04:43:32 +0000"  >&lt;p&gt;Attached a patch for this issue.&lt;/p&gt;

&lt;p&gt;Patch adds a socket timeout property to FtpFileSystemConfigBuilder, which is used by FtpClientFactory.&lt;/p&gt;</comment>
                            <comment id="12620847" author="alex_marshall" created="Fri, 8 Aug 2008 05:46:04 +0000"  >&lt;p&gt;Unfortunately I have to deal with some exceedingly crappy FTP servers at work which my projects have to communicate with, and this feature would be exceedingly useful.  Right now, some of my background tasks are getting hung up transferring files and I could really use this.  Please integrate it as soon as possible, it&apos;d be much appreciated.&lt;/p&gt;</comment>
                            <comment id="12773385" author="sachindra.nath" created="Wed, 4 Nov 2009 06:01:42 +0000"  >&lt;p&gt;Hello,&lt;br/&gt;
  Is there a reason, why this patch has not yet made it to the build?&lt;br/&gt;
Any server side application using VFS currently may face a hung socket connection because of this issue. &lt;/p&gt;

&lt;p&gt;We&apos;ve been seeing this issue on one of our production servers (where a faulty router sometimes creates this condition ). The system should however be able to recover from this error, which it currently does not, and hangs on waiting indefinitely (till a server restart).&lt;/p&gt;

&lt;p&gt;The commons.net already provides the ability to configure socket timeouts ( I believe since commons.net 1.5) as is indicated in the patch by Reetu.&lt;/p&gt;

&lt;p&gt;Please suggest a timeline for this patch being rolled out in a VFS build.&lt;/p&gt;

&lt;p&gt;thanks&lt;br/&gt;
Sachindra&lt;/p&gt;
</comment>
                            <comment id="12774327" author="ralph.goers@dslextreme.com" created="Fri, 6 Nov 2009 17:39:47 +0000"  >&lt;p&gt;The patch was applied to trunk. Please verify and close.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                                                <inwardlinks description="is cloned by">
                                        <issuelink>
            <issuekey id="12469182">VFS-313</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12445316">VFS-296</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12386595" name="VFS-216.patch" size="2423" author="rmutti" created="Tue, 22 Jul 2008 04:43:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200269</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i136vj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226744</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[VFS-215] Implementation of FtpInputStream.onClose should check for connection closed</title>
                <link>https://issues.apache.org/jira/browse/VFS-215</link>
                <project id="12310495" key="VFS">Commons VFS</project>
                    <description>&lt;p&gt;Implementation of FtpFileObject.FtpInputStream.onClose has the following implementation:&lt;br/&gt;
try {&lt;br/&gt;
  ok = client.completePendingCommand();&lt;br/&gt;
} finally {&lt;br/&gt;
  ftpfs.putClient(client)&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;1. When completePendingCommand return false,  the implementation should check for the reply code of the client and do:&lt;br/&gt;
  if (FTPReply.TRANSFER_ABORTED==client.getReplyCode())&lt;/p&gt;
{
    ok = true;
  }
&lt;p&gt;  (add method getReplyCode on the FtpClient / FTPClientWrapper)&lt;br/&gt;
2. The implementation should catch FTPConnectionClosedException and ignore it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12400654">VFS-215</key>
            <summary>Implementation of FtpInputStream.onClose should check for connection closed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="gillouxgaillard@wanadoo.fr">Gilles Gaillard</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 Jul 2008 12:32:53 +0000</created>
                <updated>Mon, 21 Jul 2008 12:57:03 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12615235" author="gillouxgaillard@wanadoo.fr" created="Mon, 21 Jul 2008 12:57:03 +0000"  >&lt;p&gt;The implementation of method onClose of FtpFileObject.FtpOutputStream should also catch FTPConnectionClosedException and ignore it.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200268</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 16 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1g8h3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302966</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>