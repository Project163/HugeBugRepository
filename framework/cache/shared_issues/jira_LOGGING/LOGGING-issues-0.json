<!--
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Thu Oct 23 09:40:26 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+%22LOGGING%22+AND+issuetype+%3D+Bug+ORDER+BY+key+DESC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="128" total="128"/>
                <build-info>
            <version>8.20.10</version>
            <build-number>820010</build-number>
            <build-date>22-06-2022</build-date>
        </build-info>

<item>
            <title>[LOGGING-197] Recursive update exception with SLF4J</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-197</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;It looks like there is an issue with the Slf4jLogFactory added to Commons Logging 1.3, the &lt;tt&gt;Slf4jLogFactory.getInstance()&lt;/tt&gt; method is called recursively between SLF4J and Commons Logging. The loop is halted by the &lt;tt&gt;ConcurrentHashMap.computeIfAbsent()&lt;/tt&gt; methods that throws an IllegalStateException, but replacing computeIfAbsent with a classic get, test if null, set, results in a stack overflow.&lt;/p&gt;

&lt;p&gt;This issue triggers test failures in SLF4J and httpcomponents-client:&lt;br/&gt;
&lt;a href=&quot;https://bugs.debian.org/1061025&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bugs.debian.org/1061025&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://bugs.debian.org/1060960&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bugs.debian.org/1060960&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This issue was reported by Vladimir Petko 7 months ago on the user list with a link to a reproducer:&lt;br/&gt;
&lt;a href=&quot;https://www.mail-archive.com/user@commons.apache.org/msg12967.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.mail-archive.com/user@commons.apache.org/msg12967.html&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://github.com/vpa1977/commons-logging-reproducer&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/vpa1977/commons-logging-reproducer&lt;/a&gt;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="13595045">LOGGING-197</key>
            <summary>Recursive update exception with SLF4J</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="pkarwasz">Piotr Karwasz</assignee>
                                    <reporter username="ebourg">Emmanuel Bourg</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Oct 2024 08:20:19 +0000</created>
                <updated>Thu, 7 Nov 2024 07:57:59 +0000</updated>
                                            <version>1.3.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 1 week, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1rx74:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-196] Disable usage of context classloader by default</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-196</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;Commons Logging loads &lt;tt&gt;Log&lt;/tt&gt; and &lt;tt&gt;LogFactory&lt;/tt&gt; classes from the context classloader by default.&lt;/p&gt;

&lt;p&gt;This is a very dangerous behavior that can lead to memory leaks if the user of the &lt;tt&gt;Log&lt;/tt&gt; is not aware of this behavior:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&#160;Assigning &lt;tt&gt;Log&lt;/tt&gt; instances to *&lt;b&gt;static&lt;/b&gt;* fields will always lead to memory leaks. This is the most popular way to use &lt;tt&gt;Log&lt;/tt&gt;.&lt;/li&gt;
	&lt;li&gt;Assigning &lt;tt&gt;Log&lt;/tt&gt; instances to *&lt;b&gt;instance&lt;/b&gt;* fields will also lead to memory leaks, unless the caller takes extra precautions.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Therefore we should switch the default value of &lt;tt&gt;use_tccl} to {{false&lt;/tt&gt; and keep the configuration property only for backward compatibility.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13590279">LOGGING-196</key>
            <summary>Disable usage of context classloader by default</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="pkarwasz">Piotr Karwasz</assignee>
                                    <reporter username="pkarwasz">Piotr Karwasz</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 Aug 2024 08:04:52 +0000</created>
                <updated>Fri, 30 Aug 2024 20:22:44 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17878080" author="garydgregory" created="Fri, 30 Aug 2024 11:59:15 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pkarwasz&quot; class=&quot;user-hover&quot; rel=&quot;pkarwasz&quot;&gt;pkarwasz&lt;/a&gt;&lt;br/&gt;
Are you planning to address this issue?&lt;/p&gt;</comment>
                            <comment id="17878242" author="pkarwasz" created="Fri, 30 Aug 2024 20:22:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ggregory&quot; class=&quot;user-hover&quot; rel=&quot;ggregory&quot;&gt;ggregory&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;Yes, I&apos;ll fix it soon.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 7 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1r3u8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-195] Port tests from JUnit 3 to JUnit 5</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-195</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;Port tests from JUnit 3 to JUnit 5&lt;/p&gt;</description>
                <environment></environment>
        <key id="13588882">LOGGING-195</key>
            <summary>Port tests from JUnit 3 to JUnit 5</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ggregory">Gary D. Gregory</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Aug 2024 18:23:03 +0000</created>
                <updated>Wed, 14 Aug 2024 18:23:03 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 10 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1qva0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-194] Fix build on Java 22</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-194</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;Java 22 builds on GitHub say:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] 
Error:  Errors: 
Error:    SecurityAllowedTestCase.testAllAllowed:100 &#187; UnsupportedOperation The Security Manager is deprecated and will be removed in a future release
Error:    SecurityForbiddenTestCase.testAllForbidden:133 &#187; UnsupportedOperation The Security Manager is deprecated and will be removed in a future release
Error:    SecurityForbiddenTestCase.testContextClassLoader:186 &#187; UnsupportedOperation The Security Manager is deprecated and will be removed in a future release
[INFO] 
Error:  Tests run: 103, Failures: 0, Errors: 3, Skipped: 0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13588873">LOGGING-194</key>
            <summary>Fix build on Java 22</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ggregory">Gary D. Gregory</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Aug 2024 17:40:53 +0000</created>
                <updated>Thu, 15 Aug 2024 01:39:40 +0000</updated>
                            <resolved>Thu, 15 Aug 2024 01:39:40 +0000</resolved>
                                    <version>Nightly Builds</version>
                                    <fixVersion>1.3.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 10 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1qv80:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-193] OSGi import to org.apache.logging.log4j.spi is missing</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-193</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;The commons-logging bundle is missing an import package declaration on &lt;tt&gt;org.apache.logging.log4j.spi&lt;/tt&gt;, is only imports has an import package declaration to &lt;tt&gt;org.apache.logging.log4j&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;We are running commons-logging 1.3.2 in Eclipse Equinox with Log4j API (&lt;tt&gt;org.apache.logging.log4j.api&lt;/tt&gt;) present. This triggers the loading of &lt;tt&gt;org.apache.commons.logging.impl.Log4jApiLogFactory&lt;/tt&gt;, however this fails because an import package declaration on &lt;tt&gt;org.apache.logging.log4j.spi&lt;/tt&gt; is missing.&lt;/p&gt;

&lt;p&gt;It seems to be introduced by &lt;a href=&quot;https://github.com/apache/commons-logging/pull/177&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-logging/pull/177&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The issue is similar to &lt;a href=&quot;https://github.com/eclipse-mylyn/org.eclipse.mylyn/issues/373&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/eclipse-mylyn/org.eclipse.mylyn/issues/373&lt;/a&gt; but instead of &lt;tt&gt;org.slf4j.spi.LocationAwareLogger&lt;/tt&gt; not being found the class not being found is &lt;tt&gt;org.apache.logging.log4j.spi.LoggerAdapter&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;The stack trace looks similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/LOGGING-192&quot; title=&quot;NoClassDefFoundError: org/apache/logging/log4j/spi/LoggerAdapter when using custom classloader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOGGING-192&quot;&gt;&lt;del&gt;LOGGING-192&lt;/del&gt;&lt;/a&gt; but I do not assume this bug is OSGi related.&lt;/p&gt;

&lt;p&gt;PR&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/commons-logging/pull/268&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-logging/pull/268&lt;/a&gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Eclipse Equinox&lt;br/&gt;
OpenJDK 21&lt;/p&gt;</environment>
        <key id="13583823">LOGGING-193</key>
            <summary>OSGi import to org.apache.logging.log4j.spi is missing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="marschall">Philippe Marschall</reporter>
                        <labels>
                            <label>OSGI</label>
                            <label>OSGi</label>
                    </labels>
                <created>Tue, 25 Jun 2024 19:34:46 +0000</created>
                <updated>Tue, 2 Jul 2024 17:03:36 +0000</updated>
                            <resolved>Fri, 28 Jun 2024 14:11:47 +0000</resolved>
                                    <version>1.3.0</version>
                    <version>1.3.1</version>
                    <version>1.3.2</version>
                                    <fixVersion>1.3.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17860014" author="garydgregory" created="Tue, 25 Jun 2024 19:37:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marschall&quot; class=&quot;user-hover&quot; rel=&quot;marschall&quot;&gt;marschall&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;Please provide a PR on GitHub.&lt;/p&gt;</comment>
                            <comment id="17860825" author="garydgregory" created="Fri, 28 Jun 2024 14:15:22 +0000"  >&lt;p&gt;TY &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marschall&quot; class=&quot;user-hover&quot; rel=&quot;marschall&quot;&gt;marschall&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;PR merged and available in snapshot builds in &lt;a href=&quot;https://repository.apache.org/content/repositories/snapshots/commons-logging/commons-logging/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/repositories/snapshots/commons-logging/commons-logging/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17861026" author="marschall" created="Sun, 30 Jun 2024 17:17:00 +0000"  >&lt;p&gt;Thank you for the quick resolution.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 16 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1q014:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-192] NoClassDefFoundError: org/apache/logging/log4j/spi/LoggerAdapter when using custom classloader</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-192</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;If you have:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;A web application running in Tomcat which contains commons-logging:1.2&lt;/li&gt;
	&lt;li&gt;That web application contains a custom classloader for loading a seperately distributed software component (whose dependencies will conflict with the dependencies of the web application).&lt;/li&gt;
	&lt;li&gt;The software component uses commons-logging:1.3.2&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;When the web application attempts use software component, the code &lt;a href=&quot;https://github.com/apache/commons-logging/blob/rel/commons-logging-1.3.2/src/main/java/org/apache/commons/logging/LogFactory.java#L918-L938&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt; looks for the presence of different logging implementation classes on the thread context classloader&apos;s (TCCL) classpath to select an optimal implementation.&#160; It seems like what is happening is that the LogFactory class looking for implementation class on the TCCL&apos;s classpath and the trying to load the selected factory from the web application&apos;s custom classloader (the loader for the instance of LogFactory that is running).&#160; This is the result:&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; java.lang.NoClassDefFoundError: org/apache/logging/log4j/spi/LoggerAdapter
&#160; &#160; &#160; &#160; at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.forName0(Native Method)
&#160; &#160; &#160; &#160; at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.forName(&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.java:315)
&#160; &#160; &#160; &#160; at org.apache.commons.logging.LogFactory.createFactory(LogFactory.java:419)
&#160; &#160; &#160; &#160; at org.apache.commons.logging.LogFactory.lambda$newFactory$3(LogFactory.java:1431)
&#160; &#160; &#160; &#160; at java.base/java.security.AccessController.doPrivileged(Native Method)
&#160; &#160; &#160; &#160; at org.apache.commons.logging.LogFactory.newFactory(LogFactory.java:1431)
&#160; &#160; &#160; &#160; at org.apache.commons.logging.LogFactory.getFactory(LogFactory.java:928)
&#160; &#160; &#160; &#160; at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:987)
&#160; &#160; &#160; &#160; at org.component.ClassLoadedComponent.&amp;lt;clinit&amp;gt;(ClassLoadedComponent.java:7)
&#160; &#160; &#160; &#160; at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
&#160; &#160; &#160; &#160; at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
&#160; &#160; &#160; &#160; at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
&#160; &#160; &#160; &#160; at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)
&#160; &#160; &#160; &#160; at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.newInstance(&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.java:584)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This occurs when the web application has commons-logging:1.2 and the software component has commons-logging:1.3.x.&#160; This does not occur when both are using version 1.2.&#160;&lt;/p&gt;

&lt;p&gt;Unfortunately, changing the web application&apos;s version of commons-logging is outside is not something I can influence.&lt;/p&gt;

&lt;p&gt;An isolated reproduction case is attached.&#160; It requires Java 11.&#160; To run it:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Unzip it to a directory.&lt;/li&gt;
	&lt;li&gt;Run&#160;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
./gradlew reproduceIssue&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&#160;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment>&lt;p&gt;This behavior was observed while running Adopt Open JDK 11 and the latest version of Tomcat 9.&#160; The behavior can be reproduced outside of tomcat (see attached reproduction case).&lt;/p&gt;</environment>
        <key id="13580310">LOGGING-192</key>
            <summary>NoClassDefFoundError: org/apache/logging/log4j/spi/LoggerAdapter when using custom classloader</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="misterdorito">Dave Dority</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 May 2024 20:55:44 +0000</created>
                <updated>Thu, 15 Aug 2024 13:44:14 +0000</updated>
                            <resolved>Thu, 15 Aug 2024 01:07:52 +0000</resolved>
                                    <version>1.3.0</version>
                    <version>1.3.1</version>
                    <version>1.3.2</version>
                                    <fixVersion>1.3.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17849119" author="garydgregory" created="Thu, 23 May 2024 21:01:20 +0000"  >&lt;p&gt;CC &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pkarwasz&quot; class=&quot;user-hover&quot; rel=&quot;pkarwasz&quot;&gt;pkarwasz&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17873281" author="vampire" created="Tue, 13 Aug 2024 19:11:16 +0000"  >&lt;p&gt;This can also be reproduce relatively simple.&lt;/p&gt;

&lt;p&gt;Open a Gradle Kotlin DSL build script, paste in&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
val jasperReportsAnt = configurations.dependencyScope(&lt;span class=&quot;code-quote&quot;&gt;&quot;jasperReportsAnt&quot;&lt;/span&gt;)
val jasperReportsAntRuntimeClasspath = configurations.resolvable(&lt;span class=&quot;code-quote&quot;&gt;&quot;jasperReportsAntRuntimeClasspath&quot;&lt;/span&gt;) {
    extendsFrom(jasperReportsAnt.get())
}
dependencies {
    jasperReportsAnt(&lt;span class=&quot;code-quote&quot;&gt;&quot;net.sf.jasperreports:jasperreports-ant:7.0.0&quot;&lt;/span&gt;)
}
AntBuilder().apply {
    isSaveStreams = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
}.withGroovyBuilder {
    &lt;span class=&quot;code-quote&quot;&gt;&quot;taskdef&quot;&lt;/span&gt;(
        &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt; to &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr&quot;&lt;/span&gt;,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;classname&quot;&lt;/span&gt; to &lt;span class=&quot;code-quote&quot;&gt;&quot;net.sf.jasperreports.ant.JRAntCompileTask&quot;&lt;/span&gt;,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;classpath&quot;&lt;/span&gt; to jasperReportsAntRuntimeClasspath.get().asPath,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;uri&quot;&lt;/span&gt; to &lt;span class=&quot;code-quote&quot;&gt;&quot;antlib:net.sf.jasperreports.ant&quot;&lt;/span&gt;
    )

    &lt;span class=&quot;code-quote&quot;&gt;&quot;antlib:net.sf.jasperreports.ant:jcr&quot;&lt;/span&gt;(
        &lt;span class=&quot;code-quote&quot;&gt;&quot;srcdir&quot;&lt;/span&gt; to file(&lt;span class=&quot;code-quote&quot;&gt;&quot;.&quot;&lt;/span&gt;),
        &lt;span class=&quot;code-quote&quot;&gt;&quot;includes&quot;&lt;/span&gt; to &lt;span class=&quot;code-quote&quot;&gt;&quot;none&quot;&lt;/span&gt;
    )
} &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and run any task, it will fail searching for &lt;tt&gt;org.slf4j.MarkerFactory&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Add in front&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
buildscript {
    repositories {
        mavenCentral()
    }
    dependencies {
        classpath(&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.logging.log4j:log4j-api:2.+&quot;&lt;/span&gt;)
    }
} &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and run any task again, it will fail searching for &lt;tt&gt;org.apache.logging.log4j.spi.LoggerAdapter&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;It does not happen with &lt;tt&gt;ant.withGroovyBuilder { ... }{&lt;/tt&gt;}, but you cannot use that everywhere in Groovy, for example within worker actions where you have to use the standard Groovy &lt;tt&gt;AntBuilder&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;The problem is like this (using slf4j as example):&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;tt&gt;LogFactory&lt;/tt&gt; searches on the context classloader for &lt;tt&gt;org.slf4j.Logger&lt;/tt&gt; (in my example the Gradle build script classpath)&lt;/li&gt;
	&lt;li&gt;It finds the class so wants to use its &lt;tt&gt;org.apache.commons.logging.impl.Slf4jLogFactory&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;Then it tries to load &lt;tt&gt;Slf4jLogFactory&lt;/tt&gt; from the context classloader but of course does not find it there as &lt;tt&gt;commons-logging&lt;/tt&gt; is not present there&lt;/li&gt;
	&lt;li&gt;Then as fallback tries to load &lt;tt&gt;Slf4jLogFactory&lt;/tt&gt; from the current classloader, which also fails, as there &lt;tt&gt;slf4j&lt;/tt&gt; is not present and so the &lt;tt&gt;Slf4jLogFactory&lt;/tt&gt; class cannot be initialized&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I guess the appropriate solution would be that when going the fallback route of not using the context classloader but the current classloader, that then the detection also has to be redone as the previous result is stale and possibly wrong.&lt;/p&gt;</comment>
                            <comment id="17873282" author="garydgregory" created="Tue, 13 Aug 2024 19:22:33 +0000"  >&lt;p&gt;Is there a way to reproduce this in a PR with a unit test, without Gradle? I personally plan on staying as far away as possible from Gradle.&lt;/p&gt;</comment>
                            <comment id="17873306" author="vampire" created="Tue, 13 Aug 2024 21:45:50 +0000"  >&lt;p&gt;Just as I would not touch Maven with a five-foot pole if I can prevent it. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Sure, from what I analyzed and wrote it should be simple to reproduce.&lt;br/&gt;
Just have&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;a context class loader with &lt;tt&gt;log4j-api&lt;/tt&gt; or &lt;tt&gt;slf4j-api&lt;/tt&gt; but without &lt;tt&gt;commons-logging&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;a current class loader with &lt;tt&gt;commons-logging&lt;/tt&gt; but without&#160;&lt;tt&gt;log4j-api&lt;/tt&gt; or &lt;tt&gt;slf4j-api&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;then do &lt;tt&gt;org.apache.commons.logging.LogFactory.getLog(&quot;&quot;)&lt;/tt&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This should replicate the exact situation and cause the error as &lt;tt&gt;...-api&lt;/tt&gt; will be found on the TCCL,&lt;br/&gt;
while &lt;tt&gt;commons-logging&lt;/tt&gt; will not be found and then will be load from the current class loader but missing the dependency detected on the other class loader.&lt;/p&gt;</comment>
                            <comment id="17873337" author="vampire" created="Tue, 13 Aug 2024 22:04:23 +0000"  >&lt;p&gt;This simple Groovy snippet also reproduces the problem: &lt;a href=&quot;https://groovyconsole.dev/?g=groovy_4_0&amp;amp;codez=eNqlkE9Lw0AQxe_7KXJLFuxAG08BoaLoJSj45xRymG6maUKyEyZbtd_eSSxSBEHswu7ymJn3fsz6XnCgMSlMpGetapPEjvue_bjouK4bX2c_9RJSSGN7cTrDUgMO6HYEx7bpv2yz-V3g0GQrWKWwjK0prWn6gSVELb4hdKjNj5uWXDCmom0UnOuiq8jTe_T6lN90OI45Y0WSFLOALcsD9vR7KuSqSGILg3BQ44b9LffYeHBc0TPvxU0jDqdKCYGvRfCQaFxRZpkmWzuj_IfkuK5vImW5QxdYDufxmJedEFbg9iLkw5dKrDr4QB_hhE6Rpx0avWqK1Vz6O2NNQXUSx_YTnYm8QQ&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;MCVE&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
@Grapes([
    @Grab(&lt;span class=&quot;code-quote&quot;&gt;&apos;commons-logging:commons-logging:1.3.3&apos;&lt;/span&gt;),
    @Grab(&lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.logging.log4j:log4j-api:2.23.1&apos;&lt;/span&gt;)
])
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;

&lt;span class=&quot;code-keyword&quot;&gt;def&lt;/span&gt; tccl = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; URLClassLoader([&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.forName(&lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.logging.log4j.Logger&apos;&lt;/span&gt;).protectionDomain.codeSource.location].toArray(URL[]::&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt;))
&lt;span class=&quot;code-keyword&quot;&gt;def&lt;/span&gt; ccl = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; URLClassLoader([&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.forName(&lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.commons.logging.LogFactory&apos;&lt;/span&gt;).protectionDomain.codeSource.location].toArray(URL[]::&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt;))

&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.currentThread().contextClassLoader = tccl
ccl.loadClass(&lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.commons.logging.LogFactory&apos;&lt;/span&gt;).getLog(&apos;&apos;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17873351" author="vampire" created="Tue, 13 Aug 2024 23:55:42 +0000"  >&lt;p&gt;Here as patch to the project:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-none&quot;&gt;
diff --git a/pom.xml b/pom.xml
index 9f0a998..c3b092d 100644
--- a/pom.xml
+++ b/pom.xml
@@ -285,6 +285,7 @@ under the License.
                 &amp;lt;log4j12&amp;gt;${org.apache.logging.log4j:log4j-1.2-api:jar}&amp;lt;/log4j12&amp;gt;
                 &amp;lt;logkit&amp;gt;${logkit:logkit:jar}&amp;lt;/logkit&amp;gt;
                 &amp;lt;servlet-api&amp;gt;${javax.servlet:javax.servlet-api:jar}&amp;lt;/servlet-api&amp;gt;
+                &amp;lt;slf4j-api&amp;gt;${org.slf4j:slf4j-api:jar}&amp;lt;/slf4j-api&amp;gt;
                 &amp;lt;commons-logging&amp;gt;target/${project.build.finalName}.jar&amp;lt;/commons-logging&amp;gt;
                 &amp;lt;commons-logging-api&amp;gt;target/${project.build.finalName}-api.jar&amp;lt;/commons-logging-api&amp;gt;
                 &amp;lt;commons-logging-adapters&amp;gt;target/${project.build.finalName}-adapters.jar&amp;lt;/commons-logging-adapters&amp;gt;
diff --git a/src/test/java/org/apache/commons/logging/tccl/logfactory/BadTCCLTestCase.java b/src/test/java/org/apache/commons/logging/tccl/logfactory/BadTCCLTestCase.java
new file mode 100644
index 0000000..6341493
--- /dev/null
+++ b/src/test/java/org/apache/commons/logging/tccl/logfactory/BadTCCLTestCase.java
@@ -0,0 +1,113 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the &quot;License&quot;); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package org.apache.commons.logging.tccl.logfactory;
+
+import junit.framework.Test;
+import junit.framework.TestCase;
+import org.apache.commons.logging.LogFactory;
+import org.apache.commons.logging.PathableClassLoader;
+import org.apache.commons.logging.PathableTestSuite;
+
+/**
+ * Verify that if a log framework was detected on tccl but commons-logging cannot be loaded from it
+ * detection happens again on the current class loader before trying to load commons-logging.
+ */
+
+public class BadTCCLTestCase extends TestCase {
+
+    /**
+     * Return the tests included in this test suite.
+     */
+    public static Test suite() throws Exception {
+        final Class thisClass = BadTCCLTestCase.class;
+
+        final PathableClassLoader emptyLoader = new PathableClassLoader(null);
+
+        final PathableClassLoader parentLoader = new PathableClassLoader(emptyLoader);
+        parentLoader.useExplicitLoader(&quot;junit.&quot;, Test.class.getClassLoader());
+        parentLoader.addLogicalLib(&quot;commons-logging&quot;);
+        parentLoader.addLogicalLib(&quot;testclasses&quot;);
+
+        final PathableClassLoader tccl = new PathableClassLoader(emptyLoader);
+        tccl.addLogicalLib(&quot;slf4j-api&quot;);
+
+        final Class testClass = parentLoader.loadClass(thisClass.getName());
+        return new PathableTestSuite(testClass, tccl);
+    }
+
+    /**
+     * Sets up instance variables required by this test case.
+     */
+    @Override
+    public void setUp() throws Exception {
+        LogFactory.releaseAll();
+    }
+
+    /**
+     * Tear down instance variables required by this test case.
+     */
+    @Override
+    public void tearDown() {
+        LogFactory.releaseAll();
+    }
+
+    public void testLoader() throws Exception {
+
+        final ClassLoader thisClassLoader = this.getClass().getClassLoader();
+        final ClassLoader tccl = Thread.currentThread().getContextClassLoader();
+
+        // the tccl should NOT be the same as the loader that loaded this test class.
+        assertNotSame(&quot;tccl is the same as test class loader&quot;, thisClassLoader, tccl);
+
+        // org.slf4j.Logger should not be loadable via this loader
+        try {
+            thisClassLoader.loadClass(&quot;org.slf4j.Logger&quot;);
+            fail(&quot;Unexpectedly able to load org.slf4j.Logger via test class loader&quot;);
+        } catch (final ClassNotFoundException ex) {
+            // ok, expected
+        }
+
+        // org.slf4j.Logger should be loadable via tccl
+        try {
+            final Class clazz = tccl.loadClass(&quot;org.slf4j.Logger&quot;);
+            assertNotNull(clazz);
+        } catch (final ClassNotFoundException ex) {
+            fail(&quot;Unexpectedly unable to load org.slf4j.Logger via tccl&quot;);
+        }
+
+        // org.apache.commons.logging.Log should not be loadable via tccl
+        try {
+            tccl.loadClass(&quot;org.apache.commons.logging.Log&quot;);
+            fail(&quot;Unexpectedly able to load org.apache.commons.logging.Log via tccl&quot;);
+        } catch (final ClassNotFoundException ex) {
+            // ok, expected
+        }
+
+        // org.apache.commons.logging.Log should be loadable via this loader
+        try {
+            final Class clazz = thisClassLoader.loadClass(&quot;org.apache.commons.logging.Log&quot;);
+            assertNotNull(clazz);
+        } catch (final ClassNotFoundException ex) {
+            fail(&quot;Unexpectedly unable to load org.apache.commons.logging.Log via test class loader&quot;);
+        }
+
+        // getting a Logger from this loader should not throw an exception
+        final Class clazz = thisClassLoader.loadClass(&quot;org.apache.commons.logging.LogFactory&quot;);
+        clazz.getMethod(&quot;getLog&quot;, String.class).invoke(null, &quot;&quot;);
+    }
+}
 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17873526" author="garydgregory" created="Wed, 14 Aug 2024 13:18:30 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vampire&quot; class=&quot;user-hover&quot; rel=&quot;vampire&quot;&gt;vampire&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;Thank you for the patch! We&apos;ll take a look over the next day or so.&lt;/p&gt;</comment>
                            <comment id="17873545" author="pkarwasz" created="Wed, 14 Aug 2024 13:57:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vampire&quot; class=&quot;user-hover&quot; rel=&quot;vampire&quot;&gt;vampire&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;Let&apos;s call the two classloaders &lt;em&gt;custom&lt;/em&gt; and &lt;em&gt;web&lt;/em&gt; for simplicity. What is happening is:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;The &lt;tt&gt;LogFactory&lt;/tt&gt; class from &lt;em&gt;custom&lt;/em&gt; looks for Log4j API.&lt;/li&gt;
	&lt;li&gt;Log4j API is available in &lt;em&gt;web&lt;/em&gt;.&lt;/li&gt;
	&lt;li&gt;The &lt;tt&gt;LogFactory&lt;/tt&gt; tries to instantiate &lt;tt&gt;Log4jApiLogFactory&lt;/tt&gt; from &lt;em&gt;web&lt;/em&gt; and fails (no such class).&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;LogFactory.newFactory&lt;/tt&gt; falls back to instantiating &lt;tt&gt;Log4jApiLogFactory&lt;/tt&gt; from &lt;em&gt;custom&lt;/em&gt; and fails (missing Log4j API).&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;The fallback breaks the selection logic and prevents &lt;tt&gt;LogFactory&lt;/tt&gt; from trying alternative factory implementations.&lt;/p&gt;

&lt;p&gt;Before fixing it, we should probably decide what the selection logic should be: we have 3 &lt;tt&gt;LogFactory&lt;/tt&gt; (Log4j API, SLF4J and Legacy) implementations that we can try loading from 2 different classloaders (TCCL and the one that loaded &lt;tt&gt;LogFactory&lt;/tt&gt;). What should be the correct selection order:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Should try to load all 3 implementation from the TCCL and only if it fails try the other classloader?&lt;/li&gt;
	&lt;li&gt;Should we first try Log4j API from both classloaders, then SLF4J from both classloaders and finally the Legacy implementation?&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;The first option makes more sense, since it allows a single &lt;tt&gt;commons-logging&lt;/tt&gt; copy to drive different logging backends for different web applications (that is assuming each web app bundles &lt;tt&gt;commons-logging-adapters&lt;/tt&gt; instead of the whole library).&lt;/p&gt;</comment>
                            <comment id="17873554" author="garydgregory" created="Wed, 14 Aug 2024 14:16:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pkarwasz&quot; class=&quot;user-hover&quot; rel=&quot;pkarwasz&quot;&gt;pkarwasz&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I like option 1 as well, it feels simpler: &quot;try one class loader at a time&quot;.&lt;/p&gt;</comment>
                            <comment id="17873567" author="vampire" created="Wed, 14 Aug 2024 14:35:04 +0000"  >&lt;blockquote&gt;&lt;p&gt;What is happening is:&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Exactly, as I already wrote above, together with a solution suggestion. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;The question is whether your option 1 makes sense.&lt;br/&gt;
Wouldn&apos;t it then be:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;log4j is detected on web&lt;/li&gt;
	&lt;li&gt;log4j log factory fails to load on web as commons-logging is missing&lt;/li&gt;
	&lt;li&gt;slf4j is detected on web&lt;/li&gt;
	&lt;li&gt;slf4j log factory fails to load on web as commons-logging is missing&lt;/li&gt;
	&lt;li&gt;legacy log factory fails to load on web as commons-logging is missing&lt;/li&gt;
	&lt;li&gt;slf4j is detected on custom&lt;/li&gt;
	&lt;li&gt;slf4j log factory is loaded on custom&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Unless there are situations where the log4j log factory cannot be loaded on web,&lt;br/&gt;
but one of the others can be loaded on web, i.e. it does not fail because commons-logging is missing,&lt;br/&gt;
I&apos;d say it is just wasted time and should be&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;log4j is detected on web&lt;/li&gt;
	&lt;li&gt;log4j log factory fails to load on web as commons-logging is missing&lt;/li&gt;
	&lt;li&gt;slf4j is detected on custom&lt;/li&gt;
	&lt;li&gt;slf4j log factory is loaded on custom&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17873587" author="pkarwasz" created="Wed, 14 Aug 2024 15:13:47 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Unless there are situations where the log4j log factory cannot be loaded on web,&lt;br/&gt;
but one of the others can be loaded on web, i.e. it does not fail because commons-logging is missing,&lt;br/&gt;
I&apos;d say it is just wasted time and should be&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Good point if &lt;tt&gt;LogFactory.class&lt;/tt&gt; in &lt;em&gt;web&lt;/em&gt; is not the same class as &lt;tt&gt;LogFactory.class&lt;/tt&gt; in &lt;em&gt;custom&lt;/em&gt;, there is no point to use the TCCL at all.&lt;br/&gt;
However if the classes are equal, I would check all factories in &lt;em&gt;web&lt;/em&gt; and then in &lt;em&gt;custom&lt;/em&gt;. The legacy factory basically can never fail (it will almost always detect at least JUL), so in your case this procedure will use JUL instead of the SLF4J implementation. I think this should be OK, since there is a system property to disable the use of TCCL.&lt;/p&gt;</comment>
                            <comment id="17873595" author="vampire" created="Wed, 14 Aug 2024 15:27:08 +0000"  >&lt;p&gt;It would not use JUL in my case, because the reason factory loading fails is because commons-logging is not present on web.&lt;br/&gt;
So the legacy will also not work, because it is not present.&lt;/p&gt;



&lt;p&gt;If commons-logging would be present on web it would use log4j, as the loading would have worked.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Actually, thinking about it, maybe the procedure could be simplified to:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;is commons-logging found on web use web, otherwise use custom&lt;/li&gt;
	&lt;li&gt;detect only on the one from step above&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Again, given that the only reason it would fail after successful detection is, that commons-logging is not present on web.&lt;br/&gt;
If factory loading could fail due to some other legit reason where the logic should go on, it might be different.&lt;br/&gt;
But this check for whether commons-logging is present on the tccl would probably also be much easier to add.&lt;/p&gt;</comment>
                            <comment id="17873629" author="vampire" created="Wed, 14 Aug 2024 16:55:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/commons-logging/pull/280&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-logging/pull/280&lt;/a&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17873638" author="vampire" created="Wed, 14 Aug 2024 17:05:31 +0000"  >&lt;p&gt;Of course you can do additional logic changes, but that should at least fix the problem at hand.&lt;/p&gt;</comment>
                            <comment id="17873760" author="garydgregory" created="Thu, 15 Aug 2024 01:09:38 +0000"  >&lt;p&gt;PR &lt;a href=&quot;https://github.com/apache/commons-logging/pull/281&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-logging/pull/281&lt;/a&gt; has been merged.&lt;/p&gt;

&lt;p&gt;TY &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pkarwasz&quot; class=&quot;user-hover&quot; rel=&quot;pkarwasz&quot;&gt;pkarwasz&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vampire&quot; class=&quot;user-hover&quot; rel=&quot;vampire&quot;&gt;vampire&lt;/a&gt;, Please verify your use case with the git master branch or a snapshot build from &lt;a href=&quot;https://repository.apache.org/content/repositories/snapshots/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/repositories/snapshots/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;TY All!&lt;/p&gt;</comment>
                            <comment id="17873944" author="vampire" created="Thu, 15 Aug 2024 13:03:55 +0000"  >&lt;p&gt;Thanks for the quick handling.&lt;br/&gt;
I verified that with &lt;tt&gt;1.3.3&lt;/tt&gt; it fails and just changing to &lt;tt&gt;1.3.4-SNAPSHOT&lt;/tt&gt; made it working.&lt;/p&gt;</comment>
                            <comment id="17873960" author="garydgregory" created="Thu, 15 Aug 2024 13:44:14 +0000"  >&lt;p&gt;OK, great. You can expect a release candidate this week.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13069064" name="commons-logging-classloading-issue.zip" size="351262" author="misterdorito" created="Thu, 23 May 2024 20:04:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12314421" key="com.atlassian.jira.plugin.system.customfieldtypes:labels">
                        <customfieldname>Language</customfieldname>
                        <customfieldvalues>
                                        <label>Java</label>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 9 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1pee0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-191] Apache commons logging shows 1.4 as latest release instead of 1.3.1</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-191</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;As the title says, the [project page|&lt;a href=&quot;https://commons.apache.org/proper/commons-logging/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://commons.apache.org/proper/commons-logging/&lt;/a&gt;] lists a release &quot;1.4.0 Release - March 2024&quot;. There are no release notes and that version is not published to Maven Central Repository.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13068464/13068464_image-2024-04-26-07-40-41-745.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13577296">LOGGING-191</key>
            <summary>Apache commons logging shows 1.4 as latest release instead of 1.3.1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="axh">Axel Howind</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 Apr 2024 05:41:03 +0000</created>
                <updated>Fri, 26 Apr 2024 11:10:04 +0000</updated>
                            <resolved>Fri, 26 Apr 2024 11:10:04 +0000</resolved>
                                                    <fixVersion>1.3.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17841160" author="garydgregory" created="Fri, 26 Apr 2024 11:10:04 +0000"  >&lt;p&gt;Fixed in git master for 1.3.2.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13068464" name="image-2024-04-26-07-40-41-745.png" size="35167" author="axh" created="Fri, 26 Apr 2024 05:40:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 25 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1ovvk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-189] 1.3.0 has wrong/dubious imports in OSGi manifest</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-189</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;Looking through the MANIFEST.MF of the 1.3.0 version, I see the following in Import-Package, which looks wrong:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.slf4j;version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.7.0.30&quot;&lt;/span&gt;;resolution:=optional
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This seems to be coming from &lt;a href=&quot;#L741&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;pom.xmlhttps://github.com/apache/commons-logging/blob/e0255a5845814802586b91c889ab3e9fc4bf9d68/pom.xml#L741&lt;/a&gt;. This line should have the interval definition instead like&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.slf4j;version=&lt;span class=&quot;code-quote&quot;&gt;&quot;[1.7.0, 3.0)&quot;&lt;/span&gt;;resolution:=optional
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13561849">LOGGING-189</key>
            <summary>1.3.0 has wrong/dubious imports in OSGi manifest</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ggregory">Gary D. Gregory</assignee>
                                    <reporter username="wilx">V&#225;clav Haisman</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Thu, 14 Dec 2023 14:56:14 +0000</created>
                <updated>Sun, 17 Mar 2024 15:54:39 +0000</updated>
                            <resolved>Sun, 17 Mar 2024 14:18:01 +0000</resolved>
                                    <version>1.3.0</version>
                                    <fixVersion>1.3.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17796790" author="wilx" created="Thu, 14 Dec 2023 15:02:33 +0000"  >&lt;p&gt;Cross reference: &lt;a href=&quot;https://github.com/apache/commons-logging/pull/188&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-logging/pull/188&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17827785" author="hanneswellmann" created="Sun, 17 Mar 2024 15:05:29 +0000"  >&lt;p&gt;I noticed that the import of the &lt;tt&gt;org.slf4j.spi&lt;/tt&gt; package is missing as well, although it is referenced in &lt;tt&gt;Slf4jLogFactory&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Created PR &lt;a href=&quot;https://github.com/apache/commons-logging/pull/232&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-logging/pull/232&lt;/a&gt; to address that as well.&lt;/p&gt;</comment>
                            <comment id="17827789" author="garydgregory" created="Sun, 17 Mar 2024 15:37:36 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=HannesWellmann&quot; class=&quot;user-hover&quot; rel=&quot;HannesWellmann&quot;&gt;HannesWellmann&lt;/a&gt;!&lt;/p&gt;

&lt;p&gt;Merged.&lt;/p&gt;</comment>
                            <comment id="17827790" author="hanneswellmann" created="Sun, 17 Mar 2024 15:45:23 +0000"  >&lt;p&gt;Thank you!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311020" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>External issue URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[https://github.com/apache/commons-logging/pull/188]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 31 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1m9i0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-188] Deprecate and disable Lumberjack and Log4j 1.x logger</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-188</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;The &lt;a href=&quot;https://javalogging.sourceforge.net/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Lumberjack&lt;/a&gt; and &lt;a href=&quot;https://logging.apache.org/log4j/1.2/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Log4j 1.x&lt;/a&gt; logging backends have reach end-of-life in 2002 and 2015 respectively.&lt;/p&gt;

&lt;p&gt;To provide a &quot;secure by default&quot; configuration the &lt;tt&gt;Jdk13LumberjackLogger&lt;/tt&gt; and &lt;tt&gt;Log4JLogger&lt;/tt&gt; should be:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;deprecated for removal in 2.x,&lt;/li&gt;
	&lt;li&gt;disabled by default.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Users would need to enable these backends explicitly by setting the value of the property &apos;&lt;tt&gt;org.apache.commons.logging.Log&lt;/tt&gt;&apos; to the fully qualified name of the logger (&apos;&lt;tt&gt;org.apache.commons.logging.impl.Jdk13LumberjackLogger&lt;/tt&gt;&apos; or &apos;&lt;tt&gt;org.apache.commons.logging.impl.Log4JLogger&lt;/tt&gt;&apos;) in either Java&apos;s system properties or a &lt;tt&gt;commons-logging.properties&lt;/tt&gt; file on the classpath.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13559353">LOGGING-188</key>
            <summary>Deprecate and disable Lumberjack and Log4j 1.x logger</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="pkarwasz">Piotr Karwasz</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Nov 2023 16:27:22 +0000</created>
                <updated>Sun, 26 Nov 2023 14:45:32 +0000</updated>
                            <resolved>Sun, 26 Nov 2023 14:45:32 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.3.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="13558565">LOGGING-187</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 47 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1lu3s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-186] Use ServiceLoader class</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-186</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;The current service loader code used by &lt;tt&gt;LogFactory&lt;/tt&gt; predates the &lt;tt&gt;ServiceLoader&lt;/tt&gt; class introduced in Java 6 by 4 years and is a simplified version of it.&lt;/p&gt;

&lt;p&gt;This has many disadvantages:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;the service loader file can &lt;b&gt;not&lt;/b&gt; have any comments, like a license header or the name of the tool that generated the service file. Commons Logging just takes the first line in the file and uses it as the class name,&lt;/li&gt;
	&lt;li&gt;the Service Loader Mediator OSGi specification allows to use &lt;tt&gt;ServiceLoader&lt;/tt&gt; in an OSGi environment, but it might ignore direct accesses to &lt;tt&gt;META-INF/services&lt;/tt&gt; resources (cf. &lt;a href=&quot;https://aries.apache.org/documentation/modules/spi-fly.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Apache Aries SPI Fly&lt;/a&gt;),&lt;/li&gt;
	&lt;li&gt;in a JPMS environment, the &lt;tt&gt;META-INF/services&lt;/tt&gt; file could even not be there and the service is declared in the module descriptor.&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="13554562">LOGGING-186</key>
            <summary>Use ServiceLoader class</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="pkarwasz">Piotr Karwasz</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Oct 2023 12:27:43 +0000</created>
                <updated>Wed, 18 Oct 2023 20:51:31 +0000</updated>
                            <resolved>Wed, 18 Oct 2023 20:51:20 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.3.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17776649" author="garydgregory" created="Wed, 18 Oct 2023 13:01:10 +0000"  >&lt;p&gt;PRs welcome: -)&lt;/p&gt;</comment>
                            <comment id="17776904" author="garydgregory" created="Wed, 18 Oct 2023 20:51:31 +0000"  >&lt;p&gt;TY &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pkarwasz&quot; class=&quot;user-hover&quot; rel=&quot;pkarwasz&quot;&gt;pkarwasz&lt;/a&gt; ! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 1 week ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1l0vk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-183] Running Tests under Windows seems not to work properly.</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-183</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;I&apos;ve been trying to fork and contribute to commons logging to make it compatible with the JPMS System. A related Issue is &lt;a href=&quot;https://issues.apache.org/jira/browse/COMMONSSITE-103&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/COMMONSSITE-103&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I&apos;ve hit a couple of roadblocks though, as by default cloning the repository, running mvn and then ant does not work.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;In particular javadoc throws this (seemingly) unrelated error, even though i&apos;ve used both java 8 and Java 11 as the JDK.&lt;/p&gt;

&lt;p&gt;expected heading used: &amp;lt;H2&amp;gt;, compared to implicit preceding heading: &amp;lt;H3&amp;gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Removing it from the default goal helped though. As i did not plan to add any javadocs anyway, i moved on to the next road block:&lt;/p&gt;

&lt;p&gt;Running Tests does not seem to work properly. I&apos;ve attached two attempts to run ant test. using both build.xml and build-test.xml in both configurations. Unfortunately i will not be able to test under Java 2 for the forseeable future.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;In Github this does not seem to be an issue though. Searching through Jira, Google and the logging site did not reveal any helpful information in regards to building.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I also noticed that the getlibs is not working in build-testing.xml a corresponding patch is attached.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;As far as i can see it, i&apos;ve done everything as intended. I appologize if this is something more suited for the Mailing List, but to me it seems likely to be a bug.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows 10 Enterprise&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Tested under&lt;/p&gt;

&lt;p&gt;Java Version 1.8 and 11 (Both Corretto)&lt;/p&gt;</environment>
        <key id="13491266">LOGGING-183</key>
            <summary>Running Tests under Windows seems not to work properly.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="manf">Bj&#246;rn Heinrichs</reporter>
                        <labels>
                    </labels>
                <created>Tue, 25 Oct 2022 10:31:30 +0000</created>
                <updated>Thu, 27 Oct 2022 06:54:56 +0000</updated>
                                            <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17623741" author="garydgregory" created="Tue, 25 Oct 2022 10:37:36 +0000"  >&lt;p&gt;The build is Maven only. The Ant files are just left overs, we&apos;ll have to remove them to avoid confusion.&lt;/p&gt;</comment>
                            <comment id="17623745" author="JIRAUSER297441" created="Tue, 25 Oct 2022 10:45:22 +0000"  >&lt;p&gt;I can prepare a diff / PR then. The reason i looked was, that running install did not work properly, due to failing integration tests.&lt;/p&gt;

&lt;p&gt;They were similar to the ant errors, that&apos;s why i did not investigate maven any further. I&apos;ve attached the logs for maven install.&lt;/p&gt;</comment>
                            <comment id="17623768" author="garydgregory" created="Tue, 25 Oct 2022 11:26:27 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=manf&quot; class=&quot;user-hover&quot; rel=&quot;manf&quot;&gt;manf&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;Thank you for helping.&lt;/p&gt;

&lt;p&gt;It looks like the build is not fully up to date unfortunately.&lt;/p&gt;

&lt;p&gt;I made some small changes to replace Clirr with JApiCmp but there are other issues like &apos;mvn test&apos; not running tests, which is weird.&lt;/p&gt;

&lt;p&gt;Feel free to submit PRs on GitHub, it&apos;s the only way to get your changes automatically tested without dumping that burden on another person.&lt;/p&gt;

&lt;p&gt;If you want to see how GitHub runs our build, see maven.yml in the .github/workflows folder&lt;/p&gt;</comment>
                            <comment id="17624889" author="JIRAUSER297441" created="Thu, 27 Oct 2022 06:54:56 +0000"  >&lt;p&gt;I&apos;d just like to add a small update to my Progress: I&apos;ve added both changes and ran the tests using a private github repository. I&apos;ll be publishing the changes as an PR soon, but i have a feeling the maven build does not truely test anything. Unfortunately both clirr and japicmp seem to have issues running with code compiled in Java 9 (Clirr simple does not understand it). This should not be an issue though, as the module-info.class is only read by a JDK &amp;gt;= 9.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Unfortunately i&apos;ve yet to see a way to disable that, as clirr uses the class name for checks, which requires successful reading of the class file. &lt;/p&gt;

&lt;p&gt;I&apos;ll try to move it to a fork as soon as i manage to get some free time &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13051380" name="fix.patch" size="1791" author="manf" created="Tue, 25 Oct 2022 10:28:16 +0000"/>
                            <attachment id="13051382" name="log-build.txt" size="28280" author="manf" created="Tue, 25 Oct 2022 10:20:11 +0000"/>
                            <attachment id="13051381" name="log-test.txt" size="48743" author="manf" created="Tue, 25 Oct 2022 10:20:11 +0000"/>
                            <attachment id="13051383" name="mvn.txt" size="155422" author="manf" created="Tue, 25 Oct 2022 10:45:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1a7ts:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-180] Upgrade commons logging log4j dependency versions to 2.17.0 and above</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-180</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;Please update the log4j 2 version to the log4j 2.17.0 and above. As the current versions are susceptible to&#160;&lt;a href=&quot;https://github.com/advisories/GHSA-8489-44mv-ggj8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CVE-2021-44832&lt;/a&gt;&#160;Security Vulnerability.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13420797">LOGGING-180</key>
            <summary>Upgrade commons logging log4j dependency versions to 2.17.0 and above</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sthupili">Swyrik Thupili</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Jan 2022 11:43:59 +0000</created>
                <updated>Mon, 25 Mar 2024 13:32:47 +0000</updated>
                            <resolved>Mon, 25 Mar 2024 13:32:47 +0000</resolved>
                                    <version>1.1.1</version>
                    <version>1.2</version>
                                    <fixVersion>1.3.1</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="17469367" author="garydgregory" created="Wed, 5 Jan 2022 14:47:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sthupili&quot; class=&quot;user-hover&quot; rel=&quot;sthupili&quot;&gt;sthupili&lt;/a&gt;&lt;br/&gt;
Incorrect, read the page you linked. Where do you see Commons Logging using Log4j 2?&lt;/p&gt;</comment>
                            <comment id="17482916" author="JIRAUSER283094" created="Thu, 27 Jan 2022 07:14:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ggregory&quot; class=&quot;user-hover&quot; rel=&quot;ggregory&quot;&gt;ggregory&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;I could see it in the pom file.&lt;/p&gt;

&lt;p&gt;log4j 1.2.17 is being used.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;dependency&amp;gt;
&#160; &#160; &amp;lt;groupId&amp;gt;log4j&amp;lt;/groupId&amp;gt;
&#160; &#160; &amp;lt;artifactId&amp;gt;log4j&amp;lt;/artifactId&amp;gt;
&#160; &#160; &amp;lt;version&amp;gt;1.2.17&amp;lt;/version&amp;gt;
&#160; &#160; &amp;lt;optional&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;lt;/optional&amp;gt;
&amp;lt;/dependency&amp;gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://repo1.maven.org/maven2/commons-logging/commons-logging/1.2/commons-logging-1.2.pom&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repo1.maven.org/maven2/commons-logging/commons-logging/1.2/commons-logging-1.2.pom&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17482957" author="b.eckenfels" created="Thu, 27 Jan 2022 08:18:09 +0000"  >&lt;p&gt;I wonder if we could use reload4j &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17491007" author="JIRAUSER285091" created="Fri, 11 Feb 2022 16:07:45 +0000"  >&lt;p&gt;Also having problems with this, upgrade would be good.&lt;/p&gt;

&lt;p&gt;Maven dependency plugin also has this as a transitive dependency, causing false positives by scanners on some of our servers.&lt;/p&gt;</comment>
                            <comment id="17502794" author="JIRAUSER286288" created="Tue, 8 Mar 2022 08:18:12 +0000"  >&lt;p&gt;AWS SDK is using this as their transitive dependency and it is causing security errors .Upgrade to latest version of&#160; log4j would be really helpful .&#160;&lt;/p&gt;</comment>
                            <comment id="17502913" author="erans" created="Tue, 8 Mar 2022 12:38:35 +0000"  >&lt;p&gt;The &lt;a href=&quot;https://github.com/advisories/GHSA-8489-44mv-ggj8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CVE page&lt;/a&gt; linked to, in the description, refers to&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; org.apache.logging.log4j:log4j-core
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;while the version being referred to, in the second comment, refers to&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    &amp;lt;groupId&amp;gt;log4j&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;log4j&amp;lt;/artifactId&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This (optional) dependency is not subject to the mentioned vulnerability (cf. versions ranges in the CVE page).&lt;/p&gt;

&lt;p&gt;Please close this issue, or provide more details about what &quot;is causing security errors&quot;.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;causing false positives by scanners&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Isn&apos;t the bug there?&lt;/p&gt;</comment>
                            <comment id="17507686" author="JIRAUSER286692" created="Wed, 16 Mar 2022 15:39:40 +0000"  >&lt;p&gt;According to the MVN Repository site, the log4j 1.2.17 dependency is being flagged with 4 CVE vulnerabilities: &lt;a href=&quot;https://mvnrepository.com/artifact/log4j/log4j/1.2.17&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://mvnrepository.com/artifact/log4j/log4j/1.2.17&lt;/a&gt;. The main issue here is that any log4j version under 2.17.0 is considered vulnerable by many organizations and governments.&lt;/p&gt;

&lt;p&gt;For my team, the computer security arm of our IT department is cracking down hard on any vulnerable log4j dependencies. Right now our servers are periodically being scanned for any traces of POM or JAR files from these vulnerable log4j dependencies. Any servers found with these files are subject to be shutdown or pulled from the network. It would be very helpful to implement support for log4j 2.17.0 and above, or any other non-vulnerable logging library.&lt;/p&gt;</comment>
                            <comment id="17507695" author="b.eckenfels" created="Wed, 16 Mar 2022 16:02:43 +0000"  >&lt;p&gt;Some humans and tools wrongly flag 1.2 as affected by the 2.x CVEs, but that&#8217;s not the actual problem. The actual problem is that 1.2.17 has many known/unresolved CVEs on its own (remotely related to log4shell). That could be fixed with reload4j 1.2.18 or by migrating to log4j 2 (which is funny enough strange to migrate to a branch which caused the biggest security incident in history in order to claim its more secure &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I think it is important to keep known CVEs out of toolchains, even when it is only a build dependency. But it&#8217;s not a high prio, especially if it is 10 dependencies deep&#8230;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13421210">LOGGING-181</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 32 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0y9ko:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-172] Disparity in exception handling of logger factory creation, causing failure in some cases.</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-172</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;The following is the way the log factory instance is created in org.apache.commons.logging.LogFactory.getFactory implementation:&lt;/p&gt;

&lt;p&gt;1.0 Check if the log factory for the current context class loader is available in the cache.&lt;br/&gt;
&#160; &#160; 1.1 If found, return it.&lt;br/&gt;
&#160; &#160; 1.2 If not found, continue to step 2.0&lt;br/&gt;
2.0 See if there is a factory provider registered via system property &quot;org.apache.commons.logging.LogFactory&quot;, and try to load that class.&lt;br/&gt;
&#160; &#160; 2.1 If no such system property found, go to step 3.0&lt;br/&gt;
&#160; &#160; 2.2 If successfully loaded return an instance of the class, after adding it to cache.&lt;br/&gt;
&#160; &#160; 2.3 If there is a security exception while doing this, continue to step 3.0.&lt;br/&gt;
&#160; &#160; 2.4 If there is ANY OTHER exception, RETHROW it.&lt;br/&gt;
3.0 See if there is a resource under the context class loader path &quot;META-INF/services/org.apache.commons.logging.LogFactory&quot;, and try to load the class.&lt;br/&gt;
&#160; &#160; 3.1 If no such file found, go to step 4.0&lt;br/&gt;
&#160; &#160; 3.2 If successfully loaded return an instance of the class, after adding it to cache.&lt;br/&gt;
&#160; &#160; 3.3 If there is ANY exception, got to step 4.0.&lt;br/&gt;
4.0 Load the provider class(read during steps 2.0 or 3.0, or the default provider if none read) with the current context class loader, cache it and return it.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Since the exception handling in 2.0 is different from exception handling in 3.0, a class cast exception in 3.3 will cause 4.0 to be executed, returning a logger factory successfully, while the same exception in 2.4 causes an exception to be thrown back, and no logger factory being created.&lt;/p&gt;

&lt;p&gt;The ideal scenario should be that, the exception handling should be identical in both cases,&#160; the fall back mechanism(4.0) should be executed in both cases to return a logger factory instance successfully.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13344985">LOGGING-172</key>
            <summary>Disparity in exception handling of logger factory creation, causing failure in some cases.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="renjithalexander">RENJITH ALEXANDER</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Dec 2020 05:12:24 +0000</created>
                <updated>Wed, 9 Dec 2020 12:33:57 +0000</updated>
                                            <version>1.2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 46 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0lc4g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-169] Required filename-based automodules detected. Please don&apos;t publish this project to a public artifact repository!</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-169</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;&quot;Required filename-based automodules detected. Please don&apos;t publish this project to a public artifact repository!&#160; &quot; I got this error for jlink while I am adding MongoDB version 3.12.1&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&amp;lt;plugin&amp;gt;&lt;br/&gt;
 &amp;lt;groupId&amp;gt;org.mongodb&amp;lt;/groupId&amp;gt;&lt;br/&gt;
 &amp;lt;artifactId&amp;gt;mongo-java-driver&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
 &amp;lt;version&amp;gt;3.12.1&amp;lt;/version&amp;gt;&lt;br/&gt;
 &amp;lt;configuration&amp;gt;&lt;br/&gt;
 &amp;lt;archive&amp;gt;&lt;br/&gt;
 &amp;lt;manifestEntries&amp;gt;&lt;br/&gt;
 &amp;lt;Automatic-Module-Name&amp;gt;org.mongodb.mongo-java-driver&amp;lt;/Automatic-Module-Name&amp;gt;&lt;br/&gt;
 &amp;lt;/manifestEntries&amp;gt;&lt;br/&gt;
 &amp;lt;/archive&amp;gt;&lt;br/&gt;
 &amp;lt;/configuration&amp;gt;&lt;br/&gt;
&amp;lt;/plugin&amp;gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I am trying this(MongoDB for a project) in my project but it&apos;s not working properly&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13287081">LOGGING-169</key>
            <summary>Required filename-based automodules detected. Please don&apos;t publish this project to a public artifact repository!</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="Candyverse">Karan</reporter>
                        <labels>
                    </labels>
                <created>Sun, 23 Feb 2020 16:54:25 +0000</created>
                <updated>Tue, 30 Mar 2021 11:25:39 +0000</updated>
                            <resolved>Tue, 30 Mar 2021 11:25:39 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17311438" author="dennisl" created="Tue, 30 Mar 2021 11:25:39 +0000"  >&lt;p&gt;I cannot see how this is related to commons-logging. If it is, please reopen the issue with a description of how it relates to commons-logging.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 30 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0bsug:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-167] [Java-9][JPMS] automatic module cannot be used with jlink: commons.logging</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-167</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;I&apos;m building a modular project and one of my modules uses apache http client, so, subsequently, my code depends on commons-logging and when I&apos;m building the jlink-ed JRE, I&apos;m seeing this:&lt;br/&gt;
```&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Error: automatic module cannot be used with jlink: commons.logging from &lt;a href=&quot;file:////home/root/.m2/repository/commons-logging/commons-logging/1.2/commons-logging-1.2.jar&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:////home/root/.m2/repository/commons-logging/commons-logging/1.2/commons-logging-1.2.jar&lt;/a&gt;&lt;br/&gt;
```&lt;/p&gt;

&lt;p&gt;meaning, that commons-logging and few other modules (bits of http package) are not java modules.&lt;/p&gt;</description>
                <environment>&lt;p&gt;MacOS&lt;/p&gt;

&lt;p&gt;Oracle Linux&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</environment>
        <key id="13249703">LOGGING-167</key>
            <summary>[Java-9][JPMS] automatic module cannot be used with jlink: commons.logging</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="denismakogon">Denis Makogon</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 Aug 2019 16:27:14 +0000</created>
                <updated>Mon, 25 Mar 2024 13:33:53 +0000</updated>
                            <resolved>Mon, 25 Mar 2024 13:33:53 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.3.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16903120" author="garydgregory" created="Thu, 8 Aug 2019 16:32:55 +0000"  >&lt;p&gt;PRs are welcome on GitHub &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16903840" author="michael-o" created="Fri, 9 Aug 2019 11:58:29 +0000"  >&lt;p&gt;Use the SLF4J replacement, it has the proper module name: org.apache.commons.logging&lt;/p&gt;</comment>
                            <comment id="17785899" author="singingbush" created="Tue, 14 Nov 2023 13:44:57 +0000"  >&lt;p&gt;Can this issue be marked as done now that &lt;tt&gt;&amp;lt;commons.module.name&amp;gt;org.apache.commons.logging&amp;lt;/commons.module.name&amp;gt;&lt;/tt&gt; is defined in the pom:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/commons-logging/blob/c5b3edd5066f42535e336e630526fa6609381c05/pom.xml#L722C5-L722C74&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-logging/blob/c5b3edd5066f42535e336e630526fa6609381c05/pom.xml#L722C5-L722C74&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Just needs 1.3 to be released&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 49 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z05h3s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-164] RandomStringUtils&apos; random method infinite loop</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-164</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;The following code goes into an infinite loop.&lt;/p&gt;

&lt;p&gt;RandomStringUtils.random(1, 0, 0, false, true, new char[] &lt;/p&gt;
{ &apos;a&apos; }
&lt;p&gt;)&lt;/p&gt;

&lt;p&gt;I know it doesn&apos;t make sense to pass letters=false and then an array, but a bug in the caller will fall into this trap.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13020015">LOGGING-164</key>
            <summary>RandomStringUtils&apos; random method infinite loop</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="anedumar">Arul Nedumaran</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Nov 2016 03:42:29 +0000</created>
                <updated>Fri, 11 Nov 2016 03:43:42 +0000</updated>
                            <resolved>Fri, 11 Nov 2016 03:43:41 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15656023" author="anedumar" created="Fri, 11 Nov 2016 03:43:42 +0000"  >&lt;p&gt;Sorry raised in the wrong component.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 50 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i367g7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-163] BufferedReader is not closed properly</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-163</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;In LogFactory class at line 552 there is BufferedReader that is not closed properly. For example if rd.readLine(); throw an exception then the Reader will remain open.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; BufferedReader rd;
&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
    rd = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; BufferedReader(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; InputStreamReader(is, &lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;));
 } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (java.io.UnsupportedEncodingException e) {
     rd = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; BufferedReader(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; InputStreamReader(is));
}

&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; factoryClassName = rd.readLine();
rd.close();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In SimpleLog class at line 163 there is InputStream that is not closed properly. &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        InputStream in = getResourceAsStream(&lt;span class=&quot;code-quote&quot;&gt;&quot;simplelog.properties&quot;&lt;/span&gt;);
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; != in) {
            &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
                simpleLogProps.load(in);
                in.close();
            } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt;(java.io.IOException e) {
                &lt;span class=&quot;code-comment&quot;&gt;// ignored
&lt;/span&gt;            }
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13012880">LOGGING-163</key>
            <summary>BufferedReader is not closed properly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ggregory">Gary D. Gregory</assignee>
                                    <reporter username="kal0ian">Kaloyan Spiridonov</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Oct 2016 14:30:34 +0000</created>
                <updated>Fri, 26 Jan 2024 01:57:04 +0000</updated>
                            <resolved>Mon, 17 Oct 2016 17:28:53 +0000</resolved>
                                    <version>1.1.1</version>
                    <version>1.2</version>
                                    <fixVersion>1.3.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15582848" author="garydgregory" created="Mon, 17 Oct 2016 17:28:54 +0000"  >&lt;p&gt;Thank you for the report.&lt;/p&gt;

&lt;p&gt;Fix in SVN trunk.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;commit -m &quot;[LOGGING-163] BufferedReader is not closed properly.&quot; -N E:/vcs/svn/apache/commons/trunks-proper/logging/src/main/java/org/apache/commons/logging/LogFactory.java E:/vcs/svn/apache/commons/trunks-proper/logging/src/main/java/org/apache/commons/logging/impl/SimpleLog.java E:/vcs/svn/apache/commons/trunks-proper/logging/src/changes/changes.xml
    notify.commit.modified
    notify.commit.modified
    notify.commit.modified
    notify.commit.transmit
    Unknown action received: commit finalizing
    Committed revision 1765341.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can test from SVN trunk or a SNAPSHOT build from &lt;a href=&quot;https://repository.apache.org/content/repositories/snapshots/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/repositories/snapshots/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Note that Log4j 2 is what some of us consider a much better logging API and superseding Commons Logging.&lt;/p&gt;</comment>
                            <comment id="17810933" author="elharo" created="Thu, 25 Jan 2024 15:19:43 +0000"  >&lt;p&gt;Not sure why fix version is 1.3.1. Given the dates, I&apos;d expect 1.3.0&lt;/p&gt;</comment>
                            <comment id="17811083" author="garydgregory" created="Fri, 26 Jan 2024 01:57:04 +0000"  >&lt;p&gt;I changed the version 1.3.0.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 38 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i34zgn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-162] org.apache.commons.discovery.DiscoveryException</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-162</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;org.apache.commons.discovery.DiscoveryException: Class org.apache.commons.logging.impl.SLF4JLogFactory does not implement org.apache.commons.logging.LogFactory&lt;/p&gt;</description>
                <environment>&lt;p&gt;Tomcat 7&lt;/p&gt;</environment>
        <key id="12904100">LOGGING-162</key>
            <summary>org.apache.commons.discovery.DiscoveryException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="vijendra07kulhade">Vijendra Kulhade</reporter>
                        <labels>
                            <label>newbie</label>
                    </labels>
                <created>Mon, 12 Oct 2015 07:12:29 +0000</created>
                <updated>Mon, 26 Feb 2018 18:52:59 +0000</updated>
                            <resolved>Mon, 26 Feb 2018 18:52:59 +0000</resolved>
                                    <version>1.0.4</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14952729" author="vijendra07kulhade" created="Mon, 12 Oct 2015 07:15:35 +0000"  >&lt;p&gt;I am using slf4j in my application. During Axis client call I am getting above exception.&lt;br/&gt;
&amp;lt;dependency&amp;gt;&lt;br/&gt;
			&amp;lt;groupId&amp;gt;org.slf4j&amp;lt;/groupId&amp;gt;&lt;br/&gt;
			&amp;lt;artifactId&amp;gt;slf4j-log4j12&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
            &amp;lt;version&amp;gt;1.7.12&amp;lt;/version&amp;gt;&lt;br/&gt;
		&amp;lt;/dependency&amp;gt;&lt;br/&gt;
		&amp;lt;dependency&amp;gt;&lt;br/&gt;
			&amp;lt;groupId&amp;gt;org.slf4j&amp;lt;/groupId&amp;gt;&lt;br/&gt;
			&amp;lt;artifactId&amp;gt;slf4j-api&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
            &amp;lt;version&amp;gt;1.7.12&amp;lt;/version&amp;gt;&lt;br/&gt;
		&amp;lt;/dependency&amp;gt;&lt;br/&gt;
        &amp;lt;dependency&amp;gt;&lt;br/&gt;
            &amp;lt;groupId&amp;gt;org.slf4j&amp;lt;/groupId&amp;gt;&lt;br/&gt;
            &amp;lt;artifactId&amp;gt;log4j-over-slf4j&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
            &amp;lt;version&amp;gt;1.7.12&amp;lt;/version&amp;gt;&lt;br/&gt;
        &amp;lt;/dependency&amp;gt;&lt;/p&gt;</comment>
                            <comment id="14952743" author="vijendra07kulhade" created="Mon, 12 Oct 2015 07:26:49 +0000"  >&lt;p&gt;I tried adding &lt;/p&gt;

&lt;p&gt;&amp;lt;dependency&amp;gt;&lt;br/&gt;
            &amp;lt;groupId&amp;gt;org.slf4j&amp;lt;/groupId&amp;gt;&lt;br/&gt;
            &amp;lt;artifactId&amp;gt;jcl-over-slf4j&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
            &amp;lt;version&amp;gt;1.5.11&amp;lt;/version&amp;gt;&lt;br/&gt;
        &amp;lt;/dependency&amp;gt;&lt;br/&gt;
 After adding this I am getting below Exception from Spring.&lt;/p&gt;

&lt;p&gt;org.springframework.web.context.ContextLoaderListener&lt;br/&gt;
java.lang.NoSuchMethodError: org.slf4j.spi.LocationAwareLogger.log(Lorg/slf4j/Marker;Ljava/lang/String;ILjava/lang/String;Ljava/lang/Throwable;)V&lt;/p&gt;


&lt;p&gt;Please Help.&lt;/p&gt;</comment>
                            <comment id="14952827" author="joehni" created="Mon, 12 Oct 2015 09:00:14 +0000"  >&lt;p&gt;The error messaqe is a result of the initialization of Apache Commons Logging. However, the message clearly states, that it cannot find an implementation. Slf4j is an independent project and does not belong to Apache. You have to consult slf4j&apos;s documentation, how to substitute properly Apache Commons Logging.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 3 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2mvh3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-161] commons-logging-adapters on Central lacks a pom.xml</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-161</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;&lt;tt&gt;commons-logging-adapters&lt;/tt&gt; version &lt;tt&gt;1.1&lt;/tt&gt;, as published on Maven Central, is currently missing a &lt;tt&gt;pom.xml&lt;/tt&gt;.&lt;br/&gt;
See &lt;a href=&quot;https://repo1.maven.org/maven2/commons-logging/commons-logging-adapters/1.1/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repo1.maven.org/maven2/commons-logging/commons-logging-adapters/1.1/&lt;/a&gt; and &lt;a href=&quot;http://search.maven.org/#artifactdetails%7Ccommons-logging%7Ccommons-logging-adapters%7C1.1%7CN%2FA&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://search.maven.org/#artifactdetails%7Ccommons-logging%7Ccommons-logging-adapters%7C1.1%7CN%2FA&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Per the &quot;Sufficient Metadata&quot; section of &lt;a href=&quot;http://central.sonatype.org/pages/requirements.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://central.sonatype.org/pages/requirements.html&lt;/a&gt; , the artifact is required to have a &lt;tt&gt;pom.xml&lt;/tt&gt;. Also, the lack of a &lt;tt&gt;pom.xml&lt;/tt&gt; seems to cause problems for some build tools (Ivy/sbt in my case).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12780876">LOGGING-161</key>
            <summary>commons-logging-adapters on Central lacks a pom.xml</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cvrebert">Chris Rebert</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Mar 2015 14:50:52 +0000</created>
                <updated>Tue, 10 Mar 2015 20:40:41 +0000</updated>
                            <resolved>Tue, 10 Mar 2015 20:40:41 +0000</resolved>
                                    <version>1.1.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14355032" author="joehni" created="Tue, 10 Mar 2015 15:12:25 +0000"  >&lt;p&gt;That GAV is bogus anyway. Use a newer release, the artifact is now available as attached artifact with the standard GAV and the classifier &quot;adapters&quot;.&lt;/p&gt;</comment>
                            <comment id="14355187" author="cvrebert" created="Tue, 10 Mar 2015 16:51:15 +0000"  >&lt;p&gt;Thanks for the info. It&apos;s unfortunately a dependency of a dependency for me, but I&apos;ve forwarded your advice and filed a bug in the dependency: &lt;a href=&quot;https://github.com/validator/validator/issues/57&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/validator/validator/issues/57&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14355660" author="tn" created="Tue, 10 Mar 2015 20:40:41 +0000"  >&lt;p&gt;Can&apos;t be fixed as outlined by Joerg. The problem is anyway solved as the project in question updated its logging dependency.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 34 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26l0v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-159] ExternalFonts uses classloader of class in font-box</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-159</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;ExternalFonts loads some default fonts via the org.apache.fontbox.util.ResourceLoader. That resourceloader uses it&apos;s own classloader (ResourceLoader.class.getClassLoader()) for loading the given resource.&lt;br/&gt;
The problem is that the resource is in the PDFBox project and the ResourceLoader in the FontBox. In an OSGI environment this is a problem.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12742063">LOGGING-159</key>
            <summary>ExternalFonts uses classloader of class in font-box</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="c.hoeflake">Cornelis Hoeflake</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Sep 2014 07:42:01 +0000</created>
                <updated>Wed, 17 Sep 2014 08:15:21 +0000</updated>
                            <resolved>Wed, 17 Sep 2014 08:15:21 +0000</resolved>
                                    <version>2.0.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14136933" author="c.hoeflake" created="Wed, 17 Sep 2014 08:15:21 +0000"  >&lt;p&gt;Sorry, wrong project.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 7 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i20587:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-157] Fix javadoc 1.8 errors and some warnings</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-157</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description></description>
                <environment></environment>
        <key id="12692651">LOGGING-157</key>
            <summary>Fix javadoc 1.8 errors and some warnings</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="scop">Ville Skytt&#228;</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Sat, 1 Feb 2014 10:17:00 +0000</created>
                <updated>Wed, 9 Jul 2014 20:14:32 +0000</updated>
                            <resolved>Thu, 26 Jun 2014 20:13:18 +0000</resolved>
                                                    <fixVersion>1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14045100" author="tn" created="Thu, 26 Jun 2014 20:13:18 +0000"  >&lt;p&gt;Applied patch with some minor additions in r1605899.&lt;/p&gt;

&lt;p&gt;Thanks for the patch and report!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12626466" name="0001-Fix-Javadoc-1.8-errors-and-some-warnings.patch" size="3608" author="scop" created="Sat, 1 Feb 2014 10:17:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371246</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 18 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1rzd3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371549</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-156] SecurityAllowedTestCase is failing</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-156</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;&lt;tt&gt;SecurityAllowedTestCase&lt;/tt&gt; fails randomly, which could indicate either a bug in the test case or in the implementation.&lt;/p&gt;

&lt;p&gt;On some random condition the call to &lt;tt&gt;log.info(&quot;testing&quot;);&lt;/tt&gt; in the test case results in  security exceptions, which are recorded by &lt;tt&gt;MockSecurityManager&lt;/tt&gt; causing the test case to fail.  Adding a call to &lt;tt&gt;Thread.sleep&lt;/tt&gt; just before or just after the call to &lt;tt&gt;log.info&lt;/tt&gt; helps with reproducing the problem.&lt;/p&gt;

&lt;p&gt;The path leading to SecurityException being thrown is:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.SecurityException: Untrusted code [testcase] found
	at org.apache.commons.logging.security.MockSecurityManager.checkPermission(MockSecurityManager.java:126)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;SecurityManager&lt;/span&gt;.checkPackageAccess(&lt;span class=&quot;code-object&quot;&gt;SecurityManager&lt;/span&gt;.java:1529)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:305)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:358)
	at java.util.ResourceBundle$RBClassLoader.loadClass(ResourceBundle.java:450)
	at java.util.ResourceBundle$Control.newBundle(ResourceBundle.java:2566)
	at java.util.ResourceBundle.loadBundle(ResourceBundle.java:1436)
	at java.util.ResourceBundle.findBundle(ResourceBundle.java:1400)
	at java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1296)
	at java.util.ResourceBundle.getBundle(ResourceBundle.java:721)
	at java.util.logging.Level.getLocalizedLevelName(Level.java:259)
	at java.util.logging.SimpleFormatter.format(SimpleFormatter.java:161)
	at java.util.logging.StreamHandler.publish(StreamHandler.java:196)
	at java.util.logging.ConsoleHandler.publish(ConsoleHandler.java:105)
	at java.util.logging.Logger.log(Logger.java:610)
	at java.util.logging.Logger.doLog(Logger.java:631)
	at java.util.logging.Logger.logp(Logger.java:747)
	at org.apache.commons.logging.impl.Jdk14Logger.log(Jdk14Logger.java:87)
	at org.apache.commons.logging.impl.Jdk14Logger.info(Jdk14Logger.java:176)
	at org.apache.commons.logging.security.SecurityAllowedTestCase.testAllAllowed(SecurityAllowedTestCase.java:115)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;Maven 3.1.1, OpenJDK 1.7 (IcedTea 2.4.4), Linux&lt;/p&gt;</environment>
        <key id="12690778">LOGGING-156</key>
            <summary>SecurityAllowedTestCase is failing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mizdebsk">Mikolaj Izdebski</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Jan 2014 14:54:33 +0000</created>
                <updated>Wed, 9 Jul 2014 20:14:34 +0000</updated>
                            <resolved>Fri, 27 Jun 2014 09:38:33 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14045760" author="tn" created="Fri, 27 Jun 2014 09:38:33 +0000"  >&lt;p&gt;Fixed in r1606000.&lt;/p&gt;

&lt;p&gt;The reason for the test error was because OpenJDK loads some ResourceBundles without calling AccessController#doPrivileged().&lt;/p&gt;

&lt;p&gt;Our test setup assumed that this was an unprivileged access and thus reported the error, but this is wrong imho.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369516</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 18 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1rot3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369821</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-155] Please delete old releases from mirroring system</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-155</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;To reduce the load on the ASF mirrors, projects are required to delete old releases &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Please can you remove all non-current releases?&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Note that older releases are always available from the ASF archive server&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://www.apache.org/dev/release.html#when-to-archive&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/dev/release.html#when-to-archive&lt;/a&gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;&lt;a href=&quot;http://www.apache.org/dist/logging/log4j/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/dist/logging/log4j/&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://www.apache.org/dist/logging/log4net/binaries/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/dist/logging/log4net/binaries/&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://www.apache.org/dist/logging/log4php/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/dist/logging/log4php/&lt;/a&gt;&lt;/p&gt;</environment>
        <key id="12681348">LOGGING-155</key>
            <summary>Please delete old releases from mirroring system</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Nov 2013 19:38:41 +0000</created>
                <updated>Tue, 26 Nov 2013 20:00:38 +0000</updated>
                            <resolved>Tue, 26 Nov 2013 20:00:31 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13832945" author="tn" created="Tue, 26 Nov 2013 19:45:44 +0000"  >&lt;p&gt;wrong project &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;There seems to be no Apache Logging TLP on jira, otherwise I would have moved it already.&lt;br/&gt;
Maybe move it to Log4J2?&lt;/p&gt;</comment>
                            <comment id="13832963" author="sebb@apache.org" created="Tue, 26 Nov 2013 20:00:31 +0000"  >&lt;p&gt;Oops!&lt;br/&gt;
See:  &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-456&quot; title=&quot;Please delete old releases from mirroring system&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-456&quot;&gt;&lt;del&gt;LOG4J2-456&lt;/del&gt;&lt;/a&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4NET-410&quot; title=&quot;Please delete old releases from mirroring system&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4NET-410&quot;&gt;&lt;del&gt;LOG4NET-410&lt;/del&gt;&lt;/a&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4PHP-212&quot; title=&quot;Please delete old releases from mirroring system&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4PHP-212&quot;&gt;&lt;del&gt;LOG4PHP-212&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360613</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 49 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q5wv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360912</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-154] New attributes to be added in common logger manifest</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-154</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;Hi ,&lt;/p&gt;

&lt;p&gt;We are using Commons logging  jar by apache.&lt;br/&gt;
But, due to new java 7 releases by oracle our applet starts throwing the new prompts they introduced for mixed code in their java 7 update 21 release&amp;lt;&lt;a href=&quot;http://www.oracle.com/technetwork/java/javase/7u21-relnotes-1932873.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.oracle.com/technetwork/java/javase/7u21-relnotes-1932873.html&lt;/a&gt;&amp;gt;.&lt;br/&gt;
Now to remove these prompts I have to add the Trusted-Library: true attribute into the Manifest.mf of all the jars we are using.&lt;br/&gt;
We also want to add the attribute Permissions: all-permissions to the manifest of the commons logging jar as per java 7 update 25&amp;lt;&lt;a href=&quot;http://www.oracle.com/technetwork/java/javase/7u25-relnotes-1955741.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.oracle.com/technetwork/java/javase/7u25-relnotes-1955741.html&lt;/a&gt;&amp;gt;.&lt;br/&gt;
Can you please provide a jar containing the two attributes in their Manifest.mf.&lt;/p&gt;

&lt;p&gt;Regards&lt;br/&gt;
Himanshu Gusain&lt;/p&gt;</description>
                <environment></environment>
        <key id="12663605">LOGGING-154</key>
            <summary>New attributes to be added in common logger manifest</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="hgusain">Himanshu Gusain</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Aug 2013 10:15:41 +0000</created>
                <updated>Wed, 9 Jul 2014 20:14:32 +0000</updated>
                            <resolved>Wed, 14 Aug 2013 13:05:10 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13739636" author="sebb@apache.org" created="Wed, 14 Aug 2013 13:05:10 +0000"  >&lt;p&gt;As per the reply to the similar request for HttpClient &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&apos;Trusted-Library&apos; attribute is Applet runtime specific attribute. We do not distribute signed version of the HttpClient jars and therefore are not in a position to declare the library trusted. This is a responsibility of those who package and sign HttpClient jars as a part of an Applet distribution.&lt;/p&gt;

&lt;p&gt;Same goes for RIA environments and the &apos;Permissions&apos; attribute. Without specifying a &apos;Codebase&apos; we are not in a position to set permission level to &apos;all-permissions&apos;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCLIENT-1386&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HTTPCLIENT-1386&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>343606</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 12 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1n98n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>343910</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-151] Invalid OSGi bundle id</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-151</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;Version 1.1.2 got a Manifest.mf that supports OSGi. Unfortunately, the bundle id specified there is incorrect. According to &lt;a href=&quot;http://wiki.osgi.org/wiki/Bundle-SymbolicName&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://wiki.osgi.org/wiki/Bundle-SymbolicName&lt;/a&gt; &quot;A BSN often takes the form of a reverse domain name. &quot; So the proper and expected name would be org.apache.commons.logging .&lt;/p&gt;</description>
                <environment></environment>
        <key id="12641526">LOGGING-151</key>
            <summary>Invalid OSGi bundle id</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kdaniel">Krzysztof Daniel</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Apr 2013 06:31:51 +0000</created>
                <updated>Mon, 20 May 2013 17:22:34 +0000</updated>
                            <resolved>Mon, 15 Apr 2013 18:48:00 +0000</resolved>
                                    <version>1.1.2</version>
                                    <fixVersion>1.1.3</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13626356" author="tn" created="Tue, 9 Apr 2013 07:37:48 +0000"  >&lt;p&gt;The same page also states:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;If automatically generated via Maven Bundle Plugin, takes the form ${pom.groupId}.${pom.artifactId}, or ${pom.artifactId} if it already starts with ${pom.groupId}. 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and this is what has been used as the groupId/artifactId is still commons-logging.&lt;/p&gt;</comment>
                            <comment id="13626377" author="kdaniel" created="Tue, 9 Apr 2013 08:19:16 +0000"  >&lt;p&gt;Yes, I&apos;m aware of that. I&apos;d question the existing groupId/artifactId, too, if only had not it been used for such a long time in its current form.&lt;br/&gt;
The same wiki page provides an example which is in the form of a reverse domain name notation. Also, commons-logging is a widely distributed as an OSGI bundle in Eclipse, which wraps it as org.apache.commons.logging (according to &lt;a href=&quot;http://wiki.eclipse.org/index.php/Naming_Conventions&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://wiki.eclipse.org/index.php/Naming_Conventions&lt;/a&gt;). &lt;/p&gt;

&lt;p&gt;Maven conventions (&lt;a href=&quot;https://maven.apache.org/guides/mini/guide-naming-conventions.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://maven.apache.org/guides/mini/guide-naming-conventions.html&lt;/a&gt;) suggest groupId on a project level (org.apache.commons is listed as an example), so a natural consequence would be naming a jar logging.jar and getting ${pom.groupId}.${pom.artifactId} resolved to org.apache.commons.logging.&lt;/p&gt;

&lt;p&gt;This is of course a very drastic change to the whole community, and I don&apos;t want to insist on it (although it would be nice).&lt;/p&gt;

&lt;p&gt;I&apos;m, however, using this package in Fedora, and it has been osgified there, and in Eclipse, for a long time, with org.apache.commons.logging id. Current name (commons-logging) is a breaker for me, and I&apos;ll have to patch it otherwise.&lt;/p&gt;</comment>
                            <comment id="13626389" author="ebourg" created="Tue, 9 Apr 2013 08:28:03 +0000"  >&lt;p&gt;For the record, Commons Collection which is still in the old commons-collections groupId has been OSGified with:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Bundle-SymbolicName: org.apache.commons.collections&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Same thing with Commons Lang.&lt;/p&gt;</comment>
                            <comment id="13626390" author="tn" created="Tue, 9 Apr 2013 08:28:30 +0000"  >&lt;p&gt;The next release will update the groupId to org.apache.commons and we will also update the symbolic name accordingly.&lt;/p&gt;

&lt;p&gt;Edit: prior to the 1.1.2 release the symbolic name was already changed to org.apache.commons.logging, but was reverted to commons-logging based on a patch from an Apache Felix committer (see &lt;a href=&quot;https://issues.apache.org/jira/browse/LOGGING-124&quot; title=&quot;Commons logging does not work in an osgi environment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOGGING-124&quot;&gt;&lt;del&gt;LOGGING-124&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="13626393" author="ebourg" created="Tue, 9 Apr 2013 08:33:57 +0000"  >&lt;p&gt;If the next release has a new groupId that means it will be binary incompatible and live in a different package. That leaves the 1.1.x line with broken OSGi metadata forever.&lt;/p&gt;</comment>
                            <comment id="13629205" author="tn" created="Thu, 11 Apr 2013 18:33:09 +0000"  >&lt;p&gt;If everybody agrees that this is the right thing to do we can also do a quick 1.1.3 release which contains only this change.&lt;/p&gt;</comment>
                            <comment id="13629446" author="garydgregory" created="Thu, 11 Apr 2013 21:57:41 +0000"  >&lt;p&gt;I like following in &lt;span class=&quot;error&quot;&gt;&amp;#91;lang&amp;#93;&lt;/span&gt; and &lt;span class=&quot;error&quot;&gt;&amp;#91;collections&amp;#93;&lt;/span&gt;&apos;s footsteps and a more conventional BSN.&lt;/p&gt;</comment>
                            <comment id="13632018" author="tn" created="Mon, 15 Apr 2013 18:48:00 +0000"  >&lt;p&gt;BSN changed to &quot;org.apache.commons.logging&quot; in r1468180.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12402506">LOGGING-124</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>321942</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 29 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jjpb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>322287</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-148] LogFactory.diagnosticPrefix and diagnosticsStream could be final</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-148</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;The static fields LogFactory.diagnosticPrefix and diagnosticsStream could be final.&lt;/p&gt;

&lt;p&gt;This would require inlining the code for the private method initDiagnostics() which is only called from the static{} block.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12599313">LOGGING-148</key>
            <summary>LogFactory.diagnosticPrefix and diagnosticsStream could be final</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Jul 2012 18:31:42 +0000</created>
                <updated>Wed, 20 Mar 2013 20:11:47 +0000</updated>
                            <resolved>Wed, 18 Jul 2012 23:48:44 +0000</resolved>
                                    <version>1.1.1</version>
                                    <fixVersion>1.1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13417865" author="sebb@apache.org" created="Wed, 18 Jul 2012 23:48:44 +0000"  >&lt;p&gt;Proved easier to inline part of the method and keep the rest.&lt;/p&gt;

&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=1363177&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1363177&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/LOGGING-148&quot; title=&quot;LogFactory.diagnosticPrefix and diagnosticsStream could be final&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOGGING-148&quot;&gt;&lt;del&gt;LOGGING-148&lt;/del&gt;&lt;/a&gt; - LogFactory.diagnosticPrefix and diagnosticsStream could be final&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/logging/trunk/RELEASE-NOTES.txt&lt;br/&gt;
    commons/proper/logging/trunk/src/java/org/apache/commons/logging/LogFactory.java&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>252758</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 16 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7fr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74981</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-147] SimpleLog.log - unsafe update of shortLogName</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-147</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;shortLogName is lazily updated, but:&lt;/p&gt;

&lt;p&gt;1) field is not volatile, so is not safely published&lt;br/&gt;
2) fiels is written twice, so if log is called by two threads, one might get a partial update.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12599310">LOGGING-147</key>
            <summary>SimpleLog.log - unsafe update of shortLogName</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Jul 2012 18:23:38 +0000</created>
                <updated>Wed, 20 Mar 2013 20:11:46 +0000</updated>
                            <resolved>Wed, 18 Jul 2012 23:31:47 +0000</resolved>
                                    <version>1.1.1</version>
                                    <fixVersion>1.1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13417827" author="sebb@apache.org" created="Wed, 18 Jul 2012 23:31:47 +0000"  >&lt;p&gt;Used temporary string to avoid possible update window.&lt;br/&gt;
Does not matter so much that the field is not volatile, as the worst that can happen is the field is updated twice.&lt;/p&gt;

&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=1363173&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1363173&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/LOGGING-147&quot; title=&quot;SimpleLog.log - unsafe update of shortLogName&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOGGING-147&quot;&gt;&lt;del&gt;LOGGING-147&lt;/del&gt;&lt;/a&gt; - SimpleLog.log - unsafe update of shortLogName&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/logging/trunk/RELEASE-NOTES.txt&lt;br/&gt;
    commons/proper/logging/trunk/src/java/org/apache/commons/logging/impl/SimpleLog.java&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>252759</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 16 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7fz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74982</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-146] LogFactory.nullClassLoaderFactory is not properly synchronized</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-146</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;Not all accesses to the protected static mutable field LogFactory.nullClassLoaderFactory are synch. using the same lock.&lt;/p&gt;

&lt;p&gt;This is necessary to ensure safe publication of mutable fields.&lt;/p&gt;

&lt;p&gt;As far as I can tell, the field is only required because a Hashtable cannot hold a null key. So it&apos;s not clear why the field is protected rather than private.&lt;/p&gt;

&lt;p&gt;Also, it ought to be possible to replace the field with a dummy key object which can then be used in the Hashtable. That would simplify the code.&lt;br/&gt;
However, any subclasses that relied on the field contents might break.&lt;/p&gt;

&lt;p&gt;If LogFactory is not intended to be part of the public API, then the field could be replaced by the dummy key approach.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12599303">LOGGING-146</key>
            <summary>LogFactory.nullClassLoaderFactory is not properly synchronized</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Jul 2012 17:34:59 +0000</created>
                <updated>Wed, 20 Mar 2013 20:11:46 +0000</updated>
                            <resolved>Fri, 18 Jan 2013 12:56:15 +0000</resolved>
                                    <version>1.1.1</version>
                                    <fixVersion>1.1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13557196" author="tn" created="Fri, 18 Jan 2013 12:56:16 +0000"  >&lt;p&gt;Made field volatile and deprecated in r1435122.&lt;/p&gt;

&lt;p&gt;With the next major release the use of this field should be changed according to sebb&apos;s suggestions.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>252760</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 41 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7g7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74983</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-145] LogFactoryImpl.setAttribute - possible NPE</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-145</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;LogFactoryImpl.setAttribute will throw NPE for the following call:&lt;/p&gt;

&lt;p&gt;setAttribute(LogFactory.TCCL_KEY, null);&lt;/p&gt;</description>
                <environment></environment>
        <key id="12599277">LOGGING-145</key>
            <summary>LogFactoryImpl.setAttribute - possible NPE</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Jul 2012 14:47:12 +0000</created>
                <updated>Wed, 20 Mar 2013 20:11:46 +0000</updated>
                            <resolved>Wed, 18 Jul 2012 16:08:55 +0000</resolved>
                                    <version>1.1.1</version>
                                    <fixVersion>1.1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13417201" author="sebb@apache.org" created="Wed, 18 Jul 2012 16:08:55 +0000"  >&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=1362996&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1362996&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/LOGGING-145&quot; title=&quot;LogFactoryImpl.setAttribute - possible NPE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOGGING-145&quot;&gt;&lt;del&gt;LOGGING-145&lt;/del&gt;&lt;/a&gt; - LogFactoryImpl.setAttribute - possible NPE&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/logging/trunk/RELEASE-NOTES.txt&lt;br/&gt;
    commons/proper/logging/trunk/src/java/org/apache/commons/logging/impl/LogFactoryImpl.java&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>252761</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 16 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7gf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74984</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-144] LogFactory/LogFactoryImpl ingore Throwable</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-144</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;The code in LogFactory/LogFactoryImpl catches and ignores Throwable in several places.&lt;/p&gt;

&lt;p&gt;This is a bad idea, as some Throwables (e.g. ThreadDeath) should never be ignored.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12599272">LOGGING-144</key>
            <summary>LogFactory/LogFactoryImpl ingore Throwable</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Jul 2012 14:25:12 +0000</created>
                <updated>Wed, 20 Mar 2013 20:11:46 +0000</updated>
                            <resolved>Fri, 22 Feb 2013 14:49:51 +0000</resolved>
                                    <version>1.1.1</version>
                                    <fixVersion>1.1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13552287" author="tn" created="Sun, 13 Jan 2013 19:28:30 +0000"  >&lt;p&gt;Ok, but what should happen in such a case?&lt;/p&gt;</comment>
                            <comment id="13552956" author="sebb@apache.org" created="Mon, 14 Jan 2013 18:23:22 +0000"  >&lt;p&gt;Either don&apos;t catch everything, or rethrow those throwables that should not be caught.&lt;/p&gt;</comment>
                            <comment id="13557269" author="tn" created="Fri, 18 Jan 2013 15:18:56 +0000"  >&lt;p&gt;First bunch of changes, please review.&lt;/p&gt;

&lt;p&gt;Missing is the catch in LogFactoryImpl.createLogFromClass which calls then handleFlawedDiscovery.&lt;/p&gt;</comment>
                            <comment id="13583399" author="sebb@apache.org" created="Thu, 21 Feb 2013 18:17:52 +0000"  >&lt;p&gt;The patch changes the code to how it should have been written originally.&lt;/p&gt;

&lt;p&gt;However, it means that the code may potentially throw some additional unchecked exceptions, whereas previously the code would log them and continue.&lt;/p&gt;

&lt;p&gt;If that is not acceptable, then the alternative approach is to use a method such as&lt;/p&gt;

&lt;p&gt;org.apache.tomcat.util.ExceptionUtils.handleThrowable(Throwable t) &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;For example:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;} &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Throwable t) {
    handleThrowable(t); &lt;span class=&quot;code-comment&quot;&gt;// may not &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;
&lt;/span&gt;    logDiagnostic(...);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://svn.apache.org/repos/asf/tomcat/trunk/java/org/apache/tomcat/util/ExceptionUtils.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/tomcat/trunk/java/org/apache/tomcat/util/ExceptionUtils.java&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13583415" author="tn" created="Thu, 21 Feb 2013 18:37:25 +0000"  >&lt;p&gt;Thanks for the pointer, this looks cleaner compared to my patch.&lt;/p&gt;

&lt;p&gt;Although, if I understand it correctly, this will also throw additional unchecked exceptions (ThreadDeath &amp;amp; VirtualMachineError) that where swallowed and logged before?&lt;/p&gt;</comment>
                            <comment id="13583496" author="sebb@apache.org" created="Thu, 21 Feb 2013 20:00:17 +0000"  >&lt;blockquote&gt;&lt;p&gt;this will also throw additional unchecked exceptions (ThreadDeath &amp;amp; VirtualMachineError) that where swallowed and logged before?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Well, yes, but those exceptions should never have been swallowed.&lt;/p&gt;</comment>
                            <comment id="13583520" author="tn" created="Thu, 21 Feb 2013 20:22:37 +0000"  >&lt;p&gt;Ok fine, I will then update the patch with your suggestion.&lt;/p&gt;

&lt;p&gt;Thanks again!&lt;/p&gt;</comment>
                            <comment id="13584318" author="tn" created="Fri, 22 Feb 2013 14:49:51 +0000"  >&lt;p&gt;Done in r1449064.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12565482" name="LOGGING-144.patch" size="6901" author="tn" created="Fri, 18 Jan 2013 15:18:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>252762</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 36 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7gn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74985</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-142] Log4JLogger uses deprecated static members of Priority such as INFO</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-142</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;In version 1.1.1, Log4JLogger uses deprecated static members of Priority such as INFO to construct LoggingEvent. In version 1.0.4, static members from Level are used rather than from Priority. I think that this is a regression.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12502592">LOGGING-142</key>
            <summary>Log4JLogger uses deprecated static members of Priority such as INFO</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yaojingguo">Jingguo Yao</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Mar 2011 15:00:57 +0000</created>
                <updated>Wed, 20 Mar 2013 20:11:47 +0000</updated>
                            <resolved>Wed, 18 Jul 2012 16:16:32 +0000</resolved>
                                    <version>1.1.1</version>
                                    <fixVersion>1.1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="7200">2h</timeoriginalestimate>
                            <timeestimate seconds="7200">2h</timeestimate>
                                        <comments>
                            <comment id="13012103" author="yaojingguo" created="Mon, 28 Mar 2011 15:24:18 +0000"  >&lt;p&gt;Patch available.&lt;/p&gt;</comment>
                            <comment id="13417205" author="sebb@apache.org" created="Wed, 18 Jul 2012 16:15:31 +0000"  >&lt;p&gt;In 1.0.4, the code used both Level and Priority.&lt;/p&gt;

&lt;p&gt;The reason for this was that it was thought that log4j 1.3 was likely to change Level so it no longer extended Priority.&lt;br/&gt;
However, 1.3 never really happened; 1.3 was only released as alpha code.&lt;/p&gt;</comment>
                            <comment id="13417208" author="sebb@apache.org" created="Wed, 18 Jul 2012 16:16:32 +0000"  >&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=1362982&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1362982&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
Replace deprecated field references&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/logging/trunk/src/java/org/apache/commons/logging/impl/Log4JLogger.java&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12474781" name="LOGGING-142.patch" size="7112" author="yaojingguo" created="Mon, 28 Mar 2011 15:24:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43709</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 16 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7gv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74986</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-141] Getting NoClassDefFoundError</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-141</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;Getting the following exception while implementing DWR2.0 to the existing application. The commons-logging.jar is there in the classpath, but still, facing this issue. &lt;/p&gt;

&lt;p&gt;java.lang.NoClassDefFoundError: org/apache/commons/logging/LogFactory&lt;br/&gt;
        at org.directwebremoting.dwrp.PollHandler.&amp;lt;clinit&amp;gt;(PollHandler.java:443)&lt;br/&gt;
        at java.lang.Class.forName0(Native Method)&lt;br/&gt;
        at java.lang.Class.forName(Class.java:141)&lt;br/&gt;
        at org.directwebremoting.impl.ContainerUtil.class$(ContainerUtil.java:97)&lt;br/&gt;
        at org.directwebremoting.impl.ContainerUtil.setupDefaults(ContainerUtil.java:150)&lt;br/&gt;
        at org.directwebremoting.impl.ContainerUtil.setupDefaultContainer(ContainerUtil.java:125)&lt;br/&gt;
        at org.directwebremoting.servlet.DwrServlet.init(DwrServlet.java:73)&lt;br/&gt;
        at weblogic.servlet.internal.ServletStubImpl$ServletInitAction.run(ServletStubImpl.java:1028)&lt;br/&gt;
        at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)&lt;br/&gt;
        at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)&lt;br/&gt;
        at weblogic.servlet.internal.ServletStubImpl.createServlet(ServletStubImpl.java:904)&lt;br/&gt;
        at weblogic.servlet.internal.ServletStubImpl.createInstances(ServletStubImpl.java:883)&lt;br/&gt;
        at weblogic.servlet.internal.ServletStubImpl.prepareServlet(ServletStubImpl.java:822)&lt;br/&gt;
        at weblogic.servlet.internal.ServletStubImpl.getServlet(ServletStubImpl.java:535)&lt;br/&gt;
        at weblogic.servlet.internal.ServletStubImpl.invokeServlet(ServletStubImpl.java:373)&lt;br/&gt;
        at weblogic.servlet.internal.ServletStubImpl.invokeServlet(ServletStubImpl.java:315)&lt;br/&gt;
        at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:6718)&lt;br/&gt;
        at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)&lt;br/&gt;
        at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)&lt;br/&gt;
        at weblogic.servlet.internal.WebAppServletContext.invokeServlet(WebAppServletContext.java:3764)&lt;br/&gt;
        at weblogic.servlet.internal.ServletRequestImpl.execute(ServletRequestImpl.java:2644)&lt;br/&gt;
        at weblogic.kernel.ExecuteThread.execute(ExecuteThread.java:219)&lt;br/&gt;
        at weblogic.kernel.ExecuteThread.run(ExecuteThread.java:178)&lt;/p&gt;


&lt;p&gt;Please let me know the possible solution as soon as possible. its blocking the work flow for the past two days.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Weblogic 8, DWR2.0, Java 1.4/1.5, WindowsXP&lt;/p&gt;</environment>
        <key id="12498086">LOGGING-141</key>
            <summary>Getting NoClassDefFoundError</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="palani12kumar">Palani Kumar Pounraj</reporter>
                        <labels>
                            <label>logging</label>
                    </labels>
                <created>Wed, 9 Feb 2011 06:40:00 +0000</created>
                <updated>Wed, 9 Feb 2011 12:22:55 +0000</updated>
                            <resolved>Wed, 9 Feb 2011 12:22:55 +0000</resolved>
                                    <version>1.1.1</version>
                                    <fixVersion>1.1.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12992361" author="joehni" created="Wed, 9 Feb 2011 07:30:15 +0000"  >&lt;p&gt;You have obviously multiple commons-logging implementations in your classpath and this is the normal error for such a case (not specific to commons-logging).&lt;/p&gt;</comment>
                            <comment id="12992399" author="palani12kumar" created="Wed, 9 Feb 2011 09:09:18 +0000"  >&lt;p&gt;Thanks for the comment. Got cleared.&lt;/p&gt;</comment>
                            <comment id="12992457" author="joehni" created="Wed, 9 Feb 2011 12:22:55 +0000"  >&lt;p&gt;Fine, but in this case you could have closed th issue yourself. Please ask next time first on the user&apos;s list if you have a problem.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148317</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 39 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7h3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74987</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-135] Thread-safety improvements</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-135</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;The LogKitLogger.logger field is not final or volatile so changes are not guaranteed to be published.&lt;br/&gt;
This includes calls to getLogger(), so two different threads using the same instance can theoretically both create the logger.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12455662">LOGGING-135</key>
            <summary>Thread-safety improvements</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Feb 2010 18:00:41 +0000</created>
                <updated>Wed, 20 Mar 2013 20:11:47 +0000</updated>
                            <resolved>Wed, 20 Feb 2013 12:31:13 +0000</resolved>
                                                    <fixVersion>1.1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13417351" author="sebb@apache.org" created="Wed, 18 Jul 2012 18:33:30 +0000"  >&lt;p&gt;Other problem fields include:&lt;/p&gt;

&lt;p&gt;AvalonLogger.defaultLogger&lt;/p&gt;

&lt;p&gt;SimpleLog - most fields&lt;/p&gt;

&lt;p&gt;Log4JLogger.logger&lt;/p&gt;</comment>
                            <comment id="13552264" author="tn" created="Sun, 13 Jan 2013 18:04:31 +0000"  >&lt;p&gt;Can this really happen, as the logger field is set in the constructor?&lt;br/&gt;
A second thread would only be able to use the LogKitLogger object after it has been created.&lt;/p&gt;</comment>
                            <comment id="13552955" author="sebb@apache.org" created="Mon, 14 Jan 2013 18:21:18 +0000"  >&lt;p&gt;If thread A creates the class and passes it to thread B (which already exists) there is no guarantee that thread B will see the same value as written by thread A (this is a consequence of the Java memory model, which allows for lots of hardware optimisations).&lt;/p&gt;

&lt;p&gt;Furthermore, the field is protected, so it can be changed at any later time. Unless the writer and reader threads synchronise on the same lock (or the field is made volatile), there is no guarantee that thread B will see what thread A wrote.&lt;/p&gt;</comment>
                            <comment id="13553623" author="tn" created="Tue, 15 Jan 2013 10:07:48 +0000"  >&lt;p&gt;I do not think the respective logger will be created multiple times, but retrieved from the underlying logging system.&lt;br/&gt;
In case the underlying system is flawed (e.g. not returning the same instance everytime it is called with the same name), this may create problems in the commons-logging wrapper, but otherwise the synchronisation may be a bottleneck.&lt;/p&gt;

&lt;p&gt;This only relates to the logger fields, SimpleLog may be a different case.&lt;/p&gt;</comment>
                            <comment id="13553697" author="sebb@apache.org" created="Tue, 15 Jan 2013 11:44:26 +0000"  >&lt;p&gt;I agree it&apos;s unlikely to occur, however that does not mean it cannot occur.&lt;br/&gt;
And if it does cause problems, debugging is likely to be extremely difficult.&lt;/p&gt;

&lt;p&gt;It may well be that all logger implementations return a singleton.&lt;br/&gt;
But writing to the protected logger field can still cause issues.&lt;/p&gt;

&lt;p&gt;At the very least the issue should be clearly documented.&lt;/p&gt;

&lt;p&gt;Making the variable volatile would solve the publication issue.&lt;br/&gt;
Ideally the variables should be private and final, but that would break compatibility.&lt;/p&gt;

&lt;p&gt;If logging is ever rewritten, it should use immutable classes as far as possible, and certainly no mutable protected or public fields.&lt;/p&gt;</comment>
                            <comment id="13553774" author="tn" created="Tue, 15 Jan 2013 13:07:45 +0000"  >&lt;p&gt;Yes I agree, also it is not clear why it is protected in the first place.&lt;br/&gt;
Some of the wrappers have it private (log4j, avalon), while others have it private.&lt;br/&gt;
Imho, there should be no reason to make it protected, and this should be fixed in future releases.&lt;/p&gt;</comment>
                            <comment id="13557156" author="tn" created="Fri, 18 Jan 2013 11:39:53 +0000"  >&lt;p&gt;Looking at the Log4JLogger, wouldn&apos;t it be better to always set the underlying logger in the constructor, and change the getLogger method in a way to just return the logger (similar to the AvalonLogger)?&lt;/p&gt;

&lt;p&gt;The null check looks unnecessary, as it should always be set in the constructor (its missing in the standard ctor, but could be added there too).&lt;/p&gt;

&lt;p&gt;The only thing that comes to my mind is that at creation time, the underlying log system may return null, but this would be odd anyway.&lt;/p&gt;</comment>
                            <comment id="13557187" author="tn" created="Fri, 18 Jan 2013 12:47:07 +0000"  >&lt;p&gt;Applied first bunch of changes in r1435115:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;SimpleLog:
	&lt;ul&gt;
		&lt;li&gt;made fields logName and shortLogName volatile -&amp;gt; should become private final in next major version&lt;/li&gt;
		&lt;li&gt;made modifiable field currentLogLevel volatile&lt;/li&gt;
		&lt;li&gt;made protected static fields showLogName, showShortName, showDateTime and dateTimeFormat volatile -&amp;gt; should become private in next major version with static getters?&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;AvalonLogger:
	&lt;ul&gt;
		&lt;li&gt;made static field defaultLogger volatile: there is already a static setter, so this should be fine&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Open:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Log4JLogger: logger field&lt;/li&gt;
	&lt;li&gt;LogKitLogger: logger field&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I would prefer to change the logger to a final field (Log4JLogger), always set the logger in the ctors and change the getLogger to just return the field. For LogKitLogger we can not set it final as it is a protected field, so adding volatile for now, and postpone for the next major version to change it to private.&lt;/p&gt;</comment>
                            <comment id="13558204" author="tn" created="Sun, 20 Jan 2013 08:34:15 +0000"  >&lt;p&gt;I missed that the loggers are serializable, thus the logic in the getLogger() makes sense (no need to re-initialize the transient logger fields in a readObject method, as it will be checked each access to getLogger).&lt;/p&gt;</comment>
                            <comment id="13582141" author="tn" created="Wed, 20 Feb 2013 12:31:14 +0000"  >&lt;p&gt;Applied the double-checked locking idiom from Josh Bloch (Item 71) for Log4JLogger and LogKitLogger (and changing the logger variable to volatile).&lt;/p&gt;

&lt;p&gt;This is not working reliably for pre-1.5 java but at least better than before.&lt;br/&gt;
We could also make the getLogger() methods synchronized, but this may have a negative effect on performance in certain environments.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148312</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 37 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7hb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74988</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-132] Jdk14Logger wrapper does not respect logger name</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-132</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;The JDK14 wrapper implementation logs using the callers class name instead of the configured logger name. This prevents the ability to use named loggers for applications and subsystems. Also, the log message name does not match the JDK logger name so user don&apos;t know what name to use to configure the logger. It is also problematic for obfuscated code and private parts of an application or library.&lt;/p&gt;

&lt;p&gt;Example:&lt;br/&gt;
I have a class named com.myco.product.subsysa.ClassX.InnerClassY and I create logger LogFactory.getLog(&quot;SubSystemA&quot;).&lt;/p&gt;

&lt;p&gt;With the other log wrappers, if I log a message I always get something like:&lt;/p&gt;

&lt;p&gt;    Oct 21, 2009 5:03:26 PM&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; SubSystemA start - My log message&lt;/p&gt;

&lt;p&gt;With the JDK log wrapper, I get something like:&lt;/p&gt;

&lt;p&gt;    Oct 21, 2009 5:03:26 PM com.myco.product.subsysa.ClassX$InnerClassY start&lt;br/&gt;
    INFO: My log message&lt;/p&gt;

&lt;p&gt;Or worse yet with obfuscated code and the JDK log wrapper, I get something like:&lt;/p&gt;

&lt;p&gt;    Oct 21, 2009 5:03:26 PM com.myco.product.subsysa.ClassX$_oOOO.o00000000000000000000000000000&lt;br/&gt;
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000&lt;br/&gt;
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000&lt;br/&gt;
00000000000000000000000000000000000000000000000000000000&lt;br/&gt;
    INFO: My log message&lt;/p&gt;

&lt;p&gt;The fix:&lt;/p&gt;

&lt;p&gt;In the calls to logger.logp(...), replace cname with this.name. Loggers created with the class name will still get the class name.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void log( Level level, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; msg, Throwable ex ) {

        Logger logger = getLogger();
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (logger.isLoggable(level)) {
            &lt;span class=&quot;code-comment&quot;&gt;// Hack (?) to get the stack trace.
&lt;/span&gt;            Throwable dummyException=&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Throwable();
            StackTraceElement locations[]=dummyException.getStackTrace();
            &lt;span class=&quot;code-comment&quot;&gt;// Caller will be the third element
&lt;/span&gt;            &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; cname=&lt;span class=&quot;code-quote&quot;&gt;&quot;unknown&quot;&lt;/span&gt;;
            &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; method=&lt;span class=&quot;code-quote&quot;&gt;&quot;unknown&quot;&lt;/span&gt;;
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;( locations!=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; locations.length &amp;gt;2 ) {
                StackTraceElement caller=locations[2];
                cname=caller.getClassName();
                method=caller.getMethodName();
            }
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;( ex==&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; ) {
                logger.logp( level, cname, method, msg );
            } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
                logger.logp( level, cname, method, msg, ex );
            }
        }

    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12438830">LOGGING-132</key>
            <summary>Jdk14Logger wrapper does not respect logger name</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="nathann@objectfx.com">Nathan Niesen</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Oct 2009 18:16:27 +0000</created>
                <updated>Wed, 20 Mar 2013 20:11:47 +0000</updated>
                            <resolved>Wed, 20 Feb 2013 10:02:07 +0000</resolved>
                                    <version>Nightly Builds</version>
                    <version>1.0</version>
                    <version>1.0.1</version>
                    <version>1.0.2</version>
                    <version>1.0.3</version>
                    <version>1.0.4</version>
                    <version>1.1.0</version>
                    <version>1.1.1</version>
                    <version>1.1.2</version>
                                    <fixVersion>1.1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12795189" author="dennisl@apache.org" created="Tue, 29 Dec 2009 23:16:33 +0000"  >&lt;p&gt;I tried your suggestion, but there were a lots of test failures.&lt;br/&gt;
So changing this will have a larger impact than you thought.&lt;/p&gt;</comment>
                            <comment id="12805540" author="nathann@objectfx.com" created="Wed, 27 Jan 2010 15:34:41 +0000"  >&lt;p&gt;If there is a major impact, it&apos;s because there are a lot of bad tests. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;The real impact will be that the logger implementation adheres to the contract set forth in the JDK and Commons logging documentation. The logger is created with a specified string name (not a class name), configured using the specified name, and logs using the specified name. Nothing in the LogFactory uses an object instances class name to retrieve a logger or change its configuration.&lt;/p&gt;

&lt;p&gt;I should also note that the Jdk13LumberjackLogger appears to have a similar defect. The implementation of its log method is different but it creates a LogRecord and never calls setLoggerName(this.name).&lt;/p&gt;

&lt;p&gt;The Avalon and Log4J loggers use the Logger class and which correctly sets the logger name on the log record. SimpleLog also correctly uses the log name.&lt;/p&gt;</comment>
                            <comment id="12805662" author="dennisl@apache.org" created="Wed, 27 Jan 2010 21:38:59 +0000"  >&lt;p&gt;Removing 2.0 as &quot;Affects version/s&quot; again. That is only a placeholder for ideas at this time, so this issue can&apos;t have an effect that version.&lt;/p&gt;</comment>
                            <comment id="13582059" author="tn" created="Wed, 20 Feb 2013 10:02:07 +0000"  >&lt;p&gt;Applied change in r1448063 for the Jdk14Logger.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148309</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 37 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7hj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74989</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-130] Potential missing privileged block for class loader</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-130</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;When attempting to instantiate a HttpClient, a call to LogFactory.getLog() is made. Going deeper, Commons Logging later attempts to make an unprivileged call to java.lang.ClassLoader.getParent(). Under systems with an installed SecurityManager (like mine), this may be forbidden.&lt;/p&gt;

&lt;p&gt;In particular, this call will require the RuntimePermission getClassLoader. In my particular case, I am attempting to sandbox specific segments of code, and thus cannot grant this permission to the user of HttpClient (and, thus, Commons Logging). However, I feel that Commons Logging should be able to trust itself to make a self-checked call to ClassLoader.getParent().&lt;/p&gt;

&lt;p&gt;The stack trace for my situation (trimmed off to assist you) is as follows:&lt;/p&gt;

&lt;p&gt;Caused by: org.apache.commons.logging.LogConfigurationException: java.lang.SecurityException: Cannot request this permission from a tainted execution path (Caused by java.lang.SecurityException: Cannot request this permission from a tainted execution path)&lt;br/&gt;
	at org.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:637)&lt;br/&gt;
	at org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:336)&lt;br/&gt;
	at org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:310)&lt;br/&gt;
	at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:685)&lt;br/&gt;
	at org.apache.commons.httpclient.HttpClient.&amp;lt;clinit&amp;gt;(HttpClient.java:66)&lt;br/&gt;
	... 11 more&lt;br/&gt;
Caused by: java.lang.SecurityException: Cannot request this permission from a tainted execution path&lt;br/&gt;
	at com.mmoui.manager.MinionSecurityManager.verifyUntainted(MinionSecurityManager.java:507)&lt;br/&gt;
	at com.mmoui.manager.MinionSecurityManager.checkPermission(MinionSecurityManager.java:263)&lt;br/&gt;
	at com.mmoui.manager.MinionSecurityManager.checkPermission(MinionSecurityManager.java:474)&lt;br/&gt;
	at java.lang.ClassLoader.getParent(ClassLoader.java:1233)&lt;br/&gt;
	at org.apache.commons.logging.impl.LogFactoryImpl.getLowestClassLoader(LogFactoryImpl.java:1327)&lt;br/&gt;
	at org.apache.commons.logging.impl.LogFactoryImpl.getBaseClassLoader(LogFactoryImpl.java:1247)&lt;br/&gt;
	at org.apache.commons.logging.impl.LogFactoryImpl.createLogFromClass(LogFactoryImpl.java:1048)&lt;br/&gt;
	at org.apache.commons.logging.impl.LogFactoryImpl.discoverLogImplementation(LogFactoryImpl.java:914)&lt;br/&gt;
	at org.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:604)&lt;br/&gt;
	... 15 more&lt;/p&gt;


&lt;p&gt;I feel that LogFactoryImpl.getLowestClassLoader&apos;s call to java.lang.ClassLoader.getParent() should be wrapped by AccessController.doPrivileged(). I can&apos;t think of any reason not to do this currently. This would allow my application to trust Commons Logging and not have to grant the RuntimePermission getClassLoader to the users of HttpClient.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows 7 under Sun JRE 6 Update 13, 64-bit&lt;br/&gt;
Running Commons HttpClient 3,1 w/ Commons Logging 1.1.1&lt;/p&gt;</environment>
        <key id="12424662">LOGGING-130</key>
            <summary>Potential missing privileged block for class loader</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mpdelbuono">Matthew P. Del Buono</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 May 2009 01:56:32 +0000</created>
                <updated>Wed, 20 Mar 2013 20:11:47 +0000</updated>
                            <resolved>Wed, 18 Jul 2012 15:21:05 +0000</resolved>
                                    <version>1.1.1</version>
                                    <fixVersion>1.1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12706299" author="mpdelbuono" created="Wed, 6 May 2009 04:44:35 +0000"  >&lt;p&gt;I should clarify, the reason for the &quot;tainted execution path&quot; is due to the fact that the caller of HttpClient.&amp;lt;clinit&amp;gt; (hidden by &quot;... 11 more&quot;) is untrusted (non-apache) code which I am trying to sandbox. None of the code in org.apache.** nor com.mmoui.manager.** nor java.** can contribute to this concept of &quot;taint&quot; as it is all trusted. &lt;/p&gt;</comment>
                            <comment id="12795183" author="dennisl@apache.org" created="Tue, 29 Dec 2009 23:04:12 +0000"  >&lt;p&gt;Proposed patch that makes use of getParentClassLoader(ClassLoader) that already uses an AccessController.&lt;/p&gt;</comment>
                            <comment id="13417159" author="sebb@apache.org" created="Wed, 18 Jul 2012 15:21:05 +0000"  >&lt;p&gt;Applied patch; same code was already used elsewhere to handle the same situation.&lt;/p&gt;

&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=1362978&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1362978&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/LOGGING-130&quot; title=&quot;Potential missing privileged block for class loader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOGGING-130&quot;&gt;&lt;del&gt;LOGGING-130&lt;/del&gt;&lt;/a&gt; - Potential missing privileged block for class loader&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/logging/trunk/RELEASE-NOTES.txt&lt;br/&gt;
    commons/proper/logging/trunk/src/java/org/apache/commons/logging/impl/LogFactoryImpl.java&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12444307">LOGGING-134</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12429101" name="LOGGING-130.patch" size="1146" author="dennisl@apache.org" created="Tue, 29 Dec 2009 23:04:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148308</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 16 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7hr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74990</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-129] WebLogic 10.1 and Apache XML security and commons logging compatibility issue</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-129</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;WebLogic 10.1, Java 5 &amp;amp; XML security compatibility issue. We have confirmed that we have the commons-logging-1.0.4.jar which has the LogFactory class in the WEB-INF/Lib directory.&lt;/p&gt;

&lt;p&gt;Fails with the below error in the WL10.1/JDK 1.5_11 environment -&lt;/p&gt;

&lt;p&gt;java.lang.NoClassDefFoundError: org/apache/commons/logging/LogFactory&lt;br/&gt;
	at org.apache.xml.security.Init.&amp;lt;clinit&amp;gt;(Unknown Source)&lt;br/&gt;
	at com.chase.treasury.ezpay.apps.efunds.topup.handlers.openSAMLSSOHandler.process(openSAMLSSOHandler.java:68)&lt;br/&gt;
	at com.chase.treasury.ezpay.apps.efunds.servlets.SSOServlet.dispatch(SSOServlet.java:231)&lt;br/&gt;
	at com.chase.treasury.ezpay.apps.efunds.servlets.SSOServlet.doPost(SSOServlet.java:79)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)&lt;br/&gt;
	at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:226)&lt;br/&gt;
	at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:124)&lt;br/&gt;
	at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:283)&lt;br/&gt;
	at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:175)&lt;br/&gt;
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3395)&lt;br/&gt;
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)&lt;br/&gt;
	at weblogic.security.service.SecurityManager.runAs(Unknown Source)&lt;br/&gt;
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2140)&lt;br/&gt;
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2046)&lt;br/&gt;
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1366)&lt;br/&gt;
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:200)&lt;br/&gt;
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:172) &lt;/p&gt;
</description>
                <environment>&lt;p&gt;Windows and Solaris 10&lt;/p&gt;</environment>
        <key id="12423373">LOGGING-129</key>
            <summary>WebLogic 10.1 and Apache XML security and commons logging compatibility issue</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="raghu_27">Raghu Loganathan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Apr 2009 14:21:13 +0000</created>
                <updated>Tue, 29 Dec 2009 23:37:24 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 23:37:24 +0000</resolved>
                                    <version>1.0.4</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12701204" author="joehni" created="Tue, 21 Apr 2009 17:15:57 +0000"  >&lt;p&gt;And then, why don&apos;t you use version 1.1.1 ?&lt;/p&gt;</comment>
                            <comment id="12795197" author="dennisl@apache.org" created="Tue, 29 Dec 2009 23:37:24 +0000"  >&lt;p&gt;No response from the author whether this works in  1.1.1 or not.&lt;/p&gt;

&lt;p&gt;Please reopen if the problem exists in 1.1.1.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148307</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 45 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7hz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74991</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-127] don&apos;t use setDefaultUseCaches() but setUseCaches() in LogFactory.getProperties() </title>
                <link>https://issues.apache.org/jira/browse/LOGGING-127</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;The fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/LOGGING-126&quot; title=&quot;Within Tomcat 5.x implementation, under Windows ONLY Commons-logging forbids hot deployment due to JAR locking &quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOGGING-126&quot;&gt;&lt;del&gt;LOGGING-126&lt;/del&gt;&lt;/a&gt; introduced a call to URLConnection.setDefaultUseCaches() in LogFactory.getProperties(). This call should be changed to URLConnection.setUseCaches(), because URLConnection.setDefaultUseCaches() sets a static variable whose value affects the whole system, while URLConnection.setUseCaches() only affects its target instance.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12404789">LOGGING-127</key>
            <summary>don&apos;t use setDefaultUseCaches() but setUseCaches() in LogFactory.getProperties() </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="skitching">Simon Kitching</assignee>
                                    <reporter username="jcsahnwaldt">Christopher Sahnwaldt</reporter>
                        <labels>
                    </labels>
                <created>Sat, 20 Sep 2008 11:16:23 +0000</created>
                <updated>Tue, 29 Dec 2009 17:14:09 +0000</updated>
                            <resolved>Sat, 20 Sep 2008 16:40:46 +0000</resolved>
                                    <version>Nightly Builds</version>
                    <version>2.0.0</version>
                                    <fixVersion>1.1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12632984" author="skitching" created="Sat, 20 Sep 2008 16:40:46 +0000"  >&lt;p&gt;Fix committed. Thanks for pointing that out!&lt;/p&gt;

&lt;p&gt;By the way: what a wierd API - a non-static method that controls a static flag. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148305</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 7 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7i7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74992</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-125] where the log file is stored </title>
                <link>https://issues.apache.org/jira/browse/LOGGING-125</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;How to configure log file, on default where the log file is stored &lt;/p&gt;</description>
                <environment>&lt;p&gt;C#.Net&lt;/p&gt;</environment>
        <key id="12404154">LOGGING-125</key>
            <summary>where the log file is stored </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="shreenath.giri">shreenath</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Sep 2008 11:03:12 +0000</created>
                <updated>Tue, 4 Nov 2008 19:19:09 +0000</updated>
                            <resolved>Thu, 11 Sep 2008 11:40:52 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="2400">40m</timeoriginalestimate>
                            <timeestimate seconds="2400">40m</timeestimate>
                                        <comments>
                            <comment id="12630166" author="skitching" created="Thu, 11 Sep 2008 11:40:52 +0000"  >&lt;p&gt;I have no idea what you mean here.&lt;/p&gt;

&lt;p&gt;1) This is a bug tracking system, not a help forum.&lt;br/&gt;
2) apache commons-logging is a java.-only library, and has nothing to do with c#&lt;br/&gt;
3) commons-logging does not configure logging systems&lt;/p&gt;

&lt;p&gt;Therefore, closing this as INVALID. Please do NOT post any further comments against this particular issue entry.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148303</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 8 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7if:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74993</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-122] jdk1.4 logger doesn&apos;t respect jdk per-class configuration</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-122</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;I&apos;ve enabled the JDK 1.4 logger, and global configuration (the .level=foo line in the file) works fine.&lt;/p&gt;

&lt;p&gt;Per logger config, on the other hand, doesn&apos;t work at bit for messages that arrive through c.u.l. &lt;/p&gt;
</description>
                <environment></environment>
        <key id="12393474">LOGGING-122</key>
            <summary>jdk1.4 logger doesn&apos;t respect jdk per-class configuration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bmargulies">Benson Margulies</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Apr 2008 01:09:00 +0000</created>
                <updated>Tue, 29 Dec 2009 14:06:33 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 14:06:33 +0000</resolved>
                                    <version>1.1.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12587029" author="bimargulies" created="Wed, 9 Apr 2008 01:43:15 +0000"  >&lt;p&gt;Pilot error.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148300</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 31 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7in:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74994</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-119] deadlock on re-registration of logger</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-119</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;Reached a deadlock inside common-logging while concurrently re-deploying 2 WARs.&lt;br/&gt;
In each WAR there is an attempt to get a logger:&lt;/p&gt;

&lt;p&gt;private final Log logger = LogFactory.getLog(ContextLoader.class);&lt;/p&gt;


&lt;p&gt;Thread dump:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;deadlocked thread&amp;#93;&lt;/span&gt; Thread-96:&lt;br/&gt;
-----------------------------&lt;br/&gt;
Thread &apos;Thread-96&apos; is waiting to acquire lock &apos;java.lang.ref.ReferenceQueue@5266e0&apos; that is held by thread &apos;Thread-102&apos;&lt;br/&gt;
Stack trace:&lt;br/&gt;
------------&lt;br/&gt;
        org.apache.commons.logging.impl.WeakHashtable.purge(WeakHashtable.java:323)&lt;br/&gt;
        org.apache.commons.logging.impl.WeakHashtable.rehash(WeakHashtable.java:312)&lt;br/&gt;
        java.util.Hashtable.put(Hashtable.java:414)&lt;br/&gt;
        org.apache.commons.logging.impl.WeakHashtable.put(WeakHashtable.java:242)&lt;br/&gt;
        org.apache.commons.logging.LogFactory.cacheFactory(LogFactory.java:1004)&lt;br/&gt;
        org.apache.commons.logging.LogFactory.getFactory(LogFactory.java:657)&lt;br/&gt;
        org.apache.commons.logging.LogFactory.getLog(LogFactory.java:685)&lt;br/&gt;
        org.springframework.web.context.ContextLoader.&amp;lt;init&amp;gt;(ContextLoader.java:145)&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;deadlocked thread&amp;#93;&lt;/span&gt; Thread-102:&lt;br/&gt;
------------------------------&lt;br/&gt;
Thread &apos;Thread-102&apos; is waiting to acquire lock &apos;org.apache.commons.logging.impl.&lt;br/&gt;
WeakHashtable@1e02138&apos; that is held by thread &apos;Thread-96&apos;&lt;br/&gt;
Stack trace:&lt;br/&gt;
------------&lt;br/&gt;
        java.util.Hashtable.remove(Hashtable.java:437)&lt;br/&gt;
        org.apache.commons.logging.impl.WeakHashtable.purgeOne(WeakHashtable.java:338)&lt;br/&gt;
        org.apache.commons.logging.impl.WeakHashtable.put(WeakHashtable.java:238)&lt;br/&gt;
        org.apache.commons.logging.LogFactory.cacheFactory(LogFactory.java:1004)&lt;br/&gt;
        org.apache.commons.logging.LogFactory.getFactory(LogFactory.java:657)&lt;br/&gt;
        org.apache.commons.logging.LogFactory.getLog(LogFactory.java:685)&lt;br/&gt;
        org.springframework.web.context.ContextLoader.&amp;lt;init&amp;gt;(ContextLoader.java:145)&lt;/p&gt;</description>
                <environment>&lt;p&gt;Java 1.5, Windows&lt;/p&gt;</environment>
        <key id="12387466">LOGGING-119</key>
            <summary>deadlock on re-registration of logger</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="nniv">Nitzan Niv</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Jan 2008 12:38:10 +0000</created>
                <updated>Sat, 7 Dec 2013 09:20:31 +0000</updated>
                            <resolved>Fri, 18 Jan 2013 10:56:09 +0000</resolved>
                                    <version>1.1.1</version>
                                    <fixVersion>1.1.2</fixVersion>
                                        <due></due>
                            <votes>3</votes>
                                    <watches>9</watches>
                                                                                                                <comments>
                            <comment id="12630994" author="pmouawad" created="Mon, 15 Sep 2008 11:23:34 +0000"  >&lt;p&gt;Here is a Test case to reproduce it.&lt;br/&gt;
I launch it on a JDK1.6 and it deadlocks each 6 to 10 run.&lt;/p&gt;</comment>
                            <comment id="12630996" author="pmouawad" created="Mon, 15 Sep 2008 11:24:35 +0000"  >&lt;p&gt;Here is a patch to the deadlock bug.&lt;br/&gt;
Philippe.&lt;br/&gt;
www.ubik-ingenierie.com&lt;/p&gt;</comment>
                            <comment id="12630999" author="pmouawad" created="Mon, 15 Sep 2008 11:31:27 +0000"  >&lt;p&gt;The bug is due to 2 different ways of taking locks :&lt;/p&gt;

&lt;p&gt;Purge or purgeOne:&lt;br/&gt;
1) locks queue&lt;br/&gt;
2) lock this through super.remove&lt;/p&gt;

&lt;p&gt;Put the calls super.put()&lt;br/&gt;
1) lock this through super.put()&lt;br/&gt;
2) call to rehash in super.put()&lt;br/&gt;
3) rehash calls purge (which locks queue) =&amp;gt; YOU GOT THE DEAD LOCK&lt;/p&gt;

&lt;p&gt;The solution is to call super#remove in purge and purgeOne outside of the synchronized (queue) lock.&lt;/p&gt;
</comment>
                            <comment id="12795181" author="dennisl@apache.org" created="Tue, 29 Dec 2009 22:53:06 +0000"  >&lt;p&gt;I&apos;ve tested the Test Case, but it runs without deadlock for me on Java 1.4, 1.5 and 1.6 on Windows.&lt;/p&gt;</comment>
                            <comment id="12795206" author="ralph.goers@dslextreme.com" created="Wed, 30 Dec 2009 00:34:04 +0000"  >&lt;p&gt;I also ran the test case on OSX 10.6 with Java 1.6 and can&apos;t don&apos;t get a deadlock. I also upped the number of threads and the loop count to try to make it happen but was still unable to reproduce it.  Of course, that doesn&apos;t mean the bug isn&apos;t valid.&lt;/p&gt;</comment>
                            <comment id="13239515" author="aorapal" created="Tue, 27 Mar 2012 14:39:03 +0000"  >&lt;p&gt;Has anyone been able to reliably reproduce the issue.  Or get a patch working?  We appear to be experiencing this issue as well and need a fix.  will upgrading commons-logging.jar fix the issue?&lt;/p&gt;

&lt;p&gt;All threads get blocked waiting for the WeakHashTable object.  The thread holding the object is this:&lt;br/&gt;
&quot;btpool0-193&quot; prio=10 tid=0x00002aaabc7e7800 nid=0x468 waiting for monitor entry &lt;span class=&quot;error&quot;&gt;&amp;#91;0x0000000050a7d000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: BLOCKED (on object monitor)&lt;br/&gt;
        at org.apache.commons.logging.impl.WeakHashtable.purge(WeakHashtable.java:323)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting to lock &amp;lt;0x00000006e37d3a18&amp;gt; (a java.lang.ref.ReferenceQueue)&lt;br/&gt;
        at org.apache.commons.logging.impl.WeakHashtable.rehash(WeakHashtable.java:312)&lt;br/&gt;
        at java.util.Hashtable.put(Hashtable.java:412)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0x00000006e37cf4d0&amp;gt; (a org.apache.commons.logging.impl.WeakHashtable)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Note that it is waiting to lock a ReferenceQueue object.  The ReferenceQueue object is held by:&lt;/p&gt;

&lt;p&gt;&quot;btpool0-229&quot; prio=10 tid=0x00002aaac0c69800 nid=0x6b07 waiting for monitor entry &lt;span class=&quot;error&quot;&gt;&amp;#91;0x0000000043fd2000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: BLOCKED (on object monitor)&lt;br/&gt;
        at java.util.Hashtable.remove(Hashtable.java:435)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting to lock &amp;lt;0x00000006e37cf4d0&amp;gt; (a org.apache.commons.logging.impl.WeakHashtable)&lt;br/&gt;
        at org.apache.commons.logging.impl.WeakHashtable.purgeOne(WeakHashtable.java:338)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0x00000006e37d3a18&amp;gt; (a java.lang.ref.ReferenceQueue)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Note that this one is waiting to lock the WeakHashTable object, so the thread lock will never break, and all the other btpool threads will back up behind it.&lt;/p&gt;</comment>
                            <comment id="13416029" author="stefan.eissing" created="Tue, 17 Jul 2012 09:09:28 +0000"  >&lt;p&gt;I can confirm that this issue happens together with a 1.4 java runtime (tested on WinXP). I am unable to reproduce this with a Java6 runtime (on WinXP and OS X). &lt;/p&gt;

&lt;p&gt;The attached patch fixes this issue for me.&lt;/p&gt;</comment>
                            <comment id="13416047" author="sebb@apache.org" created="Tue, 17 Jul 2012 09:54:37 +0000"  >&lt;p&gt;@Stefan &lt;/p&gt;

&lt;p&gt;What code did you use to show the error? &lt;br/&gt;
Which version of Java was it exactly?&lt;/p&gt;</comment>
                            <comment id="13416050" author="stefan.eissing" created="Tue, 17 Jul 2012 10:02:27 +0000"  >&lt;p&gt;@Sebb I used the code attached to this ticket. Run it from the shell in an endless loop. Process deadlocked for me about once every 80 invocations. Host: WinXP on Parallels, Java VM 1.4.2_17-b06 (yeah, I know it&apos;s antique). &lt;/p&gt;

&lt;p&gt;Customer experienced the deadlock on his production system, running 1.4 VM on Solaris (don&apos;t know the exact version).&lt;/p&gt;</comment>
                            <comment id="13416058" author="sebb@apache.org" created="Tue, 17 Jul 2012 10:16:21 +0000"  >&lt;p&gt;@Stefan&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;

&lt;p&gt;I&apos;ve been able to reproduce the error now as well using a slightly modified version of the test code and Java 1.4.2_19-b04.&lt;br/&gt;
I&apos;ll tidy up my test code and add to SVN later.&lt;/p&gt;</comment>
                            <comment id="13416796" author="sebb@apache.org" created="Wed, 18 Jul 2012 01:57:36 +0000"  >&lt;p&gt;Fails on my WinXP system with Java 1.4/1.5/1.6/1.7.&lt;/p&gt;

&lt;p&gt;Also tried a test on Jenkins (ubuntu) that failed too.&lt;/p&gt;

&lt;p&gt;However, so far the Continuum builds don&apos;t seem to tigger the problem.&lt;/p&gt;

&lt;p&gt;It remains to be seen how Gump reacts.&lt;/p&gt;</comment>
                            <comment id="13417062" author="sebb@apache.org" created="Wed, 18 Jul 2012 13:19:02 +0000"  >&lt;p&gt;An alternative fix would be to drop the direct synch on queue, and synchronise the methods that call it.&lt;/p&gt;

&lt;p&gt;Eclipse complains about many of the methods, for example:&lt;/p&gt;

&lt;p&gt;The method WeakHashtable.get(Object) is overriding a synchronized method without being synchronized&lt;/p&gt;

&lt;p&gt;I don&apos;t think there are any issues here, but most of the methods don&apos;t do much except delegate to the super method, at which point the synch. lock will be acquired anyway. So the additional synch. code would be minimal.&lt;/p&gt;

&lt;p&gt;Fixing the Eclipse warnings leaves the following methods that call purge without being synchronized:&lt;/p&gt;

&lt;p&gt;entrySet()&lt;br/&gt;
keySet()&lt;br/&gt;
values()&lt;br/&gt;
rehash()&lt;/p&gt;

&lt;p&gt;Synchronising these methods seems unlikely to adversely affect performance compared with synchronising just the queue.&lt;br/&gt;
There is not much additional code included in the synch. block.&lt;/p&gt;

&lt;p&gt;In the case of rehash(), it is only called by Hashtable#put() which is synch. anyway.&lt;/p&gt;

&lt;p&gt;==&lt;/p&gt;

&lt;p&gt;It&apos;s not clear to me that the existing patch is 100% thread-safe.&lt;br/&gt;
There is a window between removing the item from the reference queue (poll) and removing the referenced item from the hash table.&lt;br/&gt;
If another thread modifies the hashtable between the poll and the remove, can that cause any problems?&lt;br/&gt;
Also, not all references to the queue field are protected by the same lock; the put() method references the queue without first aquiring the queue lock. Potentially this can cause a data publication issue due to the Java Memory Model.&lt;/p&gt;</comment>
                            <comment id="13418614" author="sebb@apache.org" created="Thu, 19 Jul 2012 19:46:07 +0000"  >&lt;p&gt;Also fails on Gump.&lt;/p&gt;</comment>
                            <comment id="13537015" author="radai" created="Thu, 20 Dec 2012 13:29:42 +0000"  >&lt;p&gt;i&apos;ve managed to reproduce the issue on my machine (windows 7 x64 java 6u33 x64) with the trunk version of commons-logging (checked out of svn).&lt;br/&gt;
i can also confirm the attached patch resolves the issue.&lt;br/&gt;
i did have to add a few zeros to the thread count and per-thread try count in the test-case to reproduce reliably though.&lt;/p&gt;</comment>
                            <comment id="13553652" author="tn" created="Tue, 15 Jan 2013 10:44:44 +0000"  >&lt;p&gt;Looking at the patch, the original deadlock problem should be fixed by it, but there are other flaws in WeakHashtable that should be addressed:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;put and remove have the following code snippet:&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;        // for performance reasons, only purge every
        // MAX_CHANGES_BEFORE_PURGE times
        if (changeCount++ &amp;gt; MAX_CHANGES_BEFORE_PURGE) {
            purge();
            changeCount = 0;
        }
        // do a partial purge more often
        else if (changeCount % PARTIAL_PURGE_COUNT == 0) {
            purgeOne();
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;which is not-synchronized, thus the changeCount check may be successful for two concurrent threads at the same time, calling purge / purgeOne multiple times.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;the underlying Hashtable is synchronized, while none of the overriden methods are&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13557129" author="tn" created="Fri, 18 Jan 2013 10:56:09 +0000"  >&lt;p&gt;Applied a modified patch in r1435077.&lt;/p&gt;

&lt;p&gt;The following changes have been made:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;synchronize the put and remove methods to prevent issues with changeCount and the actual bug wrt purge / purgeOne. The call to super.put() will be synchronized anyway, so there should be no performance hit. This already solves the bug.&lt;/li&gt;
	&lt;li&gt;apply the idea from the patch to the purge method, as it is also used in non-synchronized methods like values(), elements(). These methods are not actually used in commons-logging, but this has been added to prevent any future problems in case this changes. The method purgeOne has been kept as is, as it is only used in the now synchronized put and remove methods.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13581633" author="jglick@netbeans.org" created="Tue, 19 Feb 2013 21:12:16 +0000"  >&lt;p&gt;Since this is a serious bug, and it has apparently been over five years since the last release, what about releasing &lt;tt&gt;1.1.2-beta-1&lt;/tt&gt; or similar?&lt;/p&gt;</comment>
                            <comment id="13581636" author="p.mouawad@ubik-ingenierie.com" created="Tue, 19 Feb 2013 21:16:55 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13581641" author="tn" created="Tue, 19 Feb 2013 21:23:13 +0000"  >&lt;p&gt;just fyi: the release is in the pipeline for the coming days / weeks, but we have to first sort out our site publish procedure (has changed the last weeks).&lt;/p&gt;

&lt;p&gt;Please discuss / follow-up such requests on the dev mailinglist, as this will reach a bigger audience.&lt;/p&gt;</comment>
                            <comment id="13583208" author="jglick@netbeans.org" created="Thu, 21 Feb 2013 14:09:54 +0000"  >&lt;p&gt;FYI, affects Jenkins with embedded Maven: &lt;a href=&quot;https://issues.jenkins-ci.org/browse/JENKINS-15846&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://issues.jenkins-ci.org/browse/JENKINS-15846&lt;/a&gt;; might affect command-line Maven but the trigger conditions may not be present.&lt;/p&gt;

&lt;p&gt;Two points related to this bug:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Why does &lt;tt&gt;LogFactory&lt;/tt&gt; require the value of its &lt;tt&gt;&#8230;.LogFactory.HashtableImpl&lt;/tt&gt; property to be a &lt;tt&gt;Hashtable&lt;/tt&gt; rather than simply a &lt;tt&gt;Map&lt;/tt&gt;?&lt;/li&gt;
	&lt;li&gt;If the answer to the first question is &#8220;no good reason&#8221;, why do you not simply use &lt;tt&gt;java.util.WeakHashMap&lt;/tt&gt; (possibly with a synchronization wrapper) rather than writing your own &lt;tt&gt;WeakHashtable&lt;/tt&gt;?&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13583221" author="tn" created="Thu, 21 Feb 2013 14:26:25 +0000"  >&lt;p&gt;commons-logging was created and still targets for JDK 1.1. Map and WeakHashMap did not yet exist at the time, so there was a need for an own implementation of a WeakHashtable.&lt;/p&gt;

&lt;p&gt;It was decided to keep the compatibility settings as is for the 1.1.2 bugfix release, especially to keep binary compatibility.&lt;br/&gt;
Changing the internal factories to a Map would break compatibility.&lt;/p&gt;

&lt;p&gt;What will happen after 1.1.2 is unclear. Either commons-logging will die, or we will modernize it and release a non binary compatible version 2.&lt;/p&gt;</comment>
                            <comment id="13583238" author="olamy" created="Thu, 21 Feb 2013 14:49:07 +0000"  >&lt;p&gt;jdk 1.1 target ? really in 2013 ?&lt;/p&gt;</comment>
                            <comment id="13583246" author="garydgregory" created="Thu, 21 Feb 2013 15:00:17 +0000"  >&lt;p&gt;and it&apos;s February 2013! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I think we can bump the target to 1.4 without controversy.&lt;/p&gt;

&lt;p&gt;The super conservative route would be to&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;release 1.1.2 as is, no platform changes.&lt;/li&gt;
	&lt;li&gt;update the platform requirement to whatever we agree on for 1.2, Java 1.4, 5, 6, or 7.&lt;/li&gt;
&lt;/ol&gt;

</comment>
                            <comment id="13583314" author="tn" created="Thu, 21 Feb 2013 16:14:51 +0000"  >&lt;p&gt;Well, for 1.1.2 it does not make much of a difference if we change the target. We have to stick to Hashtables for now to keep binary compatibility. The problem here should be solved, and for future versions (1.2?, 2.0) we will surely use existing stuff like WeakHashMap.&lt;/p&gt;</comment>
                            <comment id="13633084" author="jglick@netbeans.org" created="Tue, 16 Apr 2013 17:55:39 +0000"  >&lt;p&gt;1.1.2 seems to be released, thanks. Will be in Wagon: &lt;a href=&quot;https://jira.codehaus.org/browse/WAGON-394&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jira.codehaus.org/browse/WAGON-394&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12683197">HADOOP-10147</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12390106" name="BugDeadlock.java" size="802" author="pmouawad" created="Mon, 15 Sep 2008 11:23:33 +0000"/>
                            <attachment id="12390107" name="Patch-WeakHashtable-1.1.1.txt" size="2154" author="pmouawad" created="Mon, 15 Sep 2008 11:24:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148297</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 29 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7iv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74995</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-117] Unit tests fail on linux with java16</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-117</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;When running &quot;mvn install&quot;, the unit tests fail.&lt;/p&gt;

&lt;p&gt;The problem is with the tests in the jdk14 directory, ie those that test commons-logging forwarding to a java.util.logging implementation.&lt;br/&gt;
The same tests works fine with java15 on linux. Others have reported that the tests work fine with java16 on Windows.&lt;/p&gt;

&lt;p&gt;The problem seems to be that somehow java.util.logging is not registering our dummy LogHandler implementation that the unit test uses to then verify that the messages have correctly been forwarded.&lt;/p&gt;

&lt;p&gt;Note that this is likely just a problem with the &lt;b&gt;unit test&lt;/b&gt;. It is believed that the real commons-logging code actually works fine.&lt;/p&gt;

&lt;p&gt;It appears that the problem has something to do with the tests in the &quot;noop&quot; directory. Changing the pom to do this:&lt;br/&gt;
              &amp;lt;excludes&amp;gt;&lt;br/&gt;
                &amp;lt;exclude&amp;gt;**/noop/*TestCase.java&amp;lt;/exclude&amp;gt;&lt;br/&gt;
              &amp;lt;/excludes&amp;gt;&lt;/p&gt;

&lt;p&gt;makes the jdk14 tests run fine.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12382287">LOGGING-117</key>
            <summary>Unit tests fail on linux with java16</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="skitching">Simon Kitching</assignee>
                                    <reporter username="skitching">Simon Kitching</reporter>
                        <labels>
                    </labels>
                <created>Sun, 11 Nov 2007 11:25:45 +0000</created>
                <updated>Sun, 11 Nov 2007 11:56:52 +0000</updated>
                            <resolved>Sun, 11 Nov 2007 11:56:52 +0000</resolved>
                                    <version>1.1.1</version>
                                    <fixVersion>1.1.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12541622" author="skitching" created="Sun, 11 Nov 2007 11:56:52 +0000"  >&lt;p&gt;Ok, found the problem and fixed it with r593871: clear system properties set by the NoOpLogTestCase after test completes.&lt;br/&gt;
This is possibly not the best fix; it would be better to fix this in some central point so it applies to all unit tests. Or have unit tests clear this in their own setUp methods.&lt;br/&gt;
However this patch does the job.&lt;/p&gt;

&lt;p&gt;It&apos;s still not entirely clear why this affected only java16, but as it is only a unit test it is not worth spending more time on.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148295</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7j3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74996</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-116] Duplicate classes between api and adapters</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-116</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;Using commons-logging-api.jar and commons-logging-adapters.jar together leads to duplicate classes. Jdk14, noop and simple logs are also in the adapters archive which prevents some tools from working properly. Would it be possible to remove these classes from adapters.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12381839">LOGGING-116</key>
            <summary>Duplicate classes between api and adapters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tuomas_kiviaho">Tuomas Kiviaho</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Nov 2007 13:14:02 +0000</created>
                <updated>Wed, 14 Nov 2007 22:38:49 +0000</updated>
                            <resolved>Mon, 5 Nov 2007 16:35:28 +0000</resolved>
                                    <version>1.1.0</version>
                    <version>1.1.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12540214" author="skitching" created="Mon, 5 Nov 2007 16:35:28 +0000"  >&lt;p&gt;It&apos;s not &lt;b&gt;likely&lt;/b&gt; that this will be changed, but it can certainly be discussed.&lt;/p&gt;

&lt;p&gt;However the bug-tracker is not an appropriate place for a discussion of these issues. Please subscribe to the mail list users@commons.apache.org and post a message there describing what problems you are encountering.&lt;/p&gt;

&lt;p&gt;There is some info about commons-logging packaging here:&lt;br/&gt;
  &lt;a href=&quot;http://commons.apache.org/logging/commons-logging-1.1/guide.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/logging/commons-logging-1.1/guide.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12542614" author="dennisl@apache.org" created="Wed, 14 Nov 2007 22:38:49 +0000"  >&lt;p&gt;Remove fix version, as the issue hasn&apos;t been fixed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148294</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7jb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74997</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-115] NPE thrown due to exception message logging</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-115</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;NullPointerException is thrown in more catch blocks while building a log message. Eg. in class LogFactory there can be found construction Exception.getMessage().trim() (lines 470, 484 and 547) but there is no check for null message which could happen as written in java doc.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Java 1.6u2 on Windows XP Professional&lt;/p&gt;</environment>
        <key id="12381313">LOGGING-115</key>
            <summary>NPE thrown due to exception message logging</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yandosh">Frantisek Jandos</reporter>
                        <labels>
                    </labels>
                <created>Sat, 27 Oct 2007 23:56:29 +0000</created>
                <updated>Sat, 10 Nov 2007 17:46:35 +0000</updated>
                            <resolved>Sat, 10 Nov 2007 17:46:35 +0000</resolved>
                                    <version>1.1.0</version>
                                    <fixVersion>1.1.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12541564" author="skitching" created="Sat, 10 Nov 2007 17:46:35 +0000"  >&lt;p&gt;Thanks very much for the report!&lt;/p&gt;

&lt;p&gt;This has now been fixed (r593798), and will be in the 1.1.1 release.&lt;br/&gt;
Note that this problem could only occur when diagnostics are enabled.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148293</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7jj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74998</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-114] Silent Swallowing of NoClassDefFoundError</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-114</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;Hi. I&apos;m using commons logging with log4j; my team ship a library which uses log4j, and some of our clients use it with commons-logging.&lt;/p&gt;

&lt;p&gt;If commons-logging is in its default configuration, and log4j is present but fails to load its configuration with an unhandled exception, the results are pretty nasty:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;commons-logging silently swallows the exception and logs with something else. If diagnostics are turned on, the message is:&lt;br/&gt;
    Could not instantiate Log &apos;org.apache.commons.logging.impl.Log4JLogger&apos; &amp;#8211; java.lang.reflect.InvocationTargetException: null&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;future attempts to use log4j directly get a pretty unhelpful error:&lt;br/&gt;
    java.lang.NoClassDefFoundError at org.apache.log4j.Logger.getLogger(Logger.java:117).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I realise you&apos;re trying to deal with a very large number of cases in this code, but it does seem like something better could be done here. If nothing else is possible, at least recognising the InvocationTargetException and pulling out the target exception for the diagnostic log would have helped with tracking this one down.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Various OSs, in combination with log4j 1.2.14.&lt;/p&gt;</environment>
        <key id="12373318">LOGGING-114</key>
            <summary>Silent Swallowing of NoClassDefFoundError</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="dennisl@apache.org">Dennis Lundberg</assignee>
                                    <reporter username="mcleaton">Malcolm Cleaton</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Jul 2007 15:31:18 +0000</created>
                <updated>Thu, 23 Aug 2007 16:36:28 +0000</updated>
                            <resolved>Thu, 23 Aug 2007 16:36:29 +0000</resolved>
                                    <version>1.1.0</version>
                                    <fixVersion>1.1.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12511556" author="dennisl@apache.org" created="Tue, 10 Jul 2007 20:07:00 +0000"  >&lt;p&gt;It is not the job of commons-logging to report on errors regarding the underlying logging implementations failure to configure itself.&lt;/p&gt;

&lt;p&gt;Commons-logging tries its best to send the messages, that the author of a library wants to log, to the logging implementation. Which logging implementation commons-logging sends these messages to is either&lt;br/&gt;
A. configured in commons logging explicitly or&lt;br/&gt;
B. found dynamically&lt;/p&gt;

&lt;p&gt;There is no way for the underlying logging implementation to &quot;tell&quot; commons-logging anything. So if the underlying logging implementation cannot configure itself correctly, as I understand is your situation here, commons-logging can&apos;t do much about it. It is the job of log4j, in this case, to tell you that it cannot load its configuration and from my experience it usually does.&lt;/p&gt;</comment>
                            <comment id="12511699" author="mcleaton" created="Wed, 11 Jul 2007 09:21:01 +0000"  >&lt;p&gt;Hi Dennis.&lt;/p&gt;

&lt;p&gt;Yes, log4j does usually tell you when it cannot load its configuration. In this case it tells me through a NoClassDefFoundError when runtime dependencies fail to load during configuration loading. If commons-logging is not in use, the error is easy to understand and quickly fixed.&lt;/p&gt;

&lt;p&gt;Unfortunately, if commons-logging is the first to try to load log4j, the error is swallowed silently. Since it is a problem during the clinint of the LogManager class, log4j is now broken internally and will not give good errors again - any future use gets incomprehensible errors. What&apos;s more, if commons-logging diagnostics are enabled, the diagnostic error is logged with most of the information missing. But I&apos;m repeating myself here, all this is in the bug report, along with the actual messages involved.&lt;/p&gt;

&lt;p&gt;To understand my problem, imagine the other side of it, which will probably shortly be happening - imagine my attempts to file a bug in log4j on the basis that, if a class can&apos;t be found during configuration loading, they simply allow the NoClassDefFoundError to propagate. How is that wrong?&lt;/p&gt;

&lt;p&gt;But if you&apos;re adamant that silently swallowing this error is also not wrong, it&apos;s not their problem and it&apos;s not your problem. Where does that leave the user? I guess it&apos;s just my problem.&lt;/p&gt;</comment>
                            <comment id="12511709" author="joehni" created="Wed, 11 Jul 2007 10:13:17 +0000"  >&lt;p&gt;IMHO this is really a JCL problem. It detects log4j and tries to use it. It is fine that it searches for something else if log4j is not present. But here it even suppresses a thrown Error that indicates also a problem for JCL. From user&apos;s PoV either the presence of log4j was not expected at all, he failed to configure to Log4J or he failed to configure JCL. In any case he must realize that something is not working as expected.&lt;/p&gt;</comment>
                            <comment id="12511853" author="skitching" created="Wed, 11 Jul 2007 20:21:16 +0000"  >&lt;p&gt;JCL has adopted the principle that logging problems should never stop an app from running. In the past exceptions from logging libs were allowed through JCL in some cases and there were loud user complaints. In many cases, the users didn&apos;t actually &lt;b&gt;want&lt;/b&gt; logging output anyway, and didn&apos;t know how to fix the logging problems because they were complex and involved classloaders with different classpaths etc. So now, JCL &lt;b&gt;never&lt;/b&gt; fails to init. In particular, if log4j is present but cannot be initialised (eg due to classloader problems) JCL quite deliberately ignores this problem and lets the app start.&lt;/p&gt;

&lt;p&gt;If someone really does want logging output but aren&apos;t getting what they expect &lt;b&gt;then&lt;/b&gt; they can turn on JCL diagnostic output to see what&apos;s happening. &lt;/p&gt;

&lt;p&gt;I don&apos;t think there is likely to be agreement for any change to JCL&apos;s behaviour for this.&lt;/p&gt;

&lt;p&gt;Writing problems stuff to stdout etc is also unacceptable when diagnostics are not enabled. Again, this can cause problems for users who don&apos;t actually care about logging output anyway.&lt;/p&gt;

&lt;p&gt;However I would agree that when diagnostics are enabled, JCL should write out the message from the original exception. If it&apos;s not doing this then I would call that a bug.&lt;/p&gt;</comment>
                            <comment id="12511880" author="dennisl@apache.org" created="Wed, 11 Jul 2007 21:45:32 +0000"  >&lt;p&gt;Malcolm,&lt;/p&gt;

&lt;p&gt;Just so I understand your setup fully:&lt;/p&gt;

&lt;p&gt;Do you configure commons-logging in any way? Either via a system property or through the use of a commons-logging.properties file? If yes, please tell us how.&lt;/p&gt;

&lt;p&gt;Do you get any message from log4j, saying that it couldn&apos;t find its configuration file? If yes, what does it say.&lt;/p&gt;

&lt;p&gt;Are you sure that your code that uses commons logging is the one that causes log4j to be loaded? Or could it be that the other library of yours, that use log4j directly, is the first user?&lt;/p&gt;</comment>
                            <comment id="12512008" author="mcleaton" created="Thu, 12 Jul 2007 08:20:55 +0000"  >&lt;p&gt;Dennis: Commons-logging is entirely in its default configuration, no properties are provided. Yes, I&apos;m sure commons-logging is the first to initialize log4j. log4j doesn&apos;t print any messages, but it&apos;s not the case that it can&apos;t find its configuration file. It finds the file, and fails with a NoClassDefFoundError while trying to instantiate the appenders specified in the file. The log4j code doesn&apos;t handle this error, so it doesn&apos;t print anything, just allows the error to propagate.&lt;/p&gt;

&lt;p&gt;Simon: Yes, I agree that&apos;s probably the only fix you can make, although it&apos;s unfortunate that this means the JCL dynamic discovery mechanism can leave anything it fails to load in a broken state, causing very difficult debugging later on. In our case, JCL was being used by our client for very basic logging, so the fact that their logging of our startup error was coming out of the jdk 1.4 logging library rather than log4j made almost no visible difference and was not noticed. Once we&apos;d ruled out the famous classloader problems early on, it took quite a while before JCL came back under suspicion - we didn&apos;t realise it could also cause this kind of problem. Better information in the diagnostic log would indeed be an improvement - but once we&apos;d turned on diagnostics and had that exception with the bad message, we were very near the end of our debugging journey.&lt;/p&gt;

&lt;p&gt;I&apos;ve also raised a bug on log4j, suggesting that, since they already print on stderr when there&apos;s no logging configuration, they could also do so when the clinit of LogManager is about to die: &lt;a href=&quot;http://issues.apache.org/bugzilla/show_bug.cgi?id=42855&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://issues.apache.org/bugzilla/show_bug.cgi?id=42855&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="12517208" author="dennisl@apache.org" created="Thu, 2 Aug 2007 10:48:15 +0000"  >&lt;p&gt;I&apos;m going to try to set up a test case for this issue. Do you think that this setup would reproduce this problem:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Create a small java class that uses commons logging&lt;/li&gt;
	&lt;li&gt;Put log4j in the class path&lt;/li&gt;
	&lt;li&gt;Put a valid configuration for log4j in the class path, that tries to use an smtp appender, which requires activation.jar and mail.jar to be present in the class path&lt;/li&gt;
	&lt;li&gt;Do not put activation.jar and mail.jar in the class path&lt;/li&gt;
	&lt;li&gt;Log a message using commons logging&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;After this do I also need to&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;call log4j directly?&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12517210" author="mcleaton" created="Thu, 2 Aug 2007 11:00:42 +0000"  >&lt;p&gt;Yes.&lt;/p&gt;

&lt;p&gt;Your steps should successfully reproduce a situation where log4j is screwed up, but you won&apos;t see any errors until you try to exercise it. In order to exercise it you&apos;ll have to do it directly, as commons logging will have given up on log4j and be using something else by now.&lt;/p&gt;

&lt;p&gt;Just creating a log4j logger with Logger.getLogger should do it. But make sure not to do this until after logging something with commons logging.&lt;/p&gt;</comment>
                            <comment id="12517484" author="skitching" created="Fri, 3 Aug 2007 08:21:38 +0000"  >&lt;p&gt;Rather than use smtp appender, presumably the log4j config file could also just reference an appender that doesn&apos;t exist, eg &quot;example.no.such.appender&quot;.&lt;/p&gt;

&lt;p&gt;However why should log4j be called directly? I thought the problem is that when JCL is called directly and log4j is not yet initialised, this causes log4j to auto-initialise which then fails.&lt;br/&gt;
JCL then &lt;b&gt;silently&lt;/b&gt; selects a different logging system where it should at least write a message to the diagnostics.&lt;/p&gt;

&lt;p&gt;Presumably this test would need to catch stderr (ie the diagnostics output) and search that output text for a message stating that log4j was not selected because it failed to initialise.&lt;/p&gt;

&lt;p&gt;The test will need to be careful to restore stderr to its original destination in all situations; it would be awkward if the unit test left stderr redirected &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Another useful test might be to check what happens when the commons-logging.properties file explicitly selects log4j and it fails. I don&apos;t actually know what we do in that case (will check...)&lt;/p&gt;</comment>
                            <comment id="12517486" author="mcleaton" created="Fri, 3 Aug 2007 08:27:55 +0000"  >&lt;p&gt;No, the case of an appender which does not exist is handled differently by log4j. It has to be an appender which exists but causes an Error when created, the most common of which is a NoClassDefFoundError when dependent classes are missing. However, any error will do, so an alternative way to test would be to create a trivial appender which raises an error whenever instantiated.&lt;/p&gt;

&lt;p&gt;Yes, if you just want to check that JCL is writing an appropriate error when log4j configuration fails, there&apos;s no need to exercise log4j to test this, obviously. Exercising log4j directly is only necessary if you want to reproduce the original problem.&lt;/p&gt;</comment>
                            <comment id="12517528" author="dennisl@apache.org" created="Fri, 3 Aug 2007 13:34:25 +0000"  >&lt;p&gt;OK, I&apos;ve set up a small test project to test this. Here is the java file:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.logging.Log;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.logging.LogFactory;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.log4j.Logger;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;TestLogging
{
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) {
        Log log = LogFactory.getLog(TestLogging.class);
        log.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;commons-logging logs something&quot;&lt;/span&gt;);
        Logger logger = Logger.getLogger(&lt;span class=&quot;code-quote&quot;&gt;&quot;myLog4jLogger&quot;&lt;/span&gt;);
        logger.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;log4j logs something&quot;&lt;/span&gt;);
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;Log4j is present in the classpath along with commons-logging 1.1 or 1.1.1-SNAPSHOT (I tried both) and there is a commons-logging.properties file that tells commons-logging to use log4j. There is also a log4j.xml file that configures a DailyRollingFileAppender and an SMTPAppender. Neither activation.jar or mail.jar is present.&lt;/p&gt;

&lt;p&gt;However, when I run this I get the following output on the console (with or without Diagnostic Logging):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; org.apache.commons.logging.LogConfigurationException: User-specified log class &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.commons.logging.impl.Log4JLogger&apos;&lt;/span&gt; cannot be found or is not useable.
        at org.apache.commons.logging.impl.LogFactoryImpl.discoverLogImplementation(LogFactoryImpl.java:798)
        at org.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:601)
        at org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:333)
        at org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:307)
        at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:645)
        at TestLogging.main(TestLogging.java:25)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Is that not good enough or am I missing something here?&lt;/p&gt;

&lt;p&gt;If I comment out the SMTPAppender in the configuration file everything works and two log entries are output to the file every time the program runs.&lt;/p&gt;</comment>
                            <comment id="12517531" author="mcleaton" created="Fri, 3 Aug 2007 13:45:51 +0000"  >&lt;p&gt;&amp;gt; there is a commons-logging.properties file that tells commons-logging to use log4j&lt;/p&gt;

&lt;p&gt;This is the difference. In my case there was no such commons-logging.properties file. I suspect this is what causes a visible error when log4j is unusable.&lt;/p&gt;</comment>
                            <comment id="12517545" author="dennisl@apache.org" created="Fri, 3 Aug 2007 14:22:36 +0000"  >&lt;p&gt;If I remove the commons-logging.properties file I get this output on the console (same with or without Diagniostic Logging)&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2007-aug-03 16:18:19 TestLogging main
INFO: commons-logging logs something
Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; java.lang.NoClassDefFoundError
        at org.apache.log4j.Logger.getLogger(Logger.java:104)
        at TestLogging.main(TestLogging.java:27)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can see here that commons-logging is using java.util.logging instead. But I do get an exception telling me that log4j is missing some class. Is this the message that you are getting as well?&lt;/p&gt;</comment>
                            <comment id="12517547" author="mcleaton" created="Fri, 3 Aug 2007 14:26:45 +0000"  >&lt;p&gt;Yes, that&apos;s the one. We were getting java.lang.NoClassDefFoundError at org.apache.log4j.Logger.getLogger(Logger.java:117), but I believe that difference is just using a class rather than a string to create the Logger, it&apos;s the same underlying error.&lt;/p&gt;</comment>
                            <comment id="12517554" author="dennisl@apache.org" created="Fri, 3 Aug 2007 15:00:07 +0000"  >&lt;p&gt;Yea, I get line 117 as well if I switch to use a Class.&lt;/p&gt;

&lt;p&gt;With Diagnostic Logging turned on I get the following output, which states that commons-logging was unable to instantiate the log4j logging implementation due to a NoClassDefFoundError: javax/mail/Multipart&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[LogFactoryImpl@18426253 from sun.misc.Launcher$AppClassLoader@5487165] Attempting to instantiate &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.commons.logging.impl.Log4JLogger&apos;&lt;/span&gt;
[LogFactoryImpl@18426253 from sun.misc.Launcher$AppClassLoader@5487165] Trying to load &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.commons.logging.impl.Log4JLogger&apos;&lt;/span&gt;
  from classloader sun.misc.Launcher$AppClassLoader@5487165
[LogFactoryImpl@18426253 from sun.misc.Launcher$AppClassLoader@5487165] &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.commons.logging.impl.Log4JLogger&apos;&lt;/span&gt; was found at
  &lt;span class=&quot;code-quote&quot;&gt;&apos;jar:file:/G:/test/LOGGING-114/target/commons-logging-1.1.1-SNAPSHOT.jar!/org/apache/commons/logging/impl/Log4JLogger.class&apos;&lt;/span&gt;
[LogFactoryImpl@18426253 from sun.misc.Launcher$AppClassLoader@5487165] Could not instantiate Log &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.commons.logging.impl.Log4JLogger&apos;&lt;/span&gt; --
  java.lang.reflect.InvocationTargetException: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
[LogFactoryImpl@18426253 from sun.misc.Launcher$AppClassLoader@5487165] ... InvocationTargetException: java.lang.NoClassDefFoundError: javax/mail/Multipart
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12521875" author="bayard" created="Wed, 22 Aug 2007 17:55:16 +0000"  >&lt;p&gt;Is this issue going to be a &apos;WONTFIX&apos; then?&lt;/p&gt;</comment>
                            <comment id="12521920" author="dennisl@apache.org" created="Wed, 22 Aug 2007 20:25:07 +0000"  >&lt;p&gt;That is my current standpoint.&lt;br/&gt;
I was hoping to hear back from Malcolm before closing this as won&apos;t fix.&lt;/p&gt;</comment>
                            <comment id="12522053" author="mcleaton" created="Thu, 23 Aug 2007 07:56:35 +0000"  >&lt;p&gt;Sorry, distracted.&lt;/p&gt;

&lt;p&gt;Yes, I see that the bad reporting of the InvocationTargetException we set out to fix here is in fact a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/LOGGING-111&quot; title=&quot;Small patch to make debugging easier&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOGGING-111&quot;&gt;&lt;del&gt;LOGGING-111&lt;/del&gt;&lt;/a&gt;. I attempted to verify that the latest code exhibited the same behaviour before reporting the problem, but obviously I&apos;ve suffered a brainfart there, as it&apos;s been fixed for some time. Apologies for wasting time with a duplicate issue.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12356053">LOGGING-111</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148292</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 12 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7jr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74999</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-108] Classloader reference leak on Tomcat 5.5.17 with log4j in webapp</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-108</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;Some Tomcat Jasper implementation classes are initialized (that mean static fields and static initializer) when the current thread has the webapp classloader set as the context classloader.&lt;/p&gt;

&lt;p&gt;An example of this is org.apache.jasper.runtime.PageContextImpl&lt;/p&gt;

&lt;p&gt;If the first JSP page rendered on a freshly started Tomcat 5.5.17 is for a webapp that contains the configuration described in the &quot;Environment&quot; section above, a leak will occur:&lt;/p&gt;

&lt;p&gt;The class PageContextImpl (loader by CL above Webapp classloader in delegation chain) stays loaded for the duration of the JVM&lt;br/&gt;
The &quot;log&quot; field in this class refers to a class loaded from a WebappClassloader.&lt;/p&gt;

&lt;p&gt;This produces a classloader reference leak to the webapp, even after undeployment.&lt;/p&gt;



</description>
                <environment>&lt;p&gt;JDK 1.5.0_07, Tomcat 5.5.17&lt;br/&gt;
commons-logging-api-1.1.jar is configured for the Tomcat bootstrap&lt;br/&gt;
commons-logging-adapters-1.1.jar is deployed with a webapp&lt;br/&gt;
log4j-1.2.11 is deployed with webapp&lt;/p&gt;

&lt;p&gt;This is the configuration specifically described in the release notes for 1.1:&lt;/p&gt;

&lt;p&gt;&quot; New jar file commons-logging-adapters-xxx.jar is now provided. This can be&lt;br/&gt;
  used to resolve class cast conflicts where parts of commons-logging are&lt;br/&gt;
  deployed via different classloaders. It is not expected to be frequently&lt;br/&gt;
  used; it is only necessary in situations where a container has deployed&lt;br/&gt;
  commons-logging-api.jar and a webapp wants to bind to a third-party&lt;br/&gt;
  logging implementation such as log4j. In this case, the webapp can&lt;br/&gt;
  experience problems if it deploys commons-logging.jar as this causes&lt;br/&gt;
  duplicates of the core commons-logging classes, but commons-logging-adapters&lt;br/&gt;
  can be safely used.&quot;&lt;/p&gt;</environment>
        <key id="12345066">LOGGING-108</key>
            <summary>Classloader reference leak on Tomcat 5.5.17 with log4j in webapp</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="taras.tielkes">Taras Tielkes</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 Jun 2006 01:47:10 +0000</created>
                <updated>Wed, 3 Jan 2007 01:21:33 +0000</updated>
                            <resolved>Wed, 3 Jan 2007 01:21:33 +0000</resolved>
                                    <version>1.1.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12418087" author="taras.tielkes" created="Wed, 28 Jun 2006 01:55:04 +0000"  >&lt;p&gt;Screenshot from commercial JVMTI tool (YourKit) showing the reference graph from a GC, through the leak described, to the user deployed classes.&lt;/p&gt;

&lt;p&gt;JVMTI memory snapshot was taken after application undeployment (otherwise you see more GC roots)&lt;/p&gt;</comment>
                            <comment id="12418088" author="taras.tielkes" created="Wed, 28 Jun 2006 01:56:02 +0000"  >&lt;p&gt;Last comment (screenshot description) should read: ...showing the reference graph from a GC root, through...&lt;/p&gt;</comment>
                            <comment id="12418089" author="taras.tielkes" created="Wed, 28 Jun 2006 01:59:12 +0000"  >&lt;p&gt;Last comment: in this case I need to load the log4j adapter classes from WEB-INF\lib, and cannot use &quot;use_tccl=false&quot; (I think)&lt;/p&gt;</comment>
                            <comment id="12418592" author="taras.tielkes" created="Fri, 30 Jun 2006 16:21:50 +0000"  >&lt;p&gt;Here&apos;s some proof this is happening.&lt;/p&gt;

&lt;p&gt;Change the following code (package org.apache.jasper.runtime):&lt;br/&gt;
----------------------&lt;br/&gt;
    // Logger&lt;br/&gt;
    private static Log log = LogFactory.getLog(PageContextImpl.class);&lt;br/&gt;
----------------------&lt;/p&gt;

&lt;p&gt;to this:&lt;/p&gt;

&lt;p&gt;----------------------&lt;br/&gt;
    // Logger&lt;br/&gt;
    private static Log log;&lt;/p&gt;

&lt;p&gt;    static &lt;/p&gt;
{
	System.err.println(&quot;&amp;gt;&amp;gt; CCL loader: &quot; + Thread.currentThread().getContextClassLoader().getClass().getCanonicalName());
	System.err.println(&quot;&amp;gt;&amp;gt; our loader: &quot; + PageContextImpl.class.getClassLoader().getClass().getCanonicalName());
	log = LogFactory.getLog(PageContextImpl.class);
	System.err.println(&quot;&amp;gt;&amp;gt; log loader: &quot; + log.getClass().getClassLoader().getClass().getCanonicalName());
    }
&lt;p&gt;----------------------&lt;/p&gt;

&lt;p&gt;You&apos;ll see the following output (on the console) the first time a JSP page is rendered:&lt;br/&gt;
----------------------&lt;br/&gt;
...&lt;br/&gt;
&amp;gt;&amp;gt; CCL loader: org.apache.catalina.loader.WebappClassLoader&lt;br/&gt;
&amp;gt;&amp;gt; our loader: org.apache.catalina.loader.StandardClassLoader&lt;br/&gt;
&amp;gt;&amp;gt; log loader: org.apache.catalina.loader.WebappClassLoader&lt;br/&gt;
...&lt;br/&gt;
----------------------&lt;br/&gt;
You can see that the current class (PageContextImpl) was loaded by a container classloader (above the webapp CL).&lt;br/&gt;
You also see that commons-logging 1.1 used the context classloader to find an implementation of Log.&lt;/p&gt;

&lt;p&gt;Since the PageContextImpl class will never be unloaded while Tomcat runs, a WebappClassLoader leak is the result.&lt;/p&gt;</comment>
                            <comment id="12422527" author="skitching" created="Fri, 21 Jul 2006 01:37:21 +0000"  >&lt;p&gt;Thanks for reporting this. Your analyis is excellent, thanks.&lt;/p&gt;

&lt;p&gt;however I think this is really the responsibility of the tomcat/jasper team to fix, though. As you say, jasper classes present in the container classpath contain static references to Log objects, and this is just plain wrong:&lt;br/&gt;
  &lt;a href=&quot;http://wiki.apache.org/jakarta-commons/Logging/StaticLog&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://wiki.apache.org/jakarta-commons/Logging/StaticLog&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Any sane logging library is going to have problems if this is done. The fix is probably to make that Log member non-static.&lt;/p&gt;

&lt;p&gt;One solution is to remove all commons-logging libs from the webapp completely (and ensure log4j is deployed at the container level). In this setup, the only log4j adapter class (Log4JLogger) is the one loaded by the container classloader so its existence won&apos;t lock the webapp classloader. However that does mean you lose the ability to configure your logging per-webapp.&lt;/p&gt;

&lt;p&gt;Actually, log4j does have its own approach to providing per-webapp configurability, even when only one instance of log4j is in the classpath. See:&lt;br/&gt;
  &lt;a href=&quot;http://www.qos.ch/logging/sc.jsp&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.qos.ch/logging/sc.jsp&lt;/a&gt;&lt;br/&gt;
Here&apos;s another example using log4j&apos;s hierachy stuff:&lt;br/&gt;
  &lt;a href=&quot;http://wiki.jboss.org/wiki/Wiki.jsp?page=Log4jRepositorySelector&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://wiki.jboss.org/wiki/Wiki.jsp?page=Log4jRepositorySelector&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;In both cases, the code doesn&apos;t look quite right to me; It holds a HashMap keyed by context classloader, so that will effectively lock the webapp classloader &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. A weak hashmap should do the trick though, in most cases. Or a ContextListener in your webapp that calls a method on the selector class to clear out the entry for the webapp classloader.&lt;/p&gt;</comment>
                            <comment id="12461886" author="skitching" created="Wed, 3 Jan 2007 01:21:33 +0000"  >&lt;p&gt;As no responses were received on my last comment, closing as wontfix (tomcat/jasper issue, not JCL issue).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12336015" name="path.gif" size="1164910" author="taras.tielkes" created="Wed, 28 Jun 2006 01:55:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148286</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 45 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7jz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75000</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-107] AccessController use</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-107</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;A problem has been reported with 1.1 by Aaron Bruegl on 6/6/06. An AccessControlException is being thrown in an applet invoked from javascript even when the logging lib has been signed and granted permissions.&lt;/p&gt;

&lt;p&gt;LogFactoryImpl.java:1250 in the 1.1 release has this line:&lt;br/&gt;
            // try the parent classloader&lt;br/&gt;
            currentCL = currentCL.getParent();&lt;br/&gt;
which does seem to be a likely cause for the exception.&lt;/p&gt;

&lt;p&gt;This code should be executed under an AccessController, so that granting the logging jar the appropriate permissions can fix the problem; without this, all calling code also needs to have that permission.&lt;/p&gt;

&lt;p&gt;Maybe we should wrap method discoverLogImplementation in an AccessController, covering all cases like this?&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12344659">LOGGING-107</key>
            <summary>AccessController use</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="skitching">Simon Kitching</assignee>
                                    <reporter username="skitching">Simon Kitching</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Jun 2006 18:50:28 +0000</created>
                <updated>Wed, 14 Nov 2007 22:39:57 +0000</updated>
                            <resolved>Sun, 19 Nov 2006 09:19:50 +0000</resolved>
                                    <version>1.1.0</version>
                                    <fixVersion>1.1.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148285</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 21 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7k7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75001</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-106] AccessControlException when loading LogFactory class without system properties permission</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-106</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;The LogFactory static initializer calls createFactoryStore which calls System.getProperty. If the class doesn&apos;t have access rights to see system properties (eg when in an applet) then the LogFactory class cannot load, and hence the app is completely stuffed.&lt;/p&gt;

&lt;p&gt;I think the system property access should be wrapped in a try/catch, with any access failure behaving as if the propery is not set.&lt;/p&gt;

&lt;p&gt;In addition, we might want to use an AccessController in the static block so that a signed logging jar can be granted system property access &lt;span class=&quot;error&quot;&gt;&amp;#91;without having to grant all its callers that permission too&amp;#93;&lt;/span&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12344658">LOGGING-106</key>
            <summary>AccessControlException when loading LogFactory class without system properties permission</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="skitching">Simon Kitching</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Jun 2006 18:20:33 +0000</created>
                <updated>Sun, 19 Nov 2006 09:09:48 +0000</updated>
                            <resolved>Sun, 19 Nov 2006 09:09:37 +0000</resolved>
                                    <version>1.1.0</version>
                                    <fixVersion>1.1.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12451130" author="skitching" created="Sun, 19 Nov 2006 09:08:37 +0000"  >&lt;p&gt;Fixed by SVN r423654.&lt;/p&gt;

&lt;p&gt;Re the last paragraph above, using an AccessController too broadly is a security risk so this should not be done.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148284</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 51 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7kf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75002</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-105] Implementation dependencies should be set to runtime scope</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-105</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;The logkit, log4j, and avalon-framework dependencies listed in the commons-logging-1.1.pom Maven2 POM should have their scopes set to runtime  or otherwise be set to optional.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12343735">LOGGING-105</key>
            <summary>Implementation dependencies should be set to runtime scope</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="michaelh@sptech.com">Michael Hartman</reporter>
                        <labels>
                    </labels>
                <created>Wed, 31 May 2006 23:30:40 +0000</created>
                <updated>Wed, 2 Jan 2008 07:48:36 +0000</updated>
                            <resolved>Thu, 1 Jun 2006 23:46:31 +0000</resolved>
                                    <version>1.1.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12414257" author="robertburrelldonkin" created="Thu, 1 Jun 2006 23:46:31 +0000"  >&lt;p&gt;JCL does not fit nicely into the Maven2 dependency management scheme so this creating a good POM difficult. The Commons team does not maintain the Maven2 POMs for JCL.  Please add any comments you have to &lt;a href=&quot;http://jira.codehaus.org/browse/MEV-392&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jira.codehaus.org/browse/MEV-392&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12370130">LOGGING-113</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148283</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7kn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75003</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-80] [logging][PATCH] Javadoc for jul.Log interface</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-80</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;Added missing return types.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12342940">LOGGING-80</key>
            <summary>[logging][PATCH] Javadoc for jul.Log interface</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="boris.unckel.mlg@gmx.net">Boris Unckel</reporter>
                        <labels>
                    </labels>
                <created>Sat, 25 Feb 2006 20:48:54 +0000</created>
                <updated>Sat, 18 Nov 2006 12:52:35 +0000</updated>
                            <resolved>Sat, 18 Nov 2006 12:52:35 +0000</resolved>
                                    <version>1.0.4</version>
                                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12411510" author="boris.unckel.mlg@gmx.net" created="Sat, 25 Feb 2006 20:50:03 +0000"  >&lt;p&gt;Created an attachment (id=17797)&lt;br/&gt;
Javadoc - missing return types&lt;/p&gt;</comment>
                            <comment id="12411511" author="skitching" created="Wed, 1 Mar 2006 08:57:27 +0000"  >&lt;p&gt;Patch committed. Thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12334045" name="ASF.LICENSE.NOT.GRANTED--Log_javadoc.patch" size="2310" author="boris.unckel.mlg@gmx.net" created="Sat, 25 Feb 2006 20:50:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38783</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148258</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 37 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7kv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75004</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-79] [logging] Online JCL 1.0.4 API Javadoc missing</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-79</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;I searched to see if someone has posted about this, so sorry if it has&lt;br/&gt;
already been reported.  The root for the API Javadoc of Commons Logging&lt;br/&gt;
1.0.4 is empty:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://jakarta.apache.org/commons/logging/api/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jakarta.apache.org/commons/logging/api/&lt;/a&gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12342697">LOGGING-79</key>
            <summary>[logging] Online JCL 1.0.4 API Javadoc missing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="barry@alltc.com">Barry Hawkins</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Nov 2005 14:00:08 +0000</created>
                <updated>Tue, 29 Dec 2009 14:22:36 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 14:22:36 +0000</resolved>
                                    <version>1.0.4</version>
                                    <fixVersion>1.0.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12410832" author="dennisl@apache.org" created="Thu, 10 Nov 2005 06:25:54 +0000"  >&lt;p&gt;Here&apos;s a more detailed description.&lt;/p&gt;

&lt;p&gt;Start from the commons-logging home page&lt;br/&gt;
 &lt;a href=&quot;http://jakarta.apache.org/commons/logging/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jakarta.apache.org/commons/logging/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Navigate through the menus&lt;br/&gt;
/Commons Logging&lt;br/&gt;
    ...&lt;br/&gt;
    /1.0.4 Release&lt;br/&gt;
        /Documentation &lt;/p&gt;

&lt;p&gt;This page&lt;br/&gt;
 &lt;a href=&quot;http://jakarta.apache.org/commons/logging/commons-logging-1.0.4/docs/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jakarta.apache.org/commons/logging/commons-logging-1.0.4/docs/&lt;/a&gt;&lt;br/&gt;
has a broken link.&lt;br/&gt;
The link text is &quot;JavaDoc API documents&quot; and the URL is&lt;br/&gt;
 &lt;a href=&quot;http://jakarta.apache.org/commons/logging/api/index.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jakarta.apache.org/commons/logging/api/index.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The correct URL for this should be&lt;br/&gt;
 &lt;a href=&quot;http://jakarta.apache.org/commons/logging/commons-logging-1.0.4/docs/apidocs/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jakarta.apache.org/commons/logging/commons-logging-1.0.4/docs/apidocs/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12410833" author="skitching" created="Wed, 18 Jan 2006 13:03:28 +0000"  >&lt;p&gt;The docs are there now, so closing.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37420</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148257</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 43 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7l3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75005</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-78] [logging] The Log4JCategoryLog class does not get Serialized in WLS 8.1. Given below is the stackTrace</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-78</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;ava.io.NotSerializableException: org.apache.commons.logging.impl.Log4JCategoryL&lt;br/&gt;
og&lt;br/&gt;
        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1054)&lt;br/&gt;
        at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java&lt;br/&gt;
:1330)&lt;br/&gt;
        at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:13&lt;br/&gt;
02)&lt;br/&gt;
        at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.jav&lt;br/&gt;
a:1245)&lt;br/&gt;
        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1052)&lt;br/&gt;
        at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java&lt;br/&gt;
:1330)&lt;br/&gt;
        at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:13&lt;br/&gt;
02)&lt;br/&gt;
        at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.jav&lt;br/&gt;
a:1245)&lt;br/&gt;
        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1052)&lt;br/&gt;
        at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:278)&lt;br/&gt;
        at java.util.ArrayList.writeObject(ArrayList.java:530)&lt;br/&gt;
        at sun.reflect.GeneratedMethodAccessor278.invoke(Unknown Source)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces&lt;br/&gt;
sorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:324)&lt;br/&gt;
        at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:79&lt;br/&gt;
5)&lt;br/&gt;
        at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:12&lt;br/&gt;
94)&lt;br/&gt;
        at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.jav&lt;br/&gt;
a:1245)&lt;br/&gt;
        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1052)&lt;br/&gt;
        at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java&lt;br/&gt;
:1330)&lt;br/&gt;
        at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:13&lt;br/&gt;
02)&lt;br/&gt;
        at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.jav&lt;br/&gt;
a:1245)&lt;br/&gt;
        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1052)&lt;br/&gt;
        at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java&lt;br/&gt;
:1330)&lt;br/&gt;
        at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:13&lt;br/&gt;
02)&lt;br/&gt;
        at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.jav&lt;br/&gt;
a:1245)&lt;br/&gt;
        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1052)&lt;br/&gt;
        at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java&lt;br/&gt;
:1330)&lt;br/&gt;
        at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:13&lt;br/&gt;
02)&lt;br/&gt;
        at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.jav&lt;br/&gt;
a:1245)&lt;br/&gt;
        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1052)&lt;br/&gt;
        at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:278)&lt;br/&gt;
        at weblogic.rmi.internal.CBVOutputStream.writeObject(CBVOutputStream.jav&lt;br/&gt;
a:78)&lt;br/&gt;
        at weblogic.rmi.internal.ServerRequest.unmarshalThrowable(ServerRequest.&lt;br/&gt;
java:327)&lt;br/&gt;
        at weblogic.rmi.internal.ServerRequest.getThrowable(ServerRequest.java:5&lt;br/&gt;
9)&lt;br/&gt;
        at weblogic.rmi.internal.ServerRequest.sendReceive(ServerRequest.java:18&lt;br/&gt;
4)&lt;br/&gt;
        at weblogic.rmi.cluster.ReplicaAwareRemoteRef.invoke(ReplicaAwareRemoteR&lt;br/&gt;
ef.java:284)&lt;br/&gt;
        at weblogic.rmi.cluster.ReplicaAwareRemoteRef.invoke(ReplicaAwareRemoteR&lt;br/&gt;
ef.java:244)&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Solaris&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341251">LOGGING-78</key>
            <summary>[logging] The Log4JCategoryLog class does not get Serialized in WLS 8.1. Given below is the stackTrace</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="prashanth_kumar@dstinnovis.com">Prashanth</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Feb 2004 03:36:45 +0000</created>
                <updated>Tue, 29 Dec 2009 14:21:53 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 14:21:53 +0000</resolved>
                                                    <fixVersion>1.0.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12405952" author="dennisl@apache.org" created="Sat, 28 Feb 2004 05:29:45 +0000"  >&lt;p&gt;This is fixed in cvs for org.apache.commons.logging.impl.Log4JLogger.&lt;br/&gt;
You should use Log4JLogger instead of Log4JCategoryLog, because the latter has&lt;br/&gt;
been deprecated.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>26802</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148256</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 37 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7lb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75006</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-77] The syntax error exists in the sample code of package-summary.html</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-77</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;The syntax error exists in the sample code of package-summary.html.&lt;br/&gt;
&lt;a href=&quot;http://jakarta.apache.org/commons/logging/apidocs/org/apache/commons/logging/pac&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jakarta.apache.org/commons/logging/apidocs/org/apache/commons/logging/pac&lt;/a&gt;&lt;br/&gt;
kage-summary.html&lt;br/&gt;
A problem is in the contents of a Quick Start Guide section. &lt;/p&gt;

&lt;p&gt;    Log log = LogFactory.getLog(this.class);&lt;/p&gt;

&lt;p&gt;&quot;this.class&quot; shold be &quot;this.getClass()&quot;, &quot;Foo.class&quot; or something else.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341133">LOGGING-77</key>
            <summary>The syntax error exists in the sample code of package-summary.html</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="onorat@javapro.jp">onorat</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Dec 2003 19:52:15 +0000</created>
                <updated>Wed, 2 Jan 2008 07:48:31 +0000</updated>
                            <resolved>Wed, 2 Jan 2008 07:48:31 +0000</resolved>
                                    <version>1.0.3</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12405577" author="dennisl@apache.org" created="Wed, 7 Jan 2004 10:19:56 +0000"  >

&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;This bug has been marked as a duplicate of 18889 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>25135</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148255</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 45 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7lj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75007</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-76] Jdk14Logger Throws NullPointerException</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-76</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;When passed a null reference to all of the logging methods, a NullPointer&lt;br/&gt;
exception will result at the .toString() method call.  I changed all of the &lt;/p&gt;

&lt;p&gt;  message.toString()&lt;/p&gt;

&lt;p&gt;to &lt;/p&gt;

&lt;p&gt;  String.valueOf(message)&lt;/p&gt;

&lt;p&gt;This was obsfucating another error in Struts.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12340262">LOGGING-76</key>
            <summary>Jdk14Logger Throws NullPointerException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="glm@hilbertinc.com">Gary Murphy</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 Jul 2002 20:05:07 +0000</created>
                <updated>Tue, 29 Dec 2009 17:05:18 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 17:05:18 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>1.0.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12402743" author="glm@hilbertinc.com" created="Fri, 12 Jul 2002 20:06:19 +0000"  >&lt;p&gt;Created an attachment (id=2328)&lt;br/&gt;
Changed code to avoid NullPointerException&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12331985" name="ASF.LICENSE.NOT.GRANTED--Jdk14Logger.java" size="7535" author="glm@hilbertinc.com" created="Fri, 12 Jul 2002 20:06:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>10737</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148254</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            23 years, 18 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7lr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75008</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-75] [logging] LogFactory is not thread-safe</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-75</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;the LogFactory class is not thread-safe. All access to the factories variable &lt;br/&gt;
should be in synchronized code. This is sometimes the case (like in the &lt;br/&gt;
LogFactory.releasXXX() methods), but in the LogFactory.getFactory() method, &lt;br/&gt;
this variable is accessed in a non-synchronized way.&lt;/p&gt;

&lt;p&gt;regards,&lt;br/&gt;
Maarten&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342816">LOGGING-75</key>
            <summary>[logging] LogFactory is not thread-safe</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="maartenc">Maarten Coene</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Dec 2005 18:23:14 +0000</created>
                <updated>Tue, 29 Dec 2009 14:27:02 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 14:27:02 +0000</resolved>
                                                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12411120" author="skitching" created="Wed, 18 Jan 2006 13:18:22 +0000"  >&lt;p&gt;I don&apos;t believe this issue is valid. The Hashtable javadoc specifies that this&lt;br/&gt;
class is internally synchronized (ie already thread-safe) which will prevent&lt;br/&gt;
race conditions between concurrent calls to get/put.&lt;/p&gt;

&lt;p&gt;There is potentially an issue with the removeAll method, as a&lt;br/&gt;
ConcurrentModificationException could occur if one thread is in removeAll while&lt;br/&gt;
another is adding an entry to the table. However removeAll should only ever be&lt;br/&gt;
called by the container during container shutdown so this is not expected to&lt;br/&gt;
ever be possible in practice.&lt;/p&gt;

&lt;p&gt;Adding synchronisation everywhere just to avoid a theoretical conflict with&lt;br/&gt;
removeAll isn&apos;t a good idea; that&apos;s a significant performance hit.&lt;/p&gt;

&lt;p&gt;If I&apos;ve got this wrong, please let me know. Otherwise I will close this issue in&lt;br/&gt;
a couple of days.&lt;/p&gt;</comment>
                            <comment id="12411121" author="nbeyer" created="Wed, 18 Jan 2006 13:58:12 +0000"  >&lt;p&gt;The Hashtable is synchronized using synchronized keywords on the methods, which&lt;br/&gt;
means that that lock object is the instance itself. As such, everything is&lt;br/&gt;
waiting on the same lock, so releaseAll is safe because it synchronizes on the&lt;br/&gt;
instance before manipulating anything and the other mutation points, like the&lt;br/&gt;
cacheFactory method would be blocked during a Hashtable.put if releaseAll were&lt;br/&gt;
in process.&lt;/p&gt;</comment>
                            <comment id="12411122" author="maartenc" created="Thu, 19 Jan 2006 04:49:10 +0000"  >&lt;p&gt;The releaseXXX() methods are safe, but the getFactory() is not.&lt;/p&gt;

&lt;p&gt;It is possible that 2 threads calling the getFactory() method will receive &lt;br/&gt;
different LogFactory instances for the same classloader. I&apos;m not saying that &lt;br/&gt;
you should make getFactory() synchronized, but you should say more explicitly &lt;br/&gt;
in the javadoc that the getFactory() method not necessarely returns the same &lt;br/&gt;
factory instance in a multithreaded environment.&lt;/p&gt;

&lt;p&gt;Consider the following simple scenario:&lt;br/&gt;
No Factory has been created yet. 2 Different threads have just been started. &lt;br/&gt;
Thread1 calls LogFactory.getFactory(). This method will look in the cache, but &lt;br/&gt;
since it is the first time the factory is retrieved, the cache will return &lt;br/&gt;
null and the thread will continue creating the factory instance. In the middle &lt;br/&gt;
of the getFactory() method, thread1 is suspended and thread2 becomes active. &lt;br/&gt;
Thread2 calls getFactory(). The cache still returns null! (Thread1 didn&apos;t put &lt;br/&gt;
the factory instance in the cache yet). So thread2 will continue creating a &lt;br/&gt;
new factory instance. Both threads will end up having their own instance of a &lt;br/&gt;
LogFactory. One of them is cached, the other not.&lt;/p&gt;

&lt;p&gt;In most cases, this is no big deal: it&apos;s just an instance of a factory that &lt;br/&gt;
has been created too much. This won&apos;t cause problems in &amp;gt; 99% of the &lt;br/&gt;
applications.&lt;/p&gt;

&lt;p&gt;But it could get worse: if you now call LogFactory.releaseAll(), one instance &lt;br/&gt;
of the factory won&apos;t be released at all (because it&apos;s not present in the &lt;br/&gt;
cache)! If your factory implementation consumes a lot of resources, this could &lt;br/&gt;
cause a serious negative impact on your system.&lt;/p&gt;

&lt;p&gt;regards,&lt;br/&gt;
Maarten&lt;/p&gt;</comment>
                            <comment id="12411123" author="rdonkin@apache.org" created="Thu, 19 Jan 2006 06:59:57 +0000"  >&lt;p&gt;I agree that the performance advantages outweight the downside but it should be&lt;br/&gt;
documented. I&apos;ve committed a note to the getFactory method javadocs which should&lt;br/&gt;
be suitable.&lt;/p&gt;

&lt;p&gt;Please check and if not satisfactory the please reopen and attach a patch for&lt;br/&gt;
the documentation.&lt;/p&gt;

&lt;p&gt;Robert&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38026</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148253</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 43 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7lz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75009</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-74] Commons logging jar files causes weblogic to throw errors</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-74</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;Hi I get StringIndexOutOfBounds Exception when I place commons-logging.jar and &lt;br/&gt;
commons-logging-api.jar in the WEB-INF/lib folder of my weblogic 6.1 &lt;br/&gt;
application.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Sun&lt;/p&gt;</environment>
        <key id="12340690">LOGGING-74</key>
            <summary>Commons logging jar files causes weblogic to throw errors</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="avinay_2000@yahoo.com">Vinay Agarwal</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Apr 2003 23:37:22 +0000</created>
                <updated>Tue, 29 Dec 2009 16:29:22 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 16:29:22 +0000</resolved>
                                    <version>1.0.3</version>
                                    <fixVersion>1.0.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12404175" author="avinay_2000@yahoo.com" created="Mon, 28 Apr 2003 23:40:14 +0000"  >&lt;p&gt;This happens for commons logging 1.0.3&lt;/p&gt;</comment>
                            <comment id="12404176" author="craig.mcclanahan@sun.com" created="Tue, 29 Apr 2003 00:26:30 +0000"  >&lt;p&gt;It&apos;s pretty much impossible for anyone to help you with this, unless you can&lt;br/&gt;
post a stack trace, details of how you&apos;re configuring commons-logging, and (best&lt;br/&gt;
of all) a small webapp that illustrates the problem.&lt;/p&gt;

&lt;p&gt;Without those, this bug report is likely to get closed with no action.&lt;/p&gt;</comment>
                            <comment id="12404177" author="avinay_2000@yahoo.com" created="Tue, 29 Apr 2003 01:57:18 +0000"  >&lt;p&gt;Please refer Bug# 19108. Seems this bug is not yet fixed and reappears for &lt;br/&gt;
commons logging 1.0.3&lt;/p&gt;
</comment>
                            <comment id="12404178" author="mohankishore@yahoo.com" created="Wed, 30 Apr 2003 01:33:27 +0000"  >&lt;p&gt;Can you try using the jar from the nightly build. The message stack seem to &lt;br/&gt;
indicate that the problem was due to presence of log4j.jar entry in commons-&lt;br/&gt;
logging.jar&apos;s manifest file.&lt;/p&gt;

&lt;p&gt;That has been fixed on Apr 17, Rev1.4 (after the 1.0.3 release - Rev1.3)&lt;/p&gt;</comment>
                            <comment id="12404179" author="craig.mcclanahan@sun.com" created="Sun, 17 Aug 2003 08:54:06 +0000"  >&lt;p&gt;The classpath entry in the JAR file has been removed, so I am presuming that&lt;br/&gt;
this is no longer an issue.  Please re-open the report (with a stack trace) if&lt;br/&gt;
that is not the case.&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19390</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148252</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 13 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7m7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75010</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-73] [logging] TCCL problem in J2EE Container</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-73</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;Everybody that uses commons-logging in an J2EE Container (especially jboss) has&lt;br/&gt;
problems when the TCCL is not the same as the current ClassLoader. The solution&lt;br/&gt;
cannot be to drop the commons-logging.jar out of the ear/war file, as it would&lt;br/&gt;
prevent to have an application specific logging instance.&lt;/p&gt;

&lt;p&gt;Commons-logging preferes the TCCL which is OK. But if it finds a Logger in the&lt;br/&gt;
TCCL that does not fit to the current Log interface it throws an error instead&lt;br/&gt;
of trying the current CL.&lt;/p&gt;

&lt;p&gt;I propose to change this. I will attach a changed LogFactoryImpl.java. The&lt;br/&gt;
changed factory still prefers TCCL, but will try the current class loader if the&lt;br/&gt;
LOG_INTERFACE is not assignable for the class found via TCCL.&lt;/p&gt;

&lt;p&gt;It allows us to run more painlessly in an J2EE Container and to keep&lt;br/&gt;
commons-logging class loader preferences.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342380">LOGGING-73</key>
            <summary>[logging] TCCL problem in J2EE Container</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mkopp">Michael Kopp</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 Jul 2005 19:00:14 +0000</created>
                <updated>Tue, 29 Dec 2009 22:17:29 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 22:17:29 +0000</resolved>
                                    <version>1.0.4</version>
                                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12409821" author="mkopp" created="Mon, 18 Jul 2005 19:01:23 +0000"  >&lt;p&gt;Created an attachment (id=15695)&lt;br/&gt;
proposed patch&lt;/p&gt;</comment>
                            <comment id="12409822" author="skitching" created="Mon, 18 Jul 2005 20:33:42 +0000"  >&lt;p&gt;Thanks for reporting this, and for your proposed code.&lt;/p&gt;

&lt;p&gt;I believe that this functionality has already been added to the commons-logging&lt;br/&gt;
trunk. See the current release notes for details:&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/repos/asf/jakarta/commons/proper/logging/trunk/RELEASE-NOTES.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/jakarta/commons/proper/logging/trunk/RELEASE-NOTES.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Hopefully a commons-logging 1.1 release isn&apos;t too far away - though that depends&lt;br/&gt;
on how much time the committers on commons-logging can find.&lt;/p&gt;

&lt;p&gt;If you could download and compile the latest commons-logging code, and see if it&lt;br/&gt;
resolves your issue that would definitely be appreciated. If it does, then&lt;br/&gt;
please close this entry.&lt;/p&gt;

&lt;p&gt;In future, providing a patch file (ie generated by &quot;svn diff&quot; or &quot;diff -u&quot;)&lt;br/&gt;
would be appreciated instead of (or as well as) a full source code attachment.&lt;br/&gt;
It&apos;s hard to see what changes you might have made by looking at the the attached&lt;br/&gt;
file.&lt;/p&gt;

&lt;p&gt;Thanks again.&lt;/p&gt;</comment>
                            <comment id="12409823" author="mkopp" created="Mon, 18 Jul 2005 20:53:02 +0000"  >&lt;p&gt;Thanks for the fast reply.&lt;/p&gt;

&lt;p&gt;I checked the current trunk and unfortunatelly I do not think that the changes help.&lt;/p&gt;

&lt;p&gt;Consider you have a cross Container call (WebContainer to JCA Container of&lt;br/&gt;
another Application).&lt;/p&gt;

&lt;p&gt;There is not parent-child releation ship between the TCCL (Web) and the&lt;br/&gt;
ClassLoader of the JCA Adapter. You would still take the TCCL in this case.&lt;br/&gt;
There would be no implementation available in the TCCL from the Web container&lt;br/&gt;
that would implement the Log interface from the JCA Container. It would never work!&lt;/p&gt;

&lt;p&gt;The getBaseClassLoader method would return the TCCL if no base is found. You&lt;br/&gt;
should add another loop that explictly tries the thisClassLoader if the TCCL is&lt;br/&gt;
unsuccessful.&lt;/p&gt;

&lt;p&gt;If you add this, then it should work in nearlly every case&lt;/p&gt;</comment>
                            <comment id="12409824" author="skitching" created="Mon, 18 Jul 2005 21:07:57 +0000"  >&lt;p&gt;You may have to help me out here - I&apos;m not familiar with JCA.&lt;/p&gt;

&lt;p&gt;By &quot;cross-container call&quot; do you mean this?&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;shared classloader A defines some interface I&lt;/li&gt;
	&lt;li&gt;classloader B is a child of A and provides some class that implements I&lt;/li&gt;
	&lt;li&gt;classloader C contains some webapp. Code here invokes a lookup method&lt;br/&gt;
   that returns an object of type I, where the actual concrete type is A.&lt;/li&gt;
	&lt;li&gt;the webapp then invokes a method on I&lt;/li&gt;
	&lt;li&gt;the actual method on A calls commons-logging&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;If not, could you please spell out exactly what classloader relationships you&lt;br/&gt;
are addressing?&lt;/p&gt;</comment>
                            <comment id="12409825" author="mkopp" created="Mon, 18 Jul 2005 21:37:19 +0000"  >&lt;p&gt;JBoss Class Loader A (commons-logging available here)&lt;br/&gt;
Application B with ClassLoader B. Child of A&lt;br/&gt;
Application C with ClassLoader C. Child of C (commons-logging deployed in here)&lt;/p&gt;

&lt;p&gt;We have a Child First delegation as is appropriate in a J2EE Container!&lt;/p&gt;

&lt;p&gt;Application B initiates thread and makes a call to Application C.&lt;/p&gt;

&lt;p&gt;Application C contains the commons-logging in its own classloader C. We need&lt;br/&gt;
this in order to have our own logging instance apart from the jboss instance.&lt;br/&gt;
The Log interface used in application C is loaded by ClassLoader C as it is a&lt;br/&gt;
&apos;static&apos; link. commons-logging will take the Log implementation from the TCCL&lt;br/&gt;
which either comes from CL B or CL A. None of them will implement Log from CL C.&lt;/p&gt;

&lt;p&gt;This is a fairly common case in jboss. The horror is that we do not even use&lt;br/&gt;
commons-logging directly, but a lot of third-party does. That and the fact that&lt;br/&gt;
commons-logging is part of the jboss distribution and visiable to all&lt;br/&gt;
applications, even if I have isolated class loaders.&lt;/p&gt;</comment>
                            <comment id="12409826" author="mkopp" created="Mon, 18 Jul 2005 21:38:40 +0000"  >&lt;p&gt;Small Type:&lt;/p&gt;

&lt;p&gt;JBoss Class Loader A (commons-logging available here)&lt;br/&gt;
Application B with ClassLoader B. Child of A&lt;br/&gt;
Application C with ClassLoader C. Child of A (commons-logging deployed in here)&lt;/p&gt;

&lt;p&gt;ClassLoader C is of course a child of A&lt;/p&gt;</comment>
                            <comment id="12409827" author="skitching" created="Tue, 19 Jul 2005 15:35:21 +0000"  >&lt;p&gt;Yep, your description #5 matches my #4 (though yours is a bit better phrased &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;

&lt;p&gt;This makes things very ugly for commons-logging. The LogFactory keeps a map of&lt;br/&gt;
configurations by context-classloader. So even with your proposed fix, any app&lt;br/&gt;
that calls into C will cause C&apos;s LogFactory to create another LogFactoryImpl for&lt;br/&gt;
that classloader. That will probably prevent the calling app&apos;s classloader from&lt;br/&gt;
being garbage-collected among other nasty issues.&lt;/p&gt;

&lt;p&gt;Here&apos;s some initial thoughts on a full fix for this:&lt;/p&gt;

&lt;p&gt;Basically, if LogFactory sees that TCCL is not related to its classloader, then&lt;br/&gt;
it should &lt;b&gt;not&lt;/b&gt; retain any strong references to that TCCL, and in particular not&lt;br/&gt;
use it as a key into the factories map. But if it doesn&apos;t do that, then every&lt;br/&gt;
time getLog() is called and it can&apos;t find an entry in its factories map then it&lt;br/&gt;
needs to walk the list of ancestors for the TCCL to see whether it is among&lt;br/&gt;
them: if yes, then this is simply the &quot;new context&quot; scenario; if no then this is&lt;br/&gt;
the &quot;inter-app-call&quot; scenario so it needs to ignore the TCCL and use&lt;br/&gt;
LogFactory.getClassLoader as the key instead.&lt;/p&gt;

&lt;p&gt;Hmm. But there&apos;s another scenario in which the TCCL can be unrelated to the&lt;br/&gt;
classloader for LogFactory - the jboss &quot;UnifiedLoaderRepository&quot; (as explained&lt;br/&gt;
by Brian S.). But in that case we &lt;b&gt;must&lt;/b&gt; use the TCCL in order to get sane&lt;br/&gt;
logging configuration behaviour (remember that the whole point of trying to load&lt;br/&gt;
the logging adapter classes via the TCCL is so that webapps can provide their&lt;br/&gt;
own adapters, and so that logging config files in the webapp-specific classpath&lt;br/&gt;
are seen).&lt;/p&gt;

&lt;p&gt;Currently, I don&apos;t see &lt;b&gt;any&lt;/b&gt; way to handle this with JBoss. The combination of&lt;br/&gt;
the UnifiedLoaderRepository and inter-app-calls where the TCCL is set to the&lt;br/&gt;
caller appears initially unsolvable to me - not just for commons-logging, but&lt;br/&gt;
for any logging system at all which can be configured on a per-app basis.&lt;/p&gt;

&lt;p&gt;I&apos;ll give this some more thought. All suggestions on how to resolve this are&lt;br/&gt;
very welcome - though it might be more convenient to post them to commons-dev&lt;br/&gt;
(with subject line starting &lt;span class=&quot;error&quot;&gt;&amp;#91;logging&amp;#93;&lt;/span&gt;) rather than having a discussion on these&lt;br/&gt;
awkward web forms.&lt;/p&gt;</comment>
                            <comment id="12409828" author="mkopp" created="Tue, 19 Jul 2005 16:23:35 +0000"  >&lt;p&gt;I&apos;m not sure about your factory map talking but consider this.&lt;/p&gt;

&lt;p&gt;log4j can do what I want without problems. It is rather simple, when you want to&lt;br/&gt;
have your own instance, you need the jar file in your own class loader. In a&lt;br/&gt;
proper j2ee environment (child first delegation), this will always lead to a new&lt;br/&gt;
logger instance).&lt;/p&gt;

&lt;p&gt;I agree that jboss&apos;s UnifiedClassLoader is a problem in that regard. But I see&lt;br/&gt;
it this way. If you want to have your own logging instance, then work without&lt;br/&gt;
that damned UnifiedClassLoader.&lt;/p&gt;

&lt;p&gt;The thing is that these &apos;Inter-App&apos; Calls are happening all the time.&lt;/p&gt;

&lt;p&gt;jmx-console: The TCCL is the WebClassLoader and the current is the one of the&lt;br/&gt;
MBean (Application)&lt;br/&gt;
jmx-scheduling: The TCCL is the one of the TimerMBean (jboss or jdk) and the&lt;br/&gt;
current is the one of the MBean (Application)&lt;br/&gt;
JCAPoolFiller Thread: The TCCL is the jboss-one and the current is the&lt;br/&gt;
Applications ClassLoader.&lt;/p&gt;

&lt;p&gt;I think that my a approach can still work.&lt;br/&gt;
1. Try commons-logging approach first (TCCL)&lt;br/&gt;
2. If no logger is found (not assignable?) try the current class loader&lt;/p&gt;

&lt;p&gt;Agreed it might not always be the correct logging instance, but at least it&lt;br/&gt;
would not generate an error and the log would be written.&lt;/p&gt;</comment>
                            <comment id="12409829" author="skitching" created="Tue, 19 Jul 2005 17:11:51 +0000"  >&lt;p&gt;Here&apos;s the problem I mentioned earlier in more detail:&lt;/p&gt;

&lt;p&gt;LogFactory always keeps a map of LogFactoryImpl instances keyed by context&lt;br/&gt;
classloader so that when deployed in a shared classloader each webapp gets an&lt;br/&gt;
independent logging setup.&lt;/p&gt;

&lt;p&gt;When webapp B makes an inter-app call to C. Code in C calls LogFactory.getLog.&lt;br/&gt;
tries to look up a LogFactoryImpl by TCCL in its map. There isn&apos;t one, so it&lt;br/&gt;
goes into its discovery process. This is what is currently causing problems, but&lt;br/&gt;
assuming we fix it somehow &lt;span class=&quot;error&quot;&gt;&amp;#91;as per your suggestion&amp;#93;&lt;/span&gt; a LogFactoryImpl object will&lt;br/&gt;
be returned. LogFactory then caches it using the current TCCL. &lt;/p&gt;

&lt;p&gt;Later someone undeploys webapp B. Normally, the reference count for the TCCL for&lt;br/&gt;
B will drop to zero at that point, and all the classes associated with B will be&lt;br/&gt;
garbage-collected (including all the static member variables, etc). However&lt;br/&gt;
because the map in the LogFactory class loaded by C has a key that references B&lt;br/&gt;
this won&apos;t happen.&lt;/p&gt;

&lt;p&gt;Log4j&apos;s default setup works because it effectively has two modes: &quot;server&quot; and&lt;br/&gt;
&quot;app&quot;. The default is &quot;app&quot;, where it doesn&apos;t care about TCCL and always uses&lt;br/&gt;
the default hierarchy. However it can be configured to use a&lt;br/&gt;
ContextHierarchySelector or somesuch name; when deployed via a shared classpath&lt;br/&gt;
the user needs to enable this selector in order to get independent logging for&lt;br/&gt;
each app. Note that if you enabled log4j&apos;s ContextHierarchySelector in&lt;br/&gt;
classloader C you would get the same memory leakage problem as JCL suffers.&lt;/p&gt;

&lt;p&gt;JCL is effectively always in &quot;server&quot; mode, with the assumption that if it was&lt;br/&gt;
actually deployed in a webapp&apos;s classpath then it is a server with only one&lt;br/&gt;
client TCCL - the app. However the &quot;inter-app&quot; stuff screws this up because JCL&lt;br/&gt;
deployed via a webapp ends up seeing multiple client TCCLs.&lt;/p&gt;

&lt;p&gt;So I guess we could provide a config option for LogFactory which tells it to act&lt;br/&gt;
in server or client mode, and if in client then it avoids using the TCCL.&lt;/p&gt;

&lt;p&gt;This will be a nuisance for every system that deploys logging libs via a shared&lt;br/&gt;
classloader (and that is a &lt;b&gt;lot&lt;/b&gt; of them). And I don&apos;t know how we would provide&lt;br/&gt;
any kind of &quot;backward compatibility&quot;. Maybe there is some way to do reasonable&lt;br/&gt;
auto-detection of client vs server mode? Like walk the classloader tree looking&lt;br/&gt;
for a copy of JCL at a higher level and assume client mode if one is found? Not&lt;br/&gt;
sure that&apos;s reliable enough...&lt;/p&gt;

&lt;p&gt;Maybe the answer is two different JCL jars: a client jar and a server jar? That&lt;br/&gt;
sounds nicer. webapps bundle the client jar, and that only ever has one&lt;br/&gt;
LogFactoryImpl. In this case we also know that adapters should be located via&lt;br/&gt;
LogFactoryImpl&apos;s classloader so that fixes your reported problem too. The server&lt;br/&gt;
jar has an implementation that uses a Map keyed by TCCL and locates adapters via&lt;br/&gt;
TCCL. This is a significant change, though, with API breakage.&lt;/p&gt;</comment>
                            <comment id="12409830" author="mkopp" created="Tue, 19 Jul 2005 17:24:29 +0000"  >&lt;p&gt;I agree that is a huge change. But I think it is a also necessary one. After all&lt;br/&gt;
I&apos;m not the only one having this kind of problem. And we already invested many&lt;br/&gt;
hours finding issues around that.&lt;/p&gt;

&lt;p&gt;So I hope you find a good solution about this. I would really appreciate it.&lt;/p&gt;</comment>
                            <comment id="12409831" author="skitching" created="Tue, 19 Jul 2005 18:13:32 +0000"  >&lt;p&gt;I agree it is necessary to address this scenario. Thanks very much for your&lt;br/&gt;
explanation of the issues. One of the problems with commons-logging is that&lt;br/&gt;
there is very little information on the situations it has to handle. Slowly this&lt;br/&gt;
information is being built up, and the information you have provided here is&lt;br/&gt;
very useful indeed.&lt;/p&gt;</comment>
                            <comment id="12409832" author="mkopp" created="Tue, 19 Jul 2005 18:20:54 +0000"  >&lt;p&gt;Well the point of opensource is to have a community in order to improve the&lt;br/&gt;
quality right? So the users should not only complain, but help to make it better.&lt;/p&gt;

&lt;p&gt;So I&apos;m glad to be of help to the project. In the end I&apos;m helping myself.&lt;/p&gt;</comment>
                            <comment id="12409833" author="rdonkin@apache.org" created="Tue, 19 Jul 2005 19:19:14 +0000"  >&lt;p&gt;I think I&apos;ve managed to get my head around this one...&lt;/p&gt;

&lt;p&gt;Simon&apos;s analysis seems good but I&apos;d like to add a few random comments...&lt;/p&gt;

&lt;p&gt;Exotic ClassLoaders&lt;br/&gt;
-----------------&lt;br/&gt;
When used in a JCA, this is a use case where JCL really can&apos;t gather enough information to configure &lt;br/&gt;
itself correctly. It&apos;s tough. It&apos;s good to have a solid use case for exotic classloading. I think when I was &lt;br/&gt;
thinking about exotic classloaders, I thought that there was something that could be done for cases &lt;br/&gt;
such as this: along the lines of recognizing that TCCL is busted and default to use the class classloader. &lt;/p&gt;

&lt;p&gt;Good point from Simon (though) that busted TCCL&apos;s should be not cached. Would need to think about &lt;br/&gt;
performance but maybe bad performance is better than total refusal to run...&lt;/p&gt;

&lt;p&gt;Static Binding&lt;br/&gt;
-----------&lt;br/&gt;
If I&apos;ve understood this correctly, the client and server jars would use static binding to determine the &lt;br/&gt;
LogFactoryImpl to be use. There&apos;s a certain amount of convergence here: DON_QUIXOTE and SLF4J. I&apos;d &lt;br/&gt;
prefer to implement a long term solution (prune back to a minimal set of statically bound classes and &lt;br/&gt;
interfaces) rather than a short term fix (client and server jars). I&apos;m not so religous as Simon about jar &lt;br/&gt;
proliferation but he&apos;s right that more jars need more explaination and so more quality documentation.&lt;/p&gt;

&lt;p&gt;I&apos;ve been wanting for a while to look at using byte code engineering to statically bind different discovery &lt;br/&gt;
strategies.  Michael Kopp&apos;s is an advanced use case. If he&apos;s using a child-first classloader then &lt;br/&gt;
(hyopthetically) he could just run the enhancer over all the jars and rewire the discovery. Maybe one day &lt;br/&gt;
I&apos;ll find the time to get this working...&lt;/p&gt;</comment>
                            <comment id="12409834" author="skitching" created="Tue, 19 Jul 2005 19:30:50 +0000"  >&lt;p&gt;Yes, the DON_QUIXOTE experimental branch of JCL did come to mind while I was&lt;br/&gt;
writing that. As we&apos;re committed to a non-compatible 1.1 release it might be&lt;br/&gt;
time to revisit that.&lt;/p&gt;

&lt;p&gt;The problem with going to a fully refactored release as we&apos;ve looked at in some&lt;br/&gt;
of the more radical restructures is of course that it will take many months to&lt;br/&gt;
get that done at our current rate. Still, there&apos;s no point in putting out a new&lt;br/&gt;
release that doesn&apos;t properly fix the known problems.&lt;/p&gt;

&lt;p&gt;BTW, if anyone out there wishes to &lt;b&gt;hire&lt;/b&gt; me to work on this full-time to get a&lt;br/&gt;
new release out sooner, I&apos;m available &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12409835" author="rdonkin@apache.org" created="Wed, 20 Jul 2005 02:03:45 +0000"  >&lt;p&gt;I won&apos;t have time today to code anything up right now but I have been thinking and playing around with &lt;br/&gt;
various exotic cases (such as the JCA). I suspect that the problems in these cases arise when (as in this &lt;br/&gt;
case) code has been loaded is a sibling (or cousin) load to the application code. In this case, TCCL either &lt;br/&gt;
cannot load the implementation classes or when it can load them but they are defined by an incompatible &lt;br/&gt;
loader.&lt;/p&gt;

&lt;p&gt;I think that it should be possible to diagnose this case by checking the Log class loaded by TCCL. If it &lt;br/&gt;
cannot be loaded or is not compatible with the Log class loaded by the class classloader, then TCCL &lt;br/&gt;
should not be used by JCL.&lt;/p&gt;</comment>
                            <comment id="12409836" author="b_stansberry@hotmail.com" created="Wed, 3 Aug 2005 14:24:01 +0000"  >&lt;p&gt;I haven&apos;t had a chance to fully digest this thread, so please forgive me if I&apos;m&lt;br/&gt;
way off base.&lt;/p&gt;

&lt;p&gt;In the specific scenario Michael described, JCL is available in a classloader&lt;br/&gt;
that is a common parent of both apps involved in the &quot;Inter-App&quot; call.  If the&lt;br/&gt;
webapp deployed commons-logging-adapters.jar instead of the full&lt;br/&gt;
commons-logging.jar there should be no Log incompatibility problems nor any&lt;br/&gt;
memory leak.  The logging would end up going to the loggers associated with the&lt;br/&gt;
TCCL, which may or may not be the desired behavior.  But that seems more like a&lt;br/&gt;
problem with ensuring the TCCL is properly set when a thread crosses an app&lt;br/&gt;
boundary and not something JCL can fix. (e.g. it seems to me that if a thread&lt;br/&gt;
spawned by a timer service calls into an MBean, the TCCL should be set to the&lt;br/&gt;
MBean&apos;s classloader before the call is made).&lt;/p&gt;

&lt;p&gt;What I&apos;m suggesting of course wouldn&apos;t work if JCL wasn&apos;t available in a shared&lt;br/&gt;
classloader, so I don&apos;t mean to imply some of the ideas raised on this thread&lt;br/&gt;
are unneeded.  But a commons-logging-adapters.jar approach might be a good&lt;br/&gt;
workaround for the issue Michael specifically raised.  (Such a jar doesn&apos;t exist&lt;br/&gt;
in JCL 1.0.4, the latest official release, but it&apos;s simple enough to create one&lt;br/&gt;
by taking commons-logging.jar and removing all classes found in&lt;br/&gt;
commons-logging-api.jar).&lt;/p&gt;</comment>
                            <comment id="12409837" author="mkopp" created="Wed, 3 Aug 2005 14:42:22 +0000"  >&lt;p&gt;1. The J2EE Spec does not specify which classloader the TCCL should contains.&lt;br/&gt;
only that it should be there.&lt;br/&gt;
2. Most AppServers won&apos;t have JCL in the common-classloader, jboss is the&lt;br/&gt;
exception I would say. The common classloader there contains way to much.&lt;/p&gt;

&lt;p&gt;jboss seems to ignore the TCCL most of the time.&lt;br/&gt;
It all comes down to the fact that we cannot know what the TCCL contains at a&lt;br/&gt;
given time. Because it is not defined!&lt;br/&gt;
I had this problem now in:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;jmx-console calling mbean with Web TCCL&lt;/li&gt;
	&lt;li&gt;jmx-console calling mbean calling ejb with Web TCCL in the ejbCreate call!!!&lt;/li&gt;
	&lt;li&gt;instantiation of ManagedConnectionFactory/ManagedConnection (JCA) by jboss JCA&lt;br/&gt;
Pool Loader with jboss TCCL&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Of course this is all in jboss, but as it is defined nowhere (at least I&lt;br/&gt;
couldn&apos;t find it) I consider TCCL not reliable!!&lt;/p&gt;

&lt;p&gt;And many more. I changed the 1.0.4 commons-logging the way it is described in my&lt;br/&gt;
patch and replaced it in jboss and all other apps. Now it works as expected.&lt;/p&gt;</comment>
                            <comment id="12409838" author="dvoytenko@reveredata.com" created="Wed, 5 Oct 2005 10:13:23 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;Somewhat related problem with using TCL in the shared environment (Tomcat). For &lt;br/&gt;
instance I have application A (classloader A) and class A1 that invokes class &lt;br/&gt;
S1 in the shared classloader S. Class S1 has static initializer for logger &lt;br/&gt;
(static Log log = LogFactory.getLog(...)). Provided A1 will be the first one to &lt;br/&gt;
access S1, JCL&apos;s LogFactory will use instance cached with A classloader and &lt;br/&gt;
will be (possibly) creating logs within the same A classloader. Further if A is &lt;br/&gt;
undeployed, there will be no way to notify S that it&apos;s Log instance is not up-&lt;br/&gt;
to-date anymore. This would lead to the memory leaks, even if ClassLoader is &lt;br/&gt;
removed from LogFactory&apos;s cache. In addition, such situation will be illogical -&lt;br/&gt;
 why should child&apos;s classloader used for initialization of parent&apos;s classloader?&lt;/p&gt;

&lt;p&gt;A propose a solution that is a compromize b/w server/client idea and static &lt;br/&gt;
linking would be to have a setting (in the system properties) that would &lt;br/&gt;
instruct JCL to not use TCCL (e.g. org.apache.logging.DISABLE_TCCL). In this &lt;br/&gt;
mode, inspection and cache would be performed in the classloader of the &lt;br/&gt;
LogFactory. This solution will work good for both: shared environments (Tomcat &lt;br/&gt;
or JBoss with UCL) and for deployments with JCL in the WEB-INF/lib.&lt;/p&gt;</comment>
                            <comment id="12409839" author="dvoytenko@reveredata.com" created="Wed, 5 Oct 2005 10:43:09 +0000"  >&lt;p&gt;i moved this proposal into the separate issue (36927).&lt;/p&gt;</comment>
                            <comment id="12409840" author="rdonkin@apache.org" created="Fri, 17 Feb 2006 05:42:46 +0000"  >&lt;p&gt;Please retest with latest release candidate. This can be found in&lt;br/&gt;
&lt;a href=&quot;http://people.apache.org/~rdonkin/commons-logging&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://people.apache.org/~rdonkin/commons-logging&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Use of the TCCL is now flaggable but I suspect that logging may function (though&lt;br/&gt;
the per application configuration may not be too great) so please test both.&lt;/p&gt;
</comment>
                            <comment id="12409841" author="mkopp" created="Fri, 17 Feb 2006 15:45:38 +0000"  >&lt;p&gt;Are the interfaces compatible with the 1.0X version? As you might remember we&lt;br/&gt;
are not using commons-logging directly but through thirdparty. And of course we&lt;br/&gt;
cannot change that code...&lt;/p&gt;</comment>
                            <comment id="12409842" author="skitching" created="Fri, 17 Feb 2006 19:15:40 +0000"  >&lt;p&gt;The API is compatible with 1.0.x for &quot;normal&quot; uses of JCL.&lt;/p&gt;

&lt;p&gt;There are some minor incompatibilites for code that extends commons-logging&lt;br/&gt;
classes; this is a pretty rare thing to do, however.&lt;/p&gt;

&lt;p&gt;See the release notes for full details.&lt;/p&gt;</comment>
                            <comment id="12795168" author="dennisl@apache.org" created="Tue, 29 Dec 2009 22:17:29 +0000"  >&lt;p&gt;According to Simon this was fixed in 1.1.0.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333635" name="ASF.LICENSE.NOT.GRANTED--LogFactoryImpl.java" size="19480" author="mkopp" created="Mon, 18 Jul 2005 19:01:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35774</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148251</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 45 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7mf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75011</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-72] LogFactoryImpl.guessConfig overrides configuration</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-72</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;problem occurred in version 1.0.2-release.&lt;/p&gt;

&lt;p&gt;When using another Log implementation than log4j (e.g. SimpleLog), but with&lt;br/&gt;
log4j available, LogFactoryImpl.guessConfig creates&lt;br/&gt;
org.apache.commons.logging.impl.Log4jFactory as a proxy factory anyway, and in&lt;br/&gt;
this way unwantedly overrides your custom setting.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12340576">LOGGING-72</key>
            <summary>LogFactoryImpl.guessConfig overrides configuration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="thundur@mayaxatl.org">Felix Janssen</reporter>
                        <labels>
                    </labels>
                <created>Sat, 1 Mar 2003 20:43:27 +0000</created>
                <updated>Tue, 29 Dec 2009 16:35:15 +0000</updated>
                            <resolved>Sat, 18 Nov 2006 12:48:36 +0000</resolved>
                                                    <fixVersion>1.0.3</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12403755" author="craig.mcclanahan@sun.com" created="Mon, 31 Mar 2003 08:22:24 +0000"  >&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOGGING-56&quot; title=&quot;Unable to configure commons-logging SimpleLog for a webapp&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOGGING-56&quot;&gt;&lt;del&gt;COM-449&lt;/del&gt;&lt;/a&gt; has been marked as a duplicate of this bug. ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12403756" author="craig.mcclanahan@sun.com" created="Wed, 2 Apr 2003 09:56:16 +0000"  >&lt;p&gt;The configuration override was actually a side effect of Log4JLogger, rather&lt;br/&gt;
than Log4jFactory, and that has been removed.  In addition, per discussion on&lt;br/&gt;
COMMONS-DEV, the Log4jFactory class has been deprecated, and use of a proxy&lt;br/&gt;
instance of the class removed from the implementation of LogFactoryImpl.  Fixed&lt;br/&gt;
in nightly build 20030402.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>17561</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148250</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 33 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7mn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75012</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-71] [logging] print/display the wire log!</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-71</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;I have followd the instructions on how to setup logging in my java class found &lt;br/&gt;
on the web page for HTTPCLIENT for Jakarta Commons.  I am using &quot;simplelog&quot; yet &lt;br/&gt;
nothing appears when I run the class.  I do not know how to print or display &lt;br/&gt;
the contents of the log!  The web page does not give any example code of how to &lt;br/&gt;
display or print the log!  Only, how to set the system properties!  I have set &lt;br/&gt;
them as follows!  How, do I view the log!  Here is how I set the system &lt;br/&gt;
properties in my java class!&lt;/p&gt;

&lt;p&gt;  System.setProperty&lt;br/&gt;
(&quot;org.apache.commons.logging.Log&quot;, &quot;org.apache.commons.logging.impl.SimpleLog&quot;);&lt;br/&gt;
  System.setProperty&lt;br/&gt;
(&quot;org.apache.commons.logging.simplelog.showdatetime&quot;, &quot;true&quot;);&lt;br/&gt;
  System.setProperty&lt;br/&gt;
(&quot;org.apache.commons.logging.simplelog.log.httpclient.wire&quot;, &quot;trace&quot;);&lt;br/&gt;
  System.setProperty&lt;br/&gt;
(&quot;org.apache.commons.logging.simplelog.log.org.apache.commons.httpclient&quot;, &quot;trac&lt;br/&gt;
e&quot;);&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341634">LOGGING-71</key>
            <summary>[logging] print/display the wire log!</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tgerdes@oldrepnatl.com">Tom Gerdes</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Aug 2004 02:33:02 +0000</created>
                <updated>Wed, 2 Jan 2008 07:48:30 +0000</updated>
                            <resolved>Wed, 2 Jan 2008 07:48:30 +0000</resolved>
                                    <version>1.0.4</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12407220" author="rdonkin@apache.org" created="Wed, 9 Feb 2005 07:20:26 +0000"  >&lt;p&gt;I&apos;ve tested the latest httpclient documentation and it seems to be in order. &lt;/p&gt;

&lt;p&gt;Posting a question to the user list would probably have provided more&lt;br/&gt;
productive. If anyone feels the need to re-open this, please supply a unit test&lt;br/&gt;
demonstrating the issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30632</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148249</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 40 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7mv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75013</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-70] [logging] small bug in guide.html</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-70</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;In guide.html, there is a link towards the bottom of the page &lt;br/&gt;
to &quot;http://jakarta.apache.org/commons/logging/How%20Can%20I%20Change%20The%&lt;br/&gt;
20Logging%20System%20Configuration?&quot;.  Clicking on this link causes a 404.&lt;/p&gt;

&lt;p&gt;This link should be to the anchor for the next section.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341495">LOGGING-70</key>
            <summary>[logging] small bug in guide.html</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tobrien@discursive.com">Tim O&apos;Brien</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Jun 2004 00:05:46 +0000</created>
                <updated>Tue, 29 Dec 2009 16:24:04 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 16:24:04 +0000</resolved>
                                                    <fixVersion>1.0.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12406777" author="rdonkin@apache.org" created="Tue, 8 Jun 2004 04:12:59 +0000"  >&lt;p&gt;good spot Tim 8-)&lt;/p&gt;

&lt;p&gt;Patched. Many thanks.&lt;/p&gt;

&lt;p&gt;Robert&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>29430</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148248</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 23 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7n3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75014</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-69] [logging] Various improvements to generated documentation</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-69</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;All item numbers under subsequent patches will be in reference to:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://marc.theaimsgroup.com/?l=jakarta-commons-dev&amp;amp;m=113786760531115&amp;amp;w=2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://marc.theaimsgroup.com/?l=jakarta-commons-dev&amp;amp;m=113786760531115&amp;amp;w=2&lt;/a&gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342871">LOGGING-69</key>
            <summary>[logging] Various improvements to generated documentation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rahul@apache.org">Rahul Akolkar</reporter>
                        <labels>
                    </labels>
                <created>Sun, 22 Jan 2006 03:44:36 +0000</created>
                <updated>Tue, 29 Dec 2009 14:26:17 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 14:26:17 +0000</resolved>
                                                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12411319" author="rahul@apache.org" created="Sun, 22 Jan 2006 03:45:16 +0000"  >&lt;p&gt;Created an attachment (id=17473)&lt;br/&gt;
Item #2&lt;/p&gt;</comment>
                            <comment id="12411320" author="rahul@apache.org" created="Sun, 22 Jan 2006 03:45:57 +0000"  >&lt;p&gt;Created an attachment (id=17474)&lt;br/&gt;
Item #3&lt;/p&gt;</comment>
                            <comment id="12411321" author="rahul@apache.org" created="Sun, 22 Jan 2006 03:47:30 +0000"  >&lt;p&gt;Created an attachment (id=17475)&lt;br/&gt;
Item #4 ( New file for SVN info, drop in xdocs/ )&lt;/p&gt;</comment>
                            <comment id="12411322" author="rahul@apache.org" created="Sun, 22 Jan 2006 03:48:16 +0000"  >&lt;p&gt;Created an attachment (id=17476)&lt;br/&gt;
Item #4 ( New file for BZ info, drop in xdocs/ )&lt;/p&gt;</comment>
                            <comment id="12411323" author="rahul@apache.org" created="Sun, 22 Jan 2006 04:24:38 +0000"  >&lt;p&gt;(From update of attachment 17475)&lt;br/&gt;
Didn&apos;t mention the file name earlier (cvs-usage.xml).&lt;/p&gt;</comment>
                            <comment id="12411324" author="dennisl@apache.org" created="Sun, 22 Jan 2006 07:01:33 +0000"  >&lt;p&gt;Patches applied with modifications.&lt;br/&gt;
Thanks Rahul.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12334002" name="ASF.LICENSE.NOT.GRANTED--cvs-usage.xml" size="1571" author="rahul@apache.org" created="Sun, 22 Jan 2006 03:47:30 +0000"/>
                            <attachment id="12334003" name="ASF.LICENSE.NOT.GRANTED--issue-tracking.xml" size="3867" author="rahul@apache.org" created="Sun, 22 Jan 2006 03:48:16 +0000"/>
                            <attachment id="12334000" name="ASF.LICENSE.NOT.GRANTED--logging_javadoc_warnings.patch" size="609" author="rahul@apache.org" created="Sun, 22 Jan 2006 03:45:16 +0000"/>
                            <attachment id="12334001" name="ASF.LICENSE.NOT.GRANTED--logging_no_tasklist.patch" size="381" author="rahul@apache.org" created="Sun, 22 Jan 2006 03:45:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38344</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148247</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7nb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75015</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-68] Incorrect test for availability of log4j</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-68</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;Corrrected code from LogFactoryImpl is below.  Log4j is only available if the&lt;br/&gt;
the class loader that loads Log4JLogger can load Logger.  The orginal test&lt;br/&gt;
is incorrect when both of these conditions are met&lt;br/&gt;
a.) the context loader can load Logger ( directly or not ), and&lt;br/&gt;
b.) Log4jLogger is actually loaded by a parent of the loader that loads Logger.&lt;/p&gt;

&lt;p&gt;The failure of course occurs because Log4jLogger has a direct dep on Logger.&lt;/p&gt;

&lt;p&gt;    protected boolean isLog4JAvailable() {&lt;/p&gt;

&lt;p&gt;        try &lt;/p&gt;
{
             
            /* &amp;lt;incorrect&amp;gt; */
            //loadClass(&quot;org.apache.log4j.Logger&quot;);
            //loadClass(&quot;org.apache.commons.logging.impl.Log4JLogger&quot;);
            /* &amp;lt;/incorrect&amp;gt; */
           
loadClass(&quot;org.apache.commons.logging.impl.Log4JLogger&quot;).getClassLoader().loadClass(
&quot;org.apache.log4j.Logger&quot; );
            return (true);
        }
&lt;p&gt; catch (Throwable t) &lt;/p&gt;
{
            return (false);
        }
&lt;p&gt;    }&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341791">LOGGING-68</key>
            <summary>Incorrect test for availability of log4j</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="nntp_ds@fastmail.fm">d</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Oct 2004 15:35:04 +0000</created>
                <updated>Tue, 29 Dec 2009 16:15:02 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 16:15:02 +0000</resolved>
                                    <version>1.0.3</version>
                                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12407755" author="rdonkin@apache.org" created="Sun, 17 Oct 2004 16:04:51 +0000"  >&lt;p&gt;Patch committed. Many Thanks.&lt;/p&gt;

&lt;p&gt;Robert&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31597</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148246</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 4 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7nj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75016</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-67] [Logging] Improvements to maven build</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-67</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;Improvements to project.xml updating deprecated tags and making it easier for&lt;br/&gt;
maven 2 users.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342616">LOGGING-67</key>
            <summary>[Logging] Improvements to maven build</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="brett">Brett Porter</assignee>
                                    <reporter username="carlos">Carlos Sanchez Gonzalez</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Oct 2005 08:09:03 +0000</created>
                <updated>Tue, 29 Dec 2009 16:00:29 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 16:00:29 +0000</resolved>
                                                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12410572" author="carlos" created="Tue, 11 Oct 2005 08:09:17 +0000"  >&lt;p&gt;Created an attachment (id=16648)&lt;br/&gt;
A patch for current code in svn&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333842" name="ASF.LICENSE.NOT.GRANTED--logging.patch" size="1549" author="carlos" created="Tue, 11 Oct 2005 08:09:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37014</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148245</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 5 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7nr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75017</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-66] Deprecation  in 1.0.2</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-66</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt;&lt;br/&gt;
.......\logging\src\java\org\apache\commons\logging\impl\Log4JCategoryLog.java:&lt;br/&gt;
137: warning: &lt;br/&gt;
setPriority(org.apache.log4j.Priority) in org.apache.log4j.Category &lt;br/&gt;
has been deprecated&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12340340">LOGGING-66</key>
            <summary>Deprecation  in 1.0.2</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="seapwc@halcyon.com">Paul Campbell</reporter>
                        <labels>
                    </labels>
                <created>Sun, 29 Sep 2002 14:12:00 +0000</created>
                <updated>Tue, 29 Dec 2009 16:59:11 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 16:59:11 +0000</resolved>
                                    <version>1.0.1</version>
                                    <fixVersion>1.0.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12402995" author="seapwc@halcyon.com" created="Sat, 19 Oct 2002 01:38:55 +0000"  >&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOGGING-8&quot; title=&quot;Deprecation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOGGING-8&quot;&gt;&lt;del&gt;COM-188&lt;/del&gt;&lt;/a&gt; has been marked as a duplicate of this bug. ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12402996" author="craig.mcclanahan@sun.com" created="Sat, 23 Nov 2002 11:51:33 +0000"  >&lt;p&gt;Fixed in nightly build 20021123.&lt;/p&gt;

&lt;p&gt;This deprecation warning occurs because Log4J has deprecated the entire Category&lt;br/&gt;
class, replacing it by o.a.l.Logger.  What really needed to happen here is that&lt;br/&gt;
we create a new Log4JLogger implementation (based on Log4JCategoryLog, which was&lt;br/&gt;
deprecated), and start using that for the Log4J Log implementation class.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>13118</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148244</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 51 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7nz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75018</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-65] [logging] Disabling of TCCL</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-65</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;I separated this request from 35774 as it seems to provide a viable and easy &lt;br/&gt;
solution to a big number of ClassLoader-related problems of using JCL in shared &lt;br/&gt;
environments. The solution relies on having an option (configured via system &lt;br/&gt;
properties) to disable TCCL usage and only use LogFactory&apos;s ClassLoader. When &lt;br/&gt;
TCCL is disabled, logger implementation and caching should be performed in the &lt;br/&gt;
JCL&apos;s ClassLoader only (cache will be reduced to a single record). This would &lt;br/&gt;
remove any memory leak issues as well as other inconsitencies (see 35774 for &lt;br/&gt;
some samples). &lt;/p&gt;

&lt;p&gt;There&apos;re two main scenarios how JCL is used in the shared environment: a) &lt;br/&gt;
deployed in the shared class loader (shared for Tomcat and UCL for JBoss), b) &lt;br/&gt;
deployed in the application&apos;s class loader in the child-first ClassLoader &lt;br/&gt;
setup. In both cases this solution works well and disabled TCCL could even be a &lt;br/&gt;
reasonable default (though it depends on other uses). In case of deployment &lt;br/&gt;
within application&apos;s classloader (case &lt;span class=&quot;error&quot;&gt;&amp;#91;b&amp;#93;&lt;/span&gt;), two versions of JCL can coexist &lt;br/&gt;
redirecting logs for the application&apos;s classes to application&apos;s LogFactory &lt;br/&gt;
instance and shared classes to shared LogFactory.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342601">LOGGING-65</key>
            <summary>[logging] Disabling of TCCL</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="skitching">Simon Kitching</assignee>
                                    <reporter username="dvoytenko@reveredata.com">Dimitry E Voytenko</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Oct 2005 10:41:52 +0000</created>
                <updated>Sat, 18 Nov 2006 12:52:34 +0000</updated>
                            <resolved>Sat, 18 Nov 2006 12:48:36 +0000</resolved>
                                    <version>1.0.4</version>
                                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12410536" author="skitching" created="Sun, 15 Jan 2006 20:24:50 +0000"  >&lt;p&gt;I have a proposal. I&apos;ve implemented what&apos;s described below, and have unit tests&lt;br/&gt;
mostly working for it so it&apos;s ready to go pretty soon if there are no objections.&lt;/p&gt;

&lt;p&gt;== part 1 ==&lt;/p&gt;

&lt;p&gt;When loading commons-logging.properties files, currently the first one found in&lt;br/&gt;
the class is used. &lt;/p&gt;

&lt;p&gt;Instead, I propose that commons-logging.properties files can contain a&lt;br/&gt;
&quot;priority=n&quot; . Files without an entry default to priority=0. The priority value&lt;br/&gt;
is a floating-point number. When loading properties files, every file in the&lt;br/&gt;
classpath is checked, and the one with the highest priority is used.&lt;/p&gt;

&lt;p&gt;This allows webapps to provide a config file, but for the container&lt;br/&gt;
administrator to override these by placing a file of higher priority in the&lt;br/&gt;
shared path. A webapp can then override &lt;b&gt;that&lt;/b&gt; if it wants by defining an even&lt;br/&gt;
higher priority.&lt;/p&gt;

&lt;p&gt;This isn&apos;t a major performance hit as it is done only once per distinct TCCL (ie&lt;br/&gt;
per webapp in a container).&lt;/p&gt;

&lt;p&gt;Priority numbers aren&apos;t perfect as they do require some &quot;coordination&quot; between&lt;br/&gt;
the different levels. However I don&apos;t think there&apos;s anything better in this case.&lt;/p&gt;

&lt;p&gt;== part 2 ==&lt;/p&gt;

&lt;p&gt;Allow commons-logging.properties files to contain a key&lt;br/&gt;
  use_tccl=false&lt;br/&gt;
If this is present, then &lt;b&gt;for the current TCCL&lt;/b&gt; all loading is done via the&lt;br/&gt;
classloader that loaded the LogFactory class. &lt;/p&gt;


&lt;p&gt;== effect ==&lt;/p&gt;

&lt;p&gt;Together, these features allow the following:&lt;br/&gt;
(a) &lt;br/&gt;
A single webapp can disable tccl logging for itself by having a&lt;br/&gt;
commons-logging.properties file with use_tccl=false.&lt;/p&gt;

&lt;p&gt;(b)&lt;br/&gt;
A container administrator can disable TCCL-based logging for all webapps by&lt;br/&gt;
simply placing a commons-logging.properties file in a shared classpath location&lt;br/&gt;
with priority=10 and use_tccl=false. This will override any settings in any&lt;br/&gt;
webapp. However a specific webapp can override this again with a higher-priority&lt;br/&gt;
value for its config file.&lt;/p&gt;


&lt;p&gt;At a technical level, there will still be a LogFactoryImpl for each distinct&lt;br/&gt;
TCCL, keyed by the TCCL. However a call to LogFactory.getLog made when the&lt;br/&gt;
current tccl matches one associated with a &quot;use_tccl=false&quot; configuration will&lt;br/&gt;
always return a concrete Log class that is loaded via the same classloader that&lt;br/&gt;
loaded the LogFactory class.&lt;/p&gt;


&lt;p&gt;Opinions?&lt;/p&gt;</comment>
                            <comment id="12410537" author="skitching" created="Wed, 18 Jan 2006 12:52:03 +0000"  >&lt;p&gt;Ok, as there were no objections I have committed this new feature.&lt;/p&gt;

&lt;p&gt;As of r370031, dropping a file named commons-logging.properties into the shared&lt;br/&gt;
classpath containing the following entries will disable TCCL loading completely:&lt;/p&gt;

&lt;p&gt;  priority=10&lt;br/&gt;
  use_tccl=false&lt;/p&gt;

&lt;p&gt;I would appreciate it if people could test this in live systems that have&lt;br/&gt;
previously experienced problems.&lt;/p&gt;</comment>
                            <comment id="12410538" author="skitching" created="Mon, 23 Jan 2006 12:24:52 +0000"  >&lt;p&gt;Hi Dimitry,&lt;/p&gt;

&lt;p&gt;Release candidate 1 of commons-logging 1.1 has now been created:&lt;br/&gt;
   &lt;a href=&quot;http://people.apache.org/~rdonkin/commons-logging/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://people.apache.org/~rdonkin/commons-logging/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Could you please check whether this meets your requirements?&lt;/p&gt;</comment>
                            <comment id="12410539" author="rdonkin@apache.org" created="Fri, 17 Feb 2006 05:44:33 +0000"  >&lt;p&gt;Please test with latest release candidate&lt;/p&gt;</comment>
                            <comment id="12410540" author="skitching" created="Wed, 1 Mar 2006 08:50:12 +0000"  >&lt;p&gt;As there&apos;s been no response I&apos;ll presume the implemented fix is satisfactory.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36927</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148243</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 37 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7o7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75019</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-64] Wrong sample code in org/apache/commons/logging/package.html (using static and this.class)</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-64</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;In the org/apache/commons/logging/package.html file, there is sample code:&lt;/p&gt;

&lt;p&gt;public class Foo {&lt;br/&gt;
  static Log log = LogFactory.getLog(this.class);&lt;br/&gt;
  ...&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;This code cannot be compiled because of using &quot;static&quot; and &quot;this.class&quot; in the &lt;br/&gt;
same statement. Should be change to Foo.class.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12340651">LOGGING-64</key>
            <summary>Wrong sample code in org/apache/commons/logging/package.html (using static and this.class)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="thaiha@psv.com.vn">Thai Ha</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Apr 2003 09:53:02 +0000</created>
                <updated>Tue, 29 Dec 2009 16:30:40 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 16:30:40 +0000</resolved>
                                    <version>Nightly Builds</version>
                                    <fixVersion>1.0.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12404011" author="mohankishore@yahoo.com" created="Thu, 10 Apr 2003 11:27:56 +0000"  >&lt;p&gt;In diff -u format:&lt;br/&gt;
Index: package.html&lt;br/&gt;
===================================================================&lt;br/&gt;
RCS file: /home/cvspublic/jakarta-&lt;br/&gt;
commons/logging/src/java/org/apache/commons/logging/package.html,v&lt;br/&gt;
retrieving revision 1.9&lt;br/&gt;
diff -u -r1.9 package.html&lt;br/&gt;
&amp;#8212; package.html	30 Mar 2003 23:42:36 -0000	1.9&lt;br/&gt;
+++ package.html	10 Apr 2003 04:24:47 -0000&lt;br/&gt;
@@ -38,7 +38,7 @@&lt;/p&gt;

&lt;p&gt;     public class Foo {&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;static Log log = LogFactory.getLog(this.class);&lt;br/&gt;
+        static Log log = LogFactory.getLog(Foo.class);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;         public void foo() {&lt;br/&gt;
             ...&lt;/p&gt;</comment>
                            <comment id="12404012" author="craig.mcclanahan@sun.com" created="Sun, 17 Aug 2003 06:49:17 +0000"  >&lt;p&gt;Fixed in nightly build 20030817.&lt;/p&gt;</comment>
                            <comment id="12404013" author="dennisl@apache.org" created="Wed, 7 Jan 2004 10:19:58 +0000"  >&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOGGING-77&quot; title=&quot;The syntax error exists in the sample code of package-summary.html&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOGGING-77&quot;&gt;&lt;del&gt;COM-982&lt;/del&gt;&lt;/a&gt; has been marked as a duplicate of this bug. ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>18889</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148242</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 45 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7of:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75020</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-63] [logging][PATCH] Minor improvement to JARs within Build</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-63</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;Jars can contain an optional index of their packages.&lt;br/&gt;
The feature was introduced in Java 1.3.&lt;/p&gt;

&lt;p&gt;See&lt;br/&gt;
&lt;a href=&quot;http://java.sun.com/j2se/1.4.2/docs/guide/jar/jar.html#JAR%20Index&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://java.sun.com/j2se/1.4.2/docs/guide/jar/jar.html#JAR%20Index&lt;/a&gt;&lt;br/&gt;
for details.&lt;/p&gt;

&lt;p&gt;I did not see an classloader optimizing for it yet, but it causes no pain to add&lt;br/&gt;
and use it within Ant.&lt;br/&gt;
ant dist did run succesfully&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12342882">LOGGING-63</key>
            <summary>[logging][PATCH] Minor improvement to JARs within Build</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="boris.unckel.mlg@gmx.net">Boris Unckel</reporter>
                        <labels>
                    </labels>
                <created>Sat, 4 Feb 2006 05:07:17 +0000</created>
                <updated>Wed, 2 Jan 2008 07:48:29 +0000</updated>
                            <resolved>Wed, 2 Jan 2008 07:48:29 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12411357" author="boris.unckel.mlg@gmx.net" created="Sat, 4 Feb 2006 05:08:17 +0000"  >&lt;p&gt;Created an attachment (id=17581)&lt;br/&gt;
Patch for build.xml to add index=&quot;true&quot; for jar tasks&lt;/p&gt;</comment>
                            <comment id="12411358" author="rdonkin@apache.org" created="Wed, 8 Feb 2006 00:44:16 +0000"  >&lt;p&gt;Committed. Many thanks.&lt;/p&gt;

&lt;p&gt;Robert&lt;/p&gt;</comment>
                            <comment id="12411359" author="sandymac@apache.org" created="Wed, 8 Feb 2006 01:03:01 +0000"  >&lt;p&gt;Hold on. That index feature doesn&apos;t gain anything and just increases the jar size.&lt;/p&gt;

&lt;p&gt;The index feature is mainly for applets. For it to work the main jar file has an&lt;br/&gt;
index of all the classes in other jars on the classpath. For an applet this lets&lt;br/&gt;
the JVM not have to download a jar file just to search for a jar that may not be&lt;br/&gt;
in it.&lt;/p&gt;

&lt;p&gt;Adding index=&quot;true&quot; for the logging jars won&apos;t help the logging jars unless the&lt;br/&gt;
generated index references other jars containing logging dependencies.&lt;/p&gt;</comment>
                            <comment id="12411360" author="rdonkin@apache.org" created="Wed, 8 Feb 2006 03:52:03 +0000"  >&lt;p&gt;Hmmm...&lt;/p&gt;

&lt;p&gt;I&apos;ve spent a little while looking into this...&lt;/p&gt;

&lt;p&gt;Figures (bytes):&lt;br/&gt;
  commons-logging-1.1-RC3.jar             49202 -&amp;gt; 49399   +~0.4%&lt;br/&gt;
  commons-logging-adapters-1.1-RC3.jar    21151 -&amp;gt; 21356   +~1%&lt;br/&gt;
  commons-logging-api-1.1-RC3.jar         39167 -&amp;gt; 39368   +~0.5%&lt;/p&gt;

&lt;p&gt;I don&apos;t think that the difference in size is large enough to be an issue.&lt;/p&gt;

&lt;p&gt;But it seems ATM to be of use (as sandy says) only for the main jar of an applet&lt;br/&gt;
(which JCL isn&apos;t). &lt;/p&gt;

&lt;p&gt;Opinions?&lt;/p&gt;
</comment>
                            <comment id="12411361" author="sandymac@apache.org" created="Fri, 10 Feb 2006 01:23:17 +0000"  >&lt;p&gt;It&apos;s not a big deal, in those cases it is only ~200 bytes but it is ~200 bytes&lt;br/&gt;
of dead weight and that eventually it adds up. Would you accept a patch that&lt;br/&gt;
adds dead code to a project?&lt;/p&gt;

&lt;p&gt;Currently the jar command puts the META-INF/INDEX.LIST as the last file in the&lt;br/&gt;
jar. By the time the ClassLoader has loaded the jar, it already knows about all&lt;br/&gt;
the files in the current jar.&lt;/p&gt;</comment>
                            <comment id="12411362" author="rdonkin@apache.org" created="Fri, 17 Feb 2006 05:34:00 +0000"  >&lt;p&gt;I&apos;ve had a good think about this and a chance to play around a little.&lt;/p&gt;

&lt;p&gt;jarindex indexes the dependencies but I&apos;m a little worried that classloaders may&lt;br/&gt;
get confused by optional depedencies. JCL would need to be re-jarred and signed&lt;br/&gt;
before it could be used in an applet so I&apos;ve decided that it&apos;d be best to remove&lt;br/&gt;
the indexes. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12334016" name="ASF.LICENSE.NOT.GRANTED--jcl_build_xml.patch" size="1710" author="boris.unckel.mlg@gmx.net" created="Sat, 4 Feb 2006 05:08:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38499</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148241</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 38 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7on:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75021</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-62] [logging][PATCH] JavaDoc corrections</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-62</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;I have read through the JavaDocs for commons-logging 1.0.4-rc2 and found and&lt;br/&gt;
corrected a few errors.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341488">LOGGING-62</key>
            <summary>[logging][PATCH] JavaDoc corrections</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dennisl@apache.org">Dennis Lundberg</reporter>
                        <labels>
                    </labels>
                <created>Sat, 5 Jun 2004 03:32:28 +0000</created>
                <updated>Tue, 29 Dec 2009 16:24:30 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 16:24:30 +0000</resolved>
                                    <version>1.0.4</version>
                                    <fixVersion>1.0.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12406739" author="dennisl@apache.org" created="Sat, 5 Jun 2004 03:33:35 +0000"  >&lt;p&gt;Created an attachment (id=11761)&lt;br/&gt;
JavaDoc correction&lt;/p&gt;</comment>
                            <comment id="12406740" author="dennisl@apache.org" created="Sat, 5 Jun 2004 03:34:00 +0000"  >&lt;p&gt;Created an attachment (id=11762)&lt;br/&gt;
JavaDoc correction&lt;/p&gt;</comment>
                            <comment id="12406741" author="dennisl@apache.org" created="Sat, 5 Jun 2004 03:34:14 +0000"  >&lt;p&gt;Created an attachment (id=11763)&lt;br/&gt;
JavaDoc correction&lt;/p&gt;</comment>
                            <comment id="12406742" author="dennisl@apache.org" created="Sat, 5 Jun 2004 03:34:28 +0000"  >&lt;p&gt;Created an attachment (id=11764)&lt;br/&gt;
JavaDoc correction&lt;/p&gt;</comment>
                            <comment id="12406743" author="dennisl@apache.org" created="Sat, 5 Jun 2004 03:34:55 +0000"  >&lt;p&gt;Created an attachment (id=11765)&lt;br/&gt;
JavaDoc correction&lt;/p&gt;</comment>
                            <comment id="12406744" author="dennisl@apache.org" created="Sat, 5 Jun 2004 03:35:08 +0000"  >&lt;p&gt;Created an attachment (id=11766)&lt;br/&gt;
JavaDoc correction&lt;/p&gt;</comment>
                            <comment id="12406745" author="dennisl@apache.org" created="Sat, 5 Jun 2004 03:36:30 +0000"  >&lt;p&gt;Created an attachment (id=11767)&lt;br/&gt;
JavaDoc correction&lt;/p&gt;</comment>
                            <comment id="12406746" author="rdonkin@apache.org" created="Mon, 7 Jun 2004 04:18:24 +0000"  >&lt;p&gt;Applied. Many thanks.&lt;/p&gt;

&lt;p&gt;Robert&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12332930" name="ASF.LICENSE.NOT.GRANTED--Jdk13LumberjackLogger.java.patch" size="1415" author="dennisl@apache.org" created="Sat, 5 Jun 2004 03:33:35 +0000"/>
                            <attachment id="12332931" name="ASF.LICENSE.NOT.GRANTED--Jdk14Logger.java.patch" size="861" author="dennisl@apache.org" created="Sat, 5 Jun 2004 03:34:00 +0000"/>
                            <attachment id="12332932" name="ASF.LICENSE.NOT.GRANTED--Log.java.patch" size="723" author="dennisl@apache.org" created="Sat, 5 Jun 2004 03:34:14 +0000"/>
                            <attachment id="12332933" name="ASF.LICENSE.NOT.GRANTED--LogFactory.java.patch" size="938" author="dennisl@apache.org" created="Sat, 5 Jun 2004 03:34:28 +0000"/>
                            <attachment id="12332934" name="ASF.LICENSE.NOT.GRANTED--NoOpLog.java.patch" size="669" author="dennisl@apache.org" created="Sat, 5 Jun 2004 03:34:55 +0000"/>
                            <attachment id="12332935" name="ASF.LICENSE.NOT.GRANTED--SimpleLog.java.patch" size="1323" author="dennisl@apache.org" created="Sat, 5 Jun 2004 03:35:08 +0000"/>
                            <attachment id="12332936" name="ASF.LICENSE.NOT.GRANTED--package.html.patch" size="2669" author="dennisl@apache.org" created="Sat, 5 Jun 2004 03:36:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>29400</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148240</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 23 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7ov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75022</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-61] contextClassLoader null returned in LogFactory.java</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-61</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;I was trying to deploy Axis beta3 on iPlanet 6 and kept getting the following&lt;br/&gt;
exception.&lt;/p&gt;

&lt;p&gt;lang.ExceptionInInitializerError: java.lang.NullPointerException&lt;br/&gt;
        at org.apache.commons.logging.LogFactory.getFactory(LogFactory.java:326)&lt;br/&gt;
        at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:394)&lt;br/&gt;
        at org.apache.axis.transport.http.AxisServlet.&amp;lt;clinit&amp;gt;(AxisServlet.java:104)&lt;br/&gt;
        at java.lang.Class.newInstance0(Native Method)&lt;br/&gt;
        at java.lang.Class.newInstance(Class.java:232)&lt;br/&gt;
        at&lt;br/&gt;
com.iplanet.server.http.servlet.WServletEntity.loadAndInitServlet(WServletEntity.java:71)&lt;br/&gt;
        at&lt;br/&gt;
com.iplanet.server.http.servlet.WebApplication.service(WebApplication.java:1045)&lt;br/&gt;
        at&lt;br/&gt;
com.iplanet.server.http.servlet.NSServletRunner.ServiceWebApp(NSServletRunner.java:959)&lt;/p&gt;

&lt;p&gt;Found another guy getting the same problem that was posting to the Axis mailing&lt;br/&gt;
list.  Here is a URL to his posts:&lt;br/&gt;
&lt;a href=&quot;http://www.mail-archive.com/axis-user@xml.apache.org/msg04319.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.mail-archive.com/axis-user@xml.apache.org/msg04319.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;He mentioned a hack he did and I did the same and it seemed to fix the problem.&lt;br/&gt;
 I don&apos;t know whether I may have broke something else but my Axis web services&lt;br/&gt;
are working fine now...&lt;/p&gt;

&lt;p&gt;Here is the hack in LogFactory.java at line 264 in method getFactory():&lt;/p&gt;

&lt;p&gt;/&lt;b&gt;sjb - hack to default back&lt;/b&gt;/&lt;br/&gt;
if(contextClassLoader==null)&lt;br/&gt;
{&lt;br/&gt;
  contextClassLoader = ClassLoader.getSystemClassLoader();&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;Cheers...&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12340302">LOGGING-61</key>
            <summary>contextClassLoader null returned in LogFactory.java</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="steve.bryant@aig.com">steve bryant</reporter>
                        <labels>
                    </labels>
                <created>Thu, 29 Aug 2002 15:28:32 +0000</created>
                <updated>Tue, 29 Dec 2009 17:00:07 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 17:00:07 +0000</resolved>
                                    <version>1.0.1</version>
                                    <fixVersion>1.0.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12402858" author="rsitze@apache.org" created="Fri, 30 Aug 2002 10:29:43 +0000"  >&lt;p&gt;Fix checked in tonight.  Please let me know ASAP if this corrects&lt;br/&gt;
your problem.  BTW, calling &apos;ClassLoader.getSystemClassLoader&apos;&lt;br/&gt;
is not portable to early JVM&apos;s, so it is not an acceptable solution&lt;br/&gt;
for commons-logging.&lt;/p&gt;</comment>
                            <comment id="12402859" author="steve.bryant@aig.com" created="Fri, 30 Aug 2002 15:23:45 +0000"  >&lt;p&gt;Also, I forgot to throw this helpful bits in the bug report.  I deployed this&lt;br/&gt;
service with no problems on Linux JVM 1.3.1_03 and Tomcat 4.0.3.  This error&lt;br/&gt;
occurred while deploying the Axis service on iPlanet on a Solaris JVM 1.3.1. &lt;br/&gt;
Sorry about that.  The Axis service now works fine on both platforms.&lt;/p&gt;

&lt;p&gt;-sjb&lt;/p&gt;</comment>
                            <comment id="12402860" author="rsitze@apache.org" created="Fri, 27 Sep 2002 04:36:44 +0000"  >&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOGGING-13&quot; title=&quot;[logging] NullPointException when Logger.getClassLoader returns null&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOGGING-13&quot;&gt;&lt;del&gt;COM-118&lt;/del&gt;&lt;/a&gt; has been marked as a duplicate of this bug. ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12149</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148239</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            23 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7p3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75023</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-60] .zip file actually a .tar.gz file</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-60</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;The file&lt;br/&gt;
&lt;a href=&quot;http://jakarta.apache.org/builds/jakarta-commons/release/commons-logging/v1.0.2/commons-logging-1.0.2-src.zip&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jakarta.apache.org/builds/jakarta-commons/release/commons-logging/v1.0.2/commons-logging-1.0.2-src.zip&lt;/a&gt;&lt;br/&gt;
has exactly the same contents as the .tar.gz file in the same directory.&lt;/p&gt;

&lt;p&gt;This .zip file is not usable by .zip readers.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12340564">LOGGING-60</key>
            <summary>.zip file actually a .tar.gz file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="snible@us.ibm.com">Ed Snible</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 Feb 2003 22:52:49 +0000</created>
                <updated>Tue, 29 Dec 2009 16:35:44 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 16:35:44 +0000</resolved>
                                                    <fixVersion>1.0.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12403684" author="craig.mcclanahan@sun.com" created="Mon, 31 Mar 2003 08:03:31 +0000"  >&lt;p&gt;Will be fixed in the 1.0.3 release.  In the mean time, you can process the file&lt;br/&gt;
with a tool like WinZip, which can read the tar.gz format.&lt;/p&gt;
</comment>
                            <comment id="12403685" author="craig.mcclanahan@sun.com" created="Mon, 31 Mar 2003 08:23:51 +0000"  >&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOGGING-5&quot; title=&quot;corrupt logging v1.0.2 source zipfiles are posted on all mirror sites&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOGGING-5&quot;&gt;&lt;del&gt;COM-475&lt;/del&gt;&lt;/a&gt; has been marked as a duplicate of this bug. ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>17245</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148238</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 33 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7pb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75024</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-59] patch to make commons-logging compileable againt cvs-head of log4j</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-59</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;patch to make commons-logging compileable againt cvs-head of log4j&lt;/p&gt;

&lt;p&gt;slightly changed CustomConfigTestCase - getThrowable() on ThrowableInfo is no&lt;br/&gt;
longer accessible - in fact it isnt any longer stored in ThrowableInfor, now&lt;br/&gt;
only the string representation is stored.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341142">LOGGING-59</key>
            <summary>patch to make commons-logging compileable againt cvs-head of log4j</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mario@ops.co.at">Mario Ivankovits</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 May 2004 01:01:49 +0000</created>
                <updated>Wed, 2 Jan 2008 07:48:29 +0000</updated>
                            <resolved>Wed, 2 Jan 2008 07:48:29 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12405609" author="mario@ops.co.at" created="Thu, 13 May 2004 01:02:35 +0000"  >&lt;p&gt;Created an attachment (id=11525)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;PATCH&amp;#93;&lt;/span&gt; implement log4j changes&lt;/p&gt;</comment>
                            <comment id="12405610" author="ceki@apache.org" created="Wed, 19 May 2004 21:02:34 +0000"  >&lt;p&gt;Created an attachment (id=11596)&lt;br/&gt;
this patch covers runtime compatibility as well&lt;/p&gt;</comment>
                            <comment id="12405611" author="ceki@apache.org" created="Wed, 19 May 2004 21:04:01 +0000"  >&lt;p&gt;With some changes to log4j HEAD and the following patch to&lt;br/&gt;
commons-logging, it is now possible to compile commons-logging with&lt;br/&gt;
1.3alpha and run it with both 1.3 &lt;b&gt;and&lt;/b&gt; 1.2.8. Unfortunately, I was&lt;br/&gt;
unable to get a c-l version compiled with 1.2.8 to also run with 1.3. Mostly &lt;br/&gt;
because I am unable to grok the java.lang.VerifyError.&lt;/p&gt;

&lt;p&gt;     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt; No suitable Log constructor [Ljava.lang.Class;@f9f9d8 for &lt;br/&gt;
org.apache.commons.logging.impl.Log4JLogger&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt; java.lang.VerifyError: (class: &lt;br/&gt;
org/apache/commons/logging/impl/Log4JLogger, method: warn signature: &lt;br/&gt;
(Ljava/lang/Object;Ljava/lang/Throwable;)V) Incom&lt;br/&gt;
patible argument to function&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     at java.lang.Class.getDeclaredConstructors0(Native Method)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     at java.lang.Class.privateGetDeclaredConstructors&lt;br/&gt;
(Class.java:1590)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     at java.lang.Class.getConstructor0(Class.java:1762)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     at java.lang.Class.getConstructor(Class.java:1002)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     at &lt;br/&gt;
org.apache.commons.logging.impl.LogFactoryImpl.getLogConstructor&lt;br/&gt;
(LogFactoryImpl.java:410)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     at org.apache.commons.logging.impl.LogFactoryImpl.newInstance&lt;br/&gt;
(LogFactoryImpl.java:531)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     at org.apache.commons.logging.impl.LogFactoryImpl.getInstance&lt;br/&gt;
(LogFactoryImpl.java:235)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     at org.apache.commons.logging.LogFactory.getLog&lt;br/&gt;
(LogFactory.java:369)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     at &lt;br/&gt;
org.apache.commons.logging.log4j.DefaultConfigTestCase.setUpLog&lt;br/&gt;
(DefaultConfigTestCase.java:179)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     at org.apache.commons.logging.log4j.DefaultConfigTestCase.setUp&lt;br/&gt;
(DefaultConfigTestCase.java:81)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     at junit.framework.TestCase.runBare(TestCase.java:125)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     at junit.framework.TestResult$1.protect(TestResult.java:106)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     at junit.framework.TestResult.runProtected(TestResult.java:124)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     at junit.framework.TestResult.run(TestResult.java:109)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     at junit.framework.TestCase.run(TestCase.java:118)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     at junit.framework.TestSuite.runTest(TestSuite.java:208)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     at junit.framework.TestSuite.run(TestSuite.java:203)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     at junit.textui.TestRunner.doRun(TestRunner.java:116)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     at junit.textui.TestRunner.start(TestRunner.java:172)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     at junit.textui.TestRunner.main(TestRunner.java:138)&lt;/p&gt;

&lt;p&gt;I would be grateful if someone could explain the source of the error.&lt;/p&gt;

&lt;p&gt;Anyway, to get 1.3 compiled code to also run on 1.2.8, the trick is to&lt;br/&gt;
detect if running on 1.2 and to cast a Level instance as a Priority.&lt;/p&gt;

&lt;p&gt;The detection is straightforward:&lt;/p&gt;

&lt;p&gt; private static final boolean is12 = Priority.class.isAssignableFrom&lt;br/&gt;
(Level.class);&lt;/p&gt;

&lt;p&gt;In Log4jLogger class, the various method calls become:&lt;/p&gt;

&lt;p&gt; public void debug(Object message) {&lt;br/&gt;
   if(is12) &lt;/p&gt;
{
     getLogger().log(FQCN, (Priority) Level.DEBUG, message, null );
   }
&lt;p&gt; else &lt;/p&gt;
{
     getLogger().log(FQCN, Level.DEBUG, message, null );
   }
&lt;p&gt; }&lt;/p&gt;

&lt;p&gt;Refer to the included patch file for exact details.&lt;/p&gt;

&lt;p&gt;Note also that the CustomConfigTestCase.java was modified to reflect&lt;br/&gt;
the fact that the throwable is no longer available in ThrowableInfo.&lt;/p&gt;</comment>
                            <comment id="12405612" author="mario@ops.co.at" created="Wed, 19 May 2004 21:26:05 +0000"  >&lt;p&gt;I think this could be THE solution, we well see what the commons-logging team&lt;br/&gt;
will say.&lt;/p&gt;

&lt;p&gt;However, i would like to suggest to take this solution but to create a second&lt;br/&gt;
Log4JLogger anyway.&lt;/p&gt;

&lt;p&gt;Just to avoid the if() and cast on every log-message.&lt;/p&gt;

&lt;p&gt;People are very sensitive about log-performance and even if those code do not&lt;br/&gt;
cost that much, there might be some who complain about it.&lt;/p&gt;

&lt;p&gt;If wanted i could do this today, but i am sure a loggings-committer can do it&lt;br/&gt;
faster.&lt;/p&gt;</comment>
                            <comment id="12405613" author="ceki@apache.org" created="Wed, 19 May 2004 21:41:58 +0000"  >&lt;p&gt;Agreed. My goal was to show that achieving compatibility was&lt;br/&gt;
feasible. There may indeed be better solutions.&lt;/p&gt;</comment>
                            <comment id="12405614" author="rdonkin@apache.org" created="Thu, 27 May 2004 02:28:59 +0000"  >&lt;p&gt;Thanks for the patch mario but the solution offered (in the end) by Ceki allows commons-logging to be &lt;br/&gt;
compatible with both 1.2.x and (hopefully) the upcoming 1.3 release. Therefore, I&apos;m marking this bug &lt;br/&gt;
closed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12332649" name="ASF.LICENSE.NOT.GRANTED--diffz" size="9976" author="ceki@apache.org" created="Wed, 19 May 2004 21:02:34 +0000"/>
                            <attachment id="12332648" name="ASF.LICENSE.NOT.GRANTED--log4j.patch" size="11521" author="mario@ops.co.at" created="Thu, 13 May 2004 01:02:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>28933</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148237</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 25 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7pj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75025</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-58] [logging] null pointer exception in LogFactory.getLog</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-58</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;In running the LoggingTrial example from the book &quot;Pro Jakarta Commons&quot; by Oak from Apress on &lt;br/&gt;
MacOSX 10.3.7, java version &quot;1.4.2_05-141.3&quot;, I get the following error:&lt;/p&gt;

&lt;p&gt;run_example:&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt; Exception in thread &quot;main&quot; org.apache.commons.logging.LogConfigurationException: &lt;br/&gt;
org.apache.commons.logging.LogConfigurationException: java.lang.NullPointerException (Caused by &lt;br/&gt;
java.lang.NullPointerException) (Caused by org.apache.commons.logging.LogConfigurationException: &lt;br/&gt;
java.lang.NullPointerException (Caused by java.lang.NullPointerException))&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     at org.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:543)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     at org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:235)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     at org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:209)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:351)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     at com.commonsbook.chap3.LoggingTrial.main(LoggingTrial.java:8)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt; Caused by: org.apache.commons.logging.LogConfigurationException: &lt;br/&gt;
java.lang.NullPointerException (Caused by java.lang.NullPointerException)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     at &lt;br/&gt;
org.apache.commons.logging.impl.LogFactoryImpl.getLogConstructor(LogFactoryImpl.java:397)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     at org.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:529)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     ... 4 more&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt; Caused by: java.lang.NullPointerException&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     at &lt;br/&gt;
org.apache.commons.logging.impl.LogFactoryImpl.getLogConstructor(LogFactoryImpl.java:374)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     ... 5 more&lt;/p&gt;

&lt;p&gt;Up to this point everything in the book worked. I doubt user error. MacOSX java implementation?&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Mac OS X 10.3&lt;br/&gt;
Platform: Macintosh&lt;/p&gt;</environment>
        <key id="12342013">LOGGING-58</key>
            <summary>[logging] null pointer exception in LogFactory.getLog</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dhuebsch@mac.com">Donald Huebschman</reporter>
                        <labels>
                    </labels>
                <created>Tue, 25 Jan 2005 00:47:33 +0000</created>
                <updated>Tue, 29 Dec 2009 16:04:17 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 16:04:17 +0000</resolved>
                                    <version>1.0.4</version>
                                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12408595" author="dennisl@apache.org" created="Tue, 25 Jan 2005 01:27:14 +0000"  >&lt;p&gt;I downloaded the example and tried it successfully on Windows XP with Java&lt;br/&gt;
1.4.2_06. Note that my locale is set to sv_SE. Here is the output:&lt;/p&gt;

&lt;p&gt;The Log being used &amp;gt;&amp;gt;&amp;gt; org.apache.commons.logging.impl.Jdk14Logger@7c6768&lt;br/&gt;
2005-jan-24 17:19:46 com.commonsbook.chap3.LoggingTrial main&lt;br/&gt;
INFO: INFO TEST&lt;br/&gt;
2005-jan-24 17:19:46 com.commonsbook.chap3.LoggingTrial main&lt;br/&gt;
INFO: INFO TEST&lt;br/&gt;
java.lang.Exception: A DUMMY EXCEPTION&lt;br/&gt;
        at com.commonsbook.chap3.LoggingTrial.main(LoggingTrial.java:14)&lt;br/&gt;
2005-jan-24 17:19:46 com.commonsbook.chap3.LoggingTrial main&lt;br/&gt;
VARNING: WARN TEST&lt;br/&gt;
2005-jan-24 17:19:46 com.commonsbook.chap3.LoggingTrial main&lt;br/&gt;
VARNING: WARN TEST&lt;br/&gt;
java.lang.Exception: A DUMMY EXCEPTION&lt;br/&gt;
        at com.commonsbook.chap3.LoggingTrial.main(LoggingTrial.java:14)&lt;br/&gt;
2005-jan-24 17:19:46 com.commonsbook.chap3.LoggingTrial main&lt;br/&gt;
ALLVARLIG: ERROR TEST&lt;br/&gt;
2005-jan-24 17:19:46 com.commonsbook.chap3.LoggingTrial main&lt;br/&gt;
ALLVARLIG: ERROR TEST&lt;br/&gt;
java.lang.Exception: A DUMMY EXCEPTION&lt;br/&gt;
        at com.commonsbook.chap3.LoggingTrial.main(LoggingTrial.java:14)&lt;br/&gt;
2005-jan-24 17:19:46 com.commonsbook.chap3.LoggingTrial main&lt;br/&gt;
ALLVARLIG: FATAL TEST&lt;br/&gt;
2005-jan-24 17:19:46 com.commonsbook.chap3.LoggingTrial main&lt;br/&gt;
ALLVARLIG: FATAL TEST&lt;br/&gt;
java.lang.Exception: A DUMMY EXCEPTION&lt;br/&gt;
        at com.commonsbook.chap3.LoggingTrial.main(LoggingTrial.java:14)&lt;/p&gt;</comment>
                            <comment id="12408596" author="rsitze@apache.org" created="Tue, 25 Jan 2005 05:22:13 +0000"  >&lt;p&gt;LogFactoryImpl.java:543&lt;/p&gt;

&lt;p&gt;541:            if (logMethod != null) &lt;/p&gt;
{
542:                params[0] = this;
543:                logMethod.invoke(instance, params);
544:            }

&lt;p&gt;So... not sure what version of the code you&apos;re using, but looks to me like &lt;br/&gt;
your line#543 can&apos;t be the same as the most recent source.  This isn&apos;t a &lt;br/&gt;
recent code change either.&lt;/p&gt;

&lt;p&gt;Please pull a recent build, retry, and supply us with a stack-trace that &lt;br/&gt;
matches current code.  Thanks.&lt;/p&gt;</comment>
                            <comment id="12408597" author="rsitze@apache.org" created="Tue, 25 Jan 2005 05:24:39 +0000"  >&lt;p&gt;Oh wait.. this is a reflective invoke.  How fun.  Strike that last note.&lt;/p&gt;</comment>
                            <comment id="12408598" author="rsitze@apache.org" created="Tue, 25 Jan 2005 05:29:27 +0000"  >&lt;p&gt;I would still like to ensure that you are running this with a recent nightly &lt;br/&gt;
build, to ensure line #&apos;s line up.  Also, if there is any more detail on the &lt;br/&gt;
stacktrace, I&apos;d like to see that... it looks like we&apos;re losing the interesting &lt;br/&gt;
detail on the core problem.&lt;/p&gt;</comment>
                            <comment id="12408599" author="dhuebsch@mac.com" created="Tue, 25 Jan 2005 06:21:10 +0000"  >&lt;p&gt;I am using 1.0.4 version which I believe is the most recent. I have the commons-logging in the java &lt;br/&gt;
endorsed directory as well as in a separate classpath listed lib directory. Removing it from classpath &lt;br/&gt;
doesn&apos;t change anything, have not removed it from endorsed.&lt;/p&gt;</comment>
                            <comment id="12408600" author="dhuebsch@mac.com" created="Tue, 25 Jan 2005 07:21:14 +0000"  >&lt;p&gt;I removed commons-logging from endorsed and left it in classpath. It now works as it suppose to, &lt;br/&gt;
except, it defaults to log4j and not simplelog.&lt;/p&gt;

&lt;p&gt;Something I don&apos;t understand happens when commons-logging is in the java/lib/endorsed directory.&lt;/p&gt;</comment>
                            <comment id="12408601" author="apache@netdpb.net" created="Mon, 31 Jan 2005 04:27:10 +0000"  >&lt;p&gt;Could this be because the docs for Class.getClassLoader() include:&lt;/p&gt;

&lt;p&gt;&quot;Returns the class loader for the class. Some implementations may use  null to represent the bootstrap &lt;br/&gt;
class loader. This method will return  null in such implementations if this class was loaded by the &lt;br/&gt;
bootstrap  class loader.&quot;&lt;/p&gt;

&lt;p&gt;If Apple&apos;s JRE does return null, and commons-logging is in the system classpath (/Library/Java/&lt;br/&gt;
Extensions)...&lt;/p&gt;

&lt;p&gt;The relevant snippet from 1.0.4 source (ultimate cause at LogFactoryImpl:374) is:&lt;/p&gt;

&lt;p&gt;            logInterface = this.getClass().getClassLoader().loadClass&lt;br/&gt;
                (LOG_INTERFACE);&lt;/p&gt;

&lt;p&gt;If getClassLoader() indeed returns null, as the API spec allows?...&lt;/p&gt;</comment>
                            <comment id="12408602" author="rdonkin@apache.org" created="Tue, 8 Feb 2005 05:06:57 +0000"  >&lt;p&gt;The code which seems to be in question now reads: &lt;/p&gt;

&lt;p&gt;            ClassLoader cl = this.getClass().getClassLoader();&lt;br/&gt;
            // handle the case if getClassLoader() returns null&lt;br/&gt;
            // It may mean this class was loaded from the bootstrap classloader&lt;br/&gt;
            logInterface = (cl == null) ? loadClass(LOG_INTERFACE) : &lt;br/&gt;
                                          cl.loadClass(LOG_INTERFACE);&lt;br/&gt;
            logClass = loadClass(logClassName);&lt;/p&gt;

&lt;p&gt;This looks ok.&lt;/p&gt;

&lt;p&gt;I&apos;ve tried to replicate on my PowerBook with the newest code but doesn&apos;t seem to&lt;br/&gt;
happen any more.&lt;/p&gt;</comment>
                            <comment id="12408603" author="dennisl@apache.org" created="Sun, 29 Jan 2006 22:27:21 +0000"  >&lt;p&gt;This was fixed by the patch for issue 31710.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33221</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148236</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 41 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7pr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75026</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-57] Language specs violation in Commons Logging 1.0.2 in class LogFactoryImpl</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-57</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;In Commons Logging 1.0.2, we have the folloing:&lt;/p&gt;

&lt;p&gt;org.apache.commons.logging.LogFactory  &lt;br/&gt;
  defines method getContextClassLoader() as &apos;protected&apos;&lt;/p&gt;

&lt;p&gt;org.apache.commons.logging.impl.LogFactoryImpl&lt;br/&gt;
  calls aforementioned method inside loadClass() &lt;br/&gt;
  from within the run() method of an anonymous&lt;br/&gt;
  subclass of PrivilegedAction.&lt;/p&gt;

&lt;p&gt;The IBM VisualAge Java compiler does not like that.&lt;br/&gt;
It reports an error: &quot;method not visible&quot;&lt;/p&gt;

&lt;p&gt;It is right.&lt;/p&gt;

&lt;p&gt;The Java Language reference says in 6.6.1:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;..&amp;#93;&lt;/span&gt;, if the member or constructor is declared protected, then access is&lt;br/&gt;
      permitted only when one of the following is true: &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Access to the member or constructor occurs from within the package&lt;br/&gt;
        containing the class in which the protected member or constructor is&lt;br/&gt;
        declared. (** not true in this case **)&lt;/li&gt;
	&lt;li&gt;Access is correct as described in &#167;6.6.2. (&quot;A protected member or&lt;br/&gt;
        constructor of an object may be accessed from outside the package in&lt;br/&gt;
        which it is declared only by code that is responsible for the&lt;br/&gt;
        implementation of that object.&quot;)&lt;br/&gt;
        (not true in our case...)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;So, I think this method has to be made public. Which is of course unfortunate.&lt;/p&gt;

&lt;p&gt;Similar problems have occurred with other stuff. See my bugs 6493 &amp;amp; 13087.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12340544">LOGGING-57</key>
            <summary>Language specs violation in Commons Logging 1.0.2 in class LogFactoryImpl</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="d.tonhofer@m-plify.com">David Tonhofer</reporter>
                        <labels>
                    </labels>
                <created>Fri, 7 Feb 2003 21:30:20 +0000</created>
                <updated>Wed, 2 Jan 2008 07:48:28 +0000</updated>
                            <resolved>Wed, 2 Jan 2008 07:48:28 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12403606" author="dgraham@apache.org" created="Fri, 4 Apr 2003 06:53:36 +0000"  >&lt;p&gt;There is a compiler option in Eclipse called &quot;Access to a non-accessible member &lt;br/&gt;
of an enclosing type&quot; that you can set to report as Ignore, Warning, or Error.  &lt;br/&gt;
Setting it to Warning results in a statement indicating that access to the &lt;br/&gt;
method is emulated with a synthetic accessor method and changing the method&apos;s &lt;br/&gt;
visibility will improve performance.  However, the code still compiles and &lt;br/&gt;
functions appropriately.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>16880</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148235</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 32 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7pz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75027</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-56] Unable to configure commons-logging SimpleLog for a webapp</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-56</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;I am unable to configure the commons-logging SimpleLog for my webapp.&lt;/p&gt;

&lt;p&gt;I beleive something is wrong with the jakarta-struts-1.1-rc1\lib\commons-&lt;br/&gt;
logging.jar. If I use the commons project version 1.0.2 of the jar, everything &lt;br/&gt;
works as expected. If I the struts 1.1-rc1 version of the jar, I am unable to &lt;br/&gt;
change the SimpleLog properties such as the log level (i.e., trace, debug, &lt;br/&gt;
info...). It seems to be completely ignoring my WEB-&lt;br/&gt;
INF\classes\simplelog.properties file.&lt;/p&gt;

&lt;p&gt;The meta-inf\Manifest.mf file in the jakarta-struts-1.1-rc1\lib\commons-&lt;br/&gt;
logging.jar does not have proper information for these properties:&lt;br/&gt;
Extension-Name: @package@&lt;br/&gt;
Implementation-Version: @version@&lt;/p&gt;

&lt;p&gt;My WEB-INF\classes\commons-logging.properties file:&lt;br/&gt;
org.apache.commons.logging.LogFactory=org.apache.commons.logging.impl.LogFactory&lt;br/&gt;
Impl&lt;br/&gt;
org.apache.commons.logging.Log=org.apache.commons.logging.impl.SimpleLog&lt;/p&gt;

&lt;p&gt;My WEB-INF\classes\simplelog.properties file:&lt;br/&gt;
org.apache.commons.logging.simplelog.defaultlog=info&lt;br/&gt;
org.apache.commons.logging.simplelog.log.org.apache.struts=debug&lt;br/&gt;
org.apache.commons.logging.simplelog.log.com.ofx=debug&lt;br/&gt;
org.apache.commons.logging.simplelog.showlogname=true&lt;br/&gt;
org.apache.commons.logging.simplelog.showShortLogname=false&lt;/p&gt;

&lt;p&gt;Using the Struts 1.1-rc1 commons-logging.jar my console output is in the &lt;br/&gt;
following format:&lt;br/&gt;
Mar 11, 2003 3:28:04 PM org.apache.struts.util.PropertyMessageResources &amp;lt;init&amp;gt;&lt;br/&gt;
INFO: Initializing, config=&apos;org.apache.struts.util.LocalStrings&apos;, returnNull=tru&lt;br/&gt;
e&lt;/p&gt;

&lt;p&gt;Using the Commons 1.0.2 commons-logging.jar my console output is in the &lt;br/&gt;
following format:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; org.apache.struts.util.PropertyMessageResources - Initializing, config=&apos;o&lt;br/&gt;
rg.apache.struts.util.LocalStrings&apos;, returnNull=true&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt; org.apache.struts.action.ActionServlet - Scanning web.xml for controller&lt;br/&gt;
 servlet mapping&lt;/p&gt;

&lt;p&gt;My environment is: Windows 2000, J2SDK 1.4.1_01, Tomcat 4.1.18, Struts 1.1-rc1&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12340600">LOGGING-56</key>
            <summary>Unable to configure commons-logging SimpleLog for a webapp</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="nathann@objectfx.com">Nathan Niesen</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Mar 2003 06:15:14 +0000</created>
                <updated>Wed, 2 Jan 2008 07:48:28 +0000</updated>
                            <resolved>Wed, 2 Jan 2008 07:48:28 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12403837" author="dgraham@apache.org" created="Wed, 12 Mar 2003 06:54:00 +0000"  >&lt;p&gt;Please post logging configuration questions to commons-user or struts-user.&lt;/p&gt;</comment>
                            <comment id="12403838" author="nathann@objectfx.com" created="Wed, 12 Mar 2003 06:56:15 +0000"  >&lt;p&gt;This is not invalid. The commons-logging.jar file in the Strut 1.1-rc1 binary &lt;br/&gt;
distribution is BAD.&lt;/p&gt;</comment>
                            <comment id="12403839" author="dgraham@apache.org" created="Wed, 12 Mar 2003 07:10:41 +0000"  >&lt;p&gt;Does changing the manifest entries fix the problem?&lt;/p&gt;</comment>
                            <comment id="12403840" author="nathann@objectfx.com" created="Wed, 12 Mar 2003 07:23:11 +0000"  >&lt;p&gt;Nope. I used winzip to extract the manifest, updated the properties to look &lt;br/&gt;
like the ones in the commons jar, and then re-added the manifest to the jar. &lt;br/&gt;
That didn&apos;t fix it.&lt;/p&gt;</comment>
                            <comment id="12403841" author="nathann@objectfx.com" created="Wed, 12 Mar 2003 07:39:52 +0000"  >&lt;p&gt;You can reproduce this using any of the Struts examples. Just configure an &lt;br/&gt;
examaple as follows below. Notice that when you run the example you don&apos;t see &lt;br/&gt;
any trace or debug level message on the console. Now replace the examples WEB-&lt;br/&gt;
INF\lib\commons-logging.jar with the commons 1.0.2 version. Reload the example &lt;br/&gt;
webapp and you will see that it now finds the config file and displays trace &lt;br/&gt;
and debug messages.&lt;/p&gt;

&lt;p&gt;WEB-INF\classes\commons-logging.properties file:&lt;br/&gt;
org.apache.commons.logging.LogFactory=org.apache.commons.logging.impl.LogFactory&lt;br/&gt;
Impl&lt;br/&gt;
org.apache.commons.logging.Log=org.apache.commons.logging.impl.SimpleLog&lt;/p&gt;

&lt;p&gt;WEB-INF\classes\simplelog.properties file:&lt;br/&gt;
org.apache.commons.logging.simplelog.defaultlog=info&lt;br/&gt;
org.apache.commons.logging.simplelog.log.org.apache.struts=trace&lt;br/&gt;
org.apache.commons.logging.simplelog.showlogname=true&lt;br/&gt;
org.apache.commons.logging.simplelog.showShortLogname=false&lt;/p&gt;
</comment>
                            <comment id="12403842" author="dgraham@apache.org" created="Thu, 13 Mar 2003 13:34:36 +0000"  >&lt;p&gt;Please download the latest nightly build of commons-logging and test against &lt;br/&gt;
that jar.  Struts nightly builds include nightly builds of commons jars so this &lt;br/&gt;
may be a problem introduced in commons-logging after 1.0.2.&lt;/p&gt;</comment>
                            <comment id="12403843" author="nathann@objectfx.com" created="Thu, 13 Mar 2003 22:03:55 +0000"  >&lt;p&gt;Bingo! I tried the 3/8 and 3/13 builds, neither worked and they both had goofy &lt;br/&gt;
manifests. Popped the 1.0.2 build back in and everything worked fine again. &lt;br/&gt;
Maybe something is wrong with their build process. I&apos;m not sure if I can move &lt;br/&gt;
this bug to another project so I&apos;ll leave that to you. Thanks, Nathan.&lt;/p&gt;</comment>
                            <comment id="12403844" author="nathann@objectfx.com" created="Thu, 13 Mar 2003 22:07:25 +0000"  >&lt;p&gt;I guess this bug is probably still valid for Struts since you wouldn&apos;t want to &lt;br/&gt;
ship with a bad commons-logging.jar.&lt;/p&gt;</comment>
                            <comment id="12403845" author="nathann@objectfx.com" created="Thu, 13 Mar 2003 22:19:49 +0000"  >&lt;p&gt;One more note. I tried extracting the jar to WEB-INF\classes. It still didn&apos;t &lt;br/&gt;
work so it is more than just a jar problem.&lt;/p&gt;</comment>
                            <comment id="12403846" author="dgraham@apache.org" created="Fri, 14 Mar 2003 01:30:38 +0000"  >&lt;p&gt;Moving to commons-logging...&lt;/p&gt;</comment>
                            <comment id="12403847" author="gcompagnon@hotmail.com" created="Wed, 26 Mar 2003 00:34:14 +0000"  >&lt;p&gt;Created an attachment (id=5500)&lt;br/&gt;
jar bundle for the new build.xml (proposal for every project inside jakarta)&lt;/p&gt;</comment>
                            <comment id="12403848" author="gcompagnon@hotmail.com" created="Wed, 26 Mar 2003 00:35:20 +0000"  >&lt;p&gt;in order to tag correctly each librairies, I recommend to use the ant sub-task: &lt;br/&gt;
&amp;lt;manifest&amp;gt;, with, no need to checkout MANIFEST.MF file, and we are sure to have &lt;br/&gt;
the correct version number.&lt;/p&gt;

&lt;p&gt;I have published a version for the building of struts ... and I think that &lt;br/&gt;
every build.xml of jakarta-commons should be as that.&lt;/p&gt;

&lt;p&gt;Regards &lt;br/&gt;
Guillaume Compagnon gcompagnon@hotmail.com&lt;/p&gt;</comment>
                            <comment id="12403849" author="gcompagnon@hotmail.com" created="Wed, 26 Mar 2003 03:54:08 +0000"  >&lt;p&gt;Created an attachment (id=5504)&lt;br/&gt;
jar bundle of the patch applied to LogFactoryImpl&lt;/p&gt;</comment>
                            <comment id="12403850" author="gcompagnon@hotmail.com" created="Wed, 26 Mar 2003 03:54:37 +0000"  >&lt;p&gt;In fact, there is a bug due to the lazy loading of LogClassName into &lt;br/&gt;
LogFactoryImpl.&lt;br/&gt;
This attribute is initialized by guessConfig() during the construction of the &lt;br/&gt;
factory. Nevertheless, the attributes list is not initialized when the factory &lt;br/&gt;
os constructed in LogFactory::getFactory() (the call to newFactory() is before &lt;br/&gt;
the loop for initializing the attributes.&lt;/p&gt;

&lt;p&gt;for solving this bug, I ve moved the proxyFactory construction in a other &lt;br/&gt;
method, and used lazy instanciation for the ProxyFactory&lt;/p&gt;

&lt;p&gt;this bug is present into the current release (LogFactoryImpl v1.22), but not in &lt;br/&gt;
the 1.0.2 (there was another bug, if there is log4j present, the LogFactoryImpl &lt;br/&gt;
uses always the ProxyFactory from log4J)&lt;/p&gt;


&lt;p&gt;Guillaume Compagnon gcompagnon@hotmail.com&lt;/p&gt;</comment>
                            <comment id="12403851" author="gcompagnon@hotmail.com" created="Wed, 26 Mar 2003 04:06:37 +0000"  >&lt;p&gt;just for information, &lt;br/&gt;
in the current version, the default logClassName is JDK 1.4 , and that&apos;s why &lt;br/&gt;
you get the following format:&lt;br/&gt;
Mar 11, 2003 3:28:04 PM org.apache.struts.util.PropertyMessageResources &amp;lt;init&amp;gt;&lt;br/&gt;
INFO: Initializing, config=&apos;org.apache.struts.util.LocalStrings&apos;, &lt;br/&gt;
returnNull=true&lt;/p&gt;

&lt;p&gt;(the JDK 1.4 logger is configured by the logging.properties file, present into &lt;br/&gt;
jdk1.4/jre/lib, and whose the default log level is INFO)&lt;/p&gt;

&lt;p&gt;and on the 1.0.2, this is the SimpleLog with the format:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; org.apache.struts.util.PropertyMessageResources - Initializing, config=&apos;o&lt;br/&gt;
rg.apache.struts.util.LocalStrings&apos;, returnNull=true&lt;/p&gt;

&lt;p&gt;As a conclusion, Tomcat 4.1.18 uses the 1.0.2 release, so if log4J is not &lt;br/&gt;
installed ... it is the JDK 1.4 logger that was used with INFO log level &lt;br/&gt;
messages.&lt;/p&gt;</comment>
                            <comment id="12403852" author="nathann@objectfx.com" created="Wed, 26 Mar 2003 05:02:34 +0000"  >&lt;p&gt;&amp;gt;&amp;gt;this bug is present into the current release (LogFactoryImpl v1.22), but not&lt;br/&gt;
&amp;gt;&amp;gt;in the 1.0.2 (there was another bug, if there is log4j present, the&lt;br/&gt;
&amp;gt;&amp;gt;LogFactoryImpl uses always the ProxyFactory from log4J)&lt;/p&gt;

&lt;p&gt;Hmmm? My testing indicates that both 1.0.2 and 3/25/03 nightly always use log4j &lt;br/&gt;
when it&apos;s present. If log4j is present, both builds appear to ignore the &lt;br/&gt;
following commons-logging.properties entries:&lt;/p&gt;

&lt;p&gt;org.apache.commons.logging.LogFactory=org.apache.commons.logging.impl.LogFactory&lt;br/&gt;
Impl&lt;br/&gt;
org.apache.commons.logging.Log=org.apache.commons.logging.impl.Jdk14Logger&lt;br/&gt;
&lt;del&gt;OR&lt;/del&gt;&lt;br/&gt;
org.apache.commons.logging.LogFactory=org.apache.commons.logging.impl.LogFactory&lt;br/&gt;
Impl&lt;br/&gt;
org.apache.commons.logging.Log=org.apache.commons.logging.impl.SimpleLog&lt;/p&gt;


&lt;p&gt;&amp;gt;&amp;gt;just for information, &lt;br/&gt;
&amp;gt;&amp;gt;in the current version, the default logClassName is JDK 1.4 , and that&apos;s why &lt;br/&gt;
&amp;gt;&amp;gt;you get the following format:&lt;br/&gt;
&amp;gt;&amp;gt;....&lt;/p&gt;

&lt;p&gt;Yep, I figured that out. I was just using that as proof that it worked in 1.0.2.&lt;/p&gt;

&lt;p&gt;Thanks, Nathan.&lt;/p&gt;</comment>
                            <comment id="12403853" author="gcompagnon@hotmail.com" created="Wed, 26 Mar 2003 18:16:13 +0000"  >&lt;p&gt;I d forgotten something important:&lt;br/&gt;
if we use ProxyFactory from log4j, all the attributes (from the commons-&lt;br/&gt;
logging.properties) should be setted to the ProxyFactory&lt;/p&gt;
</comment>
                            <comment id="12403854" author="gcompagnon@hotmail.com" created="Wed, 26 Mar 2003 18:20:09 +0000"  >&lt;p&gt;Created an attachment (id=5514)&lt;br/&gt;
following the jar file with the source code of LogFactoryImpl&lt;/p&gt;</comment>
                            <comment id="12403855" author="gcompagnon@hotmail.com" created="Wed, 26 Mar 2003 23:09:05 +0000"  >
&lt;p&gt;seems to resolve this bug :&lt;br/&gt;
&lt;a href=&quot;http://nagoya.apache.org/bugzilla/show_bug.cgi?id=17561&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://nagoya.apache.org/bugzilla/show_bug.cgi?id=17561&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12403856" author="craig.mcclanahan@sun.com" created="Mon, 31 Mar 2003 08:22:23 +0000"  >&lt;p&gt;I fixed the manifest file creation (which was unrelated to the real problem&lt;br/&gt;
here.  As far as I can tell, all the remaining stuff is a duplicate of 17561,&lt;br/&gt;
and will be fixed when that one is dealt with.&lt;/p&gt;



&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;This bug has been marked as a duplicate of 17561 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12332182" name="ASF.LICENSE.NOT.GRANTED--patchBuildCommonsLogging.jar" size="9639" author="gcompagnon@hotmail.com" created="Wed, 26 Mar 2003 00:34:14 +0000"/>
                            <attachment id="12332183" name="ASF.LICENSE.NOT.GRANTED--patchCommonsLogging.jar" size="6468" author="gcompagnon@hotmail.com" created="Wed, 26 Mar 2003 03:54:08 +0000"/>
                            <attachment id="12332184" name="ASF.LICENSE.NOT.GRANTED--patchCommonsLogging2.jar" size="6539" author="gcompagnon@hotmail.com" created="Wed, 26 Mar 2003 18:20:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>17894</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148234</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 33 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7q7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75028</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-55] [all] exclude package.html files from the distribution jars</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-55</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;could you please remove the package.html files from the generated jars? We are &lt;br/&gt;
having problems with commons-logging and commons-beanutils, but this probably &lt;br/&gt;
affects a lot more projects...&lt;/p&gt;

&lt;p&gt;For instance, if I have commons-logging.jar and commons-beanutils.jar in my &lt;br/&gt;
classpath, I receive the following warnings from the JDK1.5 javadoc tool. This &lt;br/&gt;
is caused by the package.html files present in these jars.&lt;/p&gt;

&lt;p&gt;  &lt;span class=&quot;error&quot;&gt;&amp;#91;javadoc&amp;#93;&lt;/span&gt; javadoc: warning - Multiple sources of package comments found for &lt;br/&gt;
package &quot;org&quot;&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;javadoc&amp;#93;&lt;/span&gt; javadoc: warning - Multiple sources of package comments found for &lt;br/&gt;
package &quot;org.apache&quot;&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;javadoc&amp;#93;&lt;/span&gt; javadoc: warning - Multiple sources of package comments found for &lt;br/&gt;
package &quot;org.apache.commons&quot;&lt;/p&gt;

&lt;p&gt;thanks,&lt;br/&gt;
Maarten&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342250">LOGGING-55</key>
            <summary>[all] exclude package.html files from the distribution jars</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="maartenc">Maarten Coene</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 May 2005 01:17:00 +0000</created>
                <updated>Tue, 29 Dec 2009 16:06:19 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 16:06:19 +0000</resolved>
                                                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12409406" author="skitching" created="Thu, 2 Jun 2005 17:36:45 +0000"  >&lt;p&gt;The ant build.xml file has been updated to exclude the package.html files.&lt;br/&gt;
Thanks for reporting this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34972</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148233</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7qf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75029</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-54] Problem accessing LogFactoryImpl from servlet</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-54</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;When trying to access an excel file from a servlet using the POI usermodel &lt;br/&gt;
HSSFWorkbook, I get a ClassNotFoundException when it tries to access the &lt;br/&gt;
LogFactoryImpl class (see below).  What is the problem here?  I don&apos;t get this &lt;br/&gt;
exception when I use the same Java code w/in a Java application...&lt;/p&gt;

&lt;p&gt;Stephen&lt;br/&gt;
sstrenn@yahoo.com&lt;/p&gt;


&lt;p&gt;2002-06-03 20:31:00 - Ctx( /ExcelGradeCheck ): Exception in: R&lt;br/&gt;
( /ExcelGradeCheck + /gradecheck + null) - &lt;br/&gt;
java.lang.ExceptionInInitializerError: &lt;br/&gt;
org.apache.commons.logging.LogConfigurationException: &lt;br/&gt;
java.lang.ClassNotFoundException: &lt;br/&gt;
org.apache.commons.logging.impl.LogFactoryImpl&lt;/p&gt;

&lt;p&gt;	at org.apache.commons.logging.LogFactory.newFactory&lt;br/&gt;
(LogFactory.java:497)&lt;/p&gt;

&lt;p&gt;	at org.apache.commons.logging.LogFactory.getFactory&lt;br/&gt;
(LogFactory.java:350)&lt;/p&gt;

&lt;p&gt;	at org.apache.poi.util.POILogFactory.&amp;lt;clinit&amp;gt;(POILogFactory.java:76)&lt;/p&gt;

&lt;p&gt;	at org.apache.poi.hssf.usermodel.HSSFWorkbook.&amp;lt;clinit&amp;gt;&lt;br/&gt;
(HSSFWorkbook.java:113)&lt;/p&gt;

&lt;p&gt;	at excelgradecheck.GradeCheckServlet.init(GradeCheckServlet.java:20)&lt;/p&gt;

&lt;p&gt;	at javax.servlet.GenericServlet.init(GenericServlet.java:258)&lt;/p&gt;

&lt;p&gt;	at org.apache.tomcat.core.ServletWrapper.doInit&lt;br/&gt;
(ServletWrapper.java:317)&lt;/p&gt;

&lt;p&gt;	at org.apache.tomcat.core.Handler.init(Handler.java:215)&lt;/p&gt;

&lt;p&gt;	at org.apache.tomcat.core.ServletWrapper.init(ServletWrapper.java:296)&lt;/p&gt;

&lt;p&gt;	at org.apache.tomcat.core.Handler.service(Handler.java:254)&lt;/p&gt;

&lt;p&gt;	at org.apache.tomcat.core.ServletWrapper.service&lt;br/&gt;
(ServletWrapper.java:372)&lt;/p&gt;

&lt;p&gt;	at org.apache.tomcat.core.ContextManager.internalService&lt;br/&gt;
(ContextManager.java:812)&lt;/p&gt;

&lt;p&gt;	at org.apache.tomcat.core.ContextManager.service&lt;br/&gt;
(ContextManager.java:758)&lt;/p&gt;

&lt;p&gt;	at &lt;br/&gt;
org.apache.tomcat.service.http.HttpConnectionHandler.processConnection&lt;br/&gt;
(HttpConnectionHandler.java:213)&lt;/p&gt;

&lt;p&gt;	at org.apache.tomcat.service.TcpWorkerThread.runIt&lt;br/&gt;
(PoolTcpEndpoint.java:416)&lt;/p&gt;

&lt;p&gt;	at org.apache.tomcat.util.ThreadPool$ControlRunnable.run&lt;br/&gt;
(ThreadPool.java:501)&lt;/p&gt;

&lt;p&gt;	at java.lang.Thread.run(Thread.java:498)&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Windows XP&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12340238">LOGGING-54</key>
            <summary>Problem accessing LogFactoryImpl from servlet</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sstrenn@yahoo.com">Stephen Strenn</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 Jun 2002 10:38:20 +0000</created>
                <updated>Wed, 2 Jan 2008 07:48:28 +0000</updated>
                            <resolved>Wed, 2 Jan 2008 07:48:28 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12402663" author="nbrennan@touchcorp.com" created="Thu, 26 Sep 2002 14:08:50 +0000"  >&lt;p&gt;I get the same problem if I attempt to prepend the commons-logging jar into my &lt;br/&gt;
Xbootclasspath (I&apos;m running Axis):&lt;/p&gt;

&lt;p&gt;All I need to do to generate the error is:&lt;/p&gt;

&lt;p&gt;Class.forName(&quot;org.apache.axis.configuration.EngineConfigurationFactoryFinder&quot;);&lt;/p&gt;

&lt;p&gt;And I get:&lt;/p&gt;

&lt;p&gt;          java.lang.ExceptionInInitializerError: &lt;br/&gt;
org.apache.commons.logging.LogConfigurationException: &lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
                at org.apache.commons.logging.LogFactory.newFactory&lt;br/&gt;
(LogFactory.java:558)&lt;br/&gt;
                at org.apache.commons.logging.LogFactory.getFactory&lt;br/&gt;
(LogFactory.java:355)&lt;br/&gt;
                at org.apache.commons.logging.LogFactory.getLog&lt;br/&gt;
(LogFactory.java:409)&lt;br/&gt;
                at org.apache.axis.components.logger.LogFactory.getLog&lt;br/&gt;
(LogFactory.java:76)&lt;br/&gt;
                at &lt;br/&gt;
org.apache.axis.configuration.EngineConfigurationFactoryFinder.&amp;lt;clinit&amp;gt;&lt;br/&gt;
(EngineConfigurationFactoryFinder.java:89)&lt;br/&gt;
                at java.lang.Class.forName1(Native Method)&lt;br/&gt;
                at java.lang.Class.forName(Class.java:142)&lt;br/&gt;
                at com.touchcorp.apps.kiosk.KioskServer.main&lt;br/&gt;
(KioskServer.java:469)&lt;/p&gt;

&lt;p&gt;What is going on?&lt;/p&gt;</comment>
                            <comment id="12402664" author="rsitze@apache.org" created="Thu, 26 Sep 2002 21:14:50 +0000"  >&lt;p&gt;You are describing TWO different problems.  Regarding the first, &lt;br/&gt;
ClassNotFoundException:&lt;/p&gt;

&lt;p&gt;Apparently commons-logging isn&apos;t on your path correctly.&lt;/p&gt;

&lt;p&gt;Regarding the second, commons-logging NullPointerException (NPE):&lt;/p&gt;

&lt;p&gt;Which version of commons-logging are you using?  This is an NPE problem with &lt;br/&gt;
commons-logging 1.0.1 that may (or may not) be the same that you are &lt;br/&gt;
experiencing.  The commons-logging &lt;b&gt;currently&lt;/b&gt; in AXIS is from a more recent &lt;br/&gt;
(post 1.0.1) nightly build of commons-logging.&lt;/p&gt;

&lt;p&gt;Please provide more information &amp;amp; a test case that demonstrates failure.&lt;/p&gt;</comment>
                            <comment id="12402665" author="rsitze@apache.org" created="Sun, 20 Oct 2002 00:37:22 +0000"  >&lt;p&gt;Other recent bug fixes may have resolved this.&lt;br/&gt;
Close pending further info.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9599</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148232</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            23 years, 4 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7qn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75030</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-53] [logging]Need for parent-child classloader relationship prevent JBoss startup</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-53</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;The current version of LogFactoryImpl in svn requires that there be a&lt;br/&gt;
parent-child relationship between the thread context classloader and the&lt;br/&gt;
classloader that loaded LogFactoryImpl.  The standard classloading architecture&lt;br/&gt;
used in JBoss (see below) violates this constraint; as a result JBoss will not&lt;br/&gt;
start if a version of JCL built from svn is used.&lt;/p&gt;

&lt;p&gt;The attached patch relaxes this constraint by attempting to load Log adapters&lt;br/&gt;
starting with the thread context classloader if the two classloaders are not in&lt;br/&gt;
a parent child relationship.  The behavior change only applies if the user has&lt;br/&gt;
not set the ALLOW_FLAWED_CONTEXT_PROPERTY to true.&lt;/p&gt;

&lt;p&gt;Background: The JBoss classloading architecture includes something called the&lt;br/&gt;
UnifiedLoaderRepository.  Basically, when JBoss classloaders are asked to load a&lt;br/&gt;
class they first look to the ULR to see if the class has already been loaded. &lt;br/&gt;
If it has, they return that class.  If not, normal Java classloading occurs, but&lt;br/&gt;
once the class is loaded, it is registered with the ULR.&lt;/p&gt;

&lt;p&gt;This setup allows classloaders to see classes loaded by &quot;non-parent&quot;&lt;br/&gt;
classloaders, e.g. siblings, cousins etc. (BTW, ULRs can be scoped, allowing,&lt;br/&gt;
for example, a J2EE EAR to isolate its classes from other deployed applications).&lt;/p&gt;

&lt;p&gt;JBoss loads JCL using a classloader that is not the parent of the classloaders&lt;br/&gt;
used by a number of JBoss services and by deployed applications.  So, if JCL&lt;br/&gt;
forbids classloading relationships other than parent-child, JBoss will not start&lt;br/&gt;
properly.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342320">LOGGING-53</key>
            <summary>[logging]Need for parent-child classloader relationship prevent JBoss startup</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="b_stansberry@hotmail.com">Brian Stansberry</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Jun 2005 07:57:55 +0000</created>
                <updated>Tue, 29 Dec 2009 14:35:54 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 14:35:54 +0000</resolved>
                                    <version>Nightly Builds</version>
                                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12409638" author="b_stansberry@hotmail.com" created="Mon, 20 Jun 2005 07:58:32 +0000"  >&lt;p&gt;Created an attachment (id=15470)&lt;br/&gt;
patch to LogFactoryImpl.java&lt;/p&gt;</comment>
                            <comment id="12409639" author="skitching" created="Mon, 20 Jun 2005 19:16:32 +0000"  >&lt;p&gt;Agreed. Patch committed as r191431. Thanks Brian.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333575" name="ASF.LICENSE.NOT.GRANTED--LogFactoryImplJBoss.diff" size="1545" author="b_stansberry@hotmail.com" created="Mon, 20 Jun 2005 07:58:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35423</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148231</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7qv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75031</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-52] [logging] Redirect stdout and stderr to logging system</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-52</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;I would like to have any output from stdout and stderr redirected to the&lt;br/&gt;
configured logging system.  I know I can do this with log4j by using&lt;br/&gt;
LoggingOutputStream (See&lt;br/&gt;
&lt;a href=&quot;http://cvs.apache.org/viewcvs.cgi/jakarta-log4j/contribs/JimMoore/LoggingOutputStream.java?view=markup&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cvs.apache.org/viewcvs.cgi/jakarta-log4j/contribs/JimMoore/LoggingOutputStream.java?view=markup&lt;/a&gt;).&lt;br/&gt;
Is there a way to do this without directly depending on log4j?&lt;/p&gt;

&lt;p&gt;regards,&lt;/p&gt;

&lt;p&gt;Wim&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Windows XP&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12342698">LOGGING-52</key>
            <summary>[logging] Redirect stdout and stderr to logging system</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="wim.deblauwe@gmail.com">Wim Deblauwe</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Nov 2005 05:16:09 +0000</created>
                <updated>Wed, 2 Jan 2008 07:48:28 +0000</updated>
                            <resolved>Wed, 2 Jan 2008 07:48:28 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12410834" author="skitching" created="Thu, 10 Nov 2005 16:40:08 +0000"  >&lt;p&gt;This functionality definitely does not exist in commons logging.&lt;/p&gt;

&lt;p&gt;However commons-logging uses &quot;adapters&quot; to map to various logging libraries, and&lt;br/&gt;
has the ability for an application to override the adapter used via a number of&lt;br/&gt;
mechanisms (system property, commons-logging.properties file, service file)&lt;br/&gt;
which are documented. &lt;/p&gt;

&lt;p&gt;I think you could write a custom adapter which sets up this stdout/stderr&lt;br/&gt;
override stuff when loaded, and configure commons-logging to use it.&lt;/p&gt;

&lt;p&gt;I wouldn&apos;t be particularly interested in seeing this feature in core&lt;br/&gt;
commons-logging though; commons-logging is mainly for use by libraries, and&lt;br/&gt;
libraries shouldn&apos;t be writing to stdout or stderr. Applications which need to&lt;br/&gt;
trap this should know what underlying logging lib is being used, and can&lt;br/&gt;
therefore set this stuff up themselves.&lt;/p&gt;</comment>
                            <comment id="12410835" author="rdonkin@apache.org" created="Fri, 18 Nov 2005 06:43:20 +0000"  >&lt;p&gt;I&apos;d be willing to find a home for code to do this somewhere at Apache but I&lt;br/&gt;
agree that it isn&apos;t core JCL functionality. Any volunteers?&lt;/p&gt;</comment>
                            <comment id="12410836" author="skitching" created="Wed, 18 Jan 2006 13:05:10 +0000"  >&lt;p&gt;This functionality doesn&apos;t belong in JCL as described in previous comments, so&lt;br/&gt;
closing.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37427</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148230</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 43 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7r3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75032</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-51] [logging] Memory leaks in JBoss due to LogFactory cache</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-51</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;LogFactory.java maintains a static cache (Hashtable) of LogFactories, keyed by &lt;br/&gt;
context ClassLoader. In JBoss, and may be in many other J2EE containers, each &lt;br/&gt;
hot-redeployment of a J2EE application makes a new class loader for the &lt;br/&gt;
application, destroying all references to the old one. However, commons-logging.&lt;br/&gt;
jar is loaded by a parent classloader which is common for all applications, and &lt;br/&gt;
still maintains hard references to would-be-dead ClassLoaders of undeployed &lt;br/&gt;
applications. This leads to significant memory leaks, because all static members &lt;br/&gt;
of all classes of the undeployed applications do not become a subject for GC. It &lt;br/&gt;
would be excellent if this LogFactory caching could be disabled through a config &lt;br/&gt;
or a WeakHashMap is used instead of Hashtable.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341730">LOGGING-51</key>
            <summary>[logging] Memory leaks in JBoss due to LogFactory cache</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ayud@mail.ru">Alexey Yudichev</reporter>
                        <labels>
                    </labels>
                <created>Sat, 18 Sep 2004 18:51:02 +0000</created>
                <updated>Tue, 29 Dec 2009 16:21:11 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 16:21:11 +0000</resolved>
                                    <version>1.0.4</version>
                                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12407579" author="rdonkin@apache.org" created="Sun, 19 Sep 2004 18:35:24 +0000"  >&lt;p&gt;Yep. I&apos;ve been aware of this one for quite a while. It&apos;s necessary to call release when commons-logging &lt;br/&gt;
is in the parent classloader of a container. &lt;/p&gt;

&lt;p&gt;There are a couple of issue which have prevented it being fixed. The first is that commons-logging &lt;br/&gt;
needs to support JVMs which do not have weak-hash maps. The second is that for some reason the &lt;br/&gt;
cache implementation (hashtable) was made protected rather than private so a direct change could &lt;br/&gt;
mean breaking backward compatibility.&lt;/p&gt;

&lt;p&gt;I can see a few ways round these issues but they aren&apos;t not so simple and (to be honest) commons-&lt;br/&gt;
logging really isn&apos;t an itch for me at the moment. &lt;/p&gt;

&lt;p&gt;The caching needs to be factored out and then some mechanism added to allow how these methods &lt;br/&gt;
work to vary. A system property might do the trick but I wonder whether it might be possible to use &lt;br/&gt;
aspect orientation. (I&apos;ve been wondering whether releasing a vanilla implementation and enhancement &lt;br/&gt;
scripts might be the long term solution to a host of thorny problems with logging.)&lt;/p&gt;</comment>
                            <comment id="12407580" author="rdonkin@apache.org" created="Mon, 8 Nov 2004 03:48:01 +0000"  >&lt;p&gt;Had another look at this today and again it looks like the downsides of altering the code outweight the &lt;br/&gt;
upside.&lt;/p&gt;

&lt;p&gt;I&apos;ve been moving towards ideas about using bytecode manipulation to dope commons logging jars. The &lt;br/&gt;
idea would be that though one-size-fits implementations are really not possible, it should be possible &lt;br/&gt;
to use make small changes by altering the bytecode so that (for example) uses of the hashtable are &lt;br/&gt;
replaced by calls to a WeakHashMap. The doped jar would no longer work correctly with certain &lt;br/&gt;
subclasses or pre-Java2 JVMs but would release classloaders.&lt;/p&gt;</comment>
                            <comment id="12407581" author="b_stansberry@hotmail.com" created="Tue, 9 Nov 2004 15:01:27 +0000"  >&lt;p&gt;I wrote something a couple weeks back that sounds like it might do something &lt;br/&gt;
similar to what you were thinking about, but using reflection instead of &lt;br/&gt;
bytecode manipulation.  Basically, it detects if 1.2 is available and if so &lt;br/&gt;
LogFactory uses a special Hashtable subclass that passes (almost) all calls &lt;br/&gt;
through to a WeakHashMap.  Almost, because to allow use in 1.1 JVMs the &lt;br/&gt;
methods that include Collections framework classes in their signatures are not &lt;br/&gt;
overridden.  So, as you noted, this approach may cause issues with subclasses.&lt;/p&gt;

&lt;p&gt;I hesistated to submit this as it seems a bit of a hack, but, hey, why not&lt;/p&gt;

&lt;p&gt;Attached is a diff to LogFactory and a new class, WeakHashtable.&lt;/p&gt;</comment>
                            <comment id="12407582" author="b_stansberry@hotmail.com" created="Tue, 9 Nov 2004 15:02:53 +0000"  >&lt;p&gt;Created an attachment (id=13360)&lt;br/&gt;
WeakHashtable.java&lt;/p&gt;</comment>
                            <comment id="12407583" author="b_stansberry@hotmail.com" created="Tue, 9 Nov 2004 15:03:27 +0000"  >&lt;p&gt;Created an attachment (id=13361)&lt;br/&gt;
LogFactory.diff&lt;/p&gt;</comment>
                            <comment id="12407584" author="rdonkin@apache.org" created="Tue, 9 Nov 2004 16:49:18 +0000"  >&lt;p&gt;Maybe something alongs these lines might work. &lt;/p&gt;

&lt;p&gt;There are major performance issues with using a reflection to hook up the methods but it might be &lt;br/&gt;
possible to create a Hashtable implementation that uses a WeakHashMap internally and then try to load &lt;br/&gt;
the class by name when the LogFactory class is initialized. If the class can&apos;t be loaded then a normal &lt;br/&gt;
Hashtable would be used. &lt;/p&gt;

&lt;p&gt;Probably be a good idea to allow the class name to be specified in a system property.&lt;/p&gt;</comment>
                            <comment id="12407585" author="b_stansberry@hotmail.com" created="Wed, 10 Nov 2004 05:20:15 +0000"  >&lt;p&gt;Yes, I think I made a likely unnecessary assumption that commons-logging has to &lt;br/&gt;
compile under JDK 1.1, not just run.  So I used reflection throughout.  If &lt;br/&gt;
compiling is not an issue, I would be happy to tweak WeakHashtable to get rid of &lt;br/&gt;
all the internal use of reflection (and add the system property you suggested as &lt;br/&gt;
well).&lt;/p&gt;</comment>
                            <comment id="12407586" author="rdonkin@apache.org" created="Wed, 10 Nov 2004 06:06:23 +0000"  >&lt;p&gt;I&apos;m on GMT so the offer&apos;s come a little later (it&apos;s almost done) but the offer&apos;s really appreciated &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;This kind of stuff benefits from many eyes so what would be really useful is if you could take a look at &lt;br/&gt;
the code (once I&apos;ve committed it, probably tomorrow now) and run any test cases you have against it.&lt;/p&gt;</comment>
                            <comment id="12407587" author="b_stansberry@hotmail.com" created="Wed, 10 Nov 2004 06:08:47 +0000"  >&lt;p&gt;Sure, no problem at all.  I&apos;ll keep an eye out.&lt;/p&gt;</comment>
                            <comment id="12407588" author="rsitze@apache.org" created="Wed, 10 Nov 2004 06:39:09 +0000"  >&lt;p&gt;The world is watching.. and waiting.&lt;/p&gt;

&lt;p&gt;Good to hear this is being address, in one way or another.&lt;/p&gt;

&lt;p&gt;Just FYI, commons-discovery attempts &lt;span class=&quot;error&quot;&gt;&amp;#91;impl. incomplete&amp;#93;&lt;/span&gt;&lt;br/&gt;
to isolate JVM dependencies to a *.jdk package with&lt;br/&gt;
a base interface JDKHooks and separate classes for&lt;br/&gt;
JDK11Hooks, JDK12Hooks.&lt;/p&gt;

&lt;p&gt;We may not be able to support something in one version&lt;br/&gt;
versus another, but at least this way we can document&lt;br/&gt;
and isolate the dependencies.  Even if it&apos;s as simple&lt;br/&gt;
as a getWeakHashTable() function on one such.&lt;/p&gt;</comment>
                            <comment id="12407589" author="rdonkin@apache.org" created="Wed, 10 Nov 2004 07:10:45 +0000"  >&lt;p&gt;I agree with the sentiments but hopefully this solution is so simple that no discovery is needed &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;One of the aims of the bytecode stuff I looking at is allow replacement of LogFactory with something &lt;br/&gt;
that implements a minimal API. This might allow a commons-discovery based discovery mechanism to &lt;br/&gt;
be added (by doping) without having to introduce a core dependency. &lt;/p&gt;</comment>
                            <comment id="12407590" author="rdonkin@apache.org" created="Thu, 11 Nov 2004 07:05:17 +0000"  >&lt;p&gt;I&apos;ve checked in my changes. I&apos;m going to leave the documentation for another day.&lt;/p&gt;

&lt;p&gt;The idea is that the Hashtable implementation can be specified by a system property and (when the &lt;br/&gt;
class is found on the classpath) defaults to the optional WeakHashtable. The idea is that a user (on a &lt;br/&gt;
1.3+ JVM) should be able to drop in the commons-logging-optional.jar and have the classloaders &lt;br/&gt;
garbaged collectable without further changes.&lt;/p&gt;

&lt;p&gt;This is going to need some testing. I&apos;ve added a few tests (if anyone wants to add more, please go &lt;br/&gt;
ahead &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I&apos;ll probably post something on the lists tomorrow.&lt;/p&gt;

&lt;p&gt;BTW Brian, I&apos;m happy to add your name to the contributors and/or author tags if that is your wish. &lt;/p&gt;
</comment>
                            <comment id="12407591" author="b_stansberry@hotmail.com" created="Thu, 11 Nov 2004 14:51:06 +0000"  >&lt;p&gt;I&apos;ll look this over as carefully as I can and try to add a few tests.  I&apos;ve &lt;br/&gt;
got a couple thoughts, but I&apos;ll post to the commons-dev list to keep from &lt;br/&gt;
filling up Bugzilla.&lt;/p&gt;

&lt;p&gt;Re adding my name, at this point you&apos;ve done all the work &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;  If I&apos;m able to &lt;br/&gt;
make any further significant contributions to this, please feel free to add my &lt;br/&gt;
name.&lt;/p&gt;</comment>
                            <comment id="12407592" author="rdonkin@apache.org" created="Fri, 12 Nov 2004 06:49:16 +0000"  >&lt;p&gt;Contributions take different forms. I commonly rewrite or reimplement patches before applying them. &lt;br/&gt;
(One of the signs I look for when nominating a new committer is that they start producing patches that &lt;br/&gt;
I can apply without modification.) Without your contribution, this code wouldn&apos;t have been written. (I&apos;m&lt;br/&gt;
quick to credit but slow to nominate.)&lt;/p&gt;

&lt;p&gt;Just FYI I never add credit unilaterally (except in commit messages where it provides a record) so if you &lt;br/&gt;
ever decide that you&apos;ve done enough and would like your name added, submit a patch. &lt;/p&gt;</comment>
                            <comment id="12407593" author="simon@ecnetwork.co.nz" created="Fri, 12 Nov 2004 07:03:35 +0000"  >&lt;p&gt;Just to clarify: When Robert said &quot;if you ever decide you&apos;ve done enough and&lt;br/&gt;
would like your name added, submit a patch&quot; I believe he means provide a patch&lt;br/&gt;
to the project.xml file which contains the author information &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12407594" author="b_stansberry@hotmail.com" created="Fri, 19 Nov 2004 14:27:14 +0000"  >&lt;p&gt;Attaching  some improvements to the LogFactoryTest.  Designed to test different&lt;br/&gt;
classloading configurations, particularly an isolated application classloader&lt;br/&gt;
inside a container.&lt;/p&gt;</comment>
                            <comment id="12407595" author="b_stansberry@hotmail.com" created="Fri, 19 Nov 2004 14:33:51 +0000"  >&lt;p&gt;Created an attachment (id=13498)&lt;br/&gt;
Patch to LogFactoryTest&lt;/p&gt;</comment>
                            <comment id="12407596" author="rdonkin@apache.org" created="Tue, 23 Nov 2004 07:52:47 +0000"  >&lt;p&gt;Nice work. Committed. Many Thanks.&lt;/p&gt;

&lt;p&gt;I&apos;m happy that this bug can be closed but I will leave it open for a while yet just in case Brian (or anyone &lt;br/&gt;
else) wants to attach improvements.&lt;/p&gt;

&lt;p&gt;Robert&lt;/p&gt;</comment>
                            <comment id="12407597" author="b_stansberry@hotmail.com" created="Tue, 23 Nov 2004 15:45:46 +0000"  >&lt;p&gt;Created an attachment (id=13519)&lt;br/&gt;
Javadoc for WeakHashtable&lt;/p&gt;

&lt;p&gt;Attached adds some class level Javadoc to WeakHashtable that tries to explain&lt;br/&gt;
the classloading situation where a call to release() is still needed.&lt;/p&gt;

&lt;p&gt;There&apos;s some other stuff that I&apos;d like to do on this (perhaps use simple strong&lt;br/&gt;
references for values in WeakHashtable; refactor LogFactoryTest and LoadTest to&lt;br/&gt;
avoid code duplication), but they don&apos;t affect the functionality, and it will&lt;br/&gt;
probably be a while before a can get to them.&lt;/p&gt;</comment>
                            <comment id="12407598" author="rdonkin@apache.org" created="Fri, 26 Nov 2004 05:14:09 +0000"  >&lt;p&gt;Another good patch. Committed. Many thanks. &lt;/p&gt;

&lt;p&gt;I think that it should be possible to simplify the code in the way you suggest (by using simple strong &lt;br/&gt;
references) without effecting the function.  &lt;/p&gt;

&lt;p&gt;My next priority will be to work on the documentation build and the user guide. Then push towards a &lt;br/&gt;
1.0.5 release. I&apos;ll leave this bug open until that&apos;s done in case you find time.&lt;/p&gt;

&lt;p&gt;Robert&lt;/p&gt;</comment>
                            <comment id="12407599" author="b_stansberry@hotmail.com" created="Sat, 4 Dec 2004 16:40:09 +0000"  >&lt;p&gt;Created an attachment (id=13646)&lt;br/&gt;
WeakHashtable uses strong refs to values&lt;/p&gt;

&lt;p&gt;OK, got a chance to change WeakHashtable to simple strong references to its&lt;br/&gt;
values.  Patch attached.&lt;/p&gt;

&lt;p&gt;The patch also follows up on a thought we&apos;d mentioned on the dev list.	Every&lt;br/&gt;
10 puts it checks the ReferenceQueue and, if needed, purges one dead entry.&lt;br/&gt;
Housekeeping in small doses &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I also added this behavior to remove().&lt;/p&gt;

&lt;p&gt;Also changed a couple local variable names Eclipse warned about for JDK 1.5&lt;/p&gt;

&lt;p&gt;Cheers,&lt;/p&gt;

&lt;p&gt;Brian&lt;/p&gt;</comment>
                            <comment id="12407600" author="rdonkin@apache.org" created="Wed, 15 Dec 2004 19:36:43 +0000"  >&lt;p&gt;Hi Brian&lt;/p&gt;

&lt;p&gt;Apologies for my tardiness (caught the traditional British Christmas Cold). Good patch, committed.&lt;/p&gt;

&lt;p&gt;I suspect that we&apos;re approaching the end of the line for this bug now. I still need to pull together some &lt;br/&gt;
documentation and integrate it with the existing stuff. So I&apos;ll leave this open as a reminder.&lt;/p&gt;

&lt;p&gt;You might like to resubscribe to commons-dev (perhaps through www.gmane.org if the volume is &lt;br/&gt;
offputting) since a lot of discussions have kicked off (involved IBM amongst others) about the future of &lt;br/&gt;
commons logging and enterprise logging in general. I&apos;m sure you&apos;re input would be welcomed.&lt;/p&gt;

&lt;p&gt;Robert&lt;/p&gt;</comment>
                            <comment id="12407601" author="b_stansberry@hotmail.com" created="Tue, 1 Feb 2005 16:45:22 +0000"  >&lt;p&gt;Created an attachment (id=14148)&lt;br/&gt;
Update to the User Guide&lt;/p&gt;

&lt;p&gt;Attached is a patch to guide.xml that includes discussion of the issues in this&lt;br/&gt;
bug and the fix.  Also includes discussion of what the various jars in the&lt;br/&gt;
standard distribution are, in order to give some context to the above.&lt;/p&gt;</comment>
                            <comment id="12407602" author="rdonkin@apache.org" created="Mon, 7 Feb 2005 08:33:26 +0000"  >&lt;p&gt;Committed. Many thanks.&lt;/p&gt;

&lt;p&gt;I&apos;m closing this one now (but please feel free to open new reports for any new&lt;br/&gt;
improvements). &lt;/p&gt;

&lt;p&gt;Robert&lt;/p&gt;</comment>
                            <comment id="12407603" author="b_stansberry@hotmail.com" created="Thu, 17 Mar 2005 16:34:20 +0000"  >&lt;p&gt;As discussed on the commons-dev list, even using WeakHashtable the classloader&lt;br/&gt;
is not released when LogFactoryImpl is loaded by a parent loader and the&lt;br/&gt;
Log wrapper is loaded  by a child.  This is because the LogFactoryImpl holds a&lt;br/&gt;
reference to the Log in its instances map, and that reference prevents the Log&apos;s&lt;br/&gt;
classloader being released.&lt;/p&gt;

&lt;p&gt;Will attach a patch to the JUnit tests that show the problem.  Sadly, no fix is&lt;br/&gt;
in the patch &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12407604" author="b_stansberry@hotmail.com" created="Thu, 17 Mar 2005 16:37:45 +0000"  >&lt;p&gt;Created an attachment (id=14501)&lt;br/&gt;
Further tests for memory leak&lt;/p&gt;

&lt;p&gt;The patch includes a new class &amp;#8211; a special classloader that may also be useful&lt;br/&gt;
in tests of the JCL discovery process.&lt;/p&gt;</comment>
                            <comment id="12407605" author="ddkilzer@kilzer.net" created="Wed, 31 Aug 2005 05:19:16 +0000"  >&lt;p&gt;FYI, here&apos;s the corresponding JBoss bug.  They&apos;ve proposed a similar fix and&lt;br/&gt;
(per their comments) may roll their own commons-logging-1.0.3 to fix the problem.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://jira.jboss.com/jira/browse/JBAS-1319&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jira.jboss.com/jira/browse/JBAS-1319&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12407606" author="skitching" created="Wed, 18 Jan 2006 13:42:05 +0000"  >&lt;p&gt;I don&apos;t think we&apos;re going to get any better than the current code on this issue.&lt;br/&gt;
Brian&apos;s WeakHashtable fixes some cases transparently which is nice.&lt;/p&gt;

&lt;p&gt;A custom ServletContextListener class that calls release() can definitely solve&lt;br/&gt;
the problem in  all cases, but requires some additional work on the user&apos;s side.&lt;br/&gt;
This class is currently in the release, but may end up just as documentation&lt;br/&gt;
instead; issue still being debated.&lt;/p&gt;

&lt;p&gt;I&apos;m therefore closing this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333120" name="ASF.LICENSE.NOT.GRANTED--JCL-guide.diff" size="8797" author="b_stansberry@hotmail.com" created="Tue, 1 Feb 2005 16:45:22 +0000"/>
                            <attachment id="12333116" name="ASF.LICENSE.NOT.GRANTED--LogFactory.diff" size="2478" author="b_stansberry@hotmail.com" created="Tue, 9 Nov 2004 15:03:27 +0000"/>
                            <attachment id="12333117" name="ASF.LICENSE.NOT.GRANTED--LogFactoryTest.diff" size="15675" author="b_stansberry@hotmail.com" created="Fri, 19 Nov 2004 14:33:51 +0000"/>
                            <attachment id="12333115" name="ASF.LICENSE.NOT.GRANTED--WeakHashtable.java" size="21664" author="b_stansberry@hotmail.com" created="Tue, 9 Nov 2004 15:02:53 +0000"/>
                            <attachment id="12333118" name="ASF.LICENSE.NOT.GRANTED--WeakHashtable_javadoc.txt" size="2672" author="b_stansberry@hotmail.com" created="Tue, 23 Nov 2004 15:45:46 +0000"/>
                            <attachment id="12333121" name="ASF.LICENSE.NOT.GRANTED--memoryleaktest.zip" size="5254" author="b_stansberry@hotmail.com" created="Thu, 17 Mar 2005 16:37:45 +0000"/>
                            <attachment id="12333119" name="ASF.LICENSE.NOT.GRANTED--patch.txt" size="9577" author="b_stansberry@hotmail.com" created="Sat, 4 Dec 2004 16:40:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31286</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14905</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 43 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7rb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75033</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-50] Corrupted Source Zip: commons-logging-1.0.2-src.zip</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-50</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;&lt;a href=&quot;http://jakarta.apache.org/builds/jakarta-commons/release/commons-&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jakarta.apache.org/builds/jakarta-commons/release/commons-&lt;/a&gt;&lt;br/&gt;
logging/v1.0.2/commons-logging-1.0.2-src.zip is a corrupted zip file.  Please &lt;br/&gt;
repost a good one as soon as possible.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Windows XP&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12340745">LOGGING-50</key>
            <summary>Corrupted Source Zip: commons-logging-1.0.2-src.zip</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ignat@cs.virginia.edu">ignat</reporter>
                        <labels>
                    </labels>
                <created>Sun, 1 Jun 2003 02:58:39 +0000</created>
                <updated>Tue, 29 Dec 2009 16:47:34 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 16:47:34 +0000</resolved>
                                    <version>1.0.2</version>
                                    <fixVersion>1.0.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12404323" author="rdonkin@apache.org" created="Sun, 1 Jun 2003 17:08:54 +0000"  >&lt;p&gt;the problem seems to be that the tar.gz version was copied over the zip. i&apos;ve&lt;br/&gt;
created a new zip and uploaded it. hopefully this should be ok now.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20386</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148229</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 24 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7rj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75034</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-49] MANIFEST.MF references invalid log4j-core.jar</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-49</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;MANIFEST.MF references both log4j.jar and log4j-core.jar, but the current log4j&lt;br/&gt;
release - 1.2.8 - only distributes log4j.jar (and AFAIK some older releases like&lt;br/&gt;
1.2.6 too). Maybe this is an invalid reference, don&apos;t you think?&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12340691">LOGGING-49</key>
            <summary>MANIFEST.MF references invalid log4j-core.jar</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="lquijano@hotpop.com">Leonardo Quijano</reporter>
                        <labels>
                    </labels>
                <created>Tue, 29 Apr 2003 00:06:05 +0000</created>
                <updated>Tue, 29 Dec 2009 16:28:44 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 16:28:44 +0000</resolved>
                                                    <fixVersion>1.0.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12404180" author="craig.mcclanahan@sun.com" created="Tue, 29 Apr 2003 00:28:47 +0000"  >&lt;p&gt;These references have been removed in the latest nightly builds of&lt;br/&gt;
commons-logging, and this change will be incorporated into the next release. &lt;br/&gt;
For now, you can grab the latest nightly build from:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://jakarta.apache.org/builds/jakarta-commons/nightly/commons-logging/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jakarta.apache.org/builds/jakarta-commons/nightly/commons-logging/&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19393</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148228</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 29 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7rr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75035</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-48] Checking for JDK 1.4</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-48</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;In LogFactoryImpl it is checked for a JDK 1.4 being avaible by trying to load &lt;br/&gt;
class java.util.logging.Logger. When using &amp;lt;a &lt;br/&gt;
href=&quot;http://javalogging.sourceforge.net/&quot;&amp;gt;lumberjack&amp;lt;/a&amp;gt; under JDK 1.3 it is &lt;br/&gt;
therefore assumed that JDK 1.4 is available which is surely not the case. You &lt;br/&gt;
will receive a java.lang.NoSuchMethodError when tying to call &lt;br/&gt;
Throwable.getStackTrace() in class Jdk14Logger.&lt;br/&gt;
I would suggest to use another new class in JDK 1.4 to check for its existence.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12340522">LOGGING-48</key>
            <summary>Checking for JDK 1.4</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="wen@eigner.com">Andreas Wendt</reporter>
                        <labels>
                    </labels>
                <created>Fri, 31 Jan 2003 00:48:10 +0000</created>
                <updated>Tue, 29 Dec 2009 16:44:02 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 16:44:02 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>1.0.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12403556" author="craig.mcclanahan@sun.com" created="Sat, 1 Feb 2003 12:13:21 +0000"  >&lt;p&gt;Fixed in nightly build 20030201.  We now check for &quot;java.sql.Savepoint&quot; instead&lt;br/&gt;
of &quot;java.util.logging.Logger&quot;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>16606</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148227</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 41 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7rz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75036</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-47] [logging][PATCH] Improvements to wrapper classes</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-47</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;There are several issues with the wrapper classes.&lt;/p&gt;

&lt;p&gt;1) Logging null objects or not&lt;br/&gt;
If the message object is null, the logger logs the String &quot;NULL&quot; to the&lt;br/&gt;
underlying log system. Currently some wrappers just return and some log the&lt;br/&gt;
String &quot;NULL&quot;.&lt;br/&gt;
-&amp;gt; The patch unifies that. All wrappers will log the String &quot;NULL&quot;.&lt;/p&gt;

&lt;p&gt;2) Exception safe toString&lt;br/&gt;
Currently all wrappers would fail if an toString method throws a&lt;br/&gt;
RuntimeException. See&lt;br/&gt;
&lt;a href=&quot;http://marc.theaimsgroup.com/?l=jakarta-commons-dev&amp;amp;m=113664590418487&amp;amp;w=2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://marc.theaimsgroup.com/?l=jakarta-commons-dev&amp;amp;m=113664590418487&amp;amp;w=2&lt;/a&gt;&lt;br/&gt;
for details.&lt;br/&gt;
-&amp;gt; The patch logs an error message instead and an additional log record with&lt;br/&gt;
the exception in a central, private doLog method.&lt;/p&gt;

&lt;p&gt;3) isLoggable check&lt;br/&gt;
Currently some wrappers check the log level in each log method and some wrappers&lt;br/&gt;
check the level in one central method, which applies the log message and&lt;br/&gt;
throwable to the underlying log system.&lt;br/&gt;
-&amp;gt; The patch unifies that. All wrappers will use a doLog method and check the&lt;br/&gt;
level there. One exception: AvalonLogger which has no Level/Priority object.&lt;/p&gt;

&lt;p&gt;3) JavaDoc&lt;br/&gt;
Every wrapper has its own javadoc for the log methods, sometime with reference&lt;br/&gt;
to the Log interface, sometimes with the underlying log level, ...&lt;br/&gt;
-&amp;gt; The patch unifies that. All wrapper log methods are commented in the same way.&lt;/p&gt;

&lt;p&gt;4) Additional class&lt;br/&gt;
There is one additional class for the error message, to have a single point of&lt;br/&gt;
change.&lt;/p&gt;

&lt;p&gt;Please check the patch for correct format.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12342847">LOGGING-47</key>
            <summary>[logging][PATCH] Improvements to wrapper classes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="boris.unckel.mlg@gmx.net">Boris Unckel</reporter>
                        <labels>
                    </labels>
                <created>Sun, 8 Jan 2006 06:41:52 +0000</created>
                <updated>Tue, 29 Dec 2009 22:15:19 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 22:15:19 +0000</resolved>
                                                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12411225" author="boris.unckel.mlg@gmx.net" created="Sun, 8 Jan 2006 06:43:03 +0000"  >&lt;p&gt;Created an attachment (id=17359)&lt;br/&gt;
Improvements for null message behavior, exception in toString behavior,&lt;br/&gt;
javadoc.&lt;/p&gt;</comment>
                            <comment id="12411226" author="boris.unckel.mlg@gmx.net" created="Sun, 8 Jan 2006 07:04:55 +0000"  >&lt;p&gt;(From update of attachment 17359)&lt;br/&gt;
Patch contains error.&lt;/p&gt;</comment>
                            <comment id="12411227" author="boris.unckel.mlg@gmx.net" created="Sun, 8 Jan 2006 07:05:43 +0000"  >&lt;p&gt;Created an attachment (id=17360)&lt;br/&gt;
Improvements for null message behavior, exception in toString behavior,&lt;br/&gt;
javadoc.&lt;/p&gt;

&lt;p&gt;This time correct version.&lt;/p&gt;</comment>
                            <comment id="12411228" author="william.barker@wilshire.com" created="Sun, 8 Jan 2006 08:12:23 +0000"  >&lt;p&gt;At least for log4j, this is wrong, since the conversion of Objects to Strings &lt;br/&gt;
is controlled by the log4j configuration.  With this patch, you&apos;ve preempted &lt;br/&gt;
that functionallity.&lt;/p&gt;</comment>
                            <comment id="12411229" author="boris.unckel.mlg@gmx.net" created="Mon, 9 Jan 2006 01:37:37 +0000"  >&lt;p&gt;(In reply to comment #4)&lt;br/&gt;
&amp;gt; At least for log4j, this is wrong, since the conversion of Objects to Strings &lt;br/&gt;
&amp;gt; is controlled by the log4j configuration.  With this patch, you&apos;ve preempted &lt;br/&gt;
&amp;gt; that functionallity.&lt;/p&gt;

&lt;p&gt;You are right. log4j suffers currently from the same problem (no exception safe&lt;br/&gt;
message rendering). It is a design decision to have &lt;em&gt;one&lt;/em&gt; behaviour for all&lt;br/&gt;
classes, or  one behaviour for underlying logging supporting object as message&lt;br/&gt;
and another for underlying APIs which require String.&lt;/p&gt;

&lt;p&gt;I would suggest to apply the patch now (since log4j has no exception safe&lt;br/&gt;
rendering) and change it, if it has the capability to deal with exceptions in&lt;br/&gt;
toString.&lt;/p&gt;

&lt;p&gt;Or in other words:&lt;br/&gt;
What causes the user more pain: Missing individual formatting or missing a good&lt;br/&gt;
exception handling strategy?&lt;br/&gt;
The org.apache.log4j.or.DefaultRenderer does nothing but o.toString()&lt;/p&gt;

&lt;p&gt;The patch has one advantage: You would have to change at one single place per&lt;br/&gt;
Log4j1xLogger (x 2,3)...&lt;/p&gt;</comment>
                            <comment id="12411230" author="skitching" created="Wed, 18 Jan 2006 13:39:03 +0000"  >&lt;p&gt;Hi Boris,&lt;/p&gt;

&lt;p&gt;Thanks very much for your patch. Unfortunately I&apos;m inclined not to apply this&lt;br/&gt;
patch to the next release, for the reasons below. However I agree these points&lt;br/&gt;
should definitely be kept in mind when designing JCL 2.0.&lt;/p&gt;


&lt;p&gt;The implementation adds overhead to the critical path for logging messages,&lt;br/&gt;
including an extra virtual method call and a call to the underlying logger to&lt;br/&gt;
determine whether the loglevel is enabled. There&apos;s some additional overhead if&lt;br/&gt;
the message is actually logged, but that&apos;s not so important as the act of really&lt;br/&gt;
logging a message is likely to be much larger than the overhead introduced.&lt;/p&gt;

&lt;p&gt;The patch is also reasonably large, touching a significant portion of all the&lt;br/&gt;
logging classes. That introduces the risk of new bugs; JCL&apos;s unit test suite&lt;br/&gt;
isn&apos;t &lt;b&gt;too&lt;/b&gt; bad but it&apos;s definitely not 100% coverage so we can&apos;t just trust the&lt;br/&gt;
tests to pick up any issues.&lt;/p&gt;

&lt;p&gt;The issue of behaviour when NULL is passed as the object to log is valid; it&lt;br/&gt;
would be nice for JCL to impose consistent behaviour rather than leaving it up&lt;br/&gt;
to the underlying logging library. However it&apos;s not a major issue.&lt;/p&gt;

&lt;p&gt;The issue of the message-object to be logged throwing an exception in its&lt;br/&gt;
toString is really pretty unusual. Almost all the time, a String or StringBuffer&lt;br/&gt;
will be passed here, and they never have problems with toString. In the rare&lt;br/&gt;
case where it does occur, it&apos;s the caller&apos;s fault anyway. Yes, this would be&lt;br/&gt;
nice to handle but I don&apos;t think the risk of introducing a bug is worth it at&lt;br/&gt;
the moment.&lt;/p&gt;

&lt;p&gt;Consistency of code - yes that would be nice, but it&apos;s not critical.&lt;/p&gt;

&lt;p&gt;JavaDoc - again, this would be nice but it&apos;s not critical. I would consider a&lt;br/&gt;
javadoc-only patch, but can&apos;t be bothered to extract the javadoc bits out of the&lt;br/&gt;
attached all-in-one patchfile.&lt;/p&gt;

&lt;p&gt;Centralising code for future maintainability - well, yes good idea. But this&lt;br/&gt;
code doesn&apos;t have a lot of lifetime left; hopefully the release after next will&lt;br/&gt;
be JCL 2.0, with significant work done on all parts of the library.&lt;/p&gt;


&lt;p&gt;Anyone else got an opinion on this?&lt;/p&gt;</comment>
                            <comment id="12411231" author="rdonkin@apache.org" created="Thu, 19 Jan 2006 06:34:10 +0000"  >&lt;p&gt;Yeh: a combined patch with so many changes makes things very difficult. I agree&lt;br/&gt;
with Simon&apos;s analysis of the patch (too big to apply and would prefer a less&lt;br/&gt;
centralised implementation).&lt;/p&gt;

&lt;p&gt;I might see if I can extract the javadoc improvements.&lt;/p&gt;

&lt;p&gt;If they were separate, decentralised patch&apos;s I&apos;d probably be willing to take the&lt;br/&gt;
risk of applying both the consistent NULL patch and the toString exception handling.&lt;/p&gt;</comment>
                            <comment id="12411232" author="skitching" created="Thu, 19 Jan 2006 13:38:35 +0000"  >&lt;p&gt;As William noted, the use of String.valueOf(msg) on the input object to avoid&lt;br/&gt;
exceptions has significant implications. Suppose a user passes a custom&lt;br/&gt;
MessageRecord object as the parameter, and then has a custom Log4J Renderer&lt;br/&gt;
which takes this object and builds a string out of it in some clever way. By&lt;br/&gt;
forcing the message parameter to a string at the JCL level, that breaks the code&lt;br/&gt;
completely.&lt;/p&gt;

&lt;p&gt;Boris makes the point that if someone is doing this then they really should be&lt;br/&gt;
using log4j directly, not JCL, because that won&apos;t work if JCL is bound to&lt;br/&gt;
anything other than log4j. Nevertheless, I&apos;m inclined to avoid introding such&lt;br/&gt;
breakage in this release, and make a note of that point for JCL2, where we could&lt;br/&gt;
potentially state that all &quot;rendering&quot; of the message object is done by JCL for&lt;br/&gt;
consistency. Currently, 1.1 is very close to being backwards compatible and I&lt;br/&gt;
would prefer to keep it that way.&lt;/p&gt;</comment>
                            <comment id="12411233" author="boris.unckel.mlg@gmx.net" created="Fri, 20 Jan 2006 02:54:57 +0000"  >&lt;p&gt;(From update of attachment 17360)&lt;br/&gt;
The patch was rejected by the project due to complexity and unwanted feature of&lt;br/&gt;
exception handling.&lt;/p&gt;</comment>
                            <comment id="12411234" author="boris.unckel.mlg@gmx.net" created="Fri, 20 Jan 2006 02:58:25 +0000"  >&lt;p&gt;Created an attachment (id=17451)&lt;br/&gt;
Patch for AvalonLogger&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;JavaDoc&lt;/li&gt;
	&lt;li&gt;per level log method (doLogTrace, doLogDebug...)&lt;/li&gt;
	&lt;li&gt;Null behaviour (null object message will be logged)&lt;/li&gt;
	&lt;li&gt;Null safe&lt;/li&gt;
	&lt;li&gt;Formatting of source code may show more diff as needed (sorry)!&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;Nothing else **&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12411235" author="boris.unckel.mlg@gmx.net" created="Fri, 20 Jan 2006 02:59:39 +0000"  >&lt;p&gt;Created an attachment (id=17452)&lt;br/&gt;
Patch for Jdk13LumberjackLogger&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;JavaDoc&lt;/li&gt;
	&lt;li&gt;single doLog method for all levels&lt;/li&gt;
	&lt;li&gt;Null behaviour (null object message will be logged)&lt;/li&gt;
	&lt;li&gt;Null safe&lt;/li&gt;
	&lt;li&gt;Formatting of source code may show more diff as needed (sorry)!&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;Nothing else **&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12411236" author="boris.unckel.mlg@gmx.net" created="Fri, 20 Jan 2006 03:00:17 +0000"  >&lt;p&gt;Created an attachment (id=17453)&lt;br/&gt;
Patch for Jdk14Logger&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;JavaDoc&lt;/li&gt;
	&lt;li&gt;single doLog method for all levels&lt;/li&gt;
	&lt;li&gt;Null behaviour (null object message will be logged)&lt;/li&gt;
	&lt;li&gt;Null safe&lt;/li&gt;
	&lt;li&gt;Formatting of source code may show more diff as needed (sorry)!&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;Nothing else **&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12411237" author="boris.unckel.mlg@gmx.net" created="Fri, 20 Jan 2006 03:00:52 +0000"  >&lt;p&gt;Created an attachment (id=17454)&lt;br/&gt;
Patch for Log4J12Logger&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;JavaDoc&lt;/li&gt;
	&lt;li&gt;single doLog method for all levels&lt;/li&gt;
	&lt;li&gt;Null behaviour (null object message will be logged)&lt;/li&gt;
	&lt;li&gt;Null safe&lt;/li&gt;
	&lt;li&gt;Formatting of source code may show more diff as needed (sorry)!&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;Nothing else **&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12411238" author="boris.unckel.mlg@gmx.net" created="Fri, 20 Jan 2006 03:01:29 +0000"  >&lt;p&gt;Created an attachment (id=17455)&lt;br/&gt;
Patch for Log4J13Logger&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;JavaDoc&lt;/li&gt;
	&lt;li&gt;single doLog method for all levels&lt;/li&gt;
	&lt;li&gt;Null behaviour (null object message will be logged)&lt;/li&gt;
	&lt;li&gt;Null safe&lt;/li&gt;
	&lt;li&gt;Formatting of source code may show more diff as needed (sorry)!&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;Nothing else **&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12411239" author="boris.unckel.mlg@gmx.net" created="Fri, 20 Jan 2006 03:02:14 +0000"  >&lt;p&gt;Created an attachment (id=17456)&lt;br/&gt;
Patch for LogKitLogger&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;JavaDoc&lt;/li&gt;
	&lt;li&gt;single doLog method for all levels&lt;/li&gt;
	&lt;li&gt;Null behaviour (null object message will be logged)&lt;/li&gt;
	&lt;li&gt;Null safe&lt;/li&gt;
	&lt;li&gt;Formatting of source code may show more diff as needed (sorry)!&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;Nothing else **&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12411240" author="boris.unckel.mlg@gmx.net" created="Fri, 20 Jan 2006 03:02:55 +0000"  >&lt;p&gt;Created an attachment (id=17457)&lt;br/&gt;
Patch for SimpleLog&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;JavaDoc&lt;/li&gt;
	&lt;li&gt;single doLog method for all levels&lt;/li&gt;
	&lt;li&gt;Null behaviour (null object message will be logged)&lt;/li&gt;
	&lt;li&gt;Null safe&lt;/li&gt;
	&lt;li&gt;Formatting of source code may show more diff as needed (sorry)!&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;Nothing else **&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12411241" author="rdonkin@apache.org" created="Fri, 20 Jan 2006 05:07:48 +0000"  >&lt;p&gt;Thanks for the revised patches.&lt;/p&gt;

&lt;p&gt;I&apos;ll go through them now. &lt;/p&gt;

&lt;p&gt;Robert&lt;/p&gt;</comment>
                            <comment id="12795167" author="dennisl@apache.org" created="Tue, 29 Dec 2009 22:15:19 +0000"  >&lt;p&gt;The Javadoc improvements where commited by rdonkin prior to the 1.1.0 release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333980" name="ASF.LICENSE.NOT.GRANTED--AvalonLogger_Patch.txt" size="19072" author="boris.unckel.mlg@gmx.net" created="Fri, 20 Jan 2006 02:58:25 +0000"/>
                            <attachment id="12333981" name="ASF.LICENSE.NOT.GRANTED--Jdk13LumberjackLogger_Patch.txt" size="11813" author="boris.unckel.mlg@gmx.net" created="Fri, 20 Jan 2006 02:59:39 +0000"/>
                            <attachment id="12333982" name="ASF.LICENSE.NOT.GRANTED--Jdk14Logger_Patch.txt" size="9512" author="boris.unckel.mlg@gmx.net" created="Fri, 20 Jan 2006 03:00:17 +0000"/>
                            <attachment id="12333983" name="ASF.LICENSE.NOT.GRANTED--Log4J12Logger_Patch.txt" size="10913" author="boris.unckel.mlg@gmx.net" created="Fri, 20 Jan 2006 03:00:52 +0000"/>
                            <attachment id="12333984" name="ASF.LICENSE.NOT.GRANTED--Log4J13Logger_Patch.txt" size="8953" author="boris.unckel.mlg@gmx.net" created="Fri, 20 Jan 2006 03:01:29 +0000"/>
                            <attachment id="12333985" name="ASF.LICENSE.NOT.GRANTED--LogKitLogger_Patch.txt" size="14353" author="boris.unckel.mlg@gmx.net" created="Fri, 20 Jan 2006 03:02:14 +0000"/>
                            <attachment id="12333986" name="ASF.LICENSE.NOT.GRANTED--SimpleLog_Patch.txt" size="11162" author="boris.unckel.mlg@gmx.net" created="Fri, 20 Jan 2006 03:02:55 +0000"/>
                            <attachment id="12333979" name="ASF.LICENSE.NOT.GRANTED--jclimpl.patch" size="84312" author="boris.unckel.mlg@gmx.net" created="Sun, 8 Jan 2006 07:05:43 +0000"/>
                            <attachment id="12333978" name="ASF.LICENSE.NOT.GRANTED--jclimpl.patch" size="84315" author="boris.unckel.mlg@gmx.net" created="Sun, 8 Jan 2006 06:43:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38174</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43163</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 45 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7s7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75037</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-46] build.xml line 252 references file `LICENSE&apos; in wrong place</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-46</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;The build was failing, because it couldn&apos;t find LICENSE.txt.  There is no&lt;br/&gt;
``LICENSE.txt&apos;&apos;, but a text file ``LICENSE&apos;&apos;.&lt;/p&gt;

&lt;p&gt;I changed line 252 to read:&lt;/p&gt;

&lt;p&gt;&amp;lt;copy      file=&quot;./LICENSE.txt&quot;&lt;/p&gt;

&lt;p&gt;instead of:&lt;/p&gt;

&lt;p&gt;&amp;lt;copy      file=&quot;../LICENSE&quot;&lt;/p&gt;


&lt;p&gt;And the build finished.  Pretty simple and also minor.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Linux&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12340418">LOGGING-46</key>
            <summary>build.xml line 252 references file `LICENSE&apos; in wrong place</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="milkfilk@yahoo.com">chris dillon</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Nov 2002 13:34:56 +0000</created>
                <updated>Tue, 29 Dec 2009 16:55:16 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 16:55:16 +0000</resolved>
                                    <version>Nightly Builds</version>
                                    <fixVersion>1.0.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12403239" author="craig.mcclanahan@sun.com" created="Sat, 23 Nov 2002 12:00:20 +0000"  >&lt;p&gt;This got fixed along the way, so I&apos;m closing this report.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14536</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148226</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 51 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7sf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75038</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-45] Default LogFactory Implementation fails for Log4J : ClassCastException</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-45</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;I&apos;ve got Log4J 1.1.3 JAR in my classpath.  Upon startup of my application &lt;br/&gt;
(actually a JUnit test case), I immediately get:&lt;/p&gt;

&lt;p&gt;java.lang.ExceptionInInitializerError: &lt;br/&gt;
org.apache.commons.logging.LogConfigurationException: &lt;br/&gt;
java.lang.ClassCastException&lt;/p&gt;

&lt;p&gt;So I downloaded the Commons Logging 1.0 source and debugged.  The problem is in &lt;br/&gt;
org.apache.commons.logging.impl.LogFactoryImpl.guessConfig().&lt;/p&gt;

&lt;p&gt;Class proxyClass=findClassLoader().&lt;br/&gt;
  loadClass( &quot;org.apache.commons.logging.Log4jFactory&quot; );&lt;/p&gt;

&lt;p&gt;The above loadClass call should be changed to:&lt;/p&gt;

&lt;p&gt;Class proxyClass=findClassLoader().&lt;br/&gt;
  loadClass( &quot;org.apache.commons.logging.impl.Log4jFactory&quot; );&lt;/p&gt;

&lt;p&gt;However, after I make the above change I still get a ClassCastException, now &lt;br/&gt;
from org.apache.commons.logging.LogFactory.newFactory().  This exception  &lt;br/&gt;
baffles me.  It happens at: &lt;/p&gt;

&lt;p&gt;return (LogFactory) clazz.newInstance();&lt;/p&gt;

&lt;p&gt;So I modify newFactory() to do the newInstance() and the return in two steps &lt;br/&gt;
instead of one.&lt;/p&gt;

&lt;p&gt;Object result = clazz.newInstance();&lt;br/&gt;
return (LogFactory)result;&lt;/p&gt;

&lt;p&gt;The exception occurs during the cast of result.  If I print result&apos;s class name &lt;br/&gt;
I get org.apache.commons.logging.impl.LogFactoryImpl.  But checking if result &lt;br/&gt;
is an instanceof org.apache.commons.logging.impl.LogFactoryImpl returns false.&lt;/p&gt;

&lt;p&gt;Object result = clazz.newInstance();&lt;br/&gt;
System.out.println(&quot;Got Factory: &quot; + result.getClass().getName());&lt;/p&gt;

&lt;p&gt;if (result instanceof LogFactory) {&lt;br/&gt;
  System.out.println(&quot;result is a LogFactory&quot;);&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;if (result instanceof org.apache.commons.logging.impl.LogFactoryImpl) {&lt;br/&gt;
  System.out.println(&quot;result is a LogFactoryImpl&quot;);&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;return (LogFactory) result;&lt;/p&gt;

&lt;p&gt;The code above just prints:&lt;br/&gt;
Got Factory: org.apache.commons.logging.impl.LogFactoryImpl&lt;/p&gt;

&lt;p&gt;And then throws the ClassCastException.  I&apos;m confused.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12340243">LOGGING-45</key>
            <summary>Default LogFactory Implementation fails for Log4J : ClassCastException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jerome.jacobsen@gentootech.com">Jerome Jacobsen</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Jun 2002 23:26:06 +0000</created>
                <updated>Tue, 29 Dec 2009 17:08:52 +0000</updated>
                            <resolved>Sat, 18 Nov 2006 12:48:35 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>1.0.3</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12402685" author="dwallace@udel.edu" created="Wed, 31 Jul 2002 00:59:35 +0000"  >&lt;p&gt;I second this: I am seeing very much similiar behavior with Jdk 1.3 &amp;amp; 1.4 with&lt;br/&gt;
the latest logging release and the 2002-7-30 snapshot. Somehow, the classname&lt;br/&gt;
looks right but the class programmatically is not recognized as being a subclass&lt;br/&gt;
of its parent.&lt;/p&gt;</comment>
                            <comment id="12402686" author="david@pastornet.net.au" created="Mon, 2 Sep 2002 19:07:49 +0000"  >&lt;p&gt;I&apos;m seeing the same thing, with jdk 1.3.&lt;/p&gt;</comment>
                            <comment id="12402687" author="rsitze@apache.org" created="Sun, 20 Oct 2002 00:44:01 +0000"  >&lt;p&gt;This is a KNOWN problem with J2EE and (other) managed environments where there&lt;br/&gt;
are multiple instances of commons-logging.jar (and/or commons-logging-api.jar).&lt;/p&gt;

&lt;p&gt;[I&apos;m changing this to &apos;LATER&apos; to move it out of the open problem category,&lt;br/&gt;
but also to leave it open for futher comment/suggestions/discussion]&lt;/p&gt;

&lt;p&gt;The problem is that you have different parts of commons-logging being loaded&lt;br/&gt;
by different classloaders, and though they have the same NAME, they are not&lt;br/&gt;
the same class (diff classloader).  So... class cast exception.&lt;/p&gt;

&lt;p&gt;This is NOT easily fixed in commons-logging, though providing details on your&lt;br/&gt;
environments and any work-arounds you might be able to provide would be usefull.&lt;/p&gt;

&lt;p&gt;Any JUnit Guru&apos;s out there?  Can this be caused by using commons-logging at &lt;br/&gt;
various levels within the test suites?&lt;/p&gt;

&lt;p&gt;&amp;lt;ras&amp;gt;&lt;/p&gt;</comment>
                            <comment id="12402688" author="rdonkin@apache.org" created="Mon, 7 Apr 2003 16:36:52 +0000"  >&lt;p&gt;commons-logging 1.0.3 released.&lt;/p&gt;</comment>
                            <comment id="12402689" author="mohankishore@yahoo.com" created="Tue, 8 Apr 2003 05:04:49 +0000"  >&lt;p&gt;The reporters might like to check with the nightly build, whether the problem &lt;br/&gt;
still persists. The guessConfig() method has been removed from &lt;br/&gt;
org.apache.commons.logging.impl.LogFactoryImpl.&lt;/p&gt;
</comment>
                            <comment id="12402690" author="craig.mcclanahan@sun.com" created="Sun, 27 Apr 2003 05:08:41 +0000"  >&lt;p&gt;Marking as closed, because as far as I can tell this works correctly with 1.0.3.&lt;/p&gt;

&lt;p&gt;As a side note, one cause for ClassCastException problems would be having&lt;br/&gt;
commons-logging classes available from more than one class loader, and not being&lt;br/&gt;
careful to ensure that all the c-l classes are loaded from the same class&lt;br/&gt;
loader.  A class &quot;foo&quot; loaded from class loader A and a class &quot;foo&quot; loaded from&lt;br/&gt;
class loader B are not the same class, even if the bytecodes happen to be identical.&lt;br/&gt;
Attempts to do assignments or casts between them will fail.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9845</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148225</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 29 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7sn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75039</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-44] LogFactory property with Log4j</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-44</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;We&apos;ve dicovered an issue with the current commons-logging code (1.0.2).&lt;/p&gt;

&lt;p&gt;We have a servlet depoyed into a Servlet engine which has a log4j.jar in&lt;br/&gt;
its common classpath but our servlet (using commons-logging) need to used&lt;br/&gt;
logkit. We tried to use the system property&lt;br/&gt;
&quot;org.apache.commons.logging.Log&quot; set to&lt;br/&gt;
&quot;org.apache.commons.logging.impl.LogKitLogger&quot; as suggested with no luck.&lt;/p&gt;

&lt;p&gt;So, we looked into the code and found that the constructor of&lt;br/&gt;
org.apache.commons.logging.impl.LogFactoryImpl is doing the following:&lt;/p&gt;

&lt;p&gt;    public LogFactoryImpl() &lt;/p&gt;
{
        super();
        guessConfig();
    }

&lt;p&gt;and the guessConfig does:&lt;/p&gt;

&lt;p&gt;    protected void guessConfig() {&lt;br/&gt;
        if( isLog4JAvailable() ) {&lt;br/&gt;
            proxyFactory = null;&lt;br/&gt;
            try {&lt;br/&gt;
                Class proxyClass=&lt;br/&gt;
                    loadClass(&lt;br/&gt;
&quot;org.apache.commons.logging.impl.Log4jFactory&quot; );&lt;br/&gt;
                if (proxyClass != null) &lt;/p&gt;
{
                    proxyFactory = (LogFactory)proxyClass.newInstance();
                }
&lt;p&gt;            } catch( Throwable t ) &lt;/p&gt;
{
                ; // ignore
            }
&lt;p&gt;        }&lt;br/&gt;
        // other logger specific initialization&lt;br/&gt;
        // ...&lt;br/&gt;
    }&lt;/p&gt;

&lt;p&gt;Admittedly if have no idea what the proxyFactory is used for but for us&lt;br/&gt;
this means commons-logging does not respect the system property suggested&lt;br/&gt;
to use any other logging kit if there is a log4j in the classpath&lt;br/&gt;
anywhere.&lt;/p&gt;

&lt;p&gt;Is this intentional?&lt;/p&gt;

&lt;p&gt;By commenting the &apos;guessConfig()&apos; call from the constructor we could solve&lt;br/&gt;
our problems but I&apos;d really like to hear your oppinions about it.&lt;/p&gt;

&lt;p&gt;Cheers&lt;/p&gt;

&lt;p&gt;Giacomo&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12340344">LOGGING-44</key>
            <summary>LogFactory property with Log4j</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="giacomo@apache.org">Giacomo Pati</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Oct 2002 04:41:06 +0000</created>
                <updated>Tue, 29 Dec 2009 16:58:13 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 16:58:13 +0000</resolved>
                                    <version>1.0.2</version>
                                    <fixVersion>1.0.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12403002" author="rsitze@apache.org" created="Sun, 20 Oct 2002 00:23:52 +0000"  >&lt;p&gt;Lots of logic got changed to make this work,&lt;br/&gt;
helpfull if a few would verify that I haven&apos;t broken&lt;br/&gt;
anything OTHER than overly friendly attitude to Log4J &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>13157</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148224</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            23 years, 4 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7sv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75040</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-43] can&apos;t get log4j logger in webapp under tomcat5+java1.4</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-43</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;Couldn&apos;t find a commons-logging specific email list and thought I&apos;d file&lt;br/&gt;
a bug in the hopes that someone might have already seen this.&lt;/p&gt;

&lt;p&gt;I&apos;m having trouble making httpclient 2.0 (a user of commons logging)&lt;br/&gt;
use log4j logging inside Tomcat5 (when running against java 1.4).  Seems as&lt;br/&gt;
though tomcat5 makes some call to the the commons logger early on (see below). &lt;br/&gt;
Tomcat5 doesn&apos;t come with log4j... so the commons logging default log factory&lt;br/&gt;
implementation picks up the jdk14 logger for tomcat as you&apos;d expect.&lt;/p&gt;

&lt;p&gt;I&apos;m guessing that somehow when my webapp comes up... the commons logger fails to&lt;br/&gt;
look for log4j in my WEB-INF/lib (this is where it finds httpclient).  &lt;/p&gt;

&lt;p&gt;This feels like one of the class-loader disagreements that I&apos;ve seen related to&lt;br/&gt;
java/commons-logging and the servlet spec.  That is, my webapp is getting&lt;br/&gt;
tomcat&apos;s copy of the default log factor impl, instead of its own.&lt;/p&gt;

&lt;p&gt;Fwiw, this is a stack from early tomcat initialization:&lt;/p&gt;

&lt;p&gt;LogFactoryImpl.getLogClassName() line: 331&lt;br/&gt;
LogFactoryImpl.getLogConstructor() line: 368&lt;br/&gt;
LogFactoryImpl.newInstance(String) line: 529&lt;br/&gt;
LogFactoryImpl.getInstance(String) line: 235&lt;br/&gt;
LogFactoryImpl.getInstance(Class) line: 209&lt;br/&gt;
LogFactory.getLog(Class) line: 351&lt;br/&gt;
JdkCompat.&amp;lt;clinit&amp;gt;() line: 53&lt;br/&gt;
StandardClassLoader.&amp;lt;clinit&amp;gt;() line: 207&lt;br/&gt;
ClassLoaderFactory.createClassLoader(File[], File[], URL[], ClassLoader) line: 189&lt;br/&gt;
Bootstrap.createClassLoader(String, ClassLoader) line: 160&lt;br/&gt;
Bootstrap.initClassLoaders() line: 104&lt;br/&gt;
Bootstrap.init() line: 193&lt;br/&gt;
Bootstrap.main(String[]) line: 399&lt;/p&gt;

&lt;p&gt;And this is a stack where my initial use of the httpclient ends up picking up&lt;br/&gt;
the JDK14 logger even though my webapp has log4j in it&apos;s WEB-INF/lib:&lt;/p&gt;

&lt;p&gt;Jdk14Logger.&amp;lt;init&amp;gt;(String) line: 50&lt;br/&gt;
NativeConstructorAccessorImpl.newInstance0(Constructor, Object[]) line: not&lt;br/&gt;
available &lt;span class=&quot;error&quot;&gt;&amp;#91;native method&amp;#93;&lt;/span&gt;&lt;br/&gt;
NativeConstructorAccessorImpl.newInstance(Object[]) line: 39&lt;br/&gt;
DelegatingConstructorAccessorImpl.newInstance(Object[]) line: 27&lt;br/&gt;
Constructor.newInstance(Object[]) line: 274&lt;br/&gt;
LogFactoryImpl.newInstance(String) line: 529&lt;br/&gt;
LogFactoryImpl.getInstance(String) line: 235&lt;br/&gt;
LogFactoryImpl.getInstance(Class) line: 209&lt;br/&gt;
LogFactory.getLog(Class) line: 351&lt;br/&gt;
MultiThreadedHttpConnectionManager.&amp;lt;clinit&amp;gt;() line: 98&lt;br/&gt;
..&lt;br/&gt;
..&lt;br/&gt;
..&lt;/p&gt;


&lt;p&gt;It isn&apos;t an option for me to put touch any of the jars inside the container. &lt;br/&gt;
And I&apos;d like to force httpclient to use log4j when it&apos;s used within my webapp. &lt;br/&gt;
This was working fine, fyi, in tomcat4.&lt;/p&gt;

&lt;p&gt;Any clues/advice?&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;

&lt;p&gt;-Eric&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341565">LOGGING-43</key>
            <summary>can&apos;t get log4j logger in webapp under tomcat5+java1.4</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bloch@laszlosystems.com">Eric Bloch</reporter>
                        <labels>
                    </labels>
                <created>Mon, 12 Jul 2004 21:51:31 +0000</created>
                <updated>Wed, 2 Jan 2008 07:48:27 +0000</updated>
                            <resolved>Wed, 2 Jan 2008 07:48:27 +0000</resolved>
                                    <version>1.0.3</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12406986" author="rdonkin@apache.org" created="Tue, 13 Jul 2004 03:07:05 +0000"  >&lt;p&gt;hi eric&lt;/p&gt;

&lt;p&gt;Just FYI all the jakarta commons components use the same mailing lists (commons-dev and commons-&lt;br/&gt;
user). This is a FAQ (or should be &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Please give a little something back by adding this to the wiki FAQ &lt;br/&gt;
(&lt;a href=&quot;http://wiki.apache.org/jakarta-commons/Logging/FrequentlyAskedQuestions&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://wiki.apache.org/jakarta-commons/Logging/FrequentlyAskedQuestions&lt;/a&gt;) if I manage to set you &lt;br/&gt;
straight.&lt;/p&gt;

&lt;p&gt;The first thing I&apos;d like to add is that the documentation has improved for the 1.0.4 release but logging &lt;br/&gt;
has changed only slightly (mainly adding compatibility with the log4j 3.x series of releases). If you &lt;br/&gt;
haven&apos;t taken a look already, the documentation on the website (&lt;a href=&quot;http://jakarta.apache.org/commons/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jakarta.apache.org/commons/&lt;/a&gt;&lt;br/&gt;
logging/) should be more helpful than that which came with 1.0.3.&lt;/p&gt;

&lt;p&gt;Okay - onto my recommendation. You can either use the services mechanism (which doesn&apos;t seem to &lt;br/&gt;
be well documented at the moment - i&apos;m very busy with releases at the moment so if you manage to &lt;br/&gt;
get this working, putting something on the wiki would be really appreciated see &lt;a href=&quot;http://java.sun.com/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://java.sun.com/&lt;/a&gt;&lt;br/&gt;
j2se/1.3/docs/guide/jar/jar.html and the source) or add a commons-logging.properties file into the &lt;br/&gt;
root of your classes file in the webapp containing &lt;/p&gt;

&lt;p&gt;org.apache.commons.logging.LogFactory=org.apache.commons.logging.impl.LogFactoryImpl&lt;br/&gt;
org.apache.commons.logging.Log=org.apache.commons.logging.impl.Log4JLogger&lt;/p&gt;

&lt;p&gt;After searching for this information, I&apos;ve realized just who much work needs to be done on the &lt;br/&gt;
documentation. Will have to wait, though. So much to do, so little time &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Robert&lt;/p&gt;
</comment>
                            <comment id="12406987" author="bloch@laszlosystems.com" created="Tue, 13 Jul 2004 04:15:34 +0000"  >&lt;p&gt;Thanks so much for the response!  I&apos;ll be happy to edit the wiki when I get this&lt;br/&gt;
resolved!&lt;/p&gt;

&lt;p&gt;I dropped a commons-logging.properties file into WEB-INF/classes and reloaded by&lt;br/&gt;
webapp and the httpclient logging still isn&apos;t going to log4j &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;What are your recommended debugging techniques here?&lt;/p&gt;

&lt;p&gt;Again, thanks so much.&lt;br/&gt;
-Eric&lt;/p&gt;</comment>
                            <comment id="12406988" author="bloch@laszlosystems.com" created="Tue, 13 Jul 2004 04:28:57 +0000"  >&lt;p&gt;Please ignore the previous comment.  I restarted by container &lt;br/&gt;
and got an exception when tomcat starts up (this exception only&lt;br/&gt;
occurs when I have the commons-logging.properties file in my webap):&lt;/p&gt;

&lt;p&gt;LogConfigurationException: java.lang.ClassNotFoundException:&lt;br/&gt;
org.apache.commons.logging.impl.Log4JLogg&lt;br/&gt;
er&lt;br/&gt;
        at&lt;br/&gt;
org.apache.catalina.core.StandardHostDeployer.install(StandardHostDeployer.java:494)&lt;br/&gt;
        at org.apache.catalina.core.StandardHost.install(StandardHost.java:863)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:482)&lt;br/&gt;
        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:427)&lt;br/&gt;
        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:964)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:349)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)&lt;br/&gt;
        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1091)&lt;br/&gt;
        at org.apache.catalina.core.StandardHost.start(StandardHost.java:789)&lt;br/&gt;
        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1083)&lt;br/&gt;
        at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:478)&lt;br/&gt;
        at org.apache.catalina.core.StandardService.start(StandardService.java:476)&lt;br/&gt;
        at org.apache.catalina.core.StandardServer.start(StandardServer.java:2298)&lt;br/&gt;
        at org.apache.catalina.startup.Catalina.start(Catalina.java:556)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Unknown Source)&lt;br/&gt;
        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:284)&lt;br/&gt;
        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:422)&lt;/p&gt;</comment>
                            <comment id="12406989" author="rdonkin@apache.org" created="Tue, 13 Jul 2004 05:09:13 +0000"  >&lt;p&gt;debugging a logging configuration is difficult.&lt;/p&gt;

&lt;p&gt;that&apos;s exception looks pretty wierd and i don&apos;t have a good answer. you could try:&lt;/p&gt;

&lt;p&gt;1 check that the class name in the commons-logging.properties file is exactly right. (take a look in the &lt;br/&gt;
JavaDocs.)&lt;/p&gt;

&lt;p&gt;2 if that doesn&apos;t work, try dropping the commons-logging jar into you web app&apos;s lib. this will probably &lt;br/&gt;
produce a different exception (but it might work).&lt;/p&gt;

&lt;p&gt;3 unroll the commons-logging jar and reroll a new jar just with Log4JLogger in it. try adding that.&lt;/p&gt;</comment>
                            <comment id="12406990" author="william.barker@wilshire.com" created="Wed, 14 Jul 2004 01:16:58 +0000"  >&lt;p&gt;Tomcat doesn&apos;t include commons-logging.jar (only commons-logging-api.jar).  &lt;br/&gt;
You need to install the full commons-logging.jar to use log4j.&lt;/p&gt;</comment>
                            <comment id="12406991" author="bloch@laszlosystems.com" created="Sat, 31 Jul 2004 01:32:22 +0000"  >&lt;p&gt;Are you saying there&apos;s no way to use the log4j bits from commons-logging&lt;br/&gt;
inside a webapp w/out modifying tomcat jars?  In tomcat 5.0.24, the only copy&lt;br/&gt;
of commons-logging stuff I see is&lt;/p&gt;

&lt;p&gt;$TOMCAT_HOME/bin/commons-logging-api.jar&lt;/p&gt;

&lt;p&gt;Do I replace that with commons-logging.jar?  Or put the commons-logging.jar&lt;br/&gt;
somewhere inside tomcat?  (I&apos;ve tried putting it inside WEB-INF/lib as well as&lt;br/&gt;
placing a commons-logging.properties file inside WEB-INF/classes and I still&lt;br/&gt;
can&apos;t get commons logging to use log4j.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;br/&gt;
Eric&lt;/p&gt;


&lt;p&gt;-Eric&lt;/p&gt;

</comment>
                            <comment id="12406992" author="yoavs@computer.org" created="Sat, 31 Jul 2004 01:37:53 +0000"  >&lt;p&gt;No, you don&apos;t need to modify tomcat jars or recompile any of them..  See the &lt;br/&gt;
Tomcat FAQ entry for this issue: &lt;br/&gt;
&lt;a href=&quot;http://jakarta.apache.org/tomcat/faq/misc.html#commonsLoggingLog4j&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jakarta.apache.org/tomcat/faq/misc.html#commonsLoggingLog4j&lt;/a&gt;.&lt;/p&gt;
</comment>
                            <comment id="12406993" author="bloch@laszlosystems.com" created="Sat, 31 Jul 2004 02:30:40 +0000"  >&lt;p&gt;I &lt;b&gt;finally&lt;/b&gt; go this to work.  &lt;/p&gt;

&lt;p&gt;1) Copy commons-logging.jar and log4j-1.2.x.jar to $TOMCAT_HOME/common/lib&lt;br/&gt;
2) Copy both jars to my webapp as well.&lt;/p&gt;


&lt;p&gt;-Eric&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30054</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148223</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 15 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7t3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75041</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-42] [logging] setUpHandlers leaves handlers null pointer</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-42</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;These errors occur because the &quot;handler&quot; field is null -&lt;/p&gt;


&lt;p&gt;     &lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt; There were 3 errors:&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt; 1)&lt;br/&gt;
testSerializable(org.apache.commons.logging.jdk14.CustomConfigTestCase)java.lang.NullPointerException&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;    at&lt;br/&gt;
org.apache.commons.logging.jdk14.CustomConfigTestCase.checkLogRecords&lt;br/&gt;
(CustomConfigTestCase.java:215)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;    at&lt;br/&gt;
org.apache.commons.logging.jdk14.CustomConfigTestCase.testExceptionMessages&lt;br/&gt;
(CustomConfigTestCase.java:139)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;    at&lt;br/&gt;
org.apache.commons.logging.jdk14.CustomConfigTestCase.testSerializable&lt;br/&gt;
(CustomConfigTestCase.java:186)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;    at java.lang.reflect.Method.invoke0 (Method.java)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;    at java.lang.reflect.Method.invoke (Method.java:255)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;The &quot;handler&quot; field is probably null due to an error in gnu classpath&lt;/p&gt;

&lt;p&gt;Anyway, a ClassCastException in setUpHandlers is probably more helpful than&lt;br/&gt;
NullPointerExceptions in checkLogRecords -&lt;br/&gt;
&lt;a href=&quot;http://www.sfu.ca/~jdbates/tmp/commons-logging/patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.sfu.ca/~jdbates/tmp/commons-logging/patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thanks for your work on these terrific tools!&lt;/p&gt;

&lt;p&gt;Jack&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12342229">LOGGING-42</key>
            <summary>[logging] setUpHandlers leaves handlers null pointer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="skitching">Simon Kitching</assignee>
                                    <reporter username="ms419@freezone.co.uk">ms419</reporter>
                        <labels>
                    </labels>
                <created>Sat, 7 May 2005 11:29:59 +0000</created>
                <updated>Tue, 29 Dec 2009 16:09:13 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 16:09:13 +0000</resolved>
                                    <version>1.0.4</version>
                                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12409300" author="skitching" created="Mon, 23 May 2005 10:43:43 +0000"  >&lt;p&gt;Created an attachment (id=15120)&lt;br/&gt;
patch to jdk14 test case to handle incorrect handler setup&lt;/p&gt;

&lt;p&gt;Here&apos;s an alternative solution to your problem (I hope). I&apos;ve committed this&lt;br/&gt;
patch as subversion revision 177867. If you have any issues with this, please&lt;br/&gt;
let me know. Otherwise I will close this bug report in about a week&apos;s time.&lt;/p&gt;

&lt;p&gt;Regards, Simon&lt;/p&gt;</comment>
                            <comment id="12409301" author="ms419@freezone.co.uk" created="Tue, 24 May 2005 09:56:23 +0000"  >&lt;p&gt;(In reply to comment #1)&lt;br/&gt;
&amp;gt; Here&apos;s an alternative solution to your problem (I hope)&lt;/p&gt;

&lt;p&gt;Sweet - with your patch I get this much improved error message -&lt;/p&gt;


&lt;p&gt;     &lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; Custom Configuration (JDK 1.4 Auto-Recognized)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt; .F.F.F.F.F.F.F&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt; Time: 0.155&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt; There were 7 failures:&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt; 1) &lt;br/&gt;
testExceptionMessages(org.apache.commons.logging.jdk14.CustomConfigTestCase)junit.framework.As&lt;br/&gt;
sertionFailedError: Unexpected number of handlers for JDK14 logging expected:&amp;lt;1&amp;gt; but was:&amp;lt;0&amp;gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;    at org.apache.commons.logging.jdk14.CustomConfigTestCase.setUpHandlers &lt;br/&gt;
(CustomConfigTestCase.java:293)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;    at org.apache.commons.logging.jdk14.CustomConfigTestCase.setUp &lt;br/&gt;
(CustomConfigTestCase.java:108)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;    at java.lang.VirtualMachine.invokeMain (VirtualMachine.java)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;    at java.lang.VirtualMachine.main (VirtualMachine.java:108)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;Your solution was &lt;em&gt;far&lt;/em&gt; better than mine - many thanks!&lt;/p&gt;

&lt;p&gt;Jack&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333506" name="ASF.LICENSE.NOT.GRANTED--CustomConfigTestCase-patch.txt" size="1641" author="skitching" created="Mon, 23 May 2005 10:43:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34792</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148222</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 25 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7tb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75042</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-41] Remove default log4j configuration</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-41</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;I am requesting that the code added to Log4JCategory in&lt;br/&gt;
commons-logging-1.0.1 that sets up a default initialization in log4j be&lt;br/&gt;
removed.&lt;/p&gt;

&lt;p&gt;Why? When I put 1.0.1 in place of 1.0, I started getting extraneous&lt;br/&gt;
messages logged to the console. Subsequent research led me to the new&lt;br/&gt;
initialization code in Log4JCategory. The problem is in the way the&lt;br/&gt;
initialization code tries to decide if log4j has been configured. It&lt;br/&gt;
assumes that the root category has been configured with an appender. I&lt;br/&gt;
happen to have a log4j properties configuration that doesn&apos;t configure&lt;br/&gt;
an appender, so the initialization code couldn&apos;t tell that log4j had&lt;br/&gt;
been configured, it created the default root appender, and I started&lt;br/&gt;
getting the extraneous messages.&lt;/p&gt;

&lt;p&gt;I realize there are easy workarounds for my particular problem, but I&lt;br/&gt;
believe this presents a more philosophical issue. Quoting from the&lt;br/&gt;
commons-logging api org.apache.commons.logging package description:&lt;/p&gt;

&lt;p&gt;&quot;The basic principle is that the user is totally responsible for the&lt;br/&gt;
configuration of the underlying logging system. Commons-logging should&lt;br/&gt;
not change the existing configuration.&quot;&lt;/p&gt;

&lt;p&gt;The code in question directly violates this expressly stated principal&lt;br/&gt;
and is inappropriate. Allowing this code to remain opens a Pandora&apos;s box&lt;br/&gt;
of attempts to configure the underlying logger, which should be resisted&lt;br/&gt;
based on the above principal.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12340345">LOGGING-41</key>
            <summary>Remove default log4j configuration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="stevencaswell@apache.org">Steven Caswell</reporter>
                        <labels>
                    </labels>
                <created>Wed, 2 Oct 2002 20:06:08 +0000</created>
                <updated>Tue, 29 Dec 2009 16:57:17 +0000</updated>
                            <resolved>Sat, 18 Nov 2006 12:48:34 +0000</resolved>
                                    <version>1.0.1</version>
                                    <fixVersion>1.0.3</fixVersion>
                                        <due></due>
                            <votes>4</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12403003" author="steve.downey@netfolio.com" created="Sun, 6 Oct 2002 08:10:57 +0000"  >&lt;p&gt;In practice, I think this means changing the selection mechanism for the logging&lt;br/&gt;
system to use. It&apos;s not enough to see that log4j is present. If the root logger&lt;br/&gt;
in log4j is not configured, then log4j can&apos;t be used. Otherwise you get errors&lt;br/&gt;
printed out instructing you to correctly configure the logging system. &lt;/p&gt;

&lt;p&gt;OTOH, I also think it&apos;s a logical error to use log4j without configuring the&lt;br/&gt;
root logger, even if only to send everything to the null appender.&lt;/p&gt;
</comment>
                            <comment id="12403004" author="rsitze@apache.org" created="Sun, 20 Oct 2002 00:57:53 +0000"  >&lt;p&gt;Realizing that there are OTHER complications in this,&lt;br/&gt;
would looking for the presence of &apos;log4j.properties&apos;&lt;br/&gt;
be sufficient for everyones needs?&lt;/p&gt;</comment>
                            <comment id="12403005" author="steve.downey@netfolio.com" created="Wed, 23 Oct 2002 00:44:22 +0000"  >&lt;p&gt;Not for me. I use log4j, but it&apos;s not configured using the default configuration&lt;br/&gt;
mechanism. I configure explicitly, and not always from a property file name&lt;br/&gt;
&apos;log4j.properties&apos;.&lt;/p&gt;

&lt;p&gt;How about this? If we&apos;re searching for a log implementation, that is,an&lt;br/&gt;
implementation has not been set explicitly, and the log4j Root appender is not&lt;br/&gt;
configured, move on to the next in the search list?&lt;/p&gt;

&lt;p&gt;I&apos;d also like to know what Steven Caswell&apos;s desired behavior is? He&apos;s got the&lt;br/&gt;
use case where Root is unconfigured, but other loggers are. What should a random&lt;br/&gt;
log category do in this case. Be default, I believe Log4J will print out error&lt;br/&gt;
messages, which is, in my opinion, undesireable behavior.&lt;/p&gt;</comment>
                            <comment id="12403006" author="ceki@apache.org" created="Wed, 23 Oct 2002 02:17:00 +0000"  >
&lt;p&gt;Steven Caswell has said it well.&lt;/p&gt;

&lt;p&gt;I don&apos;t agree with Steve Downey. He says: &quot;If the root logger&lt;br/&gt;
in log4j is not configured, then log4j can&apos;t be used. Otherwise you get errors&lt;br/&gt;
printed out instructing you to correctly configure the logging system.&quot;&lt;/p&gt;

&lt;p&gt;Log4j is designed to warn the user that it was not properly configured. &lt;/p&gt;

&lt;p&gt;He also states: &quot;I also think it&apos;s a logical error to use log4j without &lt;br/&gt;
configuring the root logger, even if only to send everything to the null &lt;br/&gt;
appender.&quot;&lt;/p&gt;

&lt;p&gt;Log4j can be correctly used without ever configuring the root logger. &lt;/p&gt;</comment>
                            <comment id="12403007" author="steve.downey@netfolio.com" created="Wed, 23 Oct 2002 09:52:28 +0000"  >&lt;p&gt; I didn&apos;t mean that log4j in an application couldn&apos;t be used without a root logger configured. That&apos;s well within scope for log4j and a self contained application.   But what should the semantics be for an application that uses a component that uses commons-logging that doesn&apos;t have a root appender configured? When the component goes to log, it will get an unconfigured category, and will generate errors. It might not even be the component that&apos;s of interest to the application. e.g. httpclient may use collections, which uses logging.   By leaving log4j unconfigured, we force the application to become interested in logging. And removing log4j is not always feasible. It may be present to support other apps that are interested in logging.   Getting log4j warnings just because you start using a commons component seems wrong.   &lt;/p&gt;</comment>
                            <comment id="12403008" author="ceki@apache.org" created="Wed, 23 Oct 2002 13:55:04 +0000"  >
&lt;p&gt;&quot;But what should the semantics be for an application that uses a component that &lt;br/&gt;
uses commons-logging that doesn&apos;t have a root appender configured? When the &lt;br/&gt;
component goes to log, it will get an unconfigured category, and will generate &lt;br/&gt;
errors.&quot;&lt;/p&gt;

&lt;p&gt;Wrong working assumption! If the logger named &quot;org.apache.commons.httputils&quot; is &lt;br/&gt;
configured (it has an attached appender) and, assuming httputils only uses &lt;br/&gt;
loggers under &quot;org.apache.commons.httputils&quot;, logging from httputils will &lt;b&gt;not&lt;/b&gt; &lt;br/&gt;
generate errors even if the root logger is not configured.&lt;/p&gt;

&lt;p&gt;Wrong assumptions =&amp;gt; wrong conclusions.&lt;/p&gt;</comment>
                            <comment id="12403009" author="stevencaswell@apache.org" created="Wed, 23 Oct 2002 17:30:01 +0000"  >&lt;p&gt;The functionality I desire is the functionality in version 1.0 of&lt;br/&gt;
commons-logging. That functionality is that commons-logging makes no attempt in&lt;br/&gt;
any way to apply a default configuration to log4j. And that is the fundamental&lt;br/&gt;
issue I have against having commons-logging attempt to put in a default&lt;br/&gt;
configuration - it shouldn&apos;t. As a developer or deployer, I should be smart&lt;br/&gt;
enough to know what I want my logging system to acheive.&lt;/p&gt;

&lt;p&gt;Again, quoting from the commons-logging documentation:&lt;/p&gt;

&lt;p&gt;&quot;The basic principle is that the user is totally responsible for the&lt;br/&gt;
configuration of the underlying logging system. Commons-logging should&lt;br/&gt;
not change the existing configuration.&quot;&lt;/p&gt;

&lt;p&gt;Existing configuration means whatever I&apos;ve done to configure my logging package,&lt;br/&gt;
including letting it default.&lt;/p&gt;</comment>
                            <comment id="12403010" author="rsitze@apache.org" created="Wed, 23 Oct 2002 23:24:07 +0000"  >&lt;p&gt;The issue here is between those who&lt;br/&gt;
a) want to use commons-logging (with default behaviour) out-of-box,&lt;br/&gt;
b) want to use commons-logging in a Log4J enabled application, out-of-box.&lt;/p&gt;

&lt;p&gt;Both have reasonable requests &amp;amp; desires... the problem may be Log4J&apos;s&lt;br/&gt;
difficult bootstrapping mechanism.&lt;/p&gt;

&lt;p&gt;It&apos;s been proposed (but nothing has yet been done) that the current content&lt;br/&gt;
be packaged in a number of different ways:&lt;/p&gt;

&lt;p&gt;Create a commons-logging-XYZ.jar for each of LogKit, JDK14, SimpleLogger, ?&lt;br/&gt;
containing:&lt;br/&gt;
    Log, LogFactory, appropriate LogImpl&lt;br/&gt;
    commons-logging.properties&lt;br/&gt;
       org.apache.commons.logging.Log=org.apache.commons.logging.impl.XYZ&lt;/p&gt;

&lt;p&gt;We could include TWO versions for Log4J if we change the current logic&lt;br/&gt;
to NOT automatically defer to the Log4jFactory:&lt;/p&gt;

&lt;p&gt;a)  Log, LogFactory, appropriate LogImpl&lt;br/&gt;
    commons-logging.properties&lt;br/&gt;
       org.apache.commons.logging.Log=org.apache.commons.logging.impl.XYZ&lt;/p&gt;

&lt;p&gt;b)  Log, LogFactory, appropriate LogImpl, Log4jFactory&lt;br/&gt;
    commons-logging.properties&lt;br/&gt;
       org.apache.commons.logging.LogFactory=&lt;br/&gt;
              org.apache.commons.logging.impl.Log4jFactory&lt;/p&gt;

&lt;p&gt;the first would work in an environment pre-enabled for Log4J.&lt;br/&gt;
The second would work in a clean environment.&lt;/p&gt;


&lt;p&gt;So... the solution would be to grab the jar file that fits your environment.&lt;/p&gt;</comment>
                            <comment id="12403011" author="mwomack@apache.org" created="Tue, 18 Feb 2003 06:14:34 +0000"  >&lt;p&gt;Why now change the behavior of the Log4JFactory to not perform any default &lt;br/&gt;
initialization, BUT extend commons-logging to allow for custom initialization &lt;br/&gt;
classes that can be declared in the commons-logging properties?&lt;/p&gt;

&lt;p&gt;org.apache.commons.logging.LogInitializer=&amp;lt;whatever class you want to do &lt;br/&gt;
initialization&amp;gt;&lt;/p&gt;

&lt;p&gt;This gives commons-logging users of all log packages the opportunity to &lt;br/&gt;
initialize correctly according to the log package being used and/or product it &lt;br/&gt;
is being used within.&lt;/p&gt;</comment>
                            <comment id="12403012" author="stevencaswell@apache.org" created="Tue, 18 Feb 2003 07:22:58 +0000"  >&lt;p&gt;I&apos;d be happy with the latest proposal, esp. if log4j did nothing beyond calling&lt;br/&gt;
the log initializer class. At least then I&apos;d have control over having it do or&lt;br/&gt;
not do initialization.&lt;/p&gt;</comment>
                            <comment id="12403013" author="craig.mcclanahan@sun.com" created="Mon, 31 Mar 2003 08:00:05 +0000"  >&lt;p&gt;Picking up this thread as I&apos;m reviewing commons-logging in prep for a 1.0.3 release.&lt;/p&gt;

&lt;p&gt;I agree with Steven Caswell&apos;s original request &amp;#8211; commons-logging should make&lt;br/&gt;
absolutely no attempt to configure the underlying loggging implementation. &lt;br/&gt;
Instead, either the app should preconfigure the implementation the way it wants,&lt;br/&gt;
or the implementation should provide a mechanism for self-configuration.&lt;/p&gt;

&lt;p&gt;(Ceki, my understanding is that this is not true for Log4J, right?  If there&apos;s a&lt;br/&gt;
&quot;log4j.properties&quot; file then it will be used to configure things if config was&lt;br/&gt;
not done directly by the application?)&lt;/p&gt;

&lt;p&gt;Further discussion about this will happen on COMMONS-DEV shortly.&lt;/p&gt;</comment>
                            <comment id="12403014" author="ceki@apache.org" created="Mon, 31 Mar 2003 15:39:28 +0000"  >
&lt;p&gt;Log4j does not provide a &quot;default&quot; configuration. However, if at static &lt;br/&gt;
initailization time, log4j can find a resource called log4j.xml or &lt;br/&gt;
log4j.properties, it will use that configration file. The name of the files to &lt;br/&gt;
search for can be specified by the user. I hope this answers the question,&lt;/p&gt;</comment>
                            <comment id="12403015" author="craig.mcclanahan@sun.com" created="Wed, 2 Apr 2003 09:32:19 +0000"  >&lt;p&gt;As discussed in the thread on this bug report, the attempt to configure Log4J&lt;br/&gt;
has been removed from Log4JLogger and Log4JCategoryLog.  Fixed in nightly build&lt;br/&gt;
20030402.&lt;/p&gt;</comment>
                            <comment id="12403016" author="ceki@apache.org" created="Tue, 15 Apr 2003 19:06:34 +0000"  >&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;*** Bug 19026 has been marked as a duplicate of this bug. *** has been marked as a duplicate of this bug. ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>13201</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148221</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 31 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7tj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75043</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-40] [logging] Log writer not closed with log4j after restarting a webapp (Tomcat 5.0)</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-40</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;When I run web application in which I use commons-logging 1.0.4 with log4j&lt;br/&gt;
(1.2.8 or 1.2.9, using org.apache.log4j.RollingFileAppender) inside Tomcat 5.0&lt;br/&gt;
there is no way to release all resources. So, when web application is restarted&lt;br/&gt;
(even if calling LogFactory.releaseAll()) main log file have some dangling&lt;br/&gt;
writers connected to itself and when it comes time when log4j should rename it&lt;br/&gt;
to backup file no 1 it doesn&apos;t happen.&lt;br/&gt;
If log4j&apos;s org.apache.log4j.LogManager.shutdown() is called when web application&lt;br/&gt;
is shut down everything works ok.&lt;/p&gt;

&lt;p&gt;If org.apache.commons.logging.impl.Log4jFactory.releaseAll() is right place to&lt;br/&gt;
put it, it would be nice that log4j&apos;s org.apache.log4j.LogManager.shutdown()&lt;br/&gt;
method is called there.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341942">LOGGING-40</key>
            <summary>[logging] Log writer not closed with log4j after restarting a webapp (Tomcat 5.0)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="vvidovic@inet.hr">Vedran Vidovic</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Dec 2004 10:40:52 +0000</created>
                <updated>Wed, 2 Jan 2008 07:48:26 +0000</updated>
                            <resolved>Wed, 2 Jan 2008 07:48:26 +0000</resolved>
                                    <version>1.0.4</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12408335" author="vvidovic@inet.hr" created="Mon, 13 Dec 2004 19:16:49 +0000"  >&lt;p&gt;Created an attachment (id=13741)&lt;br/&gt;
Releases log4j resources when calling LogFactory.release().&lt;/p&gt;

&lt;p&gt;Only method release() changed, added LogManager.shutdown().&lt;/p&gt;</comment>
                            <comment id="12408336" author="rdonkin@apache.org" created="Wed, 9 Feb 2005 07:22:43 +0000"  >&lt;p&gt;This is not within the scope of JCL. A deployer who knows that the component is&lt;br/&gt;
going to be deployed with Log4J should take the steps required to ensure that&lt;br/&gt;
the appenders are closed upon restart of the web application. &lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;http://marc.theaimsgroup.com/?l=jakarta-commons-dev&amp;amp;m=110780577017737&amp;amp;w=2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://marc.theaimsgroup.com/?l=jakarta-commons-dev&amp;amp;m=110780577017737&amp;amp;w=2&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12408337" author="vvidovic@inet.hr" created="Wed, 9 Feb 2005 07:58:51 +0000"  >&lt;p&gt;I believe this is in scope of JCL, why else there is method which suggests all &lt;br/&gt;
resources will be released (org.apache.commons.logging.LogFactory.releaseAll&lt;br/&gt;
()) with Log4j specific implementation class&lt;br/&gt;
(org.apache.commons.logging.impl.Log4jFactory)?&lt;/p&gt;</comment>
                            <comment id="12408338" author="vvidovic@inet.hr" created="Wed, 9 Feb 2005 08:03:28 +0000"  >&lt;p&gt;Why else to use commons logging if we have to take care about Log4j specifics?&lt;/p&gt;</comment>
                            <comment id="12408339" author="skitching" created="Wed, 9 Feb 2005 08:24:47 +0000"  >&lt;p&gt;It would seem to me that Vedran is right that a webapp that uses commons-logging&lt;br/&gt;
should not need to make direct calls to log4j on shutdown (this is what you were&lt;br/&gt;
suggesting, Robert?)&lt;/p&gt;

&lt;p&gt;However as Robert states, the solution needs care; if two webapps are using&lt;br/&gt;
log4j and one of them is reloaded it would be very unpleasant if the other&lt;br/&gt;
webapp suddenly had its logging implementation shut down. So before adding a&lt;br/&gt;
call to LogManager.shutdown in log4j, it would be wise to determine whether this&lt;br/&gt;
would happen or not.&lt;/p&gt;

&lt;p&gt;I would initially assume that log4j.jar would be deployed in the webapp-specific&lt;br/&gt;
libraries. As such, a separate copy should exist within each webapp (different&lt;br/&gt;
classloaders used) and therefore calling shutdown on one would &lt;b&gt;not&lt;/b&gt; affect the&lt;br/&gt;
other. However I&apos;m no expert on containers; I know that in some cases containers&lt;br/&gt;
want to provide the underlying logging implementation so that logging is&lt;br/&gt;
centralised for all webapps. If the container chooses log4j as its centralised&lt;br/&gt;
logging implementation, then what?&lt;/p&gt;</comment>
                            <comment id="12408340" author="rsitze@apache.org" created="Wed, 9 Feb 2005 10:27:51 +0000"  >&lt;p&gt;There is a fundamental misunderstanding here of the purpose and nature of &lt;br/&gt;
commons-logging.  It may be somewhat confused by the existence of the &lt;br/&gt;
Log4jFactory.  Note the following, from the Log4jFactory javadoc:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;@deprecated Per discussion on COMMONS-DEV, the behind-the-scenes use&lt;/li&gt;
	&lt;li&gt;of this class as a proxy factory has been removed.  For 1.0, you&lt;/li&gt;
	&lt;li&gt;can still request it directly if you wish, but it doesn&apos;t really&lt;/li&gt;
	&lt;li&gt;do anything useful, and will be removed in 1.1.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Now, that aside, the Log4jFactory does NOT &quot;initialize&quot; or &quot;manage&quot; Log4j: &lt;br/&gt;
feel free to review the source for Log4jFactory, it doesn&apos;t have anything to &lt;br/&gt;
do with initializing Log4j.&lt;/p&gt;

&lt;p&gt;And neither should commons-logging.  It&apos;s not designed to &quot;manage&quot; the logger &lt;br/&gt;
impl.  THAT task remains in your core application.  Please note that commons-&lt;br/&gt;
logging is NOT intended to make your &lt;b&gt;application&lt;/b&gt; independent from a logger &lt;br/&gt;
implementation, though you are welcome to use it&apos;s API&apos;s to minimize impact to &lt;br/&gt;
your application if you choose to change logger implementations.&lt;/p&gt;

&lt;p&gt;JCL is designed to help make your &lt;b&gt;components&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;not applications&amp;#93;&lt;/span&gt; independent &lt;br/&gt;
from logger implementations.  You wouldn&apos;t expect each individual component to &lt;br/&gt;
try to start/stop your apps logger, and so you shouldn&apos;t expect commons-&lt;br/&gt;
logging to do so either &lt;span class=&quot;error&quot;&gt;&amp;#91;weak analogy, if you have complaints, forget it..&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;The &lt;b&gt;expected&lt;/b&gt; behavior of your application/framework is as follows:&lt;/p&gt;


&lt;p&gt;app startup:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;initialize logging implementation&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;Avalon, Log4j, Whatever&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;JCL configured to use appropriate logging impl,&lt;br/&gt;
    possibly via commons-logging.properties file&lt;/li&gt;
	&lt;li&gt;initializes components &amp;amp; begins processing&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;component at runtime:&lt;br/&gt;
     httpclient: component logs using JCL&lt;br/&gt;
     axis: component log using JCL&lt;br/&gt;
     other component(s): log using JCL&lt;/p&gt;

&lt;p&gt;app shutdown:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;shutdown components &lt;span class=&quot;error&quot;&gt;&amp;#91;as needed&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;shutdown logging &lt;span class=&quot;error&quot;&gt;&amp;#91;if needed&amp;#93;&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;At NO time does JCL presume to &lt;b&gt;know&lt;/b&gt; that your app is starting up or shutting &lt;br/&gt;
down, it presume only that you want to use a specific logger impl, and &lt;br/&gt;
presumes that your app runtime environment will supply the appropriate logger.&lt;/p&gt;

&lt;p&gt;Please also see the note I sent to the developers mailing list on this topic, &lt;br/&gt;
it provides additional details on how your proposed &quot;fix&quot; will cause problems &lt;br/&gt;
in other environs.&lt;/p&gt;</comment>
                            <comment id="12408341" author="rsitze@apache.org" created="Wed, 9 Feb 2005 10:39:48 +0000"  >&lt;p&gt;Would note that Vedran has already discovered that Log4jFactory is NOT used &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;by default&amp;#93;&lt;/span&gt; with JCL, as his patch is placing a Log4J specific call to &lt;br/&gt;
LogManager.release() into LogFactory, as opposed to Log4jFactory.&lt;/p&gt;

&lt;p&gt;As stated, for web-apps:  The web-app OWNS the logging implementation, unless &lt;br/&gt;
you have some understanding that your HOSTING environment is fronting JCL and &lt;br/&gt;
a logger impl for you.&lt;/p&gt;

&lt;p&gt;In the first case, the web app is responsible for initializing and terminating &lt;br/&gt;
the logger, as appropriate, for the context of the web-app.  Your app may ALSO &lt;br/&gt;
choose to use JCL.  The benefits are:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;if you elect to use a different logger impl [initialize &amp;amp; terminate as&lt;br/&gt;
appropriate for THAT logger impl], then you won&apos;t have to change any other &lt;br/&gt;
part of your web-app.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;if your web-app is using OTHER components &lt;span class=&quot;error&quot;&gt;&amp;#91;many open-source components&amp;#93;&lt;/span&gt; and&lt;br/&gt;
technologies that leverage JCL, then they will log as you would like them to, &lt;br/&gt;
in the context of your web-app.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;In the second case, you might reasonably assume that the hosting environment &lt;br/&gt;
should to &quot;do what is right&quot; to manage the logger impl &lt;span class=&quot;error&quot;&gt;&amp;#91;whatever that means&amp;#93;&lt;/span&gt;.. &lt;br/&gt;
but that falls outside the scope of JCL and this defect.&lt;/p&gt;</comment>
                            <comment id="12408342" author="skitching" created="Wed, 9 Feb 2005 10:51:49 +0000"  >&lt;p&gt;Hi Richard,&lt;/p&gt;

&lt;p&gt;Ok, I&apos;ll buy the argument that commons-logging should be viewed as an API to&lt;br/&gt;
wrap &quot;use&quot; but not &quot;configuration&quot; of the underlying concrete log library &lt;/p&gt;

&lt;p&gt;In this case, things are a bit more confusing because commons-logging &lt;b&gt;does&lt;/b&gt;&lt;br/&gt;
implicitly manage log4j&apos;s initialisation: when the first log4j Log instance is&lt;br/&gt;
instantiated (via the appropriate commons-logging wrapper class), this triggers&lt;br/&gt;
log4j to scan for a config file, load it, and initialise itself.&lt;/p&gt;

&lt;p&gt;And as loggers are often created as static members of classes, it is rather&lt;br/&gt;
tricky to ensure that app-specific log initialisation code has been run before&lt;br/&gt;
the first commons-logging Log object triggers log4j&apos;s default initialisation.&lt;br/&gt;
Sorry if a solution to that has been raised on the logging email thread that&lt;br/&gt;
occurred recently; I tried to keep up with that but the volume just got too great..&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333285" name="ASF.LICENSE.NOT.GRANTED--Log4jFactory.java" size="5134" author="vvidovic@inet.hr" created="Mon, 13 Dec 2004 19:16:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32662</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148220</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 40 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7tr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75044</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-39] [logging] Ant build script does not create commons-logging-optional.jar</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-39</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;I was building JCL with ant and couldn&apos;t get a&lt;br/&gt;
commons-logging-optional.jar to build when executing&lt;br/&gt;
the build.xml in the root directory.  Instead the&lt;br/&gt;
optional classes would get included in&lt;br/&gt;
commons-logging.jar.&lt;/p&gt;

&lt;p&gt;Looked into this and saw that the when the main&lt;br/&gt;
build.xml called the build in the optional folder, it&lt;br/&gt;
was passing along all its properties, thus overriding&lt;br/&gt;
the optional version.  I&apos;ll attach a patch that fixes&lt;br/&gt;
this.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12342025">LOGGING-39</key>
            <summary>[logging] Ant build script does not create commons-logging-optional.jar</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="b_stansberry@hotmail.com">Brian Stansberry</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Feb 2005 14:39:41 +0000</created>
                <updated>Tue, 29 Dec 2009 16:04:42 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 16:04:42 +0000</resolved>
                                    <version>Nightly Builds</version>
                                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12408640" author="b_stansberry@hotmail.com" created="Tue, 1 Feb 2005 14:44:29 +0000"  >&lt;p&gt;Created an attachment (id=14147)&lt;br/&gt;
Patch so call to optional build does not pass through properties&lt;/p&gt;

&lt;p&gt;1) Main build script should not pass through properties to optional build&lt;br/&gt;
target.&lt;br/&gt;
2) Copy commons-logging.jar to the dist folder before calling the optional&lt;br/&gt;
build so the jar is where the optional build classpath expects it.&lt;/p&gt;</comment>
                            <comment id="12408641" author="rdonkin@apache.org" created="Mon, 7 Feb 2005 04:45:20 +0000"  >&lt;p&gt;Committed. Many Thanks.&lt;/p&gt;

&lt;p&gt;Robert&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333372" name="ASF.LICENSE.NOT.GRANTED--JCL-build.diff" size="1660" author="b_stansberry@hotmail.com" created="Tue, 1 Feb 2005 14:44:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33323</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148219</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 40 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7tz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75045</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-38] [logging] SimpleLog undocumented: no answer to question &quot;how do you switch it on?&quot;</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-38</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;While searching for instructions on how to configure the SimpleLog that&lt;br/&gt;
comes with commons logging, the only reference to SimpleLog is found at&lt;br/&gt;
&lt;a href=&quot;http://jakarta.apache.org/commons/logging/commons-logging-1.0.4/docs/guide.html#Configuration&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jakarta.apache.org/commons/logging/commons-logging-1.0.4/docs/guide.html#Configuration&lt;/a&gt;,&lt;br/&gt;
however this link is broken.&lt;/p&gt;

&lt;p&gt;So far it&apos;s taken an entire afternoon of googling for information on how to&lt;br/&gt;
switch logging on using commons-logging, without any success.&lt;/p&gt;

&lt;p&gt;There needs to be some simple documentation included to get the user from&lt;br/&gt;
nowhere to a basic somewhere in a reasonable number of steps.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342909">LOGGING-38</key>
            <summary>[logging] SimpleLog undocumented: no answer to question &quot;how do you switch it on?&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="minfrin">Graham Leggett</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Feb 2006 00:45:49 +0000</created>
                <updated>Tue, 29 Dec 2009 14:25:47 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 14:25:47 +0000</resolved>
                                    <version>1.0.4</version>
                                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12411425" author="dennisl@apache.org" created="Wed, 15 Feb 2006 03:36:41 +0000"  >&lt;p&gt;There seems to be something wrong with the links between JavaDocs and the other&lt;br/&gt;
documentation. Until those have been fixed you can find the JavaDocs for&lt;br/&gt;
SimpleLog here:&lt;br/&gt;
&lt;a href=&quot;http://jakarta.apache.org/commons/logging/commons-logging-1.0.4/docs/apidocs/org/apache/commons/logging/impl/SimpleLog.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jakarta.apache.org/commons/logging/commons-logging-1.0.4/docs/apidocs/org/apache/commons/logging/impl/SimpleLog.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12411426" author="rdonkin@apache.org" created="Wed, 15 Feb 2006 06:43:30 +0000"  >&lt;p&gt;I&apos;ve committed a section in the user guide based on the javadocs.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://jakarta.apache.org/commons/logging/guide.html#A%20Quick%20Guide%20To%20Simple%20Log&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jakarta.apache.org/commons/logging/guide.html#A%20Quick%20Guide%20To%20Simple%20Log&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38643</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148218</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 39 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7u7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75046</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-37] [logging] LogFactory#getLogFactory should not look for method every time</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-37</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;LogFactory checks for the existence of Thread#getContextClassLoader every time&lt;br/&gt;
#getLogFactory is invoked and does a reflective invocation. This is&lt;br/&gt;
unnecessarily expensive if many Log objects are created. An easy patch is to&lt;br/&gt;
remember the Method object; the lookup happens only once and it will massively&lt;br/&gt;
profit from reflection optimizations after a number of calls (a Java code stub&lt;br/&gt;
is generated by the reflection package).&lt;/p&gt;

&lt;p&gt;Patch:&lt;/p&gt;

&lt;p&gt;419a420,426&lt;br/&gt;
&amp;gt;     private static Method GET_CONTEXT_CLASS_LOADER = null;&lt;br/&gt;
&amp;gt;     static {&lt;br/&gt;
&amp;gt;       try &lt;/p&gt;
{
&amp;gt;         GET_CONTEXT_CLASS_LOADER = Thread.class.getMethod(&quot;getContextClassLoad
er&quot;, null);
&amp;gt;       }
&lt;p&gt; catch (NoSuchMethodException e) &lt;/p&gt;
{
&amp;gt;       }
&lt;p&gt;&amp;gt;     }&lt;br/&gt;
436,439c443&lt;br/&gt;
&amp;lt;         try {&lt;br/&gt;
&amp;lt;             // Are we running on a JDK 1.2 or later system?&lt;br/&gt;
&amp;lt;             Method method = Thread.class.getMethod(&quot;getContextClassLoader&quot;, nu&lt;br/&gt;
ll);&lt;br/&gt;
&amp;lt;&lt;br/&gt;
&amp;#8212;&lt;br/&gt;
&amp;gt;         if(GET_CONTEXT_CLASS_LOADER != null) &lt;/p&gt;
{
442c446
&amp;lt;                 classLoader = (ClassLoader)method.invoke(Thread.currentThread(
), null);
---
&amp;gt;                 classLoader = (ClassLoader)GET_CONTEXT_CLASS_LOADER.invoke(Thr
ead.currentThread(), null);
472c476
&amp;lt;         }
&lt;p&gt; catch (NoSuchMethodException e) &lt;/p&gt;
{
---
&amp;gt;         }
&lt;p&gt; else {&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342905">LOGGING-37</key>
            <summary>[logging] LogFactory#getLogFactory should not look for method every time</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="matthias.ernst@coremedia.com">Matthias Ernst</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Feb 2006 07:23:59 +0000</created>
                <updated>Wed, 9 Jul 2014 20:14:33 +0000</updated>
                            <resolved>Fri, 27 Jun 2014 12:09:12 +0000</resolved>
                                    <version>1.0.4</version>
                                    <fixVersion>1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12411414" author="matthias.ernst@coremedia.com" created="Mon, 13 Feb 2006 07:25:22 +0000"  >
&lt;p&gt;&amp;gt; &amp;gt;     private static Method GET_CONTEXT_CLASS_LOADER = null;&lt;/p&gt;

&lt;p&gt;Add a &quot;final&quot; there.&lt;/p&gt;</comment>
                            <comment id="12411415" author="skitching" created="Mon, 13 Feb 2006 10:31:23 +0000"  >&lt;p&gt;Nice idea, but unfortunately it&apos;s not quite that simple.&lt;/p&gt;

&lt;p&gt;The code&lt;br/&gt;
  Thread.class.getMethod&lt;br/&gt;
is currently in method directGetContextClassLoader that is invoked from method&lt;br/&gt;
getContextClassLoader via AccessController.doPrivileged.&lt;/p&gt;

&lt;p&gt;The use of SecurityController is for the case where the commons-logging.jar file&lt;br/&gt;
is signed and trusted to use reflection but the calling code is not.&lt;/p&gt;

&lt;p&gt;What happens if we move this call into a static initialisation block of the&lt;br/&gt;
LogFactory class?&lt;/p&gt;

&lt;p&gt;Is there any security on this call, or is the current use of AccessController&lt;br/&gt;
really just meant to wrap the Method.invoke call?&lt;/p&gt;

&lt;p&gt;If we perform this operation from the static initialisation block of the&lt;br/&gt;
LogFactory class, what are the security manager implications? I would &lt;b&gt;guess&lt;/b&gt;&lt;br/&gt;
that such an operation would be performed with the privileges of the class being&lt;br/&gt;
loaded, ie would be ok WITHOUT using an AccessController. However I don&apos;t know a&lt;br/&gt;
whole lot about this area..&lt;/p&gt;</comment>
                            <comment id="12411416" author="matthias.ernst@coremedia.com" created="Mon, 13 Feb 2006 16:06:39 +0000"  >&lt;p&gt;That is a valid concern that I didn&apos;t think about. I checked the specification&lt;br/&gt;
for #getMethod which would throw a SecurityException in two cases:&lt;br/&gt;
if a security manager would deny &lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;member access to Thread.class with scope PUBLIC&lt;/li&gt;
	&lt;li&gt;package access to java.lang&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I would suggest this would be a dysfunctional setup anyway. If you&apos;re really&lt;br/&gt;
concerned, wouldn&apos;t it be possible to wrap the Method lookup in a privileged&lt;br/&gt;
block as well?&lt;/p&gt;</comment>
                            <comment id="12411417" author="rdonkin@apache.org" created="Fri, 17 Feb 2006 05:47:28 +0000"  >&lt;p&gt;After consideration, I&apos;m not happy addressing this for this release.&lt;/p&gt;

&lt;p&gt;I would consider a performance patch with either extensive unit tests&lt;br/&gt;
(preferrably with security managers) or demonstration code (if it&apos;s not feasible&lt;br/&gt;
to easily codify into tests) once this release is out. If anyone feels like&lt;br/&gt;
contributing one, please attach to this bugzilla and reopen&lt;/p&gt;</comment>
                            <comment id="14043663" author="archie172" created="Wed, 25 Jun 2014 16:13:28 +0000"  >&lt;p&gt;I noticed this method consuming inordinate CPU on my system as well.&lt;/p&gt;

&lt;p&gt;Can the next release of commons-logging drop support for Java 1.1? If so then this issue can go away... simply invoke &lt;tt&gt;Thread.getContextClassLoader()&lt;/tt&gt; directly.&lt;/p&gt;</comment>
                            <comment id="14043881" author="tn" created="Wed, 25 Jun 2014 18:31:44 +0000"  >&lt;p&gt;I think it is reasonable to make a 1.2 release that drops java 1.1 support.&lt;/p&gt;</comment>
                            <comment id="14044752" author="sebb@apache.org" created="Thu, 26 Jun 2014 15:21:32 +0000"  >&lt;p&gt;Agreed, but we should only increase the Java version by the minimum necessary.&lt;/p&gt;</comment>
                            <comment id="14045884" author="tn" created="Fri, 27 Jun 2014 12:09:12 +0000"  >&lt;p&gt;Fixed in r1606041.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38626</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148217</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 18 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7uf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75047</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-36] [logging] Wrong version for dependency avalon-framework in project.xml</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-36</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;When I tried to build commons-logging (pulled from CVS) I needed to find the&lt;br/&gt;
right version of the avalon-framework. The project.xml file says to use version 4.0.&lt;/p&gt;

&lt;p&gt;When I ran the unit-tests they wanted the class&lt;br/&gt;
org.apache.avalon.framework.logger.ConsoleLogger, and that is not included in&lt;br/&gt;
4.0. After some digging in the CVS I found the class in question in version 4.1.3.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341191">LOGGING-36</key>
            <summary>[logging] Wrong version for dependency avalon-framework in project.xml</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dennisl@apache.org">Dennis Lundberg</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 Jan 2004 09:57:31 +0000</created>
                <updated>Tue, 29 Dec 2009 16:26:10 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 16:26:10 +0000</resolved>
                                    <version>Nightly Builds</version>
                                    <fixVersion>1.0.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12405766" author="dennisl@apache.org" created="Wed, 7 Jan 2004 09:58:42 +0000"  >&lt;p&gt;Created an attachment (id=9839)&lt;br/&gt;
Fixes correct version for dependency avalon-framework&lt;/p&gt;</comment>
                            <comment id="12405767" author="rdonkin@apache.org" created="Sun, 15 Feb 2004 17:40:48 +0000"  >&lt;p&gt;Committed. Many thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12332684" name="ASF.LICENSE.NOT.GRANTED--project.patch" size="511" author="dennisl@apache.org" created="Wed, 7 Jan 2004 09:58:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>25941</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148216</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 39 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7un:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75048</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-35] Logging has a NPE when security prevents property reading</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-35</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;In LogFactoryImpl:&lt;/p&gt;

&lt;p&gt;        // Identify the Log implementation class we will be using&lt;br/&gt;
        String logClassName = null;&lt;br/&gt;
        try &lt;/p&gt;
{
  /** Read attributes **/
  /** Read properties **/
  /** Look for Log4J **/
  /** Look for jdk1.4 **/
  /** Use Default logger **/
        }
&lt;p&gt; catch (SecurityException e) {&lt;br/&gt;
        }&lt;/p&gt;

&lt;p&gt;        // Attempt to load the Log implementation class&lt;br/&gt;
        Class logClass = null;&lt;br/&gt;
        try {&lt;br/&gt;
            logClass = loadClass(logClassName);&lt;/p&gt;

&lt;p&gt;If a SecurityException occurs, then logClassName isn&apos;t ever set, and the &lt;br/&gt;
loadClass&lt;br/&gt;
method throws a NullPointerException.&lt;/p&gt;

&lt;p&gt;What to do?&lt;br/&gt;
a) Throw the SecurityException instead. Better, because then the cause is at &lt;br/&gt;
least clearer (than the NPE), but probably not what we want.&lt;/p&gt;

&lt;p&gt;b) Have the DefaultLogger setting occur outside of the &quot;try&quot;. Better still, but &lt;br/&gt;
then you loose any chance of getting log4j or jdk1.4, just because you aren&apos;t &lt;br/&gt;
allowed to read system properties.&lt;/p&gt;

&lt;p&gt;c) Only wrap the getProperty calls in the try block. I think this is the best &lt;br/&gt;
solution, but I&apos;m not sure if any of the other code in there could raise a &lt;br/&gt;
SecruityException.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12340194">LOGGING-35</key>
            <summary>Logging has a NPE when security prevents property reading</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tim@adjective.org">Tim Vernum</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Mar 2002 07:52:35 +0000</created>
                <updated>Tue, 29 Dec 2009 17:06:07 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 17:06:07 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>1.0.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12402569" author="craig.mcclanahan@sun.com" created="Sun, 31 Mar 2002 08:41:01 +0000"  >&lt;p&gt;Fixed in nightly build 20020331.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7468</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148215</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            23 years, 33 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7uv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75049</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-34] [logging] ContextClassLoader may load Log impl from wrong context in JDK 1.4</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-34</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;The static method org.apache.commons.logging.LogFactory#getContextClassLoader &lt;br/&gt;
will return the ClassLoader for the currently executing thread &lt;br/&gt;
Thread.currentThread().  If this ClassLoader is different from the ClassLoader &lt;br/&gt;
which loaded org.apache.commons.logging.Log, the implementing class cannot be &lt;br/&gt;
cast to Log.&lt;/p&gt;

&lt;p&gt;This results in Log.class.isAssignableFrom(logClass) returning false even &lt;br/&gt;
though logClass implements Log.  In turn, this causes &lt;br/&gt;
org.apache.commons.logging.impl.LogFactoryImpl#getLogConstructor() to &lt;br/&gt;
incorrectly throw the exception &quot;Class &quot; + logClass + &quot; does not implement Log&quot;&lt;/p&gt;

&lt;p&gt;The solution is to use the same ClassLoader that was used to load &lt;br/&gt;
org.apache.commons.logging.Log.&lt;/p&gt;

&lt;p&gt;On line 463 of LogFactoryImpl.java, replace the line:&lt;br/&gt;
ClassLoader threadCL = getContextClassLoader();&lt;/p&gt;

&lt;p&gt;with:&lt;br/&gt;
ClassLoader threadCL = Log.class.getClassLoader();&lt;/p&gt;

&lt;p&gt;The only was I am aware of to reproduce this bug is to write a Jakarta Cactus &lt;br/&gt;
Test Suite and run the test using junit.swingui.TestRunner.main or &lt;br/&gt;
junit.awtui.TestRunner.main.  Because the Thread has a different &lt;br/&gt;
ContextClassLoader, commons-logging will fail to instantiate the Log &lt;br/&gt;
implementation.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341398">LOGGING-34</key>
            <summary>[logging] ContextClassLoader may load Log impl from wrong context in JDK 1.4</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="chriseldredge@comcast.net">Chris Eldredge</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Apr 2004 01:58:22 +0000</created>
                <updated>Wed, 2 Jan 2008 07:48:25 +0000</updated>
                            <resolved>Wed, 2 Jan 2008 07:48:25 +0000</resolved>
                                    <version>1.0.3</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12406426" author="rdonkin@apache.org" created="Thu, 27 May 2004 02:37:37 +0000"  >&lt;p&gt;Using the context classloader is vital if this code is going to run correctly in containers. So the &lt;br/&gt;
proposed solution is probably a non-starter. Maybe I can think of an alternative solution...&lt;/p&gt;</comment>
                            <comment id="12406427" author="rsitze@apache.org" created="Fri, 28 Jan 2005 05:34:27 +0000"  >&lt;p&gt;The opening statement is not necessarily true:&lt;/p&gt;

&lt;p&gt;&quot;...  If this ClassLoader &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread.currentThread()&amp;#93;&lt;/span&gt; is different from the&lt;br/&gt;
ClassLoader which loaded org.apache.commons.logging.Log, the implementing class&lt;br/&gt;
cannot be cast to Log.&quot;&lt;/p&gt;

&lt;p&gt;Specifically, with the &lt;span class=&quot;error&quot;&gt;&amp;#91;default or expected&amp;#93;&lt;/span&gt; ClassLoader rule of deferring to&lt;br/&gt;
the parent ClassLoader first, the implementing class will extend the Log class&lt;br/&gt;
defined by the parent, and hence it can be cast.&lt;/p&gt;

&lt;p&gt;The discovery mechanism for commons-logging currently overlooks/assumes two points:&lt;br/&gt;
1. That the thread-context class loader is a child who&apos;s parent hierarchy&lt;br/&gt;
includes the commons-logging.jar.&lt;br/&gt;
2. That the ClassLoaders in the current hierarchy exhibit the default&lt;br/&gt;
parent-first behavior.&lt;/p&gt;

&lt;p&gt;I&apos;m guessing it is this later scenario that some combination of JUnit/Cactus is&lt;br/&gt;
doing.&lt;/p&gt;

&lt;p&gt;Would you help confirm this analysis of your problem?&lt;/p&gt;</comment>
                            <comment id="12406428" author="rsitze@apache.org" created="Fri, 28 Jan 2005 05:41:11 +0000"  >&lt;p&gt;Correction... my guess is that JUnit/Cactus are in conflict with point (1). &lt;br/&gt;
That a thread context classloader is being set up that does not defer up a&lt;br/&gt;
hierarchy that includes the commons logging code.&lt;/p&gt;</comment>
                            <comment id="12406429" author="ceki@apache.org" created="Fri, 28 Jan 2005 06:34:59 +0000"  >&lt;p&gt;Richard,&lt;/p&gt;

&lt;p&gt;You mean point (2)?&lt;/p&gt;</comment>
                            <comment id="12406430" author="rsitze@apache.org" created="Fri, 28 Jan 2005 06:49:13 +0000"  >&lt;p&gt;I believe that in this particular case it is point (1), based on his &lt;br/&gt;
description of the problem.  I&apos;m looking for confirmation.&lt;/p&gt;

&lt;p&gt;Point (2) would also create a problem, and I think that is more closely &lt;br/&gt;
related to the errors you have been exposed to in the past.&lt;/p&gt;

&lt;p&gt;I&apos;m writing a separate summary of both of these... to be posted shortly.&lt;/p&gt;</comment>
                            <comment id="12406431" author="ceki@apache.org" created="Fri, 28 Jan 2005 07:11:32 +0000"  >&lt;p&gt;I thought you had made a simple typo, hence my question &quot;you mean point (2)?&quot;. &lt;br/&gt;
Otherwise, the follwing two paragraphs do not make sense (to me).&lt;/p&gt;

&lt;p&gt; The discovery mechanism for commons-logging currently overlooks/assumes two points:&lt;br/&gt;
 1. That the thread-context class loader is a child who&apos;s parent hierarchy&lt;br/&gt;
 includes the commons-logging.jar.&lt;br/&gt;
 2. That the ClassLoaders in the current hierarchy exhibit the default&lt;br/&gt;
 parent-first behavior.&lt;/p&gt;

&lt;p&gt; Correction... my guess is that JUnit/Cactus are in conflict with point (1). &lt;br/&gt;
 That a thread context classloader is being set up that does not defer up a&lt;br/&gt;
 hierarchy that includes the commons logging code.&lt;/p&gt;

&lt;p&gt;I think in the second paragraph you meant to say:&lt;/p&gt;

&lt;p&gt; Correction... my guess is that JUnit/Cactus are in conflict with point (2). &lt;/p&gt;</comment>
                            <comment id="12406432" author="rsitze@apache.org" created="Fri, 28 Jan 2005 08:00:15 +0000"  >&lt;p&gt;Either point will break JCL.  My assumption is irrelevant in the end.&lt;/p&gt;

&lt;p&gt;I&apos;m simply asking the defect owner to help identify &lt;b&gt;which&lt;/b&gt; one might be &lt;br/&gt;
working here.&lt;/p&gt;

&lt;p&gt;If the &quot;thread context classloader&quot; is adhering to the &quot;parent first&quot; search &lt;br/&gt;
behavior, then this would only be a problem if the &quot;thread context &lt;br/&gt;
classloader&quot; did not have the &quot;current class&apos;s classloader&quot; in it&apos;s hierarchy.&lt;/p&gt;

&lt;p&gt;If the &quot;thread context classloader&quot; is adhering to the &quot;child first&quot; search &lt;br/&gt;
behavior, then it opens up all sorts of ugly doors in a test environment, so &lt;br/&gt;
I&apos;m guessing this isn&apos;t true.&lt;/p&gt;</comment>
                            <comment id="12406433" author="catalin" created="Tue, 15 Mar 2005 23:57:56 +0000"  >&lt;p&gt;(In reply to comment #7)&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; If the &quot;thread context classloader&quot; is adhering to the &quot;parent first&quot; search &lt;br/&gt;
&amp;gt; behavior, then this would only be a problem if the &quot;thread context &lt;br/&gt;
&amp;gt; classloader&quot; did not have the &quot;current class&apos;s classloader&quot; in it&apos;s hierarchy.&lt;br/&gt;
&amp;gt; &lt;br/&gt;
I would like to reopen the discussion from this point.&lt;/p&gt;

&lt;p&gt;The behaviour described above can actually lead (and actually did) to a&lt;br/&gt;
significant memory leak in the following circumstance: I deploy a web&lt;br/&gt;
application in Tomcat. The application uses log4j to log, and has&lt;br/&gt;
commons-logging.jar and log4j.jar in WEB-INF/lib. Tomcat also uses common-loggings. &lt;br/&gt;
The problem is that I find myslef in the situation where tomcat classes get to&lt;br/&gt;
use a Log instance loaded by the class loader of my web application (which is,&lt;br/&gt;
of course, the context class loader during the execution of servlets). This will&lt;br/&gt;
prevent the web app from being garbage collected when I stop it. &lt;/p&gt;

&lt;p&gt;The only workaroung for this was to put common-logging.jar and log4j.jar in&lt;br/&gt;
share/lib instead of WEB-INF/lib, but I&apos;m not really happy with this solution. &lt;/p&gt;

&lt;p&gt;Could somebody confirm this problem? &lt;br/&gt;
The guys from Tomcat do not admit this is a bug for them, but I belive this&lt;br/&gt;
actually affects Tomcat.&lt;/p&gt;</comment>
                            <comment id="12406434" author="rdonkin@apache.org" created="Wed, 16 Mar 2005 02:37:09 +0000"  >&lt;p&gt;It&apos;s hard to be categorical since there are variations between JVMs. There are known circumstances &lt;br/&gt;
where 1.0.4 holds references to classloaders in some containers (but not tomcat) preventing recycling &lt;br/&gt;
of memory in undeployment. It would not surprise me to find that this is one of those circumstances (at &lt;br/&gt;
least on some platforms).&lt;/p&gt;

&lt;p&gt;If this is a concern, there are a number of actions you might take (any of which should be effective):&lt;/p&gt;

&lt;p&gt;1 If you are going to be hot deploying applications frequently and deploying your logging systems in &lt;br/&gt;
the child classloader for the web application, then it is a very good idea to add a lifecycle listener to &lt;br/&gt;
ensure that all logging resources are correctly closed. If you are logging to Log4J, you should be doing &lt;br/&gt;
this anyway. If you are concerned about releasing references then you should call JCL release during &lt;br/&gt;
this cleanup.&lt;/p&gt;

&lt;p&gt;2 Download the new JCL alpha and install the optional jar. The weak references should allow the &lt;br/&gt;
memory to be recycled (sooner or later).&lt;/p&gt;

&lt;p&gt;3 Reconsider your deployment decision. I&apos;m not sure why you are unhappy to deploy your logging &lt;br/&gt;
system in share/lib. Logging systems tend to hold a number of resources open for performance &lt;br/&gt;
reasons. Hot deployment therefore isn&apos;t particularly pretty for them. There are sometimes good reasons &lt;br/&gt;
why people are forced to deploy all libraries in the application loader (perhaps because they do not &lt;br/&gt;
control the container). In other cases, it&apos;s worth considering the best deployment strategy.&lt;/p&gt;</comment>
                            <comment id="12406435" author="skitching" created="Wed, 16 Mar 2005 21:21:44 +0000"  >&lt;p&gt;Robert, why would you think that putting commons-logging.jar in shared/lib would&lt;br/&gt;
resolve the issue? &lt;/p&gt;

&lt;p&gt;The problem is caused by Hashtable LogFactory.factories having an entry whose&lt;br/&gt;
key is a classloader that has been &quot;undeployed&quot;. Shouldn&apos;t the solution be to&lt;br/&gt;
ensure that LogFactory gets loaded by the &lt;b&gt;component&lt;/b&gt; classloader, not the&lt;br/&gt;
shared classloader, so that when the container &quot;forgets&quot; the component&lt;br/&gt;
classloader there are no longer any references to it (apart from circular ones&lt;br/&gt;
that the garbage collector can handle)? &lt;/p&gt;

&lt;p&gt;NB: we&apos;re talking about JCL-1.0.4 here (no weak references).&lt;/p&gt;</comment>
                            <comment id="12406436" author="rdonkin@apache.org" created="Fri, 18 Mar 2005 02:51:38 +0000"  >&lt;p&gt;When running on Tomcat, the container should call release on the instance loaded&lt;br/&gt;
in the shared library after each classloader is deployed. This is why I made&lt;br/&gt;
this suggestion.&lt;/p&gt;

&lt;p&gt;It&apos;s hard to know whether the classloader will get collected upon hot deployment&lt;br/&gt;
even when LogFactory is defined by the child classloader on all platforms (which&lt;br/&gt;
is why I caveated my answers). Garbage collection and reflection has had some&lt;br/&gt;
wrinkles (and bugs). I wouldn&apos;t be surprised if it didn&apos;t on some (but would&lt;br/&gt;
bet on it).&lt;/p&gt;

&lt;p&gt;The way that I would have proceeded would have been to set a hot deployment test&lt;br/&gt;
for my particular application to determine whether there is a detectable memory&lt;br/&gt;
leak. (I believe that this is how the tomcat problems were first recognized.)&lt;br/&gt;
However, Chris asked for a therotical answer so I did my best. &lt;/p&gt;</comment>
                            <comment id="12406437" author="skitching" created="Fri, 18 Mar 2005 13:51:06 +0000"  >&lt;p&gt;(In reply to comment #11)&lt;br/&gt;
&amp;gt; When running on Tomcat, the container should call release &lt;br/&gt;
&amp;gt; on the instance loaded in the shared library after each&lt;br/&gt;
&amp;gt; classloader is deployed. This is why I made this suggestion.&lt;/p&gt;

&lt;p&gt;Ah. So Tomcat has an ugly hack to specifically work around this issue with&lt;br/&gt;
commons-logging. Yep, I see it in &lt;br/&gt;
  org.apache.catalina.loader.WebappClassLoader#stop:&lt;/p&gt;

&lt;p&gt;  public void stop() throws LifecycleException {&lt;br/&gt;
        ....&lt;br/&gt;
        org.apache.commons.logging.LogFactory.release(this);&lt;/p&gt;


&lt;p&gt;Because this hack exists, the bug I described doesn&apos;t occur in Tomcat, ie when&lt;br/&gt;
commons-logging.jar is deployed via the shared classloader, memory is correctly&lt;br/&gt;
released on undeploy.&lt;/p&gt;

&lt;p&gt;Note that the &lt;b&gt;real&lt;/b&gt; bug exists in commons-logging. A container shouldn&apos;t need&lt;br/&gt;
to call o.a.c.l.LogFactory.release (and most won&apos;t). Tomcat is trying to be nice&lt;br/&gt;
to webapps that use commons-logging, and in one sense the call doesn&apos;t do any&lt;br/&gt;
&lt;b&gt;harm&lt;/b&gt;. However doing this does make porting to another servlet container&lt;br/&gt;
interesting, when a leak suddenly appears..) - and confuses people like me who&lt;br/&gt;
know commons-logging and are confused when it &lt;b&gt;doesn&apos;t&lt;/b&gt; leak as expected &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;

&lt;p&gt;A completely portable solution (I think) would be for the deployed app to&lt;br/&gt;
register for a callback on undeploy and have the app call LogFactory.release&lt;br/&gt;
itself. Class ServletContextListener provides a method  contextDestroyed that&lt;br/&gt;
should be able to do this (&lt;a href=&quot;http://java.sun.com/j2ee/sdk_1.3/techdocs/api/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://java.sun.com/j2ee/sdk_1.3/techdocs/api/&lt;/a&gt;) for&lt;br/&gt;
any servlet engine that supports java servlet 2.3. Note that I haven&apos;t tried&lt;br/&gt;
this myself though.&lt;/p&gt;

&lt;p&gt;Just as a matter of style, I wouldn&apos;t recommend deploying libs in a &quot;shared&quot;&lt;br/&gt;
manner (ie visible to all webapps). This may provide a minor performance&lt;br/&gt;
benefit, or reduce memory consumption, but in my view it is just plain ugly, on&lt;br/&gt;
the same order as making class member variables public instead of providing&lt;br/&gt;
getter and setter methods, just to improve performance. But that&apos;s only my&lt;br/&gt;
personal opinion, and I know many people disagree.&lt;/p&gt;

&lt;p&gt;If LogFactory.release is going to be called on unload, then this should work&lt;br/&gt;
fine regardless of whether the LogFactory class was loaded via the shared&lt;br/&gt;
classloader (shared/lib) or via the component-specific classloader (WEB-INF/lib).&lt;/p&gt;

&lt;p&gt;However Catalin &lt;b&gt;was&lt;/b&gt; getting a leak when commons-logging.jar was deployed in&lt;br/&gt;
WEB-INF/lib. I wonder why (my previous argument no longer applies, as Tomcat&lt;br/&gt;
&lt;b&gt;is&lt;/b&gt; calling LogFactory.release on undeploy).&lt;/p&gt;

&lt;p&gt;Catalin, how exactly are you undeploying your webapp?&lt;/p&gt;</comment>
                            <comment id="12406438" author="skitching" created="Fri, 18 Mar 2005 14:18:28 +0000"  >&lt;p&gt;(In reply to comment #12)&lt;br/&gt;
&amp;gt; Catalin, how exactly are you undeploying your webapp?&lt;br/&gt;
And how exactly are you measuring the memory leak?&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>28291</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148214</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 34 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7v3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75050</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-33] getClassLoader() returns null at a critical point under certain conditions</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-33</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;launching jakarta-tomcat 5.0.28 using the JWS (java wrapper service) via the&lt;br/&gt;
Bootstrap class leads to a critical null pointer exception which points to code&lt;br/&gt;
in LogFactoryImpl.java which expects this.getClass().getClassLoader() to return&lt;br/&gt;
a value that&apos;s not null. The javadocs for Class state that null can be returned&lt;br/&gt;
in some implementations if the class was loaded by the bootstrap classloader.  I&lt;br/&gt;
have a patch file but am not sure how to submit it as an attachment so here it&lt;br/&gt;
is below:&lt;/p&gt;

&lt;p&gt;Index: LogFactoryImpl.java&lt;br/&gt;
===================================================================&lt;br/&gt;
RCS file:&lt;br/&gt;
/home/cvspublic/jakarta-commons/logging/src/java/org/apache/commons/logging/impl/LogFactoryImpl.java,v&lt;br/&gt;
retrieving revision 1.33&lt;br/&gt;
diff -u -u -r1.33 LogFactoryImpl.java&lt;br/&gt;
&amp;#8212; LogFactoryImpl.java 6 Mar 2004 21:52:59 -0000       1.33&lt;br/&gt;
+++ LogFactoryImpl.java 13 Oct 2004 20:54:02 -0000&lt;br/&gt;
@@ -371,8 +371,12 @@&lt;br/&gt;
         Class logClass = null;&lt;br/&gt;
         Class logInterface = null;&lt;br/&gt;
         try {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;logInterface = this.getClass().getClassLoader().loadClass&lt;/li&gt;
	&lt;li&gt;(LOG_INTERFACE);&lt;br/&gt;
+            ClassLoader cl = this.getClass().getClassLoader();&lt;br/&gt;
+            // handle the case if getClassLoader() returns null&lt;br/&gt;
+            // It may mean this class was loaded from the bootstrap classloader&lt;br/&gt;
+            logInterface = (cl == null) ? loadClass(LOG_INTERFACE) : &lt;br/&gt;
+                                          cl.loadClass(LOG_INTERFACE);&lt;br/&gt;
+&lt;br/&gt;
             logClass = loadClass(logClassName);&lt;br/&gt;
             if (logClass == null) {&lt;br/&gt;
                 throw new LogConfigurationException&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: Macintosh&lt;/p&gt;</environment>
        <key id="12341804">LOGGING-33</key>
            <summary>getClassLoader() returns null at a critical point under certain conditions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="david.ferrero@zion.com">David Ferrero</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Oct 2004 04:24:45 +0000</created>
                <updated>Tue, 29 Dec 2009 16:14:44 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 16:14:44 +0000</resolved>
                                    <version>1.0.4</version>
                                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12407793" author="david.ferrero@zion.com" created="Thu, 14 Oct 2004 04:25:39 +0000"  >&lt;p&gt;Created an attachment (id=13085)&lt;br/&gt;
patch to fix null pointer for this bug.&lt;/p&gt;</comment>
                            <comment id="12407794" author="rdonkin@apache.org" created="Sun, 17 Oct 2004 16:16:13 +0000"  >&lt;p&gt;Committed. Many Thanks.&lt;/p&gt;

&lt;p&gt;Robert&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333170" name="ASF.LICENSE.NOT.GRANTED--LogFactoryImpl.java.patch.txt" size="1080" author="david.ferrero@zion.com" created="Thu, 14 Oct 2004 04:25:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31710</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148213</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 4 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7vb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75051</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-32] [PATCH][logging] Spelling errors and other errors in the JavaDoc documentation</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-32</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;I&apos;ve proofread the JavaDoc documentation and have created patches for a number&lt;br/&gt;
of spelling errors and other errors.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341283">LOGGING-32</key>
            <summary>[PATCH][logging] Spelling errors and other errors in the JavaDoc documentation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dennisl@apache.org">Dennis Lundberg</reporter>
                        <labels>
                    </labels>
                <created>Sat, 21 Feb 2004 06:22:47 +0000</created>
                <updated>Tue, 29 Dec 2009 16:25:23 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 16:25:23 +0000</resolved>
                                    <version>Nightly Builds</version>
                                    <fixVersion>1.0.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12406050" author="dennisl@apache.org" created="Sat, 21 Feb 2004 06:24:42 +0000"  >&lt;p&gt;Created an attachment (id=10466)&lt;br/&gt;
Patches for 12 files in a zip-file&lt;/p&gt;</comment>
                            <comment id="12406051" author="rdonkin@apache.org" created="Sun, 29 Feb 2004 01:55:01 +0000"  >&lt;p&gt;Committed. &lt;/p&gt;

&lt;p&gt;Many thanks - documentation patches are very much appreciated &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12332752" name="ASF.LICENSE.NOT.GRANTED--patches.zip" size="22845" author="dennisl@apache.org" created="Sat, 21 Feb 2004 06:24:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>27124</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148212</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 37 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7vj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75052</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-31] [PATCH] [logging] build.xml does not exclude Log4JLogger when jar not present</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-31</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;Commons logging (from CVS) does not build when Log4J isn&apos;t present. &lt;br/&gt;
Log4JLogger.java has to be excluded. Will attach patch...&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12340508">LOGGING-31</key>
            <summary>[PATCH] [logging] build.xml does not exclude Log4JLogger when jar not present</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jeremias@apache.org">Jeremias Maerki</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Jan 2003 20:05:12 +0000</created>
                <updated>Tue, 29 Dec 2009 16:46:14 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 16:46:14 +0000</resolved>
                                                    <fixVersion>1.0.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12403491" author="jeremias@apache.org" created="Thu, 23 Jan 2003 20:06:12 +0000"  >&lt;p&gt;Created an attachment (id=4521)&lt;br/&gt;
Patch to solve the problem&lt;/p&gt;</comment>
                            <comment id="12403492" author="craig.mcclanahan@sun.com" created="Sat, 1 Feb 2003 12:31:02 +0000"  >&lt;p&gt;Fixed in nightly build 20030201.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12332113" name="ASF.LICENSE.NOT.GRANTED--commons-logging-build-patch.diff.txt" size="329" author="jeremias@apache.org" created="Thu, 23 Jan 2003 20:06:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>16358</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148211</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 41 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7vr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75053</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-30] Ability to set levels for loggers</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-30</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;Something I missed when I converted from Log4J to jakarta-logging was the &lt;br/&gt;
ability to set levels for my loggers dynamically.&lt;/p&gt;

&lt;p&gt;Part of Tapestry is the Inspector, a component/mini-application that embeds &lt;br/&gt;
into an application.  It used to have a form that listed all Log4J categories &lt;br/&gt;
(now called &quot;Loggers&quot;) and you could set the Priority (now &quot;Level&quot;) for each &lt;br/&gt;
(as well as create new loggers on the fly).&lt;/p&gt;

&lt;p&gt;I had to strip that functionality out which is unhappy, since it was very &lt;br/&gt;
useful for enabling debug output just as you need it.&lt;/p&gt;

&lt;p&gt;Anyway, extending the LogFactory or Log interfaces with&lt;br/&gt;
a) Method for obtaining sorted list of levels, as strings&lt;br/&gt;
b) Method for querying level for Log&lt;br/&gt;
c) Method for updating level for log&lt;/p&gt;

&lt;p&gt;Would be cool and useful.&lt;/p&gt;

&lt;p&gt;I would suggest that the levels exposed to the user code be strings, with an &lt;br/&gt;
internal translation to appropriate object types.  null for no-explicit level &lt;br/&gt;
(logger inherits from parent).&lt;/p&gt;

&lt;p&gt;What&apos;s very important is the sort order, when the list of possible settings is &lt;br/&gt;
provided.  I suggest a sort order of least-to-most, &lt;br/&gt;
i.e., &quot;NEVER&quot;, &quot;FATAL&quot;, &quot;ERROR&quot;, &quot;WARN&quot;, &quot;INFO&quot;, &quot;DEBUG&quot;, &quot;ALL&quot; would map to &lt;br/&gt;
Log4J&apos;s default list.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12340463">LOGGING-30</key>
            <summary>Ability to set levels for loggers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="hlship">Howard Lewis Ship</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Dec 2002 04:37:15 +0000</created>
                <updated>Wed, 2 Jan 2008 07:48:25 +0000</updated>
                            <resolved>Wed, 2 Jan 2008 07:48:25 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12403374" author="rdonkin@apache.org" created="Wed, 18 Dec 2002 05:31:25 +0000"  >&lt;p&gt;IMHO &lt;/p&gt;

&lt;p&gt;Useful as it may be, this is against the commons-logging philosophy. All&lt;br/&gt;
configuration of the logging system (as opposed to decided which logging system&lt;br/&gt;
to use) was intentionally placed outside the scope of this component. &lt;/p&gt;

&lt;p&gt;You can still set the log levels dynamically - but you need to do this through&lt;br/&gt;
the wrapped logging system rather than via the Log wrapper. If you use - for&lt;br/&gt;
example - log4j as your logging implementation then you can set levels&lt;br/&gt;
dynamically in exactly the same way as before.&lt;/p&gt;</comment>
                            <comment id="12403375" author="hlship" created="Wed, 18 Dec 2002 05:37:39 +0000"  >&lt;p&gt;I think I gave a useful, practical example of why setting of levels should be &lt;br/&gt;
brought in scope.  I want to code my logging to jakarta-logging, but I want to &lt;br/&gt;
flexibility to update logging levels at runtime ... I just don&apos;t think that&apos;s &lt;br/&gt;
too much to ask.&lt;/p&gt;

&lt;p&gt;All of the logging systems I&apos;ve explored (Log4J, JDK 1.4, that mutant one at &lt;br/&gt;
IBM &amp;#8211; JLog?) ... all have the ability to set levels, by updating a property to &lt;br/&gt;
a value from a fixed list.  Sometimes the levels are specified as strings, &lt;br/&gt;
as &quot;enum-like&quot; objects, or as numeric values.&lt;/p&gt;</comment>
                            <comment id="12403376" author="craig.mcclanahan@sun.com" created="Sat, 18 Jan 2003 11:47:36 +0000"  >&lt;p&gt;The philosophy of commons-logging was, and always has been, to wrap only the&lt;br/&gt;
actual logging calls &amp;#8211; not the lifecycle or configuration of the underlying&lt;br/&gt;
logging implementation.  That was left to the application itself.  In your&lt;br/&gt;
particular scenario, you could have left the Log4J configuration screens in&lt;br/&gt;
place, but only allowed them to be accessed when Log4J is available.  Likewise,&lt;br/&gt;
it would be straightforward to build similar screens for JDK 1.4 logging (if&lt;br/&gt;
available), or any other logging implementation you want to support.&lt;/p&gt;

&lt;p&gt;Going down the path of adding more and more functionality to commons-logging&lt;br/&gt;
would lead, ultimately, to writing a complete logging implementation.  That&lt;br/&gt;
would be a waste of time, when perfectly good implementations exist already. &lt;br/&gt;
Instead, commons-logging should stay narrowly focused on abstracting just the&lt;br/&gt;
logging calls themselves.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15450</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148210</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 43 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7vz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75054</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-29] org.apache.commons.logging.impl.Log4JCategoryLog not serializable</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-29</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;The class org.apache.commons.logging.impl.Log4JCategoryLog should be serializable. If it &lt;br/&gt;
is used in a session object in a web application, the web application cannot be successfully &lt;br/&gt;
restarted without all objects being serializable.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12340222">LOGGING-29</key>
            <summary>org.apache.commons.logging.impl.Log4JCategoryLog not serializable</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bmoritz@gmx.de">Bj&#246;rn-H. Moritz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 May 2002 20:59:14 +0000</created>
                <updated>Wed, 2 Jan 2008 07:48:24 +0000</updated>
                            <resolved>Wed, 2 Jan 2008 07:48:24 +0000</resolved>
                                    <version>1.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12402637" author="craig.mcclanahan@sun.com" created="Sun, 16 Jun 2002 03:43:47 +0000"  >&lt;p&gt;Even if this class were changed, serialization would fail because&lt;br/&gt;
org.apache.log4j.Category is not Serializable.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9034</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148209</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            23 years, 22 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7w7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75055</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-28] ClassLoader clashes</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-28</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;LogFactoryImpl.getLogConstructor() uses two different means to obtain classes. &lt;br/&gt;
It uses Log.class to obtain the class for the Log interface and the &lt;br/&gt;
LogFactory.loadClass(className) method to load the actual implementation. &lt;br/&gt;
This can result in failure when isAssignable is invoked to make sure they can &lt;br/&gt;
be assigned to each other. This situation happens in my case when I try to use &lt;br/&gt;
commons logging from the JUnit testrunner in the IntelliJ IDE. I fixed the &lt;br/&gt;
problem by using Class.forName() to load the implementation of the logger.&lt;br/&gt;
It doesn&apos;t work the other way around (using loadClass() to load the Log &lt;br/&gt;
interface) because then the entire framework fails. The reason is that Log as &lt;br/&gt;
being loaded by loadClass is then no longer castable to Log as used by your &lt;br/&gt;
APIs.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341298">LOGGING-28</key>
            <summary>ClassLoader clashes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tilo.christ@siemens.com">Tilo Christ</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 Mar 2004 01:40:21 +0000</created>
                <updated>Wed, 2 Jan 2008 07:48:24 +0000</updated>
                            <resolved>Wed, 2 Jan 2008 07:48:24 +0000</resolved>
                                    <version>1.0.3</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12406108" author="craig.mcclanahan@sun.com" created="Sun, 7 Mar 2004 06:00:34 +0000"  >&lt;p&gt;Unfortunately, using Class.forName() to load the Log class in question would&lt;br/&gt;
break all uses of commons-logging in scenarios like Tomcat, when you want to use&lt;br/&gt;
c-l loaded from common/lib and a custom Log implementation class loaded from&lt;br/&gt;
within your web application.&lt;/p&gt;

&lt;p&gt;The underying issue is that having org.apache.commons.logging.Log visible in&lt;br/&gt;
more than one class loader in your class loader hierarchy is always going to&lt;br/&gt;
fail.  This is the reason, for example, that the JUnit tests in the build.xml&lt;br/&gt;
file for commons-logging itself use fork=&quot;true&quot;, so that the class loader used&lt;br/&gt;
by Ant is not visible.  You should investigate whether IntelliJ has some sort of&lt;br/&gt;
similar configuration switch, to run the unit tests in a separate JVM.&lt;/p&gt;

&lt;p&gt;Note that the error message produced when multiple cases of o.a.c.l.Log are&lt;br/&gt;
detected has been improved to state that this is the real problem, rather than&lt;br/&gt;
implying that the selected Log implementation class does not actually implement&lt;br/&gt;
this interface.  See:&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;http://issues.apache.org/bugzilla/show_bug.cgi?id=25156&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://issues.apache.org/bugzilla/show_bug.cgi?id=25156&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;for more information.&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>27374</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148208</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 36 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7wf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75056</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-27] [logging] Getting Logger to give trace Information</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-27</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;I have looked at the User Manual and can not get the logging to be sent to &lt;br/&gt;
display when I run my class! &lt;/p&gt;

&lt;p&gt;I set my system properties as follows!  Is there anything more I need to do to &lt;br/&gt;
get the trace information displaying!&lt;/p&gt;

&lt;p&gt;  System.setProperty &lt;br/&gt;
(&quot;org.apache.commons.logging.simplelog.log.org.apache.commons.httpclient&quot;, &quot;debu&lt;br/&gt;
g&quot;);&lt;br/&gt;
  System.setProperty&lt;br/&gt;
(&quot;org.apache.commons.logging.Log&quot;, &quot;org.apache.commons.logging.impl.SimpleLog&quot;);&lt;br/&gt;
  System.setProperty&lt;br/&gt;
(&quot;org.apache.commons.logging.simplelog.showdatetime&quot;, &quot;true&quot;);&lt;br/&gt;
  System.setProperty&lt;br/&gt;
(&quot;org.apache.commons.logging.simplelog.log.httpclient.wire&quot;, &quot;trace&quot;);&lt;br/&gt;
  System.setProperty&lt;br/&gt;
(&quot;org.apache.commons.logging.simplelog.log.org.apache.commons.httpclient&quot;, &quot;trac&lt;br/&gt;
e&quot;);&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341575">LOGGING-27</key>
            <summary>[logging] Getting Logger to give trace Information</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tgerdes@oldrepnatl.com">Tom Gerdes</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Jul 2004 04:03:08 +0000</created>
                <updated>Wed, 2 Jan 2008 07:48:24 +0000</updated>
                            <resolved>Wed, 2 Jan 2008 07:48:24 +0000</resolved>
                                    <version>1.0.4</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12407014" author="dennisl@apache.org" created="Sun, 18 Jul 2004 21:49:29 +0000"  >&lt;p&gt;You can try adding this to see if you get any trace output:&lt;br/&gt;
System.setProperty(&quot;org.apache.commons.logging.simplelog.defaultlog&quot;, &quot;trace&quot;);&lt;/p&gt;

&lt;p&gt;If the above works, then your logging configuration is probably wrong. Can you&lt;br/&gt;
post some examples of your code doing logging?&lt;/p&gt;</comment>
                            <comment id="12407015" author="rdonkin@apache.org" created="Wed, 9 Feb 2005 07:19:44 +0000"  >&lt;p&gt;No followup has been received to Dennis&apos; posting. I&apos;ve tested the latest&lt;br/&gt;
httpclient documentation and it seems to be in order. &lt;/p&gt;

&lt;p&gt;Posting a question to the user list would probably have provided more&lt;br/&gt;
productive. If anyone feels the need to re-open this, please supply a unit test&lt;br/&gt;
demonstrating the issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30131</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148207</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 40 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7wn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75057</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-26] Security policy configuration, SimpleLog uses System.getProperties()</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-26</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;SimpleLog uses System.getProperties to get a list of existing&lt;br/&gt;
org.apache.commons.logging.* properties.&lt;/p&gt;

&lt;p&gt;If commons-logging is running within an application which uses&lt;br/&gt;
the Java SecurityManager such as Tomcat this requires granting&lt;br/&gt;
java.util.PropertyPermission &quot;*&quot;, &quot;read&quot; to not only&lt;br/&gt;
commongs-logging.jar, but all other jar files with classes&lt;br/&gt;
on the stack.&lt;/p&gt;

&lt;p&gt;This makes it impossible to restrict access to reading properties&lt;br/&gt;
for any API&apos;s on the stack.&lt;/p&gt;

&lt;p&gt;SimpleLog should get each individual property it needs separately.&lt;/p&gt;

&lt;p&gt;This would apply to any other code which uses System.getProperties() also.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Solaris&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12340240">LOGGING-26</key>
            <summary>Security policy configuration, SimpleLog uses System.getProperties()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="glenn@apache.org">Glenn Nielsen</reporter>
                        <labels>
                    </labels>
                <created>Mon, 10 Jun 2002 20:03:29 +0000</created>
                <updated>Tue, 29 Dec 2009 17:08:14 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 17:08:14 +0000</resolved>
                                    <version>Nightly Builds</version>
                                    <fixVersion>1.0.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12402667" author="glenn@apache.org" created="Mon, 10 Jun 2002 20:07:26 +0000"  >&lt;p&gt;Correction, it requires the following permission to be granted:&lt;/p&gt;

&lt;p&gt;java.util.PropertyPermission &quot;*&quot;, &quot;read,write&quot;;&lt;/p&gt;

&lt;p&gt;What is really bad about this is that you have to grant permission&lt;br/&gt;
to write all properties.&lt;/p&gt;</comment>
                            <comment id="12402668" author="craig.mcclanahan@sun.com" created="Sun, 16 Jun 2002 04:17:47 +0000"  >&lt;p&gt;This was fixed in version 1.3 of SimpleLog to swallow any security exceptions&lt;br/&gt;
caused by this, so the fix is in current nightly builds and will be included in&lt;br/&gt;
the next released version.&lt;/p&gt;</comment>
                            <comment id="12402669" author="glenn@apache.org" created="Tue, 18 Jun 2002 19:36:24 +0000"  >&lt;p&gt;Just swallowing the security exceptions doesn&apos;t solve the problem.&lt;br/&gt;
What if you need SimpleLog to use properties?  It can&apos;t use any&lt;br/&gt;
properties unless it is granted:&lt;/p&gt;

&lt;p&gt;java.util.PropertyPermission &quot;*&quot;, &quot;read,write&quot;;&lt;/p&gt;

&lt;p&gt;This is too broad of a permission grant to give SimpleLog and all&lt;br/&gt;
other API&apos;s which may be on the stack.&lt;/p&gt;</comment>
                            <comment id="12402670" author="rsitze@apache.org" created="Sun, 20 Oct 2002 00:34:50 +0000"  >&lt;p&gt;This cannot be easily corrected:&lt;/p&gt;

&lt;p&gt;On one hand, SimpleLog has a requirement to pickup unspecified properties&lt;br/&gt;
(those properties beginning with a prefix) describing logging levels for&lt;br/&gt;
different categories.&lt;/p&gt;

&lt;p&gt;On the other, SimpleLog has turned into a real (although simple &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; log&lt;br/&gt;
implementation.&lt;/p&gt;

&lt;p&gt;This leaves us with THREE choices for satisfactorily resolving this defect:&lt;/p&gt;

&lt;p&gt;1. Simplify SimpleLog &amp;amp; remove offending code, or&lt;/p&gt;

&lt;p&gt;2. Make SimpleLog a NotSoSimpleLog with it&apos;s own property file, and&lt;br/&gt;
   remove offending calls to System.getProperties() - use property file&lt;br/&gt;
   instead.&lt;/p&gt;

&lt;p&gt;3. Acknowledge that in a proper J2EE environment SimpleLog may not be&lt;br/&gt;
   the best answer, so it doesn&apos;t matter anyway...&lt;/p&gt;</comment>
                            <comment id="12402671" author="glenn@apache.org" created="Sun, 20 Oct 2002 19:40:55 +0000"  >&lt;p&gt;I would guess that jakarta project API&apos;s get used within a&lt;br/&gt;
servlet or other server side container &amp;gt; 90 % of the time.&lt;br/&gt;
If it exists it will get used. Those developing applications&lt;br/&gt;
which use SimpleLog may not be as security aware as system&lt;br/&gt;
administrators who have to deploy the application.&lt;br/&gt;
IMHO this rules out option 3.&lt;/p&gt;

&lt;p&gt;Option 1 requires removing features from SimpleLog which&lt;br/&gt;
may not be best for those already using SimpleLog.&lt;/p&gt;

&lt;p&gt;Option 2 seems like the best solution.  It doesn&apos;t remove&lt;br/&gt;
any features and allows SimpleLog to be used in a J2EE&lt;br/&gt;
container which implements a SecurityManager.&lt;/p&gt;</comment>
                            <comment id="12402672" author="adrian@ephox.com" created="Mon, 21 Oct 2002 06:21:09 +0000"  >&lt;p&gt;Perhaps a slight improvement over version 2 would be to use the properties file &lt;br/&gt;
if available and then fall back on to the system properties if that fails?&lt;/p&gt;

&lt;p&gt;We use SimpleLog in a signed applet and make heavy use of the system properties &lt;br/&gt;
configurability as it allows us to vary the logging level very easily (a must &lt;br/&gt;
if you want end users to do it).  Having a separate configuration file would be &lt;br/&gt;
much less convienient for this use.&lt;/p&gt;</comment>
                            <comment id="12402673" author="rsitze@apache.org" created="Fri, 13 Dec 2002 03:52:49 +0000"  >&lt;p&gt;Eliminated System.getProperties().&lt;br/&gt;
Instead, on each query for a property, we call System.getProperty.&lt;br/&gt;
(private) helper methods are getStringProperty() and getBooleanProperty()&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9743</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148206</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 48 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7wv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75058</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-25] [logging] call to getClassLoader() in LogFactoryImpl not checked for null</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-25</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;In line 374 of LogFactoryImpl.java getClassLoader() is called:&lt;/p&gt;

&lt;p&gt;logInterface = this.getClass().getClassLoader().loadClass(LOG_INTERFACE);&lt;/p&gt;

&lt;p&gt;However, the docs for getClassLoader() state that some implementations may use&lt;br/&gt;
null to return the system classloader.  This occurs under CrEme a JVM for the&lt;br/&gt;
PocketPC platform which some of our products run under, causing a null pointer&lt;br/&gt;
exception.  Perhaps it would be better to change line 374 to read:&lt;/p&gt;

&lt;p&gt;logClass = loadClass(LOG_INTERFACE);&lt;/p&gt;

&lt;p&gt;which seems to solve the problems I have been having.  At any rate calls to&lt;br/&gt;
getClassLoader() should be checked to ensure that they haven&apos;t returned null.&lt;/p&gt;

&lt;p&gt;In addition the error that I got:&lt;br/&gt;
org.apache.commons.logging.LogConfigurationException:&lt;br/&gt;
org.apache.commons.logging.LogConfigurationException:&lt;br/&gt;
java.lang.NullPointerException (Caused by java.lang.NullPointerException)&lt;br/&gt;
(Caused by org.apache.commons.logging.LogConfigurationException:&lt;br/&gt;
java.lang.NullPointerException (Caused by java.lang.NullPointerException))&lt;/p&gt;

&lt;p&gt;Certianly wasnt very helpfull for figuring out what is going on.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Luke&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342715">LOGGING-25</key>
            <summary>[logging] call to getClassLoader() in LogFactoryImpl not checked for null</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="luke.sleeman@ordermate.com.au">Luke Sleeman</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 Nov 2005 13:59:16 +0000</created>
                <updated>Tue, 29 Dec 2009 14:28:46 +0000</updated>
                            <resolved>Tue, 19 Dec 2006 21:12:42 +0000</resolved>
                                    <version>1.0.4</version>
                                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12410880" author="skitching" created="Tue, 15 Nov 2005 03:43:23 +0000"  >&lt;p&gt;Hi Luke,&lt;/p&gt;

&lt;p&gt;Some work has gone into the trunk version of commons-logging to support null&lt;br/&gt;
classloaders. There is some effort going in right now to try to get a new&lt;br/&gt;
release out. Hopefully a release candidate (probably called&lt;br/&gt;
commons-logging-1.1-RC1) will be released soon; it would be great if you could&lt;br/&gt;
test that.&lt;/p&gt;</comment>
                            <comment id="12410881" author="luke.sleeman@ordermate.com.au" created="Wed, 16 Nov 2005 07:35:42 +0000"  >&lt;p&gt;will do!&lt;/p&gt;</comment>
                            <comment id="12410882" author="skitching" created="Mon, 23 Jan 2006 12:25:34 +0000"  >&lt;p&gt;Hi Luke,&lt;/p&gt;

&lt;p&gt;Release candidate 1 of commons-logging 1.1 has now been created:&lt;br/&gt;
   &lt;a href=&quot;http://people.apache.org/~rdonkin/commons-logging/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://people.apache.org/~rdonkin/commons-logging/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Could you please check whether this meets your requirements?&lt;/p&gt;</comment>
                            <comment id="12410883" author="luke.sleeman@ordermate.com.au" created="Tue, 31 Jan 2006 12:06:44 +0000"  >&lt;p&gt;Hey,&lt;br/&gt;
I&apos;ve downloaded and tried to use the RC1.  Unfortunately the method:&lt;/p&gt;

&lt;p&gt;private static Enumeration getResources(final ClassLoader loader, final String name)&lt;/p&gt;

&lt;p&gt;inside LogFactory calls the getResource and getSystemResource methods on&lt;br/&gt;
ClassLoader.  These methods were only added in java 1.2 and since I am trying to&lt;br/&gt;
run commons logging on a 1.1 JVM I get NoSuchMethodErrors thrown.&lt;/p&gt;

&lt;p&gt;Depending on what version of Java commons logging is supposed to run on this&lt;br/&gt;
may, or may not be a bug.&lt;/p&gt;

&lt;p&gt;In case you are curious we are trying to develop java applications on the&lt;br/&gt;
PocketPC, using the CrEme virtual machine:&lt;br/&gt;
&lt;a href=&quot;http://www.nsicom.com/Default.aspx?tabid=138&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.nsicom.com/Default.aspx?tabid=138&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12410884" author="rdonkin@apache.org" created="Wed, 8 Feb 2006 00:31:35 +0000"  >&lt;p&gt;JCL uses the thread context classloader and the hierarchical class loader model&lt;br/&gt;
introduced in Java 1.2. &lt;/p&gt;

&lt;p&gt;My expectation is that the JCL implementation code would fail under Java 1.1 but&lt;br/&gt;
that a API compatible static bound alternative would work. (Basically, taken&lt;br/&gt;
LogFactory and gut the complex classloading logic then recompile.)  Perhaps it&apos;s&lt;br/&gt;
time that we considered hosting such an implementation in the commons.&lt;/p&gt;

&lt;p&gt;Perhaps your JVM has a number of extra backported 1.2 methods (but not the few&lt;br/&gt;
that JCL uses). &lt;/p&gt;</comment>
                            <comment id="12410885" author="skitching" created="Wed, 8 Feb 2006 14:50:44 +0000"  >&lt;p&gt;Thanks for the info Luke. &lt;/p&gt;

&lt;p&gt;I would like to see JCL 1.1 be compatible with java 1.1, though it isn&apos;t a&lt;br/&gt;
pre-requisite for the release.&lt;/p&gt;

&lt;p&gt;As Robert says, a statically-bound version should work. As soon as the 1.1&lt;br/&gt;
release is made, I&apos;m keen to get started on a JCL 2.0 implementation that would&lt;br/&gt;
use some kind of &quot;static binding&quot;, ie one jar per implementation. In this case,&lt;br/&gt;
there would be a simple non-TCCL-aware jar that you could use, and a separate&lt;br/&gt;
TCCL-aware jar for people using servlet container style frameworks.&lt;/p&gt;

&lt;p&gt;However it isn&apos;t too difficult to just catch the NoSuchMethodError in this case.&lt;br/&gt;
I&apos;ve committed a change to do that (r375866), so if you could test by building&lt;br/&gt;
from source, using a nightly build or the next release candidate that would be&lt;br/&gt;
appreciated.&lt;/p&gt;</comment>
                            <comment id="12410886" author="rdonkin@apache.org" created="Mon, 13 Feb 2006 08:10:33 +0000"  >&lt;p&gt;Hi Luke,&lt;/p&gt;

&lt;p&gt;Release candidate 4 of commons-logging 1.1 has now been created:&lt;br/&gt;
   &lt;a href=&quot;http://people.apache.org/~rdonkin/commons-logging/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://people.apache.org/~rdonkin/commons-logging/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It contains Simon&apos;s fix.&lt;/p&gt;

&lt;p&gt;Could you please check whether this is any better?&lt;/p&gt;

&lt;p&gt;Robert&lt;/p&gt;</comment>
                            <comment id="12410887" author="luke.sleeman@ordermate.com.au" created="Mon, 13 Feb 2006 08:22:06 +0000"  >&lt;p&gt;Thanks for your help, I&apos;ll check it out when I get a free moment at work.&lt;/p&gt;

&lt;p&gt;The staticaly bound version for 2.0 sounds like a good idea.  Doing a quick&lt;br/&gt;
search around google returns a large number of people complaing about commons&lt;br/&gt;
loggings complex classloading stuff.&lt;/p&gt;</comment>
                            <comment id="12410888" author="rdonkin@apache.org" created="Tue, 14 Feb 2006 06:46:18 +0000"  >&lt;p&gt;Sadly, there are no silver bullets.&lt;/p&gt;

&lt;p&gt;It&apos;s very easy to complain but much more difficult to understand the problem in&lt;br/&gt;
detail. So, I should probably thank you know for being one of the tiny minority&lt;br/&gt;
who step up and help &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;JCL is incredibly widely used. This makes things very difficult. The issue for&lt;br/&gt;
JCL is (and has always been) that the J2EE classloading specifications are broken.&lt;/p&gt;

&lt;p&gt;Static binding has it&apos;s own limitations. It also has it&apos;s own issues. The vast&lt;br/&gt;
majority of problems experienced by users are caused by having JCL jars in&lt;br/&gt;
different classloaders they are not aware of. Static binding will not solve this&lt;br/&gt;
problem.&lt;/p&gt;

&lt;p&gt;Dynamic binding addresses application isolation in well behaved containers in a&lt;br/&gt;
fashion that is impossible for compile time static binding. Application&lt;br/&gt;
isolation should be possible by using byte code engineering to perform static&lt;br/&gt;
binding but that has it&apos;s own set of issues.&lt;/p&gt;

&lt;p&gt;So, no silver bullets but maybe we can make things a little less painful...&lt;/p&gt;</comment>
                            <comment id="12410889" author="rdonkin@apache.org" created="Fri, 17 Feb 2006 05:43:40 +0000"  >&lt;p&gt;Waiting for retest with latest release candidate.&lt;/p&gt;</comment>
                            <comment id="12422524" author="skitching" created="Fri, 21 Jul 2006 01:02:41 +0000"  >&lt;p&gt;As there has been no response from original poster, this is being closed presumed fixed.&lt;/p&gt;</comment>
                            <comment id="12456614" author="dsmiley" created="Thu, 7 Dec 2006 22:08:10 +0000"  >&lt;p&gt;This hasn&apos;t been fixed.  This problem can be seen using Apple&apos;s VM on Mac OS X if JCL is on the bootclasspath (such as via -Xbootclasspath).  I looked in source control for JCL and I see that the result is not checked for null.  The reference is:&lt;br/&gt;
LogFactory.getClassLoader(classname).&lt;br/&gt;
What needs to happen is that the result in there needs to be checked for null, and if it is then return ClassLoader.getSystemClassLoader().  At least there is only one place to make this fix now that all of JCL uses this method to get a ClassLoader, unlike how it used to work.&lt;/p&gt;</comment>
                            <comment id="12456938" author="dsmiley" created="Fri, 8 Dec 2006 18:35:08 +0000"  >&lt;p&gt;FYI, here&apos;s the new code that should go into the try/catch block:&lt;br/&gt;
            ClassLoader result = clazz.getClassLoader();&lt;br/&gt;
            if (result == null)&lt;br/&gt;
                result = ClassLoader.getSystemClassLoader();&lt;br/&gt;
            if (result == null)&lt;br/&gt;
                throw new IllegalStateException(&quot;ClassLoader.getSystemClassLoader() returned null!&quot;);&lt;br/&gt;
            return result;&lt;/p&gt;

&lt;p&gt;It works for me.&lt;/p&gt;</comment>
                            <comment id="12458015" author="skitching" created="Wed, 13 Dec 2006 04:29:28 +0000"  >&lt;p&gt;Reopen due to report by David Smiley&lt;/p&gt;</comment>
                            <comment id="12459088" author="skitching" created="Sat, 16 Dec 2006 21:37:27 +0000"  >&lt;p&gt;Applying this patch would cause some undesirable side-effects. For example, method logClassLoaderEnvironment uses this method to print diagnostic info. With this patch, we would report that a certain class was loaded from the system classloader when it is really loaded from the bootclassloader.&lt;/p&gt;

&lt;p&gt;I think it&apos;s better to fix the place(s) where we try to dereference this loader without checking for null. Presumably you get an exception with a stack trace when this occurs. Can you please run the standard JCL 1.1.1 release with the following code and post the resulting exception? (please also include the output of &quot;java -version&quot;)&lt;/p&gt;

&lt;p&gt;import org.apache.commons.logging.Log;&lt;br/&gt;
import org.apache.commons.logging.LogFactory;&lt;/p&gt;

&lt;p&gt;public class Tester {&lt;br/&gt;
  public static Log log = LogFactory.getLog(&quot;foo&quot;);&lt;br/&gt;
  public static void main(String[] args) &lt;/p&gt;
{
    log.error(&quot;testing&quot;);
  }
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;java -Xbootclasspath/a:commons-logging-1.1.1.jar Tester&lt;/p&gt;

&lt;p&gt;BTW, running the 1.1.1 release on Linux/java1.5 using -Xbootclasspath/a:commons-logging-1.1.1.jar works fine. I&apos;m pretty sure the Apple JVM is just the Sun source code licensed by Apple and tweaked, so don&apos;t know what could be causing a difference on Apple.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Simon&lt;/p&gt;</comment>
                            <comment id="12459646" author="dsmiley" created="Tue, 19 Dec 2006 14:11:43 +0000"  >&lt;p&gt;Sorry... it appears that the problem was with v1.0.4 and not 1.1 or later.  I &lt;b&gt;thought&lt;/b&gt; I tried 1.1 in my environment and it didn&apos;t work but I just did now and all is well.  So sorry for re-opening this--problem solved.&lt;/p&gt;</comment>
                            <comment id="12459760" author="skitching" created="Tue, 19 Dec 2006 21:12:42 +0000"  >&lt;p&gt;That&apos;s ok David; I&apos;ve done that before &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. Marking as closed/fixed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37484</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148205</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 47 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7x3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75059</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-24] [commons-logging] Class-Path entry produces StringIndexOutOfBoundsExceptions</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-24</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;I have been running into several problems using axis on weblogic (BEA WLS 6.1SP4). &lt;br/&gt;
The used commons-logging.jar (1.0.2 to my knowledge)  produces  &lt;br/&gt;
StringIndexOutOfBoundsExceptions as soon as you try to deploy axis. The reason for this &lt;br/&gt;
is a Class-Path: Entry in commons-logging Manifest. Removing this entry allows bea &lt;br/&gt;
WLS deployment.&lt;/p&gt;

&lt;p&gt;I have been referred to commons-logging, see &lt;a href=&quot;http://nagoya.apache.org/bugzilla/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://nagoya.apache.org/bugzilla/&lt;/a&gt;&lt;br/&gt;
show_bug.cgi?id=19090 for further details.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12340668">LOGGING-24</key>
            <summary>[commons-logging] Class-Path entry produces StringIndexOutOfBoundsExceptions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jens@void.fm">Jens Schumann</reporter>
                        <labels>
                    </labels>
                <created>Thu, 17 Apr 2003 18:46:17 +0000</created>
                <updated>Tue, 29 Dec 2009 16:50:29 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 16:50:29 +0000</resolved>
                                                    <fixVersion>1.0.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12404124" author="rsitze@apache.org" created="Thu, 17 Apr 2003 19:58:43 +0000"  >&lt;p&gt;Please provide details on the problem (stack trace would be helpful).&lt;br/&gt;
I&apos;d like to understand where the exception is coming from, and why,&lt;br/&gt;
before making changes.&lt;/p&gt;</comment>
                            <comment id="12404125" author="jens@void.fm" created="Thu, 17 Apr 2003 20:03:20 +0000"  >&lt;p&gt;#19090 contains a link to a full stacktrace.&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;http://marc.theaimsgroup.com/?l=axis-user&amp;amp;m=103347880202479&amp;amp;w=2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://marc.theaimsgroup.com/?l=axis-user&amp;amp;m=103347880202479&amp;amp;w=2&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It is definitly a weblogic problem, but I believe a distribution should not include Class-Path entries if the jar may be used in a different context.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19108</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148204</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 30 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7xb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75060</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-23] LogConfigurationException when using STRUTS with 2 applications in iPlanet</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-23</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;We are running two STRUTS applications using Log4j in iPlanet 6.5 Application &lt;br/&gt;
servers. We have deployed struts, commons-beanutils, common-collections, &lt;br/&gt;
commons-digester, commons-logging, commons-validator and  log4j under the WEB-&lt;br/&gt;
INF/lib and packaged them as separate ear files for each application &lt;br/&gt;
separately. The Action servlet in each application is deployed with a different &lt;br/&gt;
name. Each application has an initializer servlet that is invoked at &lt;br/&gt;
application server startup and load the Log4J configuration.&lt;/p&gt;

&lt;p&gt;The above works fine with only one application and also on occasion with both &lt;br/&gt;
applications. However, we are getting intermittent errors when running both &lt;br/&gt;
applications together when the requested JSP fails to load with an error in the &lt;br/&gt;
application server kjs logs. We have observed the following pattern of errors: &lt;br/&gt;
(with debugging turned on)&lt;/p&gt;

&lt;p&gt;Always starts with one LogConfigurationException (see Error #1 below). This &lt;br/&gt;
error does not always happen at startup. It can happen even after some usage of &lt;br/&gt;
the applications. Once this error has occured, we get a &lt;br/&gt;
java.lang.NoClassDefFoundError  (see Error #2 below) when  the JSP page load &lt;br/&gt;
occurs in the application. &lt;/p&gt;

&lt;p&gt;Has anyone seen this error ? Any insight would be much appreciated.&lt;/p&gt;


&lt;p&gt;Error #1&lt;br/&gt;
------------&lt;br/&gt;
Loading servlet: App1Action&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;06/Mar/2004 13:01:39:3&amp;#93;&lt;/span&gt; error: Exception: SERVLET-execution_failed: Error in &lt;br/&gt;
executing servlet EAMSAction: java.lang.ExceptionInInitializerError &lt;br/&gt;
Exception Stack Trace: &lt;br/&gt;
java.lang.ExceptionInInitializerError: &lt;br/&gt;
org.apache.commons.logging.LogConfigurationException: &lt;br/&gt;
org.apache.commons.logging.LogConfigurationException: &lt;br/&gt;
org.apache.commons.logging.LogConfigurationException: &lt;br/&gt;
Class org.apache.commons.logging.impl.Log4JLogger does not implement Log&lt;br/&gt;
	at org.apache.commons.logging.impl.LogFactoryImpl.newInstance&lt;br/&gt;
(LogFactoryImpl.java:532)&lt;br/&gt;
	at org.apache.commons.logging.impl.LogFactoryImpl.getInstance&lt;br/&gt;
(LogFactoryImpl.java:272)&lt;br/&gt;
	at org.apache.commons.logging.impl.LogFactoryImpl.getInstance&lt;br/&gt;
(LogFactoryImpl.java:246)&lt;br/&gt;
	at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:395)&lt;br/&gt;
	at org.apache.struts.action.ActionServlet.&amp;lt;clinit&amp;gt;&lt;br/&gt;
(ActionServlet.java:375)&lt;br/&gt;
	at java.lang.Class.newInstance0(Native Method)&lt;br/&gt;
	at java.lang.Class.newInstance(Class.java:232)&lt;br/&gt;
	at &lt;br/&gt;
com.netscape.server.servlet.servletrunner.ServletRepository.loadServlet(Unknown &lt;br/&gt;
Source)&lt;br/&gt;
	at &lt;br/&gt;
com.netscape.server.servlet.servletrunner.ServletRepository.createInstance&lt;br/&gt;
(Unknown Source)&lt;br/&gt;
	at &lt;br/&gt;
com.netscape.server.servlet.servletrunner.ServletRunner.createServletInfo&lt;br/&gt;
(ServletRunner.java:1237)&lt;br/&gt;
	at com.netscape.server.servlet.servletrunner.AppInfo.preLoadServlets&lt;br/&gt;
(Unknown Source)&lt;br/&gt;
	at com.netscape.server.servlet.servletrunner.AppInfo.resetServlets&lt;br/&gt;
(Unknown Source)&lt;br/&gt;
	at com.netscape.server.servlet.servletrunner.AppInfo.&amp;lt;init&amp;gt;(Unknown &lt;br/&gt;
Source)&lt;br/&gt;
	at com.netscape.server.servlet.servletrunner.ServletModule.getAppInfo&lt;br/&gt;
(Unknown Source)&lt;br/&gt;
	at com.netscape.server.servlet.servletrunner.ServletRunner.getAppInfo&lt;br/&gt;
(ServletRunner.java:1546)&lt;br/&gt;
	at com.netscape.server.servlet.servletrunner.ServletRunner.execute&lt;br/&gt;
(ServletRunner.java:986)&lt;br/&gt;
	at com.kivasoft.applogic.AppLogic.execute(AppLogic.java:152)&lt;br/&gt;
	at com.kivasoft.applogic.AppLogic.execute(AppLogic.java:86)&lt;br/&gt;
	at com.kivasoft.thread.ThreadBasic.run(Native Method)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:479)&lt;/p&gt;

&lt;p&gt;MessageHeaders:setHeaderField(): Invoking headers.put(name, value)&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;06/Mar/2004 13:01:39:3&amp;#93;&lt;/span&gt; error: APPLOGIC-caught_exception: Caught Exception: &lt;br/&gt;
java.lang.ClassCastException: java.lang.ExceptionInInitializerError&lt;br/&gt;
	at com.netscape.server.servlet.servletrunner.ServletRunner.reportError&lt;br/&gt;
(ServletRunner.java:1576)&lt;br/&gt;
	at com.netscape.server.servlet.servletrunner.ServletRunner.execute&lt;br/&gt;
(ServletRunner.java:1002)&lt;br/&gt;
	at com.kivasoft.applogic.AppLogic.execute(AppLogic.java:152)&lt;br/&gt;
	at com.kivasoft.applogic.AppLogic.execute(AppLogic.java:86)&lt;br/&gt;
	at com.kivasoft.thread.ThreadBasic.run(Native Method)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:479)&lt;/p&gt;


&lt;p&gt;Error #2: This happens when the application is accessing a page.&lt;br/&gt;
--------------------------------------------------------------------------------&lt;br/&gt;
--------------&lt;br/&gt;
Loading servlet: App1Action&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;06/Mar/2004 13:38:23:7&amp;#93;&lt;/span&gt; error: Exception: SERVLET-execution_failed: Error in &lt;br/&gt;
executing servlet App1Action: java.lang.NoClassDefFoundError &lt;br/&gt;
Exception Stack Trace: &lt;br/&gt;
java.lang.NoClassDefFoundError&lt;br/&gt;
	at java.lang.Class.newInstance0(Native Method)&lt;br/&gt;
	at java.lang.Class.newInstance(Class.java:232)&lt;br/&gt;
	at &lt;br/&gt;
com.netscape.server.servlet.servletrunner.ServletRepository.loadServlet(Unknown &lt;br/&gt;
Source)&lt;br/&gt;
	at &lt;br/&gt;
com.netscape.server.servlet.servletrunner.ServletRepository.createInstance&lt;br/&gt;
(Unknown Source)&lt;br/&gt;
	at &lt;br/&gt;
com.netscape.server.servlet.servletrunner.ServletRunner.createServletInfo&lt;br/&gt;
(ServletRunner.java:1237)&lt;br/&gt;
	at com.netscape.server.servlet.servletrunner.AppInfo.preLoadServlets&lt;br/&gt;
(Unknown Source)&lt;br/&gt;
	at com.netscape.server.servlet.servletrunner.AppInfo.resetServlets&lt;br/&gt;
(Unknown Source)&lt;br/&gt;
	at com.netscape.server.servlet.servletrunner.AppInfo.&amp;lt;init&amp;gt;(Unknown &lt;br/&gt;
Source)&lt;br/&gt;
	at com.netscape.server.servlet.servletrunner.ServletModule.getAppInfo&lt;br/&gt;
(Unknown Source)&lt;br/&gt;
	at com.netscape.server.servlet.servletrunner.ServletRunner.getAppInfo&lt;br/&gt;
(ServletRunner.java:1546)&lt;br/&gt;
	at com.netscape.server.servlet.servletrunner.ServletRunner.execute&lt;br/&gt;
(ServletRunner.java:986)&lt;br/&gt;
	at com.kivasoft.applogic.AppLogic.execute(AppLogic.java:152)&lt;br/&gt;
	at com.kivasoft.applogic.AppLogic.execute(AppLogic.java:86)&lt;br/&gt;
	at com.kivasoft.thread.ThreadBasic.run(Native Method)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:479)&lt;/p&gt;

&lt;p&gt;MessageHeaders:setHeaderField(): Invoking headers.put(name, value)&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;06/Mar/2004 13:38:23:7&amp;#93;&lt;/span&gt; error: APPLOGIC-caught_exception: Caught Exception: &lt;br/&gt;
java.lang.ClassCastException: java.lang.NoClassDefFoundError&lt;br/&gt;
	at com.netscape.server.servlet.servletrunner.ServletRunner.reportError&lt;br/&gt;
(ServletRunner.java:1576)&lt;br/&gt;
	at com.netscape.server.servlet.servletrunner.ServletRunner.execute&lt;br/&gt;
(ServletRunner.java:1002)&lt;br/&gt;
	at com.kivasoft.applogic.AppLogic.execute(AppLogic.java:152)&lt;br/&gt;
	at com.kivasoft.applogic.AppLogic.execute(AppLogic.java:86)&lt;br/&gt;
	at com.kivasoft.thread.ThreadBasic.run(Native Method)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:479)&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Solaris&lt;br/&gt;
Platform: Sun&lt;/p&gt;</environment>
        <key id="12341315">LOGGING-23</key>
            <summary>LogConfigurationException when using STRUTS with 2 applications in iPlanet</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="vshaiva@optonline.net">vshaiva</reporter>
                        <labels>
                    </labels>
                <created>Sun, 7 Mar 2004 23:57:31 +0000</created>
                <updated>Wed, 2 Jan 2008 07:48:24 +0000</updated>
                            <resolved>Wed, 2 Jan 2008 07:48:24 +0000</resolved>
                                    <version>1.0.3</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12406179" author="craig.mcclanahan@sun.com" created="Sun, 11 Apr 2004 01:46:53 +0000"  >&lt;p&gt;The &quot;Log4JLogger does not implement Log&quot; exception implies that there is more&lt;br/&gt;
than one copy of commons-logging.jar visible in the class loader hierarchy.  You&lt;br/&gt;
need to ensure that the commons-logging.jar file is &lt;b&gt;not&lt;/b&gt; visible through a&lt;br/&gt;
parent class loader (whatever the iPlanet equivalent of Tomcat&apos;s common/lib&lt;br/&gt;
directory).&lt;/p&gt;</comment>
                            <comment id="12406180" author="rdonkin@apache.org" created="Mon, 31 May 2004 15:07:40 +0000"  >&lt;p&gt;As craig said, this is a common problem caused by the deployment configuration.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>27504</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148203</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 24 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7xj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75061</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-22] NullPointerException in LogFactory</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-22</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;Trying to run this software on an EAServer, a NullPointerException is thrown in &lt;br/&gt;
two different places within LogFactory.java.  I was able to trace the problem &lt;br/&gt;
in the source:&lt;br/&gt;
1)  private static LogFactory getCachedFactory(ClassLoader contextClassLoader)&lt;/p&gt;
    {
        LogFactory factory = null;

        if (contextClassLoader != null)
            factory = (LogFactory) factories.get(contextClassLoader);

        if (factory==null)
            factory = (LogFactory) factories.get(LogFactory.class.getClassLoader
());

        return factory;
    }

&lt;p&gt;the factories.get(LogFactory.class.getClassLoader()) will cause a problem &lt;br/&gt;
because LogFactory.class.GetClassLoader() is null (using jre 1.4)  changing &lt;br/&gt;
that part to a call to getContextClassLoader() would resolve this bug.&lt;/p&gt;

&lt;p&gt;2) in getFactory():&lt;/p&gt;

&lt;p&gt;        // Fourth, try the fallback implementation class&lt;br/&gt;
        if (factory == null) &lt;/p&gt;
{
            factory = newFactory(FACTORY_DEFAULT, 
LogFactory.class.getClassLoader());
        }

&lt;p&gt;same deal here, replacing LogFactory.class.getClassLoader() with contextClass &lt;br/&gt;
will fix.&lt;/p&gt;

&lt;p&gt;I don&apos;t know if there was a reason these were left as &lt;br/&gt;
LogFactory.class.getClassLoader(), but getContextClassLoader(), will determine &lt;br/&gt;
if this is the correct call to make (and it states that this is only &lt;br/&gt;
appropriate in pre-jdk1.1), instead of just assuming it is the right call, &lt;br/&gt;
causing NullPointerExceptions.&lt;/p&gt;

&lt;p&gt;Perhaps this wasn&apos;t noticed since it usually doesn&apos;t get to this fallback &lt;br/&gt;
position, but on the application server, it does every time.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12340512">LOGGING-22</key>
            <summary>NullPointerException in LogFactory</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="philipm@sybase.com">Philip Mitchell</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Jan 2003 00:01:20 +0000</created>
                <updated>Tue, 29 Dec 2009 16:46:53 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 16:46:53 +0000</resolved>
                                    <version>Nightly Builds</version>
                                    <fixVersion>1.0.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12403506" author="philipm@sybase.com" created="Tue, 28 Jan 2003 00:14:47 +0000"  >&lt;p&gt;correction: changing the first part to include a call to getContextClassLoader&lt;br/&gt;
() does not quite do it, changing the &apos;if(factory = null)&apos; to an &apos;else&apos; will &lt;br/&gt;
clear it up.  This may not be what was intended, but I don&apos;t think it will &lt;br/&gt;
change the function of the code significantly.  Please consider this fix.&lt;br/&gt;
Thanks&lt;/p&gt;</comment>
                            <comment id="12403507" author="rsitze@apache.org" created="Thu, 30 Jan 2003 00:19:13 +0000"  >&lt;p&gt;Please try recent code from CVS (a recent nightly build will do).&lt;br/&gt;
The code you are looking at was changed on 8/29/02.  Many other&lt;br/&gt;
changes have gone in to correct the problem you describe.&lt;/p&gt;


&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;This bug has been marked as a duplicate of 10825 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12403508" author="philipm@sybase.com" created="Thu, 30 Jan 2003 00:39:26 +0000"  >&lt;p&gt;Then how do you explain the error I get when I&apos;m using the MOST RECENT BUILD.  &lt;br/&gt;
LogFactory.class.getClassLoader() still returns null and it is not handled &lt;br/&gt;
well, yet LogFactory.getContextClassLoader() does not.  I don&apos;t know what &lt;br/&gt;
you&apos;ve put into it to &quot;fix&quot; this, but it&apos;s not quite right yet.&lt;br/&gt;
Please reconsider looking at this, because it obviously isn&apos;t fully resolved.&lt;/p&gt;</comment>
                            <comment id="12403509" author="philipm@sybase.com" created="Fri, 31 Jan 2003 04:31:08 +0000"  >&lt;p&gt;Please note: the previous note was not intended to sound confrontational.  I &lt;br/&gt;
just wanted to point out that I already (before I posted the bug originally) &lt;br/&gt;
had tested with the most recent build to begin with and whatever fix had been &lt;br/&gt;
applied for this problem wasn&apos;t quite complete.  I apologise if I&apos;ve offended &lt;br/&gt;
anyone, I should have chosen my words more carefully.&lt;br/&gt;
Thank you for reconsidering.&lt;/p&gt;</comment>
                            <comment id="12403510" author="rsitze@apache.org" created="Fri, 31 Jan 2003 05:04:21 +0000"  >&lt;p&gt;OK, I&apos;ve reviewed the code, and obviously I&apos;m missing something&lt;br/&gt;
because it looks good to me (and I&apos;m not having problems).  You&lt;br/&gt;
have done some homework to pin-point the problem... would you&lt;br/&gt;
please help me out with a reference to where you think the problem&lt;br/&gt;
is occuring in the new code...  [btw, this is subtle - at least&lt;br/&gt;
I find it so]&lt;/p&gt;

&lt;p&gt;Again, the code below is &quot;old&quot;, so if you seeing a two if statements&lt;br/&gt;
in getCachedFactory() then you have out-of-date code.  I&apos;m confused...&lt;/p&gt;</comment>
                            <comment id="12403511" author="philipm@sybase.com" created="Fri, 31 Jan 2003 05:19:22 +0000"  >&lt;p&gt;okay, getCachedFactory() was fixed in the new source, although I copied my &lt;br/&gt;
original post right out of the source code view (right out of the cvs &lt;br/&gt;
repository), but I didn&apos;t see that updated code until just now.  &lt;/p&gt;

&lt;p&gt;No matter, the bigger problem (and yet more subtle) that I had in mind is still &lt;br/&gt;
there in getFactory():&lt;/p&gt;

&lt;p&gt;// Fourth, try the fallback implementation class&lt;br/&gt;
if (factory == null) {&lt;br/&gt;
  factory = newFactory(FACTORY_DEFAULT, LogFactory.class.getClassLoader());&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;but LogFactory.class.getClassLoader() returns null.  I&apos;ve suggested (and tested &lt;br/&gt;
on my system) replacing &apos;LogFactory.class.getClassLoader()&apos; &lt;br/&gt;
with &apos;contextClassLoader&apos; since that was defined earlier and used in every &lt;br/&gt;
other place in the method.  &lt;/p&gt;

&lt;p&gt;This problem doesn&apos;t occur in standalone apps or in a lot of other cases &lt;br/&gt;
because it doesn&apos;t get to this fallback implementation class, but in my case it &lt;br/&gt;
gets there.&lt;/p&gt;
</comment>
                            <comment id="12403512" author="rsitze@apache.org" created="Fri, 31 Jan 2003 08:13:11 +0000"  >&lt;p&gt;Now I&apos;m curious as to the behaviour you are seeing.  At the following code &lt;br/&gt;
point:&lt;/p&gt;

&lt;p&gt;  // Fourth, try the fallback implementation class&lt;br/&gt;
  if (factory == null) &lt;/p&gt;
{
    factory = newFactory(FACTORY_DEFAULT, LogFactory.class.getClassLoader());
  }

&lt;p&gt;Yes, LogFactory.class.getClassLoader() may return null.  The method newFactory &lt;br/&gt;
checks the class loaders, sees that it is null, and drops down to the line:&lt;/p&gt;

&lt;p&gt;  return (LogFactory)Class.forName(factoryClass).newInstance();&lt;/p&gt;

&lt;p&gt;which is exactly the desired behavior (Class is LogFactory.class).  If, &lt;br/&gt;
instead, you pass in &apos;contextClassLoader&apos;, then you allow the user to override &lt;br/&gt;
the factory-default by providing another implementation (same name) down the &lt;br/&gt;
classloader hierarchy.  This is &apos;one-way&apos; to resolve the problem, but the &lt;br/&gt;
programming model is to use other methods to override...  You shouldn&apos;t NEED &lt;br/&gt;
the context classloader, as LogFactory and the factory default are (suppose to &lt;br/&gt;
be) in the same jar file.  If you don&apos;t have the factory default (commons-&lt;br/&gt;
logging-api.jar?), then this is moot anyway.&lt;/p&gt;

&lt;p&gt;Does that help any, or am I still blind?&lt;/p&gt;</comment>
                            <comment id="12403513" author="philipm@sybase.com" created="Fri, 31 Jan 2003 22:44:50 +0000"  >&lt;p&gt;Now that you point that out, I, too, am puzzled...I was able to make the code &lt;br/&gt;
work by setting the system property to get it to point to the appropriate class &lt;br/&gt;
file (and avoiding that whole fourth alternative)&lt;/p&gt;

&lt;p&gt;There may be something specific to my environment that is causing these &lt;br/&gt;
troubles, but as I look at the code now, it SHOULD work, as you said.  I still &lt;br/&gt;
don&apos;t understand why not use contextClassLoader instead of the other, since &lt;br/&gt;
getContextClassLoader() will have returned the appropriate call, saving &lt;br/&gt;
newFactory() a lot of work, and saving unnecessary method calls and being &lt;br/&gt;
consistent with the rest of the method, but there may be something beyond the &lt;br/&gt;
scope of my problems that made you go with that approach, I do not know.&lt;/p&gt;

&lt;p&gt;Thank you for looking at it anyways, I will try to see if there&apos;s something &lt;br/&gt;
&lt;b&gt;else&lt;/b&gt; at my end.&lt;/p&gt;</comment>
                            <comment id="12403514" author="rsitze@apache.org" created="Fri, 31 Jan 2003 23:21:13 +0000"  >&lt;p&gt;Sorry if this is obvious, but I&apos;m going to ask anyway: Were you expecting &apos;step &lt;br/&gt;
four&apos; to find YOUR factory?  If so, that would explain the confusion.  &apos;step &lt;br/&gt;
four&apos; finds the DEFAULT.&lt;/p&gt;

&lt;p&gt;FYI,&lt;/p&gt;

&lt;p&gt;In a J2SE environment where you are using CLASSPATH to point to commons-&lt;br/&gt;
logging.jar and yourOwn.jar, then you are correct - using context class loader &lt;br/&gt;
is OK.  In a J2EE environment with commons-logging installed at a system level, &lt;br/&gt;
and your code as a web application, then the class loader hierarchy looks &lt;br/&gt;
(loosely) like:&lt;/p&gt;

&lt;p&gt;webAppClassLoader -&amp;gt; EARFileClassLoader -&amp;gt; SystemClassLoader -&amp;gt; ..&lt;/p&gt;

&lt;p&gt;So, if you use the context class loader, then you are unnecessarily walking up &lt;br/&gt;
the tree to find something in SystemClassLoader.  In this example, &lt;br/&gt;
LogFactory.class.getClassLoader() == SystemClassLoader(), which is no more and &lt;br/&gt;
no less than what is required to find the companion class in the same jar file &lt;br/&gt;
with LogFactory.  The &apos;extra logic&apos; that makes all that happen is to avoid &lt;br/&gt;
walking the class loader chain - maybe a small nit, but it&apos;s something.&lt;/p&gt;

&lt;p&gt;BTW, I incorrectly stated previously that you could overload the &lt;br/&gt;
FACTORY_DEFAULT by placing a class in the lower &lt;span class=&quot;error&quot;&gt;&amp;#91;i.e webApp&amp;#93;&lt;/span&gt; classloader... &lt;br/&gt;
default/standard behavior is to defer up the hierarchy for class resolution &lt;br/&gt;
before looking at local class loader).  As you pointed out, in your hierarchy &lt;br/&gt;
it appears that it&apos;s found by the bootstrap class loader, which can be returned &lt;br/&gt;
as null.. that&apos;s odd to my simple mind, but that&apos;s the documented (and &lt;br/&gt;
functional) behavior.&lt;/p&gt;</comment>
                            <comment id="12403515" author="philipm@sybase.com" created="Fri, 31 Jan 2003 23:43:25 +0000"  >&lt;p&gt;Yes, I know...and it doesn&apos;t for some reason (now I&apos;m as puzzled as you &lt;br/&gt;
are...perhaps more).  But thanks for the FYI, I now know just a little bit more &lt;br/&gt;
than I did 5 minutes ago.&lt;/p&gt;</comment>
                            <comment id="12403516" author="craig.mcclanahan@sun.com" created="Mon, 31 Mar 2003 07:55:34 +0000"  >&lt;p&gt;Given no further discussion on this since January (and no changes to the&lt;br/&gt;
LogFactory code in question), I&apos;m going to assume that it&apos;s been addressed. &lt;br/&gt;
Please reopen the bug report if you find out something new.&lt;/p&gt;

&lt;p&gt;In addition, if you take the (very helpful, thanks!) step of proposing a patch&lt;br/&gt;
to fix something, the most useful format is a &quot;cvs diff -u&quot;.  This gives the&lt;br/&gt;
committer applying the patch unambiguous documentation of which CVS revision the&lt;br/&gt;
patch is against, and the &quot;-u&quot; format provides enough context to evaluate the&lt;br/&gt;
impact of the patch on a code review.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>16457</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148202</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 33 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7xr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75062</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-21] Log4J shutdown not invoked?</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-21</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;There&apos;s a comment in Log4jFactory.release() that suggests that log4j isn&apos;t &lt;br/&gt;
being cleaned up.  (// what&apos;s the log4j mechanism to cleanup ???)&lt;/p&gt;

&lt;p&gt;I think the appropriate method to call would be LogManager.shutdown().&lt;/p&gt;

&lt;p&gt;A cursory look through log4j suggests that failure to shutdown may result in &lt;br/&gt;
the SocketAppender not completely flushing data.  This is an UNCONFIRMED &lt;br/&gt;
observation from reading code.  This would be a more serious problem than just &lt;br/&gt;
failing garbage collection in some environments.&lt;/p&gt;

&lt;p&gt;At least this is probably the call you want there, if it isn&apos;t truly a critical &lt;br/&gt;
bug.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12340485">LOGGING-21</key>
            <summary>Log4J shutdown not invoked?</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="william.pohlmann@vertexinc.com">William Pohlmann</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Jan 2003 03:27:16 +0000</created>
                <updated>Wed, 2 Jan 2008 07:48:23 +0000</updated>
                            <resolved>Wed, 2 Jan 2008 07:48:23 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12403430" author="craig.mcclanahan@sun.com" created="Sat, 18 Jan 2003 11:42:29 +0000"  >&lt;p&gt;I don&apos;t believe that it is the responsibility of commons-logging to clean up&lt;br/&gt;
Log4J (or any other logging system), just as it is not the responsibility of&lt;br/&gt;
commons-logging to configure it in the first place.  This API is simply a&lt;br/&gt;
wrapper around the &lt;b&gt;logging&lt;/b&gt; calls.  Configuration and lifecycle management of&lt;br/&gt;
the underlying logging implementation is the responsibility of the application&lt;br/&gt;
that is using commons-logging.&lt;/p&gt;</comment>
                            <comment id="12403431" author="william.pohlmann@vertexinc.com" created="Wed, 22 Jan 2003 01:15:11 +0000"  >&lt;p&gt;While the higher level classes of commons-logging are not responsible for any &lt;br/&gt;
specific logging system, the commons-logging release provides factories that do &lt;br/&gt;
specifically configure logging systems to work under the jakarata commons-&lt;br/&gt;
logging.&lt;/p&gt;

&lt;p&gt;Is org.apache.commons.logging.impl.Log4jFactory not considered to be part of &lt;br/&gt;
commons-logging?&lt;/p&gt;

&lt;p&gt;This class implements Log4jFactory.release().  The head revision of that class &lt;br/&gt;
(revision 1.2) is as follows:&lt;/p&gt;


&lt;p&gt;    public void release() &lt;/p&gt;
{

        instances.clear();

        // what&apos;s the log4j mechanism to cleanup ??? 
    }

&lt;p&gt;All I was attempting to log was what function should replace that comment, &lt;br/&gt;
specifically org.apache.log4j.LogManager.shutdown().&lt;/p&gt;

&lt;p&gt;I completely disagree that it is the responsibility of the application using &lt;br/&gt;
commons-logging to clean up the underlying implementation of logging that is &lt;br/&gt;
plugged into commons-logging.  If I wanted my application tied to a specific &lt;br/&gt;
logging implementation even for setup and cleanup, I wouldn&apos;t use commons-&lt;br/&gt;
logging.  Configuration and lifecycle management has to fall within the purview &lt;br/&gt;
of the commons-logging SPI or it loses its value.  Lifecycle events must be &lt;br/&gt;
exposed at the plug level (as they currently are)and given factory &lt;br/&gt;
implementations should do the right thing. &lt;/p&gt;

&lt;p&gt;I could see an argument that specific factory implementations should be outside &lt;br/&gt;
of commons-logging, but the current distribution and package naming puts &lt;br/&gt;
certain packages such as Log4j squarely within it.&lt;/p&gt;

&lt;p&gt;Please reconsider the bug determination. &lt;/p&gt;</comment>
                            <comment id="12403432" author="garyashley@3mv.biz" created="Wed, 26 Mar 2003 01:43:47 +0000"  >&lt;p&gt;As a user of JBoss 3.0.6 w/ Tomcat 4.1.18, I wanted to make sure that any &lt;br/&gt;
changes to Commons logging does not shutdown Log4J automatically.  I am not &lt;br/&gt;
aware of any problems that I have, and it seems to function properly though I &lt;br/&gt;
am in the early stages of testing this functionality.  &lt;/p&gt;

&lt;p&gt;Struts makes a call to:&lt;br/&gt;
LogFactory.release(classLoader); &lt;/p&gt;

&lt;p&gt;which is where the comment that produced this bug report stems.  &lt;/p&gt;

&lt;p&gt;I merely want to ensure caution is taken with the many interdependencies on the &lt;br/&gt;
common&apos;s logging component.  Having one Struts application on the server &lt;br/&gt;
shutting down logging for other applications, or for either Tomcat or JBoss &lt;br/&gt;
would be very undesireable.&lt;/p&gt;
</comment>
                            <comment id="12403433" author="craig.mcclanahan@sun.com" created="Mon, 31 Mar 2003 07:49:14 +0000"  >&lt;p&gt;With regard to William&apos;s question about &quot;Log4jFactory&quot; being considered part of&lt;br/&gt;
Log4J, I am very unhappy to find that it actually got added, since it doesn&apos;t&lt;br/&gt;
seem to add any useful value, does a half-baked job of pretending to manage the&lt;br/&gt;
underlying Log4J stuff, and only obfuscates everything else.  I&apos;m going to be&lt;br/&gt;
arguing that it get deprecated in 1.0.x and removed in 1.1.x versions of&lt;br/&gt;
commons-logging.&lt;/p&gt;

&lt;p&gt;It is said over and over in the documentation, and I&apos;ll say it again here &amp;#8211;&lt;br/&gt;
configuration and management of the underlying logging system is out of scope&lt;br/&gt;
for commons-logging, which was originally, and should remain, totally focused on&lt;br/&gt;
wrapping the actual logging of messages.  If your application needs to manage&lt;br/&gt;
the configuration and cleanup of the underlying logging implementation, it must&lt;br/&gt;
do so itself.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>16039</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148201</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 33 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7xz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75063</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-20] [logging] LoadTest not included in ant based unit tests</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-20</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;Unit test o.a.c.l.LoadTest is not run during the ant build.&lt;/p&gt;

&lt;p&gt;The simplest way to include it is to include it in the suite returned by&lt;br/&gt;
TestAll, so I&apos;ll attach a patch to TestAll that does this.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342272">LOGGING-20</key>
            <summary>[logging] LoadTest not included in ant based unit tests</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="b_stansberry@hotmail.com">Brian Stansberry</reporter>
                        <labels>
                    </labels>
                <created>Tue, 31 May 2005 14:35:34 +0000</created>
                <updated>Tue, 29 Dec 2009 16:12:39 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 16:12:39 +0000</resolved>
                                    <version>Nightly Builds</version>
                                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12409459" author="b_stansberry@hotmail.com" created="Tue, 31 May 2005 14:35:53 +0000"  >&lt;p&gt;Created an attachment (id=15223)&lt;br/&gt;
TestAll.diff&lt;/p&gt;</comment>
                            <comment id="12409460" author="skitching" created="Thu, 2 Jun 2005 18:14:02 +0000"  >&lt;p&gt;Thanks Brian. Patch committed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333542" name="ASF.LICENSE.NOT.GRANTED--TestAll.diff" size="399" author="b_stansberry@hotmail.com" created="Tue, 31 May 2005 14:35:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35131</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148200</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7y7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75064</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-19] &lt;available ...&gt; does not work properly when not available</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-19</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;On this machine this build.xml snippet does not work properly:&lt;/p&gt;

&lt;p&gt;  &amp;lt;target name=&quot;compile-only&quot; depends=&quot;init&quot; &amp;gt;&lt;br/&gt;
    &amp;lt;available property=&quot;jdk.1.4.present&quot;&lt;br/&gt;
               classname=&quot;java.util.logging.Logger&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;available classname=&quot;org.apache.log4j.Category&quot; &lt;br/&gt;
               classpathref=&quot;compile.classpath&quot; &lt;br/&gt;
               property=&quot;log4j.present&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;available property=&quot;logkit.present&quot;&lt;br/&gt;
               classpathref=&quot;compile.classpath&quot; &lt;br/&gt;
               classname=&quot;org.apache.log.Logger&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;echo  message=&quot;jdk.1.4.present=${jdk.1.4.present}&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;echo  message=&quot;log4j.present=${log4j.present}&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;echo  message=&quot;logkit.present=${logkit.present}&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;It is printed as&lt;/p&gt;


&lt;p&gt;compile-only:&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; jdk.1.4.present=${jdk.1.4.present}&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; log4j.present=${log4j.present}&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; logkit.present=${logkit.present}&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; Compiling 3 source files to&lt;br/&gt;
/Users/ravn/net/jakarta/jakarta-commons/logging/target/classes&lt;/p&gt;


&lt;p&gt;This is OS X 10.2.2 with a 1.3 JVM and none of the log4j or logkit things&lt;br/&gt;
installed.  Ant is a 1.5.1 binary release.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: Macintosh&lt;/p&gt;</environment>
        <key id="12340433">LOGGING-19</key>
            <summary>&lt;available ...&gt; does not work properly when not available</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tra@biobase.dk">Thorbjoern Ravn Andersen</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Nov 2002 23:47:55 +0000</created>
                <updated>Wed, 2 Jan 2008 07:48:23 +0000</updated>
                            <resolved>Wed, 2 Jan 2008 07:48:23 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12403274" author="craig.mcclanahan@sun.com" created="Thu, 19 Dec 2002 10:46:56 +0000"  >&lt;p&gt;What you see is exactly what you should expect to see.  The property values will&lt;br/&gt;
be listed as &quot;true&quot; if the available class was detected.  For example, on my&lt;br/&gt;
system (JDK 1.4, both Log4J and LogKit visible), I get:&lt;/p&gt;

&lt;p&gt;jdk.1.4.present=true&lt;br/&gt;
log4j.present=true&lt;br/&gt;
logkit.present=true&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14859</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148199</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 47 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7yf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75065</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-18] [logging] Can&apos;t find commons-logging-optional.jar</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-18</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;The documentation for Commons Logging 1.0.4 says that&lt;br/&gt;
commons-logging-optional.jar is included in the standard distribution, but it&lt;br/&gt;
does not seem to be in either the binary or source zip files.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342653">LOGGING-18</key>
            <summary>[logging] Can&apos;t find commons-logging-optional.jar</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Sun, 23 Oct 2005 22:32:43 +0000</created>
                <updated>Tue, 29 Dec 2009 14:29:31 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 14:29:31 +0000</resolved>
                                    <version>1.0.4</version>
                                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12410693" author="rdonkin@apache.org" created="Sat, 29 Oct 2005 21:12:09 +0000"  >&lt;p&gt;AFAIK commons-logging-optional.jar was added later than the 1.0.4 release. Where&lt;br/&gt;
did you find it refered to in the 1.0.4 documentation?&lt;/p&gt;</comment>
                            <comment id="12410694" author="sebb@apache.org" created="Mon, 31 Oct 2005 09:05:50 +0000"  >&lt;p&gt;Google finds it here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://wiki.apache.org/jakarta-commons/Logging/FrequentlyAskedQuestions&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://wiki.apache.org/jakarta-commons/Logging/FrequentlyAskedQuestions&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;but that&apos;s not where I saw it. I can&apos;t find the reference at present. &lt;/p&gt;

&lt;p&gt;However, I have just noticed that the link &quot;1.0.4 Release&quot; on the main page&lt;br/&gt;
(just below &quot;Wiki&quot;) does not take one to the 1.0.4 documentation (nor do the&lt;br/&gt;
1.0.3 and 1.0.2 links work properly either). I suppose it is possible that I was&lt;br/&gt;
misled by this.&lt;/p&gt;</comment>
                            <comment id="12410695" author="dennisl@apache.org" created="Sun, 20 Nov 2005 07:27:37 +0000"  >&lt;p&gt;I have updated the wiki. The optional jar was introduced in 1.0.5.&lt;br/&gt;
Sebb, if you find the other reference please reopen this issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37210</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148198</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 51 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7yn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75066</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-17] [logging] SimpleLog.java adds extra - characters</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-17</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;I&apos;ve just started using commons-logging, so I used SimpleLog to get started.&lt;br/&gt;
When doing so I found that the output isn&apos;t consistent.&lt;/p&gt;

&lt;p&gt;With the default settings (showlogname=false, showShortLogname=true) the output&lt;br/&gt;
looks like this:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt; CodeGenerator - -locale.language=sv&lt;/p&gt;

&lt;p&gt;With altered settings (showlogname=true, showShortLogname=false) the output&lt;br/&gt;
looks like this:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt; se.dennislundberg.codegeneration.ui.CodeGenerator - locale.language=sv&lt;/p&gt;

&lt;p&gt;As you can see in the first example there is an extra &apos;-&apos; before the log message.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341190">LOGGING-17</key>
            <summary>[logging] SimpleLog.java adds extra - characters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dennisl@apache.org">Dennis Lundberg</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 Jan 2004 09:52:34 +0000</created>
                <updated>Tue, 29 Dec 2009 16:26:42 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 16:26:42 +0000</resolved>
                                    <version>Nightly Builds</version>
                                    <fixVersion>1.0.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12405763" author="dennisl@apache.org" created="Wed, 7 Jan 2004 09:54:15 +0000"  >&lt;p&gt;Created an attachment (id=9838)&lt;br/&gt;
Renames the variable &quot;prefix&quot; to &quot;shortLogName&quot; and adds some JavaDoc for it. A couple of typos and some trailing whitespace are also fixed.&lt;/p&gt;</comment>
                            <comment id="12405764" author="dennisl@apache.org" created="Sun, 29 Feb 2004 03:31:27 +0000"  >&lt;p&gt;Created an attachment (id=10608)&lt;br/&gt;
Updated version of the previous patch that also removes a duplicate assignment&lt;/p&gt;</comment>
                            <comment id="12405765" author="craig.mcclanahan@sun.com" created="Sun, 29 Feb 2004 07:01:44 +0000"  >&lt;p&gt;Fixed in nightly build 20040229 (and upcoming 1.0.4 release).  Thanks for the patch!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12332683" name="ASF.LICENSE.NOT.GRANTED--SimpleLog.java.patch" size="2246" author="dennisl@apache.org" created="Sun, 29 Feb 2004 03:31:27 +0000"/>
                            <attachment id="12332682" name="ASF.LICENSE.NOT.GRANTED--SimpleLog.patch" size="5420" author="dennisl@apache.org" created="Wed, 7 Jan 2004 09:54:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>25940</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148197</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 37 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7yv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75067</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-16] LogFactoryImpl bug? in class loading order...</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-16</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;in loadClass(String) the current implementation trys to load the supplied class&lt;br/&gt;
name by first using the context classloader, then trying a simple Class.forName().&lt;/p&gt;

&lt;p&gt;Is there a particular reason why it&apos;s not the other way around?&lt;/p&gt;

&lt;p&gt;I ask because i&apos;ve gotten very weird behavior using ant and ejbdoclet (xdoclet).&lt;br/&gt;
When building several modules at once and running xdoclet several times, at some&lt;br/&gt;
point (after several ejbdoclet calls have succeeded), ejbdoclet suddenly fails&lt;br/&gt;
with ... &quot;Invalid class loader hierarchy.  You have more than one version of&lt;br/&gt;
&apos;org.apache.commons.logging.Log&apos; visible, which is not allowed.&quot;&lt;/p&gt;

&lt;p&gt;There are no other jars in the classpath containing this class.&lt;/p&gt;

&lt;p&gt;I narrowed it down to the fact that the failure occurs when the context&lt;br/&gt;
classloader is the one that finds the class.  If i swap the order and have&lt;br/&gt;
Class.forName execute first then everything works fine.&lt;/p&gt;

&lt;p&gt;I think the root of this issue may be a bug in ant, since i can run the module&lt;br/&gt;
that fails independently and it builds fine.  It&apos;s only when run after other&lt;br/&gt;
modules in a single ant script that it fails.&lt;/p&gt;

&lt;p&gt;So, i&apos;m hoping that there isn&apos;t a need to use the context classloader first, but&lt;br/&gt;
instead the Class.forName can be given precedence.&lt;/p&gt;

&lt;p&gt;Thoughts?&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Linux&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12341808">LOGGING-16</key>
            <summary>LogFactoryImpl bug? in class loading order...</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ervandew@yahoo.com">Eric Van</reporter>
                        <labels>
                    </labels>
                <created>Sat, 16 Oct 2004 08:36:32 +0000</created>
                <updated>Wed, 2 Jan 2008 07:48:23 +0000</updated>
                            <resolved>Wed, 2 Jan 2008 07:48:23 +0000</resolved>
                                    <version>1.0.4</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12407798" author="craig.mcclanahan@sun.com" created="Sat, 16 Oct 2004 08:49:17 +0000"  >&lt;p&gt;You&apos;d be better off having a conversation on the Commons User mailing list on&lt;br/&gt;
issues like this, reserving the issue tracking system for reporting bugs or&lt;br/&gt;
making enhancement requests.&lt;/p&gt;

&lt;p&gt;That being said, the design decision on class loading order was very much a&lt;br/&gt;
deliberate one.  Consider the very common scenario of a servlet container that&lt;br/&gt;
makes commons-logging available to all applications (such as by putting it in&lt;br/&gt;
common/lib or shared/lib in Tomcat).  Now, applications can use commons-logging&lt;br/&gt;
without having to carry it around inside WEB-INF/lib.&lt;/p&gt;

&lt;p&gt;Now consider an app that wants to provide its own Log implementation (say, to&lt;br/&gt;
prefix the current app&apos;s context path onto the log name before delegating to the&lt;br/&gt;
standard implementation).  The Log implementation itself would be included in&lt;br/&gt;
the webapp, and the current class loading order (check the context class loader&lt;br/&gt;
first) will find it.  Your proposed change, however, would cause the custom Log&lt;br/&gt;
implementation to NOT be found, because the search would start in the shared&lt;br/&gt;
repository ... and you can only go UP a class loader hierarchy, not down. &lt;br/&gt;
That&apos;s not acceptable.&lt;/p&gt;

&lt;p&gt;I&apos;ve successfully used commons-logging inside things managed by Ant (such as&lt;br/&gt;
JUnit based unit tests), but only with fork=&quot;true&quot;.  It sounds like you should&lt;br/&gt;
experiment with actually setting the context class loader to the one you want:&lt;/p&gt;

&lt;p&gt;  Thread.currentThread().setContextClassLoader(...)&lt;/p&gt;

&lt;p&gt;and/or work with the Ant folks to understand how they set up their class loading&lt;br/&gt;
architecture.  But don&apos;t forget that everything in $ANT_HOME/lib is in the class&lt;br/&gt;
loader hierarchy somewhere, in addition to things in the actual classpath. &lt;br/&gt;
Also, JAR files can declare their own internal classpaths within the&lt;br/&gt;
META-INF/MANIFEST.MF file, so you&apos;ll need to double check those as well for&lt;br/&gt;
possible additional occurrences of commons-logging.jar.&lt;/p&gt;


</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31740</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148196</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 4 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7z3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75068</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-15] Log interface should be loaded by loadClass method</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-15</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;In LogFactoryImpl.getLogConstructor(), the Log interface may not have been&lt;br/&gt;
loaded by the same classloader as the log implementation, so the&lt;br/&gt;
isAssignableFrom test fails. To be consistent, the Log interface should be&lt;br/&gt;
loaded by the loadClass() method, just as the logClass is.  --Will Jaynes&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341070">LOGGING-15</key>
            <summary>Log interface should be loaded by loadClass method</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jaynes@umich.edu">Will Jaynes</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Nov 2003 21:19:29 +0000</created>
                <updated>Wed, 2 Jan 2008 07:48:23 +0000</updated>
                            <resolved>Wed, 2 Jan 2008 07:48:23 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12405386" author="jaynes@umich.edu" created="Mon, 3 Nov 2003 21:22:04 +0000"  >&lt;p&gt;Created an attachment (id=8888)&lt;br/&gt;
Load Log interface using loadClass() method&lt;/p&gt;</comment>
                            <comment id="12405387" author="remm@apache.org" created="Mon, 3 Nov 2003 21:35:45 +0000"  >&lt;p&gt;I disagree with this. If used properly, you&apos;ll see that commons-logging&lt;br/&gt;
classloading handling is well thought out, and works perfectly well. Pesonally,&lt;br/&gt;
I am against the change you propose.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12332602" name="ASF.LICENSE.NOT.GRANTED--LogFactoryImpl.patch.txt" size="1306" author="jaynes@umich.edu" created="Mon, 3 Nov 2003 21:22:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24353</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148195</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 2 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7zb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75069</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-14] [logging] LogConfigurationException double wrapped</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-14</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;LogFactoryImpl.getLogConstructor() double-wraps when it throws&lt;br/&gt;
LogConfigurationException.  In other words, when it throws&lt;br/&gt;
LogConfigurationException, it wraps that exception in &lt;b&gt;another&lt;/b&gt;&lt;br/&gt;
LogConfigurationException.  In fact, the full message is:&lt;/p&gt;

&lt;p&gt;org.apache.commons.logging.LogConfigurationException:&lt;br/&gt;
org.apache.commons.logging.LogConfigurationException:&lt;br/&gt;
java.lang.NullPointerException (Caused by java.lang.NullPointerException)&lt;br/&gt;
(Caused by org.apache.commons.logging.LogConfigurationException:&lt;br/&gt;
java.lang.NullPointerException (Caused by java.lang.NullPointerException))&lt;/p&gt;

&lt;p&gt;Feel free to track that mess down, but this report is just for this one instance&lt;br/&gt;
of wrapping.&lt;/p&gt;

&lt;p&gt;The wrapping occurs on line 397.  You can fix it either by ensuring the &quot;throw&lt;br/&gt;
new&quot; calls are outside the &quot;catch Throwable&quot;, or you can add an extra catch:&lt;/p&gt;

&lt;p&gt;catch (LogConfigurationException ex) &lt;/p&gt;
{ throw ex; }
&lt;p&gt;catch (Throwable t) &lt;/p&gt;
{ throw new LogConfigurationException(t); }</description>
                <environment>&lt;p&gt;Operating System: Windows 2000&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12342266">LOGGING-14</key>
            <summary>[logging] LogConfigurationException double wrapped</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="w-zwicky@cecer.army.mil">Bill Zwicky</reporter>
                        <labels>
                    </labels>
                <created>Sat, 28 May 2005 06:23:42 +0000</created>
                <updated>Tue, 29 Dec 2009 16:12:08 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 16:12:08 +0000</resolved>
                                    <version>1.0.4</version>
                                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12409436" author="skitching" created="Mon, 30 May 2005 16:52:37 +0000"  >&lt;p&gt;Thanks for reporting this Bill. The LogFactoryImpl class is getting some&lt;br/&gt;
significant modifications right at this moment. Brian Stansberry&apos;s proposed&lt;br/&gt;
patch actually fixes this as a part of some other changes. I&apos;m marking this bug&lt;br/&gt;
entry &quot;fixed&quot; although the patch isn&apos;t yet committed because it is expected that&lt;br/&gt;
it very soon will be.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35112</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148194</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 24 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7zj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75070</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-13] [logging] NullPointException when Logger.getClassLoader returns null</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-13</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;getClassLoader can return null to imply the Boot Class Loader (per JDK 1.3 &lt;br/&gt;
documentatio at least) however unfortunately commons logging is not coded to &lt;br/&gt;
support that.&lt;/p&gt;

&lt;p&gt;There are at least two places where this is a problem &amp;amp; commons logging dies w/ &lt;br/&gt;
a NullPointerException, one in a Hashtable (used as a key to factory) [HashMap &lt;br/&gt;
allows null key, Hashtable does not] and one other more directly.&lt;/p&gt;

&lt;p&gt;I modified the code to use the ClassLoader.getSystemClassLoader() when a null &lt;br/&gt;
was returned for Logger.getClassLoader() &amp;#8211; assuming [&apos;cos I had no better &lt;br/&gt;
guess/choice] that System == Boot &lt;span class=&quot;error&quot;&gt;&amp;#91;since there was no getBootClassLoader.&amp;#93;&lt;/span&gt; This &lt;br/&gt;
appears to be working.&lt;/p&gt;

&lt;p&gt;I can send my modified code if interested.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12340269">LOGGING-13</key>
            <summary>[logging] NullPointException when Logger.getClassLoader returns null</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ajack@openbiz.biz">Adam Jack</reporter>
                        <labels>
                    </labels>
                <created>Mon, 15 Jul 2002 21:11:45 +0000</created>
                <updated>Tue, 29 Dec 2009 17:01:04 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 17:01:04 +0000</resolved>
                                    <version>Nightly Builds</version>
                                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12402761" author="craig.mcclanahan@sun.com" created="Wed, 17 Jul 2002 22:51:06 +0000"  >&lt;p&gt;This sounds like a good fix &amp;#8211; could you post your changes as an attachment to&lt;br/&gt;
this bug report, or in a mail message to COMMONS-DEV@JAKARTA.APACHE.ORG?&lt;/p&gt;</comment>
                            <comment id="12402762" author="ajack@openbiz.biz" created="Wed, 17 Jul 2002 23:07:27 +0000"  >&lt;p&gt;Created an attachment (id=2383)&lt;br/&gt;
This is my hacked copy...&lt;/p&gt;</comment>
                            <comment id="12402763" author="ajack@openbiz.biz" created="Wed, 17 Jul 2002 23:08:13 +0000"  >&lt;p&gt;Created an attachment (id=2384)&lt;br/&gt;
This is the original I diff&apos;ed&lt;/p&gt;</comment>
                            <comment id="12402764" author="ajack@openbiz.biz" created="Wed, 17 Jul 2002 23:09:31 +0000"  >&lt;p&gt;Diff of mine (Attached) with yours (Attached)&lt;/p&gt;

&lt;p&gt;445,452d445&lt;br/&gt;
&amp;lt; &lt;br/&gt;
&amp;lt;         &lt;br/&gt;
&amp;lt; if ( null == classLoader )&lt;br/&gt;
&amp;lt; &lt;/p&gt;
{
&amp;lt; 	classLoader = ClassLoader.getSystemClassLoader();
&amp;lt; 
&amp;lt; }
&lt;p&gt;&amp;lt; &lt;br/&gt;
483d475&lt;br/&gt;
&amp;lt; &lt;br/&gt;
503,516c495&lt;br/&gt;
&amp;lt; 	&lt;/p&gt;
{
&amp;lt; 	    ClassLoader local = LogFactory.class.getClassLoader();
&amp;lt; 
&amp;lt;             if ( null != local )
&amp;lt; 		factory = (LogFactory) factories.get
(LogFactory.class.getClassLoader());
&amp;lt; 	}
&lt;p&gt;&amp;lt; &lt;br/&gt;
&amp;lt; 	if ( factory == null )&lt;br/&gt;
&amp;lt; 	&lt;/p&gt;
{
&amp;lt; 
&amp;lt; 	   factory = (LogFactory) factories.get(ClassLoader.getSystemClassLoader
());
&amp;lt; 
&amp;lt; 	}
&lt;p&gt;&amp;lt; &lt;br/&gt;
&amp;#8212;&lt;br/&gt;
&amp;gt;             factory = (LogFactory) factories.get&lt;br/&gt;
(LogFactory.class.getClassLoader());&lt;br/&gt;
548,552d526&lt;br/&gt;
&amp;lt; &lt;br/&gt;
&amp;lt; &lt;br/&gt;
&amp;lt; 	 if (classLoader == null)&lt;br/&gt;
&amp;lt;                 classLoader = ClassLoader.getSystemClassLoader();&lt;br/&gt;
&amp;lt; &lt;/p&gt;</comment>
                            <comment id="12402765" author="rsitze@apache.org" created="Thu, 18 Jul 2002 04:23:54 +0000"  >&lt;p&gt;Don&apos;t forget that commons-logger is targeted to JVM &amp;lt; 1.2,&lt;br/&gt;
and getSystemClassLoader() is new for 1.2.  Hmm...&lt;/p&gt;</comment>
                            <comment id="12402766" author="rsitze@apache.org" created="Thu, 18 Jul 2002 04:26:05 +0000"  >&lt;p&gt;Let me clarify that last remark:  commons-logging should execute on JDK 1.1.8+,&lt;br/&gt;
so it must avoid code that will not execute in pre 1.2/1.3/1.4 environs.&lt;/p&gt;</comment>
                            <comment id="12402767" author="ajack@openbiz.biz" created="Thu, 18 Jul 2002 04:51:06 +0000"  >&lt;p&gt;I see you have other code in commons that does introspection (or catches &lt;br/&gt;
MethodNotFound) to deal with earlier JDKs. Could that not occur here?&lt;/p&gt;

&lt;p&gt;I assume you aren&apos;t saying it must crash for me on JDK 1.3 so it works for &lt;br/&gt;
folks on JDK 1.1. Are you proposing something?&lt;/p&gt;</comment>
                            <comment id="12402768" author="rsitze@apache.org" created="Thu, 18 Jul 2002 05:16:10 +0000"  >&lt;p&gt;Take a look at commons.discovery.  This will eventually replace the factory &lt;br/&gt;
code in logging (at least that&apos;s my intent), so I&apos;m going to assume that you &lt;br/&gt;
would like the problem fixed there also &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Anyway, take a look at the class BootstrapLoader.  I&apos;d appreciate someone with &lt;br/&gt;
a JDK 1.1.x environ putting together a test-case for this loader and verifying &lt;br/&gt;
that it does what&apos;s expected.  It SHOULD build in earlier JVM&apos;s, and function &lt;br/&gt;
as you specified.  For JDK 1.2 we could use a similar mechanism to get directly &lt;br/&gt;
to the bootstrap loader, but that code wouldn&apos;t build in JDK 1.1.x... so I &lt;br/&gt;
think your proposed solution + portable code is going to be about as good as it &lt;br/&gt;
gets.  Thanks for the proposed solution.&lt;/p&gt;

&lt;p&gt;BTW, IF you have time, it would be great if you used &apos;discovery&apos; directly in &lt;br/&gt;
your environment to get the LogFactory.  This would verify for me that I&apos;ve &lt;br/&gt;
solved your problem and haven&apos;t introduced another...&lt;/p&gt;

&lt;p&gt;Use the following to get the LogFactory (note properties are protected, so I&apos;ve &lt;br/&gt;
put literals here):&lt;/p&gt;

&lt;p&gt; (LogFactory)ServiceFinder.find(LogFactory.class,&lt;br/&gt;
                                LogFactory.class,&lt;br/&gt;
                 &quot;org.apache.commons.logging.impl.LogFactoryImpl&quot;,&lt;br/&gt;
                 &quot;commons-logging.properties&quot;);&lt;/p&gt;</comment>
                            <comment id="12402769" author="ajack@openbiz.biz" created="Thu, 18 Jul 2002 11:59:03 +0000"  >&lt;p&gt;I clearly do not understand this bug form, I keep getting things out of thread &lt;br/&gt;
sequence. Oh well...&lt;/p&gt;

&lt;p&gt;I would volunteer to help, in any way, it is certainly in my interest. &lt;br/&gt;
Unfortunaly I leave Friday for vacation and I am no where near wrapped up, so &lt;br/&gt;
know I won&apos;t have time before then.&lt;/p&gt;

&lt;p&gt;I don&apos;t know if it helps, but I&apos;ve added it to my calendar to do upon my return &lt;br/&gt;
August 1st. &lt;/p&gt;

&lt;p&gt;regards&lt;/p&gt;

&lt;p&gt;Adam&lt;/p&gt;</comment>
                            <comment id="12402770" author="rsitze@apache.org" created="Thu, 18 Jul 2002 23:07:09 +0000"  >&lt;p&gt;Just to keep the conversation going &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;  I&apos;m moving this side comment from Axis &lt;br/&gt;
(because I don&apos;t think it is relevant there, it&apos;s not constrained as commons-&lt;br/&gt;
logging is):&lt;/p&gt;

&lt;p&gt;&amp;gt;&amp;gt; [If JDK 1.1 has not getSystemClassLoader I have to assume it does not return &lt;br/&gt;
null.]&lt;/p&gt;

&lt;p&gt;Not true.&lt;/p&gt;

&lt;p&gt;JDK 1.1.x: Class.getClassLoader() == null == SystemClassLoader&lt;br/&gt;
JDK 1.2+:  Class.getClassLoader() == null == BootstrapClassLoader&lt;/p&gt;

&lt;p&gt;... now how do you get the system classloader in JDK 1.1.x?&lt;br/&gt;
... and how do you get the bootstrap classloader in JDK 1.2+?&lt;/p&gt;

&lt;p&gt;I&apos;m using the following class as my &quot;SystemClassLoader&quot; in Discovery:&lt;/p&gt;

&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;JDK 1.1.x compatible?&lt;/li&gt;
	&lt;li&gt;There is no direct way to get the system class loader&lt;/li&gt;
	&lt;li&gt;in 1.1.x, so work around...&lt;br/&gt;
     */&lt;br/&gt;
    class SystemClassLoader extends ClassLoader {&lt;br/&gt;
        protected Class loadClass(String className, boolean resolve)&lt;br/&gt;
            throws ClassNotFoundException
        {
            return findSystemClass(className);
        }&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;        public URL getResource(String resName) &lt;/p&gt;
{
            return getSystemResource(resName);
        }

&lt;p&gt;        public InputStream getResourceAsStream(String resName) &lt;/p&gt;
{
            return getSystemResourceAsStream(resName);
        }
&lt;p&gt;    }&lt;/p&gt;</comment>
                            <comment id="12402771" author="rsitze@apache.org" created="Fri, 27 Sep 2002 04:36:42 +0000"  >&lt;p&gt;I believe that this was corrected along with the issues raised in 12149.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;quite possible the same issue, in the end&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;This bug has been marked as a duplicate of 12149 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12402772" author="leidl@nt.imp.univie.ac.at" created="Thu, 17 Oct 2002 17:19:01 +0000"  >&lt;p&gt;Created an attachment (id=3501)&lt;br/&gt;
patch file including code patches and a new test case&lt;/p&gt;</comment>
                            <comment id="12402773" author="leidl@nt.imp.univie.ac.at" created="Thu, 17 Oct 2002 17:29:18 +0000"  >&lt;p&gt;This bug is still unsolved in the current CVS version (2002-10-17), so I decided&lt;br/&gt;
to reopen it again.&lt;br/&gt;
This bug occurs when the commons-logging classes are loaded by the bootstrap&lt;br/&gt;
class loader and no context class loader is available.&lt;br/&gt;
A patch as well as an appropriate test case is attached. This test makes use of&lt;br/&gt;
the Java endorsed library mechanism to expose the critical classes to the boot&lt;br/&gt;
strap class loader, so you will need a JDK that supports that mechanism to make&lt;br/&gt;
the test work. I used Sun J2SE SDK 1.4.0 on a Windows NT 4.0 machine.&lt;/p&gt;

&lt;p&gt;The patch for LogFactory uses Class.forName() instead of&lt;br/&gt;
Class.getClassLoader().loadClass(). AFAIK this should not make a difference.&lt;br/&gt;
Furthermore this method is also available in pre 1.2 JDKs so it should not raise&lt;br/&gt;
any compatibility issues. &lt;/p&gt;

&lt;p&gt;Here is the modified newFactory method:&lt;/p&gt;

&lt;p&gt;    protected static LogFactory newFactory(String factoryClass,&lt;br/&gt;
                                           ClassLoader classLoader)&lt;br/&gt;
            throws LogConfigurationException {&lt;br/&gt;
        try {&lt;br/&gt;
            if (classLoader != null) {&lt;br/&gt;
                try &lt;/p&gt;
{
                    return (LogFactory) classLoader.loadClass(factoryClass)
                            .newInstance();
                }
&lt;p&gt; catch (ClassNotFoundException cnfx) &lt;/p&gt;
{
                    // continue
                }
&lt;p&gt;            }&lt;/p&gt;

&lt;p&gt;            // class loader is null, or Factory class could not be loaded&lt;br/&gt;
            // by means of the specified class loader at this point.&lt;/p&gt;

&lt;p&gt;            // Let&apos;s try the class loader that loaded this class. If this &lt;br/&gt;
            // class is loaded by the bootstrap class loader &lt;br/&gt;
            // Class.getClassLoader() can return null according to the &lt;br/&gt;
            // contract of that method so we have to use Class.forName() &lt;br/&gt;
            // instead of Class.getClassLoader().loadClass().&lt;br/&gt;
            return (LogFactory) Class.forName(factoryClass).newInstance();&lt;/p&gt;

&lt;p&gt;        } catch (Exception e) &lt;/p&gt;
{
            throw new LogConfigurationException(e);
        }
&lt;p&gt;    }&lt;/p&gt;



&lt;p&gt;To apply the patch enter the commons-logging directory and run &quot;patch -Np0 &amp;lt;&lt;br/&gt;
patch.txt&quot;.&lt;/p&gt;

&lt;p&gt;The patch applies changes to LogFactory.java and build.xml, and creates a new&lt;br/&gt;
TestCase called BootStrapTest.java&lt;/p&gt;</comment>
                            <comment id="12402774" author="leidl@nt.imp.univie.ac.at" created="Thu, 17 Oct 2002 19:48:54 +0000"  >&lt;p&gt;Oops, I mean &quot;patch -Np2 &amp;lt; patch.txt&quot;. Furthermore the patch makes some changes&lt;br/&gt;
to TestAll.java, which I just forgot to take out again &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Cheers,&lt;br/&gt;
Volker&lt;/p&gt;</comment>
                            <comment id="12402775" author="rsitze@apache.org" created="Fri, 18 Oct 2002 06:03:23 +0000"  >&lt;p&gt;Thanks for the education and the patch!&lt;br/&gt;
Really appreciate when someone explains WHY the code is wrong &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12402776" author="rsitze@apache.org" created="Tue, 12 Nov 2002 00:49:52 +0000"  >&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOGGING-7&quot; title=&quot;Can&amp;#39;t locate classloader when creating a new LogFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOGGING-7&quot;&gt;&lt;del&gt;COM-260&lt;/del&gt;&lt;/a&gt; has been marked as a duplicate of this bug. ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12402777" author="rsitze@apache.org" created="Thu, 30 Jan 2003 00:19:15 +0000"  >&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LOGGING-22&quot; title=&quot;NullPointerException in LogFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOGGING-22&quot;&gt;&lt;del&gt;COM-361&lt;/del&gt;&lt;/a&gt; has been marked as a duplicate of this bug. ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12402778" author="scott@scottbender.net" created="Fri, 6 Aug 2004 00:36:44 +0000"  >&lt;p&gt;It looks like this bug is back. I&apos;m getting a NullPointerException in&lt;br/&gt;
commons-logging-1.0.4 LogFactoryImpl.java line 374&lt;/p&gt;</comment>
                            <comment id="12402779" author="rdonkin@apache.org" created="Sun, 17 Oct 2004 21:07:00 +0000"  >&lt;p&gt;I&apos;ve just committed a patch which should fix this problem as well.&lt;/p&gt;

&lt;p&gt;Robert&lt;/p&gt;</comment>
                            <comment id="12402780" author="e.vogelsinger@mobilkom.at" created="Mon, 9 May 2005 17:26:30 +0000"  >&lt;p&gt;Hithere,&lt;/p&gt;

&lt;p&gt;using commons logging 1.0.4 this bug seems to be (again? still?) in production, &lt;br/&gt;
see code snippet below, lines 374/375. As soon as you have the commons in your &lt;br/&gt;
bootstrap classpath you&apos;re doomed, as &quot;this.getClass().getClassLoader()&quot; will &lt;br/&gt;
return null (JVM 1.4.2).&lt;/p&gt;

&lt;p&gt;// from LogFactoryImpl.java&lt;br/&gt;
360:   protected Constructor getLogConstructor()&lt;br/&gt;
361:        throws LogConfigurationException {&lt;br/&gt;
362:&lt;br/&gt;
363:        // Return the previously identified Constructor (if any)&lt;br/&gt;
364:        if (logConstructor != null) &lt;/p&gt;
{
365:            return logConstructor;
366:        }
&lt;p&gt;367:&lt;br/&gt;
368:        String logClassName = getLogClassName();&lt;br/&gt;
369:&lt;br/&gt;
370:        // Attempt to load the Log implementation class&lt;br/&gt;
371:        Class logClass = null;&lt;br/&gt;
372:        Class logInterface = null;&lt;br/&gt;
373:        try {&lt;br/&gt;
374:            logInterface = this.getClass().getClassLoader().loadClass&lt;br/&gt;
375:                (LOG_INTERFACE);&lt;/p&gt;

&lt;p&gt;org.apache.commons.logging.LogConfigurationException: &lt;br/&gt;
org.apache.commons.logging.LogConfigurationException: &lt;br/&gt;
java.lang.NullPointerException (Caused by java.lang.NullPointerException) &lt;br/&gt;
(Caused by org.apache.commons.logging.LogConfigurationException: &lt;br/&gt;
java.lang.NullPointerException (Caused by java.lang.NullPointerException))&lt;br/&gt;
	at org.apache.commons.logging.impl.LogFactoryImpl.newInstance&lt;br/&gt;
(LogFactoryImpl.java:543)&lt;br/&gt;
	at org.apache.commons.logging.impl.LogFactoryImpl.getInstance&lt;br/&gt;
(LogFactoryImpl.java:235)&lt;br/&gt;
	at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:370)&lt;br/&gt;
	at org.apache.commons.digester.Digester.&amp;lt;init&amp;gt;(Digester.java:346)&lt;br/&gt;
	at Main.main(Main.java:53)&lt;br/&gt;
Caused by: org.apache.commons.logging.LogConfigurationException: &lt;br/&gt;
java.lang.NullPointerException (Caused by java.lang.NullPointerException)&lt;br/&gt;
	at org.apache.commons.logging.impl.LogFactoryImpl.getLogConstructor&lt;br/&gt;
(LogFactoryImpl.java:397)&lt;br/&gt;
	at org.apache.commons.logging.impl.LogFactoryImpl.newInstance&lt;br/&gt;
(LogFactoryImpl.java:529)&lt;br/&gt;
	... 4 more&lt;br/&gt;
Caused by: java.lang.NullPointerException&lt;br/&gt;
	at org.apache.commons.logging.impl.LogFactoryImpl.getLogConstructor&lt;br/&gt;
(LogFactoryImpl.java:374)&lt;br/&gt;
	... 5 more&lt;br/&gt;
Exception in thread &quot;main&quot; &lt;/p&gt;</comment>
                            <comment id="12402781" author="skitching" created="Mon, 9 May 2005 19:01:53 +0000"  >&lt;p&gt;Release 1.0.4 was made from revision 139045 on 2004-06-11.&lt;br/&gt;
This bug was fixed in revision 139052 on 2004-10-17.&lt;br/&gt;
And this bugzilla entry was closed on that same date.&lt;/p&gt;

&lt;p&gt;So the bug is fixed; there just hasn&apos;t been an official release since the fix&lt;br/&gt;
went in. If you pull the latest code from SVN and compile that, you should get a&lt;br/&gt;
fixed JCL - though of course you&apos;ll get some other changes too.&lt;/p&gt;

&lt;p&gt;Still, I presume that if you&apos;re putting JCL into the bootclasspath, you&apos;re doing&lt;br/&gt;
embedded systems work? In that case, distributing a non-official version of JCL&lt;br/&gt;
shouldn&apos;t bother you. I would recommend pulling the code from the LOGGING_1_0_4&lt;br/&gt;
tagdir and applying the fix from r139052 only, in order to avoid getting any&lt;br/&gt;
&quot;experimental&quot; code.&lt;/p&gt;</comment>
                            <comment id="12402782" author="erik@ingaro.co.uk" created="Tue, 10 May 2005 01:20:37 +0000"  >&lt;p&gt;Created an attachment (id=14974)&lt;br/&gt;
changes LogFactory.getFactory to return same instance if classloader is null&lt;/p&gt;

&lt;p&gt;I&apos;m experiencing similar issues on Jeode (basically 1.1.8) where&lt;br/&gt;
getClassLoader() is returing null.&lt;/p&gt;

&lt;p&gt;When this is the case LogFactory.getFactory() returns a different instance of&lt;br/&gt;
LogFactory each time it is called.  This means I cannot call setAttribute on a&lt;br/&gt;
LogFactory and expect future calls to getLog to use the same instance.&lt;/p&gt;

&lt;p&gt;LogFactory uses a map (&quot;factories&quot;) of &lt;br/&gt;
ClassLoader-&amp;gt;LogFactory.  Where ClassLoader == null it cannot be used as a key&lt;br/&gt;
in this map, therefore previously created instances are not found.&lt;/p&gt;

&lt;p&gt;I have included a patch to fix this problem.  It adds an additional static&lt;br/&gt;
variable &quot;nullClassLoaderFactory&quot; that performs the same function as the&lt;br/&gt;
factories map, but for cases where ClassLoader is null.  If the factories map&lt;br/&gt;
is accessed and the ClassLoader is null this variable can be used instead.&lt;/p&gt;

&lt;p&gt;This is against svn trunk.&lt;/p&gt;</comment>
                            <comment id="12402783" author="skitching" created="Tue, 10 May 2005 09:50:20 +0000"  >&lt;p&gt;(In reply to comment #22)&lt;br/&gt;
&amp;gt; changes LogFactory.getFactory to return same instance if classloader is null&lt;/p&gt;

&lt;p&gt;Thanks for the patch Erik. It has been committed to SVN trunk.&lt;/p&gt;

</comment>
                            <comment id="12402784" author="skitching" created="Tue, 31 May 2005 13:53:31 +0000"  >&lt;p&gt;As there has been no feedback in the last 21 days, I will assume the patch&lt;br/&gt;
worked and am closing the issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12331991" name="ASF.LICENSE.NOT.GRANTED--LogFactory.java" size="20800" author="ajack@openbiz.biz" created="Wed, 17 Jul 2002 23:08:13 +0000"/>
                            <attachment id="12331990" name="ASF.LICENSE.NOT.GRANTED--LogFactory.java" size="21771" author="ajack@openbiz.biz" created="Wed, 17 Jul 2002 23:07:27 +0000"/>
                            <attachment id="12331993" name="ASF.LICENSE.NOT.GRANTED--patch.txt" size="1795" author="erik@ingaro.co.uk" created="Tue, 10 May 2005 01:20:37 +0000"/>
                            <attachment id="12331992" name="ASF.LICENSE.NOT.GRANTED--patch.txt" size="6124" author="leidl@nt.imp.univie.ac.at" created="Thu, 17 Oct 2002 17:19:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>10825</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148193</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 24 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7zr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75071</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-12] Jdk14Logger extremely slow due to method name extraction</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-12</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;The Jdk14Logger of Commons logging is &lt;b&gt;extremely&lt;/b&gt; slow, even if logging is not&lt;br/&gt;
enabled. This is due to the fact that an exception is created so that its stack&lt;br/&gt;
trace can be used to determine the callers method name.&lt;/p&gt;

&lt;p&gt;Attached patch will surround the code with a logger.isLoggable(level) check, so&lt;br/&gt;
that this is at least avoided when logging is not enabled. (though I would&lt;br/&gt;
rather see that code completely removed)&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12340621">LOGGING-12</key>
            <summary>Jdk14Logger extremely slow due to method name extraction</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bruno">Bruno Dumon</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 Mar 2003 21:01:36 +0000</created>
                <updated>Tue, 29 Dec 2009 16:33:28 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 16:33:28 +0000</resolved>
                                                    <fixVersion>1.0.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12403921" author="bruno" created="Thu, 20 Mar 2003 21:02:36 +0000"  >&lt;p&gt;Created an attachment (id=5444)&lt;br/&gt;
patch for Jdk14Logger.java&lt;/p&gt;</comment>
                            <comment id="12403922" author="craig.mcclanahan@sun.com" created="Mon, 31 Mar 2003 08:29:26 +0000"  >&lt;p&gt;Fixed in nightly build 20030331, and upcoming 1.0.3 release.  Thanks for the patch!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12332205" name="ASF.LICENSE.NOT.GRANTED--jdk14loggerpatch.txt" size="1852" author="bruno" created="Thu, 20 Mar 2003 21:02:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>18184</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148192</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 33 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d7zz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75072</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-11] [logging][PATCH] Enable the configuration of date and time format in SimpleLog</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-11</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;It would be nice if the user could configure the date and time format used by&lt;br/&gt;
SimpleLog.&lt;/p&gt;

&lt;p&gt;I have made patches for SimpleLog and the unittests. The patch enables a new&lt;br/&gt;
optional configuration property&lt;br/&gt;
org.apache.commons.logging.simplelog.dateTimeFormat. The property takes a value&lt;br/&gt;
of a SimpleDateFormat pattern. If the pattern is not specified or is invalid,&lt;br/&gt;
the default pattern is used.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341319">LOGGING-11</key>
            <summary>[logging][PATCH] Enable the configuration of date and time format in SimpleLog</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dennisl@apache.org">Dennis Lundberg</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Mar 2004 08:37:20 +0000</created>
                <updated>Tue, 29 Dec 2009 16:24:54 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 16:24:54 +0000</resolved>
                                    <version>Nightly Builds</version>
                                    <fixVersion>1.0.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12406191" author="dennisl@apache.org" created="Tue, 9 Mar 2004 08:38:40 +0000"  >&lt;p&gt;Created an attachment (id=10714)&lt;br/&gt;
Patch for SimpleLog.java&lt;/p&gt;</comment>
                            <comment id="12406192" author="dennisl@apache.org" created="Tue, 9 Mar 2004 08:39:15 +0000"  >&lt;p&gt;Created an attachment (id=10715)&lt;br/&gt;
Patch for unittests&lt;/p&gt;</comment>
                            <comment id="12406193" author="dennisl@apache.org" created="Tue, 9 Mar 2004 08:39:37 +0000"  >&lt;p&gt;Created an attachment (id=10716)&lt;br/&gt;
Patch for unittests&lt;/p&gt;</comment>
                            <comment id="12406194" author="dennisl@apache.org" created="Tue, 9 Mar 2004 08:39:50 +0000"  >&lt;p&gt;Created an attachment (id=10717)&lt;br/&gt;
Patch for unittests&lt;/p&gt;</comment>
                            <comment id="12406195" author="rdonkin@apache.org" created="Sat, 29 May 2004 17:52:27 +0000"  >&lt;p&gt;Committed this patch. Many thanks.&lt;/p&gt;

&lt;p&gt;I will probably go ahead and create some more unit tests plus creating a documentation patch now. &lt;/p&gt;

&lt;p&gt;Robert&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12332790" name="ASF.LICENSE.NOT.GRANTED--CustomConfigTestCase.java.patch" size="1429" author="dennisl@apache.org" created="Tue, 9 Mar 2004 08:39:15 +0000"/>
                            <attachment id="12332791" name="ASF.LICENSE.NOT.GRANTED--DecoratedSimpleLog.java.patch" size="799" author="dennisl@apache.org" created="Tue, 9 Mar 2004 08:39:37 +0000"/>
                            <attachment id="12332792" name="ASF.LICENSE.NOT.GRANTED--DefaultConfigTestCase.java.patch" size="1009" author="dennisl@apache.org" created="Tue, 9 Mar 2004 08:39:50 +0000"/>
                            <attachment id="12332789" name="ASF.LICENSE.NOT.GRANTED--SimpleLog.java.patch" size="3870" author="dennisl@apache.org" created="Tue, 9 Mar 2004 08:38:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>27528</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148191</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 24 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d807:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75073</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-10] SimpleLog uses getSystemResourceAsStream to load props</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-10</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;The Log implementation, SimpleLog, uses getSystemResourceAsStream() to load the &lt;br/&gt;
simplelog.properties file. Using getSystemResourceAsStream(), instead of something like &lt;br/&gt;
this.getClass().getClassLoader().getResourceAsStream(), or even better, &lt;br/&gt;
Thread.currentThread().getContextClassLoader().getResourceAsStream(), prevents the &lt;br/&gt;
properties file from being deployed with an application. This forces the developer to put the &lt;br/&gt;
properties file on the system classpath.&lt;/p&gt;

&lt;p&gt;Why was the decision made to only look on at the &lt;br/&gt;
system classloader? The LogFactory does a nice job of finding it&apos;s properties with &lt;br/&gt;
findClassLoader(). A similar implementation for SimpleLog would be great.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12340225">LOGGING-10</key>
            <summary>SimpleLog uses getSystemResourceAsStream to load props</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jrr@silverstream.com">John Rousseau</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 May 2002 09:07:46 +0000</created>
                <updated>Tue, 29 Dec 2009 17:06:26 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 17:06:26 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>1.0.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12402640" author="craig.mcclanahan@sun.com" created="Sun, 16 Jun 2002 03:55:13 +0000"  >&lt;p&gt;Fixed in nightly build 20020616.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9140</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148190</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            23 years, 22 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d80f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75074</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-9] [logging] Log.trace() doesn&apos;t use log4j 1.3 trace methods</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-9</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;Jakarta Commons Logging 1.0.4 detects log4j 1.3 and alters its behaviour &lt;br/&gt;
accordingly but continues to map its trace methods to log4j debug methods &lt;br/&gt;
while log4j 1.3 now has its own trace methods. The following patch fixes this &lt;br/&gt;
bug: &lt;/p&gt;

&lt;p&gt;Index: commons-&lt;br/&gt;
logging/src/java/org/apache/commons/logging/impl/Log4JLogger.java&lt;br/&gt;
===================================================================&lt;br/&gt;
&amp;#8212; commons-logging/src/java/org/apache/commons/logging/impl/Log4JLogger.java&lt;br/&gt;
	(revision 161137)&lt;br/&gt;
+++ commons-logging/src/java/org/apache/commons/logging/impl/Log4JLogger.java&lt;br/&gt;
	(working copy)&lt;br/&gt;
@@ -84,7 +84,7 @@&lt;br/&gt;
         if(is12) &lt;/p&gt;
{
             getLogger().log(FQCN, (Priority) Level.DEBUG, message, null );
         }
&lt;p&gt; else &lt;/p&gt;
{
-            getLogger().log(FQCN, Level.DEBUG, message, null );
+            getLogger().log(FQCN, Level.TRACE, message, null );
         }
&lt;p&gt;     }&lt;/p&gt;

&lt;p&gt;@@ -97,7 +97,7 @@&lt;br/&gt;
         if(is12) &lt;/p&gt;
{
             getLogger().log(FQCN, (Priority) Level.DEBUG, message, t );
         }
&lt;p&gt; else &lt;/p&gt;
{
-            getLogger().log(FQCN, Level.DEBUG, message, t );
+            getLogger().log(FQCN, Level.TRACE, message, t );
         }
&lt;p&gt;     }&lt;/p&gt;

&lt;p&gt;@@ -277,7 +277,11 @@&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;For Log4J, this returns the value of &amp;lt;code&amp;gt;isDebugEnabled()&amp;lt;/code&amp;gt;&lt;br/&gt;
      */&lt;br/&gt;
     public boolean isTraceEnabled() {&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;return getLogger().isDebugEnabled();&lt;br/&gt;
+        if(is12) 
{
+            return getLogger().isDebugEnabled();
+        }
&lt;p&gt; else &lt;/p&gt;
{
+            return getLogger().isTraceEnabled();
+        }
&lt;p&gt;     }&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;     /**&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342184">LOGGING-9</key>
            <summary>[logging] Log.trace() doesn&apos;t use log4j 1.3 trace methods</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="pdegregorio@comcast.net">Peter DeGregorio</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 Apr 2005 22:12:24 +0000</created>
                <updated>Sat, 18 Nov 2006 12:52:34 +0000</updated>
                            <resolved>Sat, 18 Nov 2006 12:44:37 +0000</resolved>
                                    <version>1.0.4</version>
                                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>2</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12409134" author="skitching" created="Thu, 14 Apr 2005 01:28:05 +0000"  >&lt;p&gt;Hi Peter,&lt;/p&gt;

&lt;p&gt;I&apos;m a bit concerned about the fact that this implementation requires testing a&lt;br/&gt;
boolean flag for each call to Log.isTraceEnabled or Log.trace. Testing a single&lt;br/&gt;
boolean isn&apos;t too bad, but logging &lt;b&gt;is&lt;/b&gt; supposed to be highly tuned. Yes, the&lt;br/&gt;
current code &lt;b&gt;already&lt;/b&gt; does this boolean testing - but I&apos;m not sure I agree with it.&lt;/p&gt;

&lt;p&gt;An alternative would be to instead create a Log4J13Logger class which subclasses&lt;br/&gt;
Log4JLogger and overrides the trace and isTraceEnabled methods. This should&lt;br/&gt;
produce the same effect without needing a boolean flag - though it means&lt;br/&gt;
modifying LogFactoryImpl to do the testing for log4j version instead (so it can&lt;br/&gt;
select the correct Log wrapper class constructor to call).&lt;/p&gt;

&lt;p&gt;However if no-one else is concerned about the performance implications of an&lt;br/&gt;
extra boolean test in isTraceEnabled, then your patch could certainly be applied&lt;br/&gt;
as-is.&lt;/p&gt;

&lt;p&gt;If we stay with the current implementation, I think it would be a good idea to&lt;br/&gt;
rename &quot;is12&quot; to &quot;isPre13&quot; or similar; I was confused at first by this variable&lt;br/&gt;
name (not your fault, Peter!).&lt;/p&gt;</comment>
                            <comment id="12409135" author="pdegregorio@comcast.net" created="Thu, 14 Apr 2005 08:27:51 +0000"  >&lt;p&gt;Hi Simon, &lt;br/&gt;
I was wondering about continual testing of the is12 flag in isTraceEnabled. &lt;br/&gt;
It&apos;s obviously going to cost some time, though I don&apos;t really have the &lt;br/&gt;
expertise to know how much, so I&apos;m curious what others think. If you&apos;re looking &lt;br/&gt;
for a volunteer, I&apos;d enjoy taking a look at submitting a Log4J13Logger and the &lt;br/&gt;
required LogFactoryImpl modification if that would help, or do the suggested &lt;br/&gt;
rename of is12 to isPre13, though I may not be able to turn it around very &lt;br/&gt;
quickly and I&apos;ll have questions (like should I actually be working on 1.0.5 and &lt;br/&gt;
how to do unit testing). &lt;br/&gt;
Regards, &lt;br/&gt;
Peter&lt;/p&gt;</comment>
                            <comment id="12409136" author="rdonkin@apache.org" created="Mon, 18 Apr 2005 04:45:45 +0000"  >&lt;p&gt;Real life costs are very hard to guesstimate. Might be nice to get some numbers&lt;br/&gt;
(but not essential).&lt;/p&gt;

&lt;p&gt;I&apos;d suggest that the bigger cost would likely be the class cast performed. This&lt;br/&gt;
is going to make logging to early versions of Log4J expensive. Refactoring in a&lt;br/&gt;
fashion suggested by Simon may therefore makes quite a lot of sense. &lt;/p&gt;

&lt;p&gt;However, I would say that it may be better to leave Log4JLogger with less&lt;br/&gt;
performant support for all versions of Log4J retaining the internal boolean.&lt;br/&gt;
This could then be used from the command line when required. &lt;/p&gt;

&lt;p&gt;If do go down this route, we&apos;ll end up with one general purpose logger not used&lt;br/&gt;
by LogFactory and two special purpose loggers used by LogFactoryImpl. The&lt;br/&gt;
classloader which defines LogFactoryImpl would be the one that determines which&lt;br/&gt;
version of LogJ to use. Not sure whether that&apos;s better or worse that the current&lt;br/&gt;
situation.&lt;/p&gt;</comment>
                            <comment id="12409137" author="skitching" created="Thu, 2 Jun 2005 18:22:51 +0000"  >&lt;p&gt;Just a note: log4j 1.3 still hasn&apos;t been released yet, and there are debates on&lt;br/&gt;
the log4j list over which future version will provide the TRACE level. So this&lt;br/&gt;
needs to be put on hold until a log4j version with trace actually exists.&lt;/p&gt;</comment>
                            <comment id="12409138" author="christian.gruber@biomax.com" created="Thu, 8 Sep 2005 20:07:59 +0000"  >&lt;p&gt;log4j 1.2.12 is out, which has implemented the trace level.&lt;br/&gt;
So it now might be the right time to remove the hold?&lt;/p&gt;</comment>
                            <comment id="12409139" author="skitching" created="Fri, 9 Sep 2005 15:46:20 +0000"  >&lt;p&gt;Thanks for the note. It&apos;s definitely the right time to look at this again.&lt;/p&gt;

&lt;p&gt;Unfortunately there isn&apos;t much developer time being spent on commons-logging at&lt;br/&gt;
the moment; all the developers (including myself) appear to be occupied with&lt;br/&gt;
other things at the moment. A new commons-logging release isn&apos;t looking likely&lt;br/&gt;
in the near future.&lt;/p&gt;</comment>
                            <comment id="12409140" author="joerg@j-hohwiller.de" created="Thu, 29 Sep 2005 06:56:49 +0000"  >&lt;p&gt;two points from me:&lt;/p&gt;

&lt;p&gt;1. As you can read on &lt;a href=&quot;http://www.qos.ch/logging/preparingFor13.jsp&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.qos.ch/logging/preparingFor13.jsp&lt;/a&gt; on the long&lt;br/&gt;
run they want to kick out the legacy stuff such as Category and Priority.&lt;br/&gt;
So eighter we should kick this out completely (which is my suggestion) or we&lt;br/&gt;
have a very strong point for creating a separate Log4J13Logger which is already&lt;br/&gt;
in SVN&lt;br/&gt;
and is using Logger and Level.&lt;/p&gt;

&lt;p&gt;2. The current SVN codebase has renamed Log4JLogger to Log4J12Logger. I am not&lt;br/&gt;
sure if this is a good idea for compatibility. If someone just upgrades the jar&lt;br/&gt;
and is using the Log4JLogger set up somewhere in his config, his code may not&lt;br/&gt;
work anymore (as expected).&lt;/p&gt;</comment>
                            <comment id="12409141" author="marc210@hotmail.com" created="Sat, 5 Nov 2005 04:42:00 +0000"  >&lt;p&gt;Is this bug going to stay open forever?  What should commons-logging users do &lt;br/&gt;
if they want to make use of the log4j trace method?&lt;/p&gt;</comment>
                            <comment id="12409142" author="dennisl@apache.org" created="Sun, 20 Nov 2005 07:10:19 +0000"  >&lt;p&gt;The code that is in SVN now handles trace level logging for log4j 1.2.12+ and&lt;br/&gt;
1.3alpha-7.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12350155">LOGGING-109</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34437</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148189</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 51 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d80n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75075</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-8] Deprecation</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-8</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt;&lt;br/&gt;
.......\logging\src\java\org\apache\commons\logging\impl\Log4JCategoryLog.java:&lt;br/&gt;
137: warning: &lt;br/&gt;
setPriority(org.apache.log4j.Priority) in org.apache.log4j.Category &lt;br/&gt;
has been deprecated&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12340339">LOGGING-8</key>
            <summary>Deprecation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="seapwc@halcyon.com">Paul Campbell</reporter>
                        <labels>
                    </labels>
                <created>Sun, 29 Sep 2002 14:11:18 +0000</created>
                <updated>Wed, 2 Jan 2008 07:48:19 +0000</updated>
                            <resolved>Wed, 2 Jan 2008 07:48:19 +0000</resolved>
                                    <version>1.0.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12402994" author="seapwc@halcyon.com" created="Sat, 19 Oct 2002 01:38:52 +0000"  >

&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;This bug has been marked as a duplicate of 13118 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>13117</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148188</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            23 years, 4 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d80v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75076</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-7] Can&apos;t locate classloader when creating a new LogFactory</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-7</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;When running WebSphere 5.0 Early Adopters using the Sysdeo Tomcat plugin in &lt;br/&gt;
debug mode I discovered that the LogFactory can&apos;t locate a classloader to &lt;br/&gt;
create new Factories. A call to LogFactory.class.getClassLoader() &lt;br/&gt;
returns &apos;null&apos;. As of the SDK documentation this may be tha case if the &lt;br/&gt;
bootstrap has loaded the class. I thus suggest the following code for the &lt;br/&gt;
newFactory method taken from v1.0.2 of the common logging API:&lt;/p&gt;

&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Return a new instance of the specified &amp;lt;code&amp;gt;LogFactory&amp;lt;/code&amp;gt;&lt;/li&gt;
	&lt;li&gt;implementation class, loaded by the specified class loader.&lt;/li&gt;
	&lt;li&gt;If that fails, try the class loader used to load this&lt;/li&gt;
	&lt;li&gt;(abstract) LogFactory.&lt;br/&gt;
     *&lt;/li&gt;
	&lt;li&gt;@param factoryClass Fully qualified name of the &amp;lt;code&amp;gt;LogFactory&amp;lt;/code&amp;gt;&lt;/li&gt;
	&lt;li&gt;implementation class&lt;/li&gt;
	&lt;li&gt;@param classLoader ClassLoader from which to load this class&lt;br/&gt;
     *&lt;/li&gt;
	&lt;li&gt;@exception LogConfigurationException if a suitable instance&lt;/li&gt;
	&lt;li&gt;cannot be created&lt;br/&gt;
     */&lt;br/&gt;
    protected static LogFactory newFactory(String factoryClass,&lt;br/&gt;
                                           ClassLoader classLoader)&lt;br/&gt;
        throws LogConfigurationException&lt;br/&gt;
    {&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;        try {&lt;br/&gt;
            if (classLoader == null)&lt;br/&gt;
                classLoader = LogFactory.class.getClassLoader();&lt;br/&gt;
            Class clazz = null;&lt;br/&gt;
            try {&lt;br/&gt;
	            // #FIX: RBA&lt;br/&gt;
	            // may be null in case the classloader is the bootstrap &lt;br/&gt;
loader&lt;br/&gt;
            	if(classLoader == null) &lt;/p&gt;
{
            		// try general load
            		clazz = Class.forName(factoryClass);
            	}
&lt;p&gt; else &lt;/p&gt;
{
	                // first the thread class loader
	                clazz = classLoader.loadClass(factoryClass);
            	}
&lt;p&gt;            } catch (ClassNotFoundException ex) {&lt;br/&gt;
                // if this failed (i.e. no implementation is&lt;br/&gt;
                // found in the webapp), try the caller&apos;s loader&lt;br/&gt;
                // if we haven&apos;t already...&lt;br/&gt;
                if (classLoader != LogFactory.class.getClassLoader()) {&lt;br/&gt;
                    classLoader = LogFactory.class.getClassLoader();&lt;/p&gt;

&lt;p&gt;                    if(classLoader == null) &lt;/p&gt;
{
	            		// try general load
	            		clazz = Class.forName(factoryClass);
                    }
&lt;p&gt; else &lt;/p&gt;
{
	                    clazz = classLoader.loadClass(factoryClass);
                    }
&lt;p&gt;                }&lt;br/&gt;
            }&lt;/p&gt;

&lt;p&gt;            LogFactory factory = (LogFactory)clazz.newInstance();&lt;/p&gt;

&lt;p&gt;            return factory;&lt;br/&gt;
        } catch (Exception e) &lt;/p&gt;
{
            throw new LogConfigurationException(e);
        }

&lt;p&gt;    }&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12340411">LOGGING-7</key>
            <summary>Can&apos;t locate classloader when creating a new LogFactory</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bargezi@csi.com">Roman Bargezi</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Nov 2002 18:26:32 +0000</created>
                <updated>Wed, 2 Jan 2008 07:48:19 +0000</updated>
                            <resolved>Wed, 2 Jan 2008 07:48:19 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12403210" author="rsitze@apache.org" created="Tue, 12 Nov 2002 00:49:50 +0000"  >&lt;p&gt;I believe that this is already fixed in commons-logging.&lt;br/&gt;
Try picking up a new version of commons-logging-api.jar&lt;br/&gt;
and dropping it into WebSphere (replace existing).&lt;br/&gt;
Please re-open if it doesn&apos;t help.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;This bug has been marked as a duplicate of 10825 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14439</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148187</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            23 years, 1 week, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d813:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75077</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-6] getResourceAsStream access permissions in J2EE environs</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-6</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;Security exceptions (file io) when using getResourceAsStream() in J2EE.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12340457">LOGGING-6</key>
            <summary>getResourceAsStream access permissions in J2EE environs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rsitze@apache.org">Richard A. Sitze</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Dec 2002 04:25:43 +0000</created>
                <updated>Tue, 29 Dec 2009 16:53:50 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 16:53:50 +0000</resolved>
                                                    <fixVersion>1.0.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12403349" author="rsitze@apache.org" created="Fri, 13 Dec 2002 04:31:11 +0000"  >&lt;p&gt;Wrap with doPriv.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15331</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148186</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 48 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d81b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75078</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-5] corrupt logging v1.0.2 source zipfiles are posted on all mirror sites</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-5</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;The following zipfiles are corrupt on all mirrors:&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;http://www.apache.org/dist/jakarta/commons/logging/logging-current-src.zip&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/dist/jakarta/commons/logging/logging-current-src.zip&lt;/a&gt;&lt;br/&gt;
  &lt;a href=&quot;http://www.apache.org/dist/jakarta/commons/logging/source/logging-1.0.2-&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/dist/jakarta/commons/logging/source/logging-1.0.2-&lt;/a&gt;&lt;br/&gt;
src.zip&lt;/p&gt;

&lt;p&gt;Regards,&lt;br/&gt;
Ian&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12340626">LOGGING-5</key>
            <summary>corrupt logging v1.0.2 source zipfiles are posted on all mirror sites</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ian_springer@hp.com">Ian P. Springer</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Mar 2003 21:38:37 +0000</created>
                <updated>Wed, 2 Jan 2008 07:48:19 +0000</updated>
                            <resolved>Wed, 2 Jan 2008 07:48:19 +0000</resolved>
                                    <version>1.0.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12403934" author="craig.mcclanahan@sun.com" created="Mon, 31 Mar 2003 08:23:50 +0000"  >

&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;This bug has been marked as a duplicate of 17245 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>18366</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148185</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 33 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d81j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75079</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-4] [logging] LogFactoryImpl does not compile on JDK1.2</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-4</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;When you compile using JDK1.2 you get the following error message:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt;&lt;br/&gt;
/home/kstrauss/cvs/updated/PSI_PsUtil/org/apache/commons/logging/impl/LogFactoryImpl.java:457:&lt;br/&gt;
No method matching getContextClassLoader() found in class&lt;br/&gt;
org.apache.commons.logging.impl.LogFactoryImpl.&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt;                     ClassLoader threadCL = getContextClassLoader();&lt;/p&gt;

&lt;p&gt;It does however compile succesfully under JDK1.4&lt;/p&gt;

&lt;p&gt;I believe that this is related to a bug in the Javac compiler (see&lt;br/&gt;
&lt;a href=&quot;http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4269441&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4269441&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;Using this as a base the following addition will enable the class to compile&lt;br/&gt;
under JDK1.2.&lt;/p&gt;

&lt;p&gt;protected static ClassLoader getContextClassLoader() throws&lt;br/&gt;
LogConfigurationException&lt;br/&gt;
{&lt;br/&gt;
            return LogFactory.getContextClassLoader();&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;Can we add this?&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341820">LOGGING-4</key>
            <summary>[logging] LogFactoryImpl does not compile on JDK1.2</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kstrauss@printingforsystems.com">Karl</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Oct 2004 09:04:01 +0000</created>
                <updated>Tue, 29 Dec 2009 16:14:22 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 16:14:22 +0000</resolved>
                                    <version>1.0.4</version>
                                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12407851" author="rdonkin@apache.org" created="Mon, 1 Nov 2004 01:55:59 +0000"  >&lt;p&gt;Commited. Many thanks.&lt;/p&gt;

&lt;p&gt;Robert&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31818</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148184</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 2 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d81r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75080</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-3] Using Log4J as impl. gives linenumbers in Log4JCategoryLog , not class that does the logging.</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-3</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;I use the commons log package and sets the impl=Log4JCategoryLog&lt;/p&gt;

&lt;p&gt;The logging then shows linenumbers in the actual impl class(which bridges the &lt;br/&gt;
logging) and not the class that actually does the logging.&lt;/p&gt;

&lt;p&gt;Thus the same line number appairs all the time(almost) and the feature of log4J &lt;br/&gt;
becomes rather useless.&lt;/p&gt;

&lt;p&gt;This feature is really important in system with lots of code.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12340253">LOGGING-3</key>
            <summary>Using Log4J as impl. gives linenumbers in Log4JCategoryLog , not class that does the logging.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="morten.haavaldsen@zonavi.com">Morten Haavaldsen</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Jul 2002 19:12:29 +0000</created>
                <updated>Tue, 29 Dec 2009 17:02:51 +0000</updated>
                            <resolved>Tue, 29 Dec 2009 17:02:51 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>1.0.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12402720" author="rsitze@apache.org" created="Wed, 17 Jul 2002 23:07:33 +0000"  >&lt;p&gt;This was corrected quite a while back.  If you are using the first release,&lt;br/&gt;
try extracting newest code &amp;amp; retrying.&lt;/p&gt;</comment>
                            <comment id="12402721" author="morten.haavaldsen@zonavi.com" created="Mon, 29 Jul 2002 17:40:50 +0000"  >&lt;p&gt;The error is present in log4J 1.2.5 together with Commons/Logging 1.0 !&lt;/p&gt;

&lt;p&gt;Please note the LOG4J 1.2.5 is used in COMMONS Logging 1.0 library(no other &lt;br/&gt;
releases).&lt;/p&gt;

&lt;p&gt;The log says linenumbers in the commons class Log4JCategoryLog  and not the &lt;br/&gt;
class that does the actual logging.&lt;/p&gt;

&lt;p&gt;The logging works as such....&lt;/p&gt;

&lt;p&gt;Is there a work around using the properties file.&lt;/p&gt;


</comment>
                            <comment id="12402722" author="rsitze@apache.org" created="Fri, 27 Sep 2002 04:39:14 +0000"  >&lt;p&gt;Again, I believe this Log4J functions correctly in 1.0.1 or later.&lt;br/&gt;
Of course, reopen if you find otherwise...&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>10480</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148183</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            23 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d81z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75081</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-2] exception when logging in JDK 1.3 with Lumberjack</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-2</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;The JDK 1.4 logging tests do not test for the Throwable class having the method &lt;br/&gt;
getStackTrace() which is only available in 1.4. Below is the exception and &lt;br/&gt;
sample source code to recreate. (first encountered in generic initialization of &lt;br/&gt;
the struts 1.1 ActionServlet which throws an empty ServletException when this &lt;br/&gt;
happens)&lt;/p&gt;

&lt;p&gt;&amp;#8212;&lt;/p&gt;

&lt;p&gt;Exception in thread &quot;main&quot; java.lang.NoSuchMethodError&lt;br/&gt;
        at org.apache.commons.logging.impl.Jdk14Logger.log(Jdk14Logger.java:116)&lt;br/&gt;
        at org.apache.commons.logging.impl.Jdk14Logger.fatal&lt;br/&gt;
(Jdk14Logger.java:177)&lt;br/&gt;
        at CommonsLoggingTest.main(CommonsLoggingTest.java:19)&lt;/p&gt;

&lt;p&gt;&amp;#8212;&lt;/p&gt;

&lt;p&gt;import org.apache.commons.logging.Log;&lt;br/&gt;
import org.apache.commons.logging.LogFactory;&lt;/p&gt;

&lt;p&gt;import java.util.logging.*;&lt;/p&gt;

&lt;p&gt;public class CommonsLoggingTest {&lt;br/&gt;
   protected static Log log = LogFactory.getLog(SchemaTest.class);&lt;/p&gt;

&lt;p&gt;   public static void main(String[] args) &lt;/p&gt;
{
      log.fatal(&quot;testing&quot;, new Exception(&quot;test&quot;));
   }
&lt;p&gt;}&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12340847">LOGGING-2</key>
            <summary>exception when logging in JDK 1.3 with Lumberjack</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="vince256@comcast.net">Vince Eagen</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Jul 2003 11:07:16 +0000</created>
                <updated>Wed, 2 Jan 2008 07:48:19 +0000</updated>
                            <resolved>Sat, 18 Nov 2006 12:48:33 +0000</resolved>
                                    <version>Nightly Builds</version>
                                    <fixVersion>1.0.4</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12404688" author="vince256@comcast.net" created="Fri, 11 Jul 2003 07:02:56 +0000"  >&lt;p&gt;Created an attachment (id=7233)&lt;br/&gt;
adds Jdk1.3 lumberjack check to LogFactoryImpl&lt;/p&gt;</comment>
                            <comment id="12404689" author="vince256@comcast.net" created="Fri, 11 Jul 2003 07:04:21 +0000"  >&lt;p&gt;Created an attachment (id=7234)&lt;br/&gt;
Jdk13 Lumberjack logger without using Jdk14 specific methods&lt;/p&gt;</comment>
                            <comment id="12404690" author="craig.mcclanahan@sun.com" created="Sun, 17 Aug 2003 05:38:47 +0000"  >&lt;p&gt;Added in commons-logging nightly build 20030817.  I also made the implementation&lt;br/&gt;
Serializable in the same manner that the other Log implementations were just&lt;br/&gt;
enhanced.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12332410" name="ASF.LICENSE.NOT.GRANTED--Jdk13LumberjackLogger.java" size="9824" author="vince256@comcast.net" created="Fri, 11 Jul 2003 07:04:21 +0000"/>
                            <attachment id="12332409" name="ASF.LICENSE.NOT.GRANTED--lumberjackcheck.txt" size="2285" author="vince256@comcast.net" created="Fri, 11 Jul 2003 07:02:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>21455</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148182</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 13 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d827:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75082</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[LOGGING-1] Getting error in junit3.8.1 --&gt; Log4JLogger does not implement Log</title>
                <link>https://issues.apache.org/jira/browse/LOGGING-1</link>
                <project id="12310484" key="LOGGING">Commons Logging</project>
                    <description>&lt;p&gt;While running the Swing test runner from junit and using the commons_logging &lt;br/&gt;
1.0.3, I get and logger configuration error. The error in effect says &lt;br/&gt;
Log4JLogger does not implement Log. I recompiled commons_logging to see if I &lt;br/&gt;
still get the error and it still came back with the same error. It appears that &lt;br/&gt;
the there are two different class loaders conflicting with each other that is &lt;br/&gt;
causing this problem. Apparently at startup, Log is loaded by one class loader &lt;br/&gt;
while the Log4JLogger is loaded by another which then causes &lt;br/&gt;
class.isAssignableFrom to return false.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12341480">LOGGING-1</key>
            <summary>Getting error in junit3.8.1 --&gt; Log4JLogger does not implement Log</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dbradt@workwell.com">D Bradt</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 May 2004 09:07:48 +0000</created>
                <updated>Wed, 2 Jan 2008 07:48:18 +0000</updated>
                            <resolved>Wed, 2 Jan 2008 07:48:18 +0000</resolved>
                                    <version>1.0.3</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12406689" author="rdonkin@apache.org" created="Mon, 21 Jun 2004 04:05:59 +0000"  >&lt;p&gt;this is a FAQ &lt;a href=&quot;http://wiki.apache.org/jakarta-commons/Logging/FrequentlyAskedQuestions&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://wiki.apache.org/jakarta-commons/Logging/FrequentlyAskedQuestions&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;please ensure that only one copy of the library is in your classpath.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>29263</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>148181</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 21 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d82f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75083</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>