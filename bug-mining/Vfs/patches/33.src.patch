diff --git a/core/src/main/java/org/apache/commons/vfs/provider/sftp/SftpFileSystem.java b/core/src/main/java/org/apache/commons/vfs/provider/sftp/SftpFileSystem.java
index 680bcb4a..b64002bc 100644
--- a/core/src/main/java/org/apache/commons/vfs/provider/sftp/SftpFileSystem.java
+++ b/core/src/main/java/org/apache/commons/vfs/provider/sftp/SftpFileSystem.java
@@ -76,9 +76,11 @@ public class SftpFileSystem
      */
     protected ChannelSftp getChannel() throws IOException
     {
-        if (this.session == null)
+        if (this.session == null || !this.session.isConnected())
         {
-            // channel closed. e.g. by freeUnusedResources, but now we need it again
+			doCloseCommunicationLink();
+			
+			// channel closed. e.g. by freeUnusedResources, but now we need it again
             Session session;
 			UserAuthenticationData authData = null;
 			try
@@ -119,7 +121,7 @@ public class SftpFileSystem
             }
             else
             {
-                channel = (ChannelSftp) session.openChannel("sftp");
+				channel = (ChannelSftp) session.openChannel("sftp");
                 channel.connect();
 
                 Boolean userDirIsRoot = SftpFileSystemConfigBuilder.getInstance().getUserDirIsRoot(getFileSystemOptions());
