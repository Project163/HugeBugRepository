diff --git a/tika-core/src/main/java/org/apache/tika/sax/XHTMLContentHandler.java b/tika-core/src/main/java/org/apache/tika/sax/XHTMLContentHandler.java
index 232b6ff7c..b84183f07 100644
--- a/tika-core/src/main/java/org/apache/tika/sax/XHTMLContentHandler.java
+++ b/tika-core/src/main/java/org/apache/tika/sax/XHTMLContentHandler.java
@@ -157,11 +157,15 @@ public class XHTMLContentHandler extends SafeContentHandler {
                 }
                 
                 for (String value : metadata.getValues(name)) {
-                    AttributesImpl attributes = new AttributesImpl();
-                    attributes.addAttribute("", "name", "name", "CDATA", name);
-                    attributes.addAttribute("", "content", "content", "CDATA", value);
-                    super.startElement(XHTML, "meta", "meta", attributes);
-                    super.endElement(XHTML, "meta", "meta");
+                    // Putting null values into attributes causes problems, but is
+                    // allowed by Metadata, so guard against that.
+                    if (value != null) {
+                        AttributesImpl attributes = new AttributesImpl();
+                        attributes.addAttribute("", "name", "name", "CDATA", name);
+                        attributes.addAttribute("", "content", "content", "CDATA", value);
+                        super.startElement(XHTML, "meta", "meta", attributes);
+                        super.endElement(XHTML, "meta", "meta");
+                    }
                 }
             }
             
